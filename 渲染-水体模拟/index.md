# 渲染 - 水体模拟


## ***基础***

### ***波动方程***

$$
F(x) = A \cdot \sin(\frac{2\pi}{T}x + p)
$$

### ***Unreal材质实现波动方程***

*这个材质实现了一个基于世界坐标x轴的简单正弦顶点位移。简单来说他能让物体像海浪一下上下波动*

*参数介绍：*

| *参数名*         | *对应公式* | *作用*                                                       |
| ---------------- | ---------- | ------------------------------------------------------------ |
| ***WaveLength*** | *T*        | *波长。数值越大，波越平缓（宽）；数值越小，波越密集（窄）。* |
| ***Amplitude***  | *A*        | *振幅。数值越大，波浪起伏越高；设为 0 则变回平面。*          |
| ***Phase***      | *p*        | *相位。改变它会让波浪产生位移，通常用来做动画。*             |

### ***平移和方向***

*如果让水波要看起来匀速水平无限的循环移动，只要让 p 相位的数据不断地取波浪一个周期的数值就好了*

*具体的做法就是要知道每移动一个波长需要的时间：*

*根据 时间 = 路程 / 速度 可以得到：*
$$
SpeedCycle = \frac{T}{Speed}
$$

* *T 就是波长，Speed就是自定义的变量速度，SpeedCycle 其实就是周期*

*我们来看这个公式，这个公式告诉了我们：自 time = 0 开始，我们跑了多少周期*
$$
\frac{Time}{SpeedCycle}
$$
*我们可以直接取他们的小数点，因为我们不在乎他跑了多少周期，只在乎他在当前周期跑了多少，小数点就是当前周期跑了多少百分比*
$$
frac(\frac{Time}{SpeedCycle})
$$
*最后我们映射到弧度，因为 $ \sin{x} = \sin{x + 2\pi} $*

*好了，平移解决了 咱们来看方向：*
$$

$$

