[{"categories":["3Då›¾å½¢å­¦"],"content":"å››å…ƒæ•°","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%9B%9B%E5%85%83%E6%95%B0/","tags":["3Då›¾å½¢å­¦","å››å…ƒæ•°"],"title":"å››å…ƒæ•°","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%9B%9B%E5%85%83%E6%95%B0/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å¤æ•°çš„æ¦‚å¿µåŠæ•°å­¦è¿ç®—","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/","tags":["3Då›¾å½¢å­¦","å¤æ•°"],"title":"å¤æ•°","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å¤æ•° ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/:0:0","tags":["3Då›¾å½¢å­¦","å¤æ•°"],"title":"å¤æ•°","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å®šä¹‰ ä»»æ„ä¸€ä¸ªå¤æ•°` ğ‘§ âˆˆ C éƒ½å¯ä»¥è¡¨ç¤ºä¸º z = a + bi çš„å½¢å¼ï¼Œå…¶ä¸­ ğ‘, ğ‘ âˆˆ R è€Œä¸” i 2 = -1 æˆ‘ä»¬å°† ğ‘ ç§°ä¹‹ä¸ºè¿™ä¸ªå¤æ•°çš„å®éƒ¨ï¼ˆ Real Partï¼‰ï¼Œğ‘ ç§°ä¹‹ä¸ºè¿™ä¸ªå¤æ•°çš„ è™šéƒ¨ï¼ˆ Imaginary Partï¼‰ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/:1:0","tags":["3Då›¾å½¢å­¦","å¤æ•°"],"title":"å¤æ•°","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å¤æ•°ä¸å‘é‡ å› ä¸º ğ‘§ = ğ‘ + ğ‘ğ‘– å…¶å®å°±æ˜¯å¯¹äº { 1, ğ‘– } è¿™ä¸ªåŸºï¼ˆ Basisï¼‰çš„çº¿æ€§ç»„åˆï¼ˆ Linear Combinationï¼‰ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨å‘é‡æ¥è¡¨ç¤ºä¸€ä¸ªå¤æ•°ï¼š å› ä¸ºè¿™ä¸ªå‘é‡æœ‰ä¸¤ä¸ªå…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¤å¹³é¢ä¸Šçš„ä¸€ä¸ªç‚¹æ¥è¡¨ç¤ºä¸€ä¸ªå¤æ•°ï¼ å¤å¹³é¢çš„æ¨ªåæ ‡ ğ‘…ğ‘’ ä»£è¡¨å®ƒçš„å®éƒ¨ï¼Œçºµåæ ‡ ğ¼ğ‘š ä»£è¡¨å®ƒçš„è™šéƒ¨ï¼š ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/:2:0","tags":["3Då›¾å½¢å­¦","å¤æ•°"],"title":"å¤æ•°","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å¤æ•°çš„åŠ å‡æ³• è™½ç„¶å¤æ•°çš„åŠ å‡æ³•è¿˜æœ‰å¾ˆå¤šå…¶å®ƒçš„æ€§è´¨ï¼Œä½†æ˜¯åŠ å‡æ³•å¹¶ä¸æ˜¯æˆ‘ä»¬çš„é‡ç‚¹ï¼Œæˆ‘ ä»¬éœ€è¦å…³æ³¨çš„æ˜¯å¤æ•°çš„ä¹˜æ³• åŠ æ³• å¦‚æœæˆ‘ä»¬æœ‰ä¸¤ä¸ªå¤æ•° ğ‘§1 = ğ‘ + ğ‘ğ‘– , ğ‘§2 = ğ‘ + ğ‘‘ğ‘–ï¼Œå®ƒä»¬çš„å’Œå°±æ˜¯åˆ†é‡ç›¸åŠ çš„ç»“æœ ğ‘§1 + ğ‘§2 = ( ğ‘ + ğ‘ ) + ( ğ‘ + ğ‘‘ )ğ‘– å‡æ³• å¦‚æœæˆ‘ä»¬æœ‰ä¸¤ä¸ªå¤æ•° ğ‘§1 = ğ‘ + ğ‘ğ‘–, ğ‘§2 = ğ‘ + ğ‘‘ğ‘–ï¼Œå®ƒä»¬çš„å’Œå°±æ˜¯åˆ†é‡ç›¸å‡çš„ç»“æœ ğ‘§1 + ğ‘§2 = (ğ‘ âˆ’ ğ‘) + (ğ‘ âˆ’ ğ‘‘)ğ‘– ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/:3:0","tags":["3Då›¾å½¢å­¦","å¤æ•°"],"title":"å¤æ•°","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å¤æ•°çš„ä¹˜æ³• å¦‚æœæœ‰ä¸¤ä¸ªå¤æ•° ğ‘§1 = ğ‘ + ğ‘ğ‘–, ğ‘§2 = ğ‘ + ğ‘‘ğ‘–ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åˆ†é…å¾‹æ¥è®¡ç®—å®ƒä»¬çš„ä¹˜ç§¯ ğ‘§1ğ‘§2 = (ğ‘ + ğ‘ğ‘–)(ğ‘ + ğ‘‘ğ‘–) = ğ‘ğ‘ + ğ‘ğ‘‘ğ‘– + ğ‘ğ‘ğ‘– + ğ‘ğ‘‘ğ‘– 2 å› ä¸º ğ‘– 2 = âˆ’1ï¼Œè¿™å¯ä»¥è¿›ä¸€æ­¥åŒ–ç®€ä¸º ğ‘§1ğ‘§2 = ğ‘ğ‘ âˆ’ ğ‘ğ‘‘ + ğ‘ğ‘‘ğ‘– + ğ‘ğ‘ğ‘– = ğ‘ğ‘ âˆ’ ğ‘ğ‘‘+ ( ğ‘ğ‘ + ğ‘ğ‘‘ ) ğ‘– å¦‚æœä»”ç»†è§‚å¯Ÿä½ å°±èƒ½å‘ç°ï¼Œå¤æ•°ç›¸ä¹˜çš„ç»“æœå…¶å®ä¹Ÿæ˜¯ä¸€ä¸ªçŸ©é˜µä¸å‘é‡ç›¸ä¹˜çš„ ç»“æœï¼Œä¹Ÿå°±æ˜¯è¯´ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/:4:0","tags":["3Då›¾å½¢å­¦","å¤æ•°"],"title":"å¤æ•°","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%A4%8D%E6%95%B0/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µçš„æ¦‚å¿µåŠæ•°å­¦è¿ç®—","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:0:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µ ç®€å•æ¥è¯´çŸ©é˜µå°±æ˜¯ä¸€ä¸ªçŸ©å½¢çš„æ•°å­—ã€ç¬¦å·æˆ–è¡¨è¾¾å¼æ•°ç»„ã€‚çŸ©é˜µä¸­æ¯ä¸€é¡¹å«åšçŸ©é˜µçš„å…ƒç´ (Element)ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª2Ã—3çŸ©é˜µçš„ä¾‹å­ çŸ©é˜µå¯ä»¥é€šè¿‡(i, j)è¿›è¡Œç´¢å¼•ï¼Œiæ˜¯è¡Œï¼Œjæ˜¯åˆ—ï¼Œè¿™å°±æ˜¯ä¸Šé¢çš„çŸ©é˜µå«åš2Ã—3çŸ©é˜µçš„åŸå› ï¼ˆ3åˆ—2è¡Œï¼Œä¹Ÿå«åšçŸ©é˜µçš„ç»´åº¦(Dimension)ï¼‰ã€‚è¿™ä¸ä½ åœ¨ç´¢å¼•2Då›¾åƒæ—¶çš„(x, y)ç›¸åï¼Œè·å–4çš„ç´¢å¼•æ˜¯(2, 1)ï¼ˆç¬¬äºŒè¡Œï¼Œç¬¬ä¸€åˆ—ï¼‰ï¼ˆå¦‚æœæ˜¯å›¾åƒç´¢å¼•åº”è¯¥æ˜¯(1, 2)ï¼Œå…ˆç®—åˆ—ï¼Œå†ç®—è¡Œï¼‰ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:1:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µçš„åŠ å‡ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:2:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µä¸æ ‡é‡çš„åŠ å‡ æ³¨æ„ï¼Œæ•°å­¦ä¸Šæ˜¯æ²¡æœ‰çŸ©é˜µä¸æ ‡é‡ç›¸åŠ å‡çš„è¿ç®—çš„ï¼Œä½†æ˜¯å¾ˆå¤šçº¿æ€§ä»£æ•°çš„åº“éƒ½å¯¹å®ƒæœ‰æ”¯æŒï¼ˆæ¯”å¦‚è¯´æˆ‘ä»¬ç”¨çš„GLMï¼‰ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡numpyçš„è¯ï¼Œå¯ä»¥æŠŠå®ƒç†è§£ä¸ºBroadcastingã€‚ ç›¸åŠ  ç›¸å‡ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:2:1","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µä¸çŸ©é˜µçš„åŠ å‡ çŸ©é˜µä¸çŸ©é˜µä¹‹é—´çš„åŠ å‡å°±æ˜¯ä¸¤ä¸ªçŸ©é˜µå¯¹åº”å…ƒç´ çš„åŠ å‡è¿ç®—ï¼Œæ‰€ä»¥æ€»ä½“çš„è§„åˆ™å’Œä¸æ ‡é‡è¿ç®—æ˜¯å·®ä¸å¤šçš„ï¼Œåªä¸è¿‡åœ¨ç›¸åŒç´¢å¼•ä¸‹çš„å…ƒç´ æ‰èƒ½è¿›è¡Œè¿ç®—ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´åŠ æ³•å’Œå‡æ³•åªå¯¹åŒç»´åº¦çš„çŸ©é˜µæ‰æ˜¯æœ‰å®šä¹‰çš„ã€‚ ä¸€ä¸ª3Ã—2çŸ©é˜µå’Œä¸€ä¸ª2Ã—3çŸ©é˜µï¼ˆæˆ–ä¸€ä¸ª3Ã—3çŸ©é˜µä¸4Ã—4çŸ©é˜µï¼‰æ˜¯ä¸èƒ½è¿›è¡ŒåŠ å‡çš„ ç›¸åŠ  ç›¸å‡ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:2:2","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µçš„ä¹˜æ³• ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:3:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µä¸æ ‡é‡çš„ç›¸ä¹˜ å’ŒçŸ©é˜µä¸æ ‡é‡çš„åŠ å‡ä¸€æ ·ï¼ŒçŸ©é˜µä¸æ ‡é‡ä¹‹é—´çš„ä¹˜æ³•ä¹Ÿæ˜¯çŸ©é˜µçš„æ¯ä¸€ä¸ªå…ƒç´ åˆ†åˆ«ä¹˜ä»¥è¯¥æ ‡é‡ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:3:1","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µä¸çŸ©é˜µçš„ç›¸ä¹˜ ç›¸ä¹˜çš„ä¸€äº›é™åˆ¶ åªæœ‰å½“å·¦ä¾§çŸ©é˜µçš„åˆ—æ•°ä¸å³ä¾§çŸ©é˜µçš„è¡Œæ•°ç›¸ç­‰ï¼Œä¸¤ä¸ªçŸ©é˜µæ‰èƒ½ç›¸ä¹˜ã€‚ çŸ©é˜µç›¸ä¹˜ä¸éµå®ˆäº¤æ¢å¾‹(Commutative)ï¼Œä¹Ÿå°±æ˜¯è¯´Aâ‹…Bâ‰ Bâ‹…Aã€‚ ç›¸ä¹˜æ­¥éª¤ æˆ‘ä»¬é¦–å…ˆæŠŠå·¦ä¾§çŸ©é˜µçš„è¡Œå’Œå³ä¾§çŸ©é˜µçš„åˆ—æ‹¿å‡ºæ¥ã€‚è¿™äº›æŒ‘å‡ºæ¥è¡Œå’Œåˆ—å°†å†³å®šæˆ‘ä»¬è¯¥è®¡ç®—ç»“æœ2x2çŸ©é˜µçš„å“ªä¸ªè¾“å‡ºå€¼ã€‚å¦‚æœå–çš„æ˜¯å·¦çŸ©é˜µçš„ç¬¬ä¸€è¡Œï¼Œè¾“å‡ºå€¼å°±ä¼šå‡ºç°åœ¨ç»“æœçŸ©é˜µçš„ç¬¬ä¸€è¡Œã€‚æ¥ä¸‹æ¥å†å–ä¸€åˆ—ï¼Œå¦‚æœæˆ‘ä»¬å–çš„æ˜¯å³çŸ©é˜µçš„ç¬¬ä¸€åˆ—ï¼Œæœ€ç»ˆå€¼åˆ™ä¼šå‡ºç°åœ¨ç»“æœçŸ©é˜µçš„ç¬¬ä¸€åˆ—ã€‚è¿™æ­£æ˜¯çº¢æ¡†é‡Œçš„æƒ…å†µã€‚å¦‚æœæƒ³è®¡ç®—ç»“æœçŸ©é˜µå³ä¸‹è§’çš„å€¼ï¼Œæˆ‘ä»¬è¦ç”¨ç¬¬ä¸€ä¸ªçŸ©é˜µçš„ç¬¬äºŒè¡Œå’Œç¬¬äºŒä¸ªçŸ©é˜µçš„ç¬¬äºŒåˆ—ï¼ˆè¯‘æ³¨ï¼šç®€å•æ¥è¯´å°±æ˜¯ç»“æœçŸ©é˜µçš„å…ƒç´ çš„è¡Œå–å†³äºç¬¬ä¸€ä¸ªçŸ©é˜µï¼Œåˆ—å–å†³äºç¬¬äºŒä¸ªçŸ©é˜µï¼‰ ä¸¾ä¸€ä¸ªæ›´å¤§çš„çŸ©å½¢ä¾‹å­ æ–¹ä¾¿æ¢³ç† ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:3:2","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©å½¢ä¸å‘é‡çš„ç›¸ä¹˜ å‘é‡ï¼Œå®ƒå…¶å®å°±æ˜¯ä¸€ä¸ª NÃ—1çŸ©é˜µï¼ŒNè¡¨ç¤ºå‘é‡åˆ†é‡çš„ä¸ªæ•°ï¼ˆä¹Ÿå«Nç»´(N-dimensional)å‘é‡ï¼‰ã€‚å¦‚æœä½ ä»”ç»†æ€è€ƒä¸€ä¸‹å°±ä¼šæ˜ç™½ã€‚å‘é‡å’ŒçŸ©é˜µä¸€æ ·éƒ½æ˜¯ä¸€ä¸ªæ•°å­—åºåˆ—ï¼Œä½†å®ƒåªæœ‰1åˆ—ã€‚é‚£ä¹ˆï¼Œè¿™ä¸ªæ–°çš„å®šä¹‰å¯¹æˆ‘ä»¬æœ‰ä»€ä¹ˆå¸®åŠ©å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªMÃ—NçŸ©é˜µï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è¿™ä¸ªçŸ©é˜µä¹˜ä»¥æˆ‘ä»¬çš„NÃ—1å‘é‡ï¼Œå› ä¸ºè¿™ä¸ªçŸ©é˜µçš„åˆ—æ•°ç­‰äºå‘é‡çš„è¡Œæ•°ï¼Œæ‰€ä»¥å®ƒä»¬å°±èƒ½ç›¸ä¹˜ å¾ˆå¤šæœ‰è¶£çš„2D/3Då˜æ¢éƒ½å¯ä»¥æ”¾åœ¨ä¸€ä¸ªçŸ©é˜µä¸­ï¼Œç”¨è¿™ä¸ªçŸ©é˜µä¹˜ä»¥æˆ‘ä»¬çš„å‘é‡å°†å˜æ¢(Transform)è¿™ä¸ªå‘é‡ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:3:3","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å•ä½çŸ©é˜µ åœ¨OpenGLä¸­ï¼Œç”±äºæŸäº›åŸå› æˆ‘ä»¬é€šå¸¸ä½¿ç”¨ 4Ã—4çš„å˜æ¢çŸ©é˜µï¼Œè€Œå…¶ä¸­æœ€é‡è¦çš„åŸå› å°±æ˜¯å¤§éƒ¨åˆ†çš„å‘é‡éƒ½æ˜¯4åˆ†é‡çš„ã€‚æˆ‘ä»¬èƒ½æƒ³åˆ°çš„æœ€ç®€å•çš„å˜æ¢çŸ©é˜µå°±æ˜¯å•ä½çŸ©é˜µ(Identity Matrix)ã€‚ å•ä½çŸ©é˜µæ˜¯ä¸€ä¸ªé™¤äº†å¯¹è§’çº¿ä»¥å¤–éƒ½æ˜¯0çš„ NÃ—NçŸ©é˜µ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:4:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä½œç”¨ å•ä½çŸ©é˜µé€šå¸¸æ˜¯ç”Ÿæˆå…¶ä»–å˜æ¢çŸ©é˜µçš„èµ·ç‚¹ï¼Œå¦‚æœæˆ‘ä»¬æ·±æŒ–çº¿æ€§ä»£æ•°ï¼Œè¿™è¿˜æ˜¯ä¸€ä¸ªå¯¹è¯æ˜å®šç†ã€è§£çº¿æ€§æ–¹ç¨‹éå¸¸æœ‰ç”¨çš„çŸ©é˜µã€‚ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:4:1","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ç¼©æ”¾çŸ©é˜µ æ„é€ ä¸€ä¸ªå˜æ¢çŸ©é˜µæ¥ä¸ºæˆ‘ä»¬æä¾›ç¼©æ”¾åŠŸèƒ½ã€‚æˆ‘ä»¬ä»å•ä½çŸ©é˜µäº†è§£åˆ°ï¼Œæ¯ä¸ªå¯¹è§’çº¿å…ƒç´ ä¼šåˆ†åˆ«ä¸å‘é‡çš„å¯¹åº”å…ƒç´ ç›¸ä¹˜ã€‚å¦‚æœæˆ‘ä»¬æŠŠ1å˜ä¸º3ä¼šæ€æ ·ï¼Ÿè¿™æ ·å­çš„è¯ï¼Œæˆ‘ä»¬å°±æŠŠå‘é‡çš„æ¯ä¸ªå…ƒç´ ä¹˜ä»¥3äº†ï¼Œè¿™äº‹å®ä¸Šå°±æŠŠå‘é‡ç¼©æ”¾3å€ã€‚å¦‚æœæˆ‘ä»¬æŠŠç¼©æ”¾å˜é‡è¡¨ç¤ºä¸º(S1,S2,S3)æˆ‘ä»¬å¯ä»¥ä¸ºä»»æ„å‘é‡(x,y,z)å®šä¹‰ä¸€ä¸ªç¼©æ”¾çŸ©é˜µ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:5:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä½ç§»çŸ©é˜µ å’Œç¼©æ”¾çŸ©é˜µä¸€æ ·ï¼Œåœ¨4Ã—4çŸ©é˜µä¸Šæœ‰å‡ ä¸ªç‰¹åˆ«çš„ä½ç½®ç”¨æ¥æ‰§è¡Œç‰¹å®šçš„æ“ä½œï¼Œå¯¹äºä½ç§»æ¥è¯´å®ƒä»¬æ˜¯ç¬¬å››åˆ—æœ€ä¸Šé¢çš„3ä¸ªå€¼ã€‚å¦‚æœæˆ‘ä»¬æŠŠä½ç§»å‘é‡è¡¨ç¤ºä¸º(Tx,Ty,Tz)ï¼Œæˆ‘ä»¬å°±èƒ½æŠŠä½ç§»çŸ©é˜µå®šä¹‰ä¸ºï¼š è¿™æ ·æ˜¯èƒ½å·¥ä½œçš„ï¼Œå› ä¸ºæ‰€æœ‰çš„ä½ç§»å€¼éƒ½è¦ä¹˜ä»¥å‘é‡çš„wè¡Œï¼Œæ‰€ä»¥ä½ç§»å€¼ä¼šåŠ åˆ°å‘é‡çš„åŸå§‹å€¼ä¸Šï¼ˆæƒ³æƒ³çŸ©é˜µä¹˜æ³•æ³•åˆ™ï¼‰ã€‚è€Œå¦‚æœä½ ç”¨3x3çŸ©é˜µæˆ‘ä»¬çš„ä½ç§»å€¼å°±æ²¡åœ°æ–¹æ”¾ä¹Ÿæ²¡åœ°æ–¹ä¹˜äº†ï¼Œæ‰€ä»¥æ˜¯ä¸è¡Œçš„ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:6:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ—‹è½¬çŸ©é˜µ æ—‹è½¬çŸ©é˜µåœ¨ 3Dç©ºé—´ä¸­æ¯ä¸ªå•ä½è½´éƒ½æœ‰ä¸åŒå®šä¹‰ï¼Œæ—‹è½¬è§’åº¦ç”¨ Î¸è¡¨ç¤º åˆ©ç”¨æ—‹è½¬çŸ©é˜µæˆ‘ä»¬å¯ä»¥æŠŠä»»æ„ä½ç½®å‘é‡æ²¿ä¸€ä¸ªå•ä½æ—‹è½¬è½´è¿›è¡Œæ—‹è½¬ã€‚ä¹Ÿå¯ä»¥å°†å¤šä¸ªçŸ©é˜µå¤åˆï¼Œæ¯”å¦‚å…ˆæ²¿ç€xè½´æ—‹è½¬å†æ²¿ç€yè½´æ—‹è½¬ã€‚ä½†æ˜¯è¿™ä¼šå¾ˆå¿«å¯¼è‡´ä¸€ä¸ªé—®é¢˜â€”â€”ä¸‡å‘èŠ‚æ­»é”ï¼ˆGimbal Lockï¼Œå¯ä»¥çœ‹çœ‹è¿™ä¸ªè§†é¢‘ï¼ˆä¼˜é…·ï¼‰æ¥äº†è§£ï¼‰ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¸ä¼šè®¨è®ºå®ƒçš„ç»†èŠ‚ï¼Œä½†æ˜¯å¯¹äº3Dç©ºé—´ä¸­çš„æ—‹è½¬ï¼Œä¸€ä¸ªæ›´å¥½çš„æ¨¡å‹æ˜¯æ²¿ç€ä»»æ„çš„ä¸€ä¸ªè½´ï¼Œæ¯”å¦‚å•ä½å‘é‡$(0.662, 0.2, 0.7222)$æ—‹è½¬ï¼Œè€Œä¸æ˜¯å¯¹ä¸€ç³»åˆ—æ—‹è½¬çŸ©é˜µè¿›è¡Œå¤åˆã€‚è¿™æ ·çš„ä¸€ä¸ªï¼ˆè¶…çº§éº»çƒ¦çš„ï¼‰çŸ©é˜µæ˜¯å­˜åœ¨çš„ï¼Œè§ä¸‹é¢è¿™ä¸ªå…¬å¼ï¼Œå…¶ä¸­(Rx,Ry,Rz)ä»£è¡¨ä»»æ„æ—‹è½¬è½´ï¼š åœ¨æ•°å­¦ä¸Šè®¨è®ºå¦‚ä½•ç”Ÿæˆè¿™æ ·çš„çŸ©é˜µä»ç„¶è¶…å‡ºäº†æœ¬èŠ‚å†…å®¹ã€‚ä½†æ˜¯è®°ä½ï¼Œå³ä½¿è¿™æ ·ä¸€ä¸ªçŸ©é˜µä¹Ÿä¸èƒ½å®Œå…¨è§£å†³ä¸‡å‘èŠ‚æ­»é”é—®é¢˜ï¼ˆå°½ç®¡ä¼šæå¤§åœ°é¿å…ï¼‰ã€‚é¿å…ä¸‡å‘èŠ‚æ­»é”çš„çœŸæ­£è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨å››å…ƒæ•°(Quaternion)ï¼Œå®ƒä¸ä»…æ›´å®‰å…¨ï¼Œè€Œä¸”è®¡ç®—ä¼šæ›´æœ‰æ•ˆç‡ã€‚ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:7:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"çŸ©é˜µçš„ç»„åˆ ä½¿ç”¨çŸ©é˜µè¿›è¡Œå˜æ¢çš„çœŸæ­£åŠ›é‡åœ¨äºï¼Œæ ¹æ®çŸ©é˜µä¹‹é—´çš„ä¹˜æ³•ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå¤šä¸ªå˜æ¢ç»„åˆåˆ°ä¸€ä¸ªçŸ©é˜µä¸­ã€‚è®©æˆ‘ä»¬çœ‹çœ‹æˆ‘ä»¬æ˜¯å¦èƒ½ç”Ÿæˆä¸€ä¸ªå˜æ¢çŸ©é˜µï¼Œè®©å®ƒç»„åˆå¤šä¸ªå˜æ¢ã€‚å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªé¡¶ç‚¹(x, y, z)ï¼Œæˆ‘ä»¬å¸Œæœ›å°†å…¶ç¼©æ”¾2å€ï¼Œç„¶åä½ç§»(1, 2, 3)ä¸ªå•ä½ã€‚æˆ‘ä»¬éœ€è¦ä¸€ä¸ªä½ç§»å’Œç¼©æ”¾çŸ©é˜µæ¥å®Œæˆè¿™äº›å˜æ¢ã€‚ç»“æœçš„å˜æ¢çŸ©é˜µçœ‹èµ·æ¥åƒè¿™æ ·ï¼š æ³¨æ„ï¼Œå½“çŸ©é˜µç›¸ä¹˜æ—¶æˆ‘ä»¬å…ˆå†™ä½ç§»å†å†™ç¼©æ”¾å˜æ¢çš„ã€‚çŸ©é˜µä¹˜æ³•æ˜¯ä¸éµå®ˆäº¤æ¢å¾‹çš„ï¼Œè¿™æ„å‘³ç€å®ƒä»¬çš„é¡ºåºå¾ˆé‡è¦ã€‚å½“çŸ©é˜µç›¸ä¹˜æ—¶ï¼Œåœ¨æœ€å³è¾¹çš„çŸ©é˜µæ˜¯ç¬¬ä¸€ä¸ªä¸å‘é‡ç›¸ä¹˜çš„ï¼Œæ‰€ä»¥ä½ åº”è¯¥ä»å³å‘å·¦è¯»è¿™ä¸ªä¹˜æ³•ã€‚å»ºè®®æ‚¨åœ¨ç»„åˆçŸ©é˜µæ—¶ï¼Œå…ˆè¿›è¡Œç¼©æ”¾æ“ä½œï¼Œç„¶åæ˜¯æ—‹è½¬ï¼Œæœ€åæ‰æ˜¯ä½ç§»ï¼Œå¦åˆ™å®ƒä»¬ä¼šï¼ˆæ¶ˆæåœ°ï¼‰äº’ç›¸å½±å“ã€‚æ¯”å¦‚ï¼Œå¦‚æœä½ å…ˆä½ç§»å†ç¼©æ”¾ï¼Œä½ç§»çš„å‘é‡ä¹Ÿä¼šåŒæ ·è¢«ç¼©æ”¾ï¼ˆè¯‘æ³¨ï¼šæ¯”å¦‚å‘æŸæ–¹å‘ç§»åŠ¨2ç±³ï¼Œ2ç±³ä¹Ÿè®¸ä¼šè¢«ç¼©æ”¾æˆ1ç±³ï¼‰ï¼ ç”¨æœ€ç»ˆçš„å˜æ¢çŸ©é˜µå·¦ä¹˜æˆ‘ä»¬çš„å‘é‡ä¼šå¾—åˆ°ä»¥ä¸‹ç»“æœï¼š ä¸é”™ï¼å‘é‡å…ˆç¼©æ”¾2å€ï¼Œç„¶åä½ç§»äº†(1, 2, 3)ä¸ªå•ä½ã€‚ ","date":"2024-12-24","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/:8:0","tags":["3Då›¾å½¢å­¦","çŸ©é˜µ"],"title":"çŸ©é˜µ","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E7%9F%A9%E9%98%B5/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ ‡é‡ä¸å‘é‡","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:0:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ ‡é‡ä¸å‘é‡ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:1:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ ‡é‡ æ ‡é‡æœ‰å¤§å° å¯ä»¥æ˜¯æ­£è´Ÿï¼Œä½†æ˜¯ä»–æ²¡æœ‰æ–¹å‘ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:1:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡ ä»‹ç» å‘é‡æœ€åŸºæœ¬çš„å®šä¹‰å°±æ˜¯ä¸€ä¸ªæ–¹å‘ã€‚æˆ–è€…æ›´æ­£å¼çš„è¯´ï¼Œå‘é‡æœ‰ä¸€ä¸ªæ–¹å‘(Direction)å’Œå¤§å°(Magnitudeï¼Œä¹Ÿå«åšå¼ºåº¦æˆ–é•¿åº¦) æˆ‘ä»¬é€šå¸¸åªä½¿ç”¨ 2è‡³ 4ç»´ã€‚å¦‚æœä¸€ä¸ªå‘é‡æœ‰2ä¸ªç»´åº¦ï¼Œå®ƒè¡¨ç¤ºä¸€ä¸ªå¹³é¢çš„æ–¹å‘(æƒ³è±¡ä¸€ä¸‹2Dçš„å›¾åƒ)ï¼Œå½“å®ƒæœ‰3ä¸ªç»´åº¦çš„æ—¶å€™å®ƒå¯ä»¥è¡¨è¾¾ä¸€ä¸ª3Dä¸–ç•Œçš„æ–¹å‘ æ•°å­¦å…¬å¼ å›¾ç¤º ä½ å¯ä»¥æŠŠè¿™äº›2Då‘é‡å½“åšzåæ ‡ä¸º0çš„3Då‘é‡ã€‚ç”±äºå‘é‡è¡¨ç¤ºçš„æ˜¯æ–¹å‘ï¼Œèµ·å§‹äºä½•å¤„å¹¶ä¸ä¼šæ”¹å˜å®ƒçš„å€¼ã€‚ä¸‹å›¾æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å‘é‡ $\\vec{v}$ å’Œ $\\vec{w}$ æ˜¯ç›¸ç­‰çš„ï¼Œå°½ç®¡ä»–ä»¬çš„èµ·å§‹ç‚¹ä¸åŒ ä»£ç  2Då‘é‡ä»£ç  struct f_vector_2d { f_vector_2d(const float in_x, const float in_y); private: float x; float y; }; 3Då‘é‡ä»£ç  struct f_vector_3d { f_vector_3d(float in_x, float in_y, float in_z); private: float x; float y; float z; }; 4Då‘é‡ä»£ç  ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:1:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡ä¸æ ‡é‡è¿ç®— ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:2:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»‹ç» æ ‡é‡(Scalar)åªæ˜¯ä¸€ä¸ªæ•°å­—ï¼ˆæˆ–è€…è¯´æ˜¯ä»…æœ‰ä¸€ä¸ªåˆ†é‡çš„å‘é‡ï¼‰ã€‚å½“æŠŠä¸€ä¸ªå‘é‡åŠ /å‡/ä¹˜/é™¤ä¸€ä¸ªæ ‡é‡ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„æŠŠå‘é‡çš„æ¯ä¸ªåˆ†é‡åˆ†åˆ«è¿›è¡Œè¯¥è¿ç®— æ³¨æ„ï¼Œæ•°å­¦ä¸Šæ˜¯æ²¡æœ‰å‘é‡ä¸æ ‡é‡ç›¸åŠ è¿™ä¸ªè¿ç®—çš„ï¼Œä½†æ˜¯å¾ˆå¤šçº¿æ€§ä»£æ•°çš„åº“éƒ½å¯¹å®ƒæœ‰æ”¯æŒï¼ˆæ¯”å¦‚è¯´æˆ‘ä»¬ç”¨çš„GLMï¼‰ã€‚å¦‚æœä½ ä½¿ç”¨è¿‡numpyçš„è¯ï¼Œå¯ä»¥æŠŠå®ƒç†è§£ä¸ºBroadcastingã€‚ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:2:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ•°å­¦å…¬å¼ å…¶ä¸­çš„+å¯ä»¥æ˜¯+ï¼Œ-ï¼ŒÂ·æˆ–Ã·ï¼Œå…¶ä¸­Â·æ˜¯ä¹˜å·ã€‚æ³¨æ„ï¼å’ŒÃ·è¿ç®—æ—¶ä¸èƒ½é¢ å€’ï¼ˆæ ‡é‡-/Ã·å‘é‡ï¼‰ï¼Œå› ä¸ºé¢ å€’çš„è¿ç®—æ˜¯æ²¡æœ‰å®šä¹‰çš„ã€‚ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:2:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»£ç  2Då‘é‡ä»£ç  struct f_vector_2d { f_vector_2d(const float in_x, const float in_y); // å‘é‡ä¸æ ‡é‡ è¿ç®— f_vector_2d operator+ (const float f) const { return f_vector_2d(x + f, y + f); } f_vector_2d operator- (const float f) const { return f_vector_2d(x - f, y - f); } f_vector_2d operator* (const float f) const { return f_vector_2d(x * f, y * f); } f_vector_2d operator/ (const float f) const { return f_vector_2d(x / f, y / f); } private: float x; float y; }; f, y / f); } 3Då‘é‡ä»£ç  4Då‘é‡ä»£ç  ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:2:3","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡å–å ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:3:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ç®€ä»‹ å¯¹ä¸€ä¸ªå‘é‡å–å(Negate)ä¼šå°†å…¶æ–¹å‘é€†è½¬ã€‚ä¸€ä¸ªæŒ‡å‘ä¸œåŒ—çš„å‘é‡å–ååå°±æŒ‡å‘è¥¿å—æ–¹å‘äº†ã€‚æˆ‘ä»¬åœ¨ä¸€ä¸ªå‘é‡çš„æ¯ä¸ªåˆ†é‡å‰åŠ è´Ÿå·å°±å¯ä»¥å®ç°å–åäº†ï¼ˆæˆ–è€…è¯´ç”¨-1æ•°ä¹˜è¯¥å‘é‡ï¼‰ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:3:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ•°å­¦å…¬å¼ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:3:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»£ç  2Då‘é‡ä»£ç  f_vector_2d operator~ (const f_vector_2d\u0026 v) const { return f_vector_2d(v.x * -1, v.y * -1); } 3Då‘é‡ä»£ç  4Då‘é‡ä»£ç  ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:3:3","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡çš„åŠ æ³• ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:4:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»‹ç» å‘é‡çš„åŠ æ³•å¯ä»¥è¢«å®šä¹‰ä¸ºæ˜¯åˆ†é‡çš„(Component-wise)ç›¸åŠ ï¼Œå³å°†ä¸€ä¸ªå‘é‡ä¸­çš„æ¯ä¸€ä¸ªåˆ†é‡åŠ ä¸Šå¦ä¸€ä¸ªå‘é‡çš„å¯¹åº”åˆ†é‡ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:4:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ•°å­¦å…¬å¼ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:4:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å›¾ç¤º å‘é‡v = (4, 2)å’Œk = (1, 2)å¯ä»¥ç›´è§‚åœ°è¡¨ç¤º ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:4:3","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»£ç  2Då‘é‡ä»£ç  f_vector_2d operator+ (const f_vector_2d\u0026 v) const { return f_vector_2d(x + v.x, x + v.y); } 3Då‘é‡ä»£ç  4Då‘é‡ä»£ç  ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:4:4","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡çš„å‡æ³• ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:5:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»‹ç» å°±åƒæ™®é€šæ•°å­—çš„åŠ å‡ä¸€æ ·ï¼Œå‘é‡çš„å‡æ³•ç­‰äºåŠ ä¸Šç¬¬äºŒä¸ªå‘é‡çš„ç›¸åå‘é‡ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:5:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ•°å­¦å…¬å¼ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:5:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å›¾ç¤º ä¸¤ä¸ªå‘é‡çš„ç›¸å‡ä¼šå¾—åˆ°è¿™ä¸¤ä¸ªå‘é‡æŒ‡å‘ä½ç½®çš„å·®ã€‚è¿™åœ¨æˆ‘ä»¬æƒ³è¦è·å–ä¸¤ç‚¹çš„å·®ä¼šéå¸¸æœ‰ç”¨ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:5:3","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»£ç  2Då‘é‡ä»£ç  f_vector_2d operator- (const f_vector_2d\u0026 v) const { return f_vector_2d(x - v.x, y - v.y); } 3Då‘é‡ä»£ç  4Då‘é‡ä»£ç  ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:5:4","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡çš„é•¿åº¦ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:6:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»‹ç» æˆ‘ä»¬ä½¿ç”¨å‹¾è‚¡å®šç†(Pythagoras Theorem)æ¥è·å–å‘é‡çš„é•¿åº¦(Length)/å¤§å°(Magnitude)ã€‚å¦‚æœä½ æŠŠå‘é‡çš„ xä¸yåˆ†é‡ç”»å‡ºæ¥ï¼Œè¯¥å‘é‡ä¼šå’Œxä¸yåˆ†é‡ä¸ºè¾¹å½¢æˆä¸€ä¸ªä¸‰è§’å½¢ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:6:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ•°å­¦å…¬å¼ å› ä¸ºä¸¤æ¡è¾¹ï¼ˆ xå’Œy ï¼‰æ˜¯å·²çŸ¥çš„ï¼Œå¦‚æœå¸Œæœ›çŸ¥é“æ–œè¾¹$\\vec{v}$çš„é•¿åº¦ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡å‹¾è‚¡å®šç†æ¥è®¡ç®— ||$\\vec{v}$||è¡¨ç¤ºå‘é‡vÂ¯çš„é•¿åº¦ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥åŠ ä¸Š z2 æŠŠè¿™ä¸ªå…¬å¼æ‹“å±•åˆ°ä¸‰ç»´ç©ºé—´ã€‚ä¾‹å­ä¸­å‘é‡( 4, 2 )çš„é•¿åº¦ç­‰äº ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:6:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å›¾ç¤º ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:6:3","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»£ç  2Då‘é‡ #include \u003ccmath\u003e float size() const { return std::sqrt(x * x + y * y); } ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:6:4","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å•ä½å‘é‡ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:7:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»‹ç» æœ‰ä¸€ä¸ªç‰¹æ®Šç±»å‹çš„å‘é‡å«åšå•ä½å‘é‡(Unit Vector)ã€‚å•ä½å‘é‡æœ‰ä¸€ä¸ªç‰¹åˆ«çš„æ€§è´¨â€”â€”å®ƒçš„é•¿åº¦æ˜¯1ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ä»»æ„å‘é‡çš„æ¯ä¸ªåˆ†é‡é™¤ä»¥å‘é‡çš„é•¿åº¦å¾—åˆ°å®ƒçš„å•ä½å‘é‡n^ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:7:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ•°å­¦å…¬å¼ æˆ‘ä»¬æŠŠè¿™ç§æ–¹æ³•å«åšä¸€ä¸ªå‘é‡çš„æ ‡å‡†åŒ–(Normalizing)ã€‚å•ä½å‘é‡å¤´ä¸Šæœ‰ä¸€ä¸ª^æ ·å­çš„è®°å·ã€‚é€šå¸¸å•ä½å‘é‡ä¼šå˜å¾—å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨æˆ‘ä»¬åªå…³å¿ƒæ–¹å‘ä¸å…³å¿ƒé•¿åº¦çš„æ—¶å€™ï¼ˆå¦‚æœæ”¹å˜å‘é‡çš„é•¿åº¦ï¼Œå®ƒçš„æ–¹å‘å¹¶ä¸ä¼šæ”¹å˜ï¼‰ã€‚ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:7:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‘é‡çš„ç›¸ä¹˜ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:8:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä»‹ç» ä¸¤ä¸ªå‘é‡ç›¸ä¹˜æ˜¯ä¸€ç§å¾ˆå¥‡æ€ªçš„æƒ…å†µã€‚æ™®é€šçš„ä¹˜æ³•åœ¨å‘é‡ä¸Šæ˜¯æ²¡æœ‰å®šä¹‰çš„ï¼Œå› ä¸ºå®ƒåœ¨è§†è§‰ä¸Šæ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ä½†æ˜¯åœ¨ç›¸ä¹˜çš„æ—¶å€™æˆ‘ä»¬æœ‰ä¸¤ç§ç‰¹å®šæƒ…å†µå¯ä»¥é€‰æ‹©ï¼šä¸€ä¸ªæ˜¯ç‚¹ä¹˜(Dot Product)ï¼Œè®°ä½œ $\\vec{v}$ â‹… $\\vec{k}$ï¼Œå¦ä¸€ä¸ªæ˜¯å‰ä¹˜(Cross Product)ï¼Œè®°ä½œ $\\vec{v}$ x $\\vec{k}$ã€‚ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:8:1","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ç‚¹ä¹˜ ä»‹ç» ä¸¤ä¸ªå‘é‡çš„ç‚¹ä¹˜ç­‰äºå®ƒä»¬çš„æ•°ä¹˜ç»“æœä¹˜ä»¥ä¸¤ä¸ªå‘é‡ä¹‹é—´å¤¹è§’çš„ä½™å¼¦å€¼ã€‚å¯èƒ½å¬èµ·æ¥æœ‰ç‚¹è´¹è§£ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å…¬å¼ å®ƒä»¬ä¹‹é—´çš„å¤¹è§’è®°ä½œ Î¸ã€‚ä¸ºä»€ä¹ˆè¿™å¾ˆæœ‰ç”¨ï¼Ÿæƒ³è±¡å¦‚æœ $\\vec{v}$ å’Œ $\\vec{k}$ éƒ½æ˜¯å•ä½å‘é‡ï¼Œå®ƒä»¬çš„é•¿åº¦ä¼šç­‰äº1ã€‚è¿™æ ·å…¬å¼ä¼šæœ‰æ•ˆç®€åŒ–æˆ ç°åœ¨ç‚¹ç§¯åªå®šä¹‰äº†ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ã€‚ä½ ä¹Ÿè®¸è®°å¾— 90åº¦çš„ä½™å¼¦å€¼æ˜¯0ï¼Œ0åº¦çš„ä½™å¼¦å€¼æ˜¯1ã€‚ä½¿ç”¨ç‚¹ä¹˜å¯ä»¥å¾ˆå®¹æ˜“æµ‹è¯•ä¸¤ä¸ªå‘é‡æ˜¯å¦æ­£äº¤(Orthogonal)æˆ–å¹³è¡Œï¼ˆæ­£äº¤æ„å‘³ç€ä¸¤ä¸ªå‘é‡äº’ä¸ºç›´è§’ï¼‰ æ•°å­¦å…¬å¼ æ‰€ä»¥ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•è®¡ç®—ç‚¹ä¹˜å‘¢ï¼Ÿç‚¹ä¹˜æ˜¯é€šè¿‡å°†å¯¹åº”åˆ†é‡é€ä¸ªç›¸ä¹˜ï¼Œç„¶åå†æŠŠæ‰€å¾—ç§¯ç›¸åŠ æ¥è®¡ç®—çš„ã€‚ä¸¤ä¸ªå•ä½å‘é‡çš„ï¼ˆä½ å¯ä»¥éªŒè¯å®ƒä»¬çš„é•¿åº¦éƒ½ä¸º1ï¼‰ç‚¹ä¹˜ä¼šåƒæ˜¯è¿™æ · è¦è®¡ç®—ä¸¤ä¸ªå•ä½å‘é‡é—´çš„å¤¹è§’ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨åä½™å¼¦å‡½æ•°cosâˆ’1Â ï¼Œå¯å¾—ç»“æœæ˜¯143.1åº¦ã€‚ç°åœ¨æˆ‘ä»¬å¾ˆå¿«å°±è®¡ç®—å‡ºäº†è¿™ä¸¤ä¸ªå‘é‡çš„å¤¹è§’ã€‚ç‚¹ä¹˜ä¼šåœ¨è®¡ç®—å…‰ç…§çš„æ—¶å€™éå¸¸æœ‰ç”¨ ä»£ç  2Då‘é‡ f_vector_2d operator* (const f_vector_2d\u0026 v) const { return f_vector_2d(x * v.x, y * v.y); } ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:8:2","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"å‰ä¹˜ ä»‹ç» å‰ä¹˜åªåœ¨3Dç©ºé—´ä¸­æœ‰å®šä¹‰ï¼Œå®ƒéœ€è¦ä¸¤ä¸ªä¸å¹³è¡Œå‘é‡ä½œä¸ºè¾“å…¥ï¼Œç”Ÿæˆä¸€ä¸ªæ­£äº¤äºä¸¤ä¸ªè¾“å…¥å‘é‡çš„ç¬¬ä¸‰ä¸ªå‘é‡ã€‚å¦‚æœè¾“å…¥çš„ä¸¤ä¸ªå‘é‡ä¹Ÿæ˜¯æ­£äº¤çš„ï¼Œé‚£ä¹ˆå‰ä¹˜ä¹‹åå°†ä¼šäº§ç”Ÿ3ä¸ªäº’ç›¸æ­£äº¤çš„å‘é‡ã€‚ä¸‹é¢çš„å›¾ç‰‡å±•ç¤ºäº†3Dç©ºé—´ä¸­å‰ä¹˜çš„æ ·å­ æ•°å­¦å…¬å¼ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:8:3","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ç¼©æ”¾ å¯¹ä¸€ä¸ªå‘é‡è¿›è¡Œç¼©æ”¾(Scaling)å°±æ˜¯å¯¹å‘é‡çš„é•¿åº¦è¿›è¡Œç¼©æ”¾ï¼Œè€Œä¿æŒå®ƒçš„æ–¹å‘ä¸å˜ã€‚ç”±äºæˆ‘ä»¬è¿›è¡Œçš„æ˜¯2ç»´æˆ–3ç»´æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥åˆ†åˆ«å®šä¹‰ä¸€ä¸ªæœ‰2æˆ–3ä¸ªç¼©æ”¾å˜é‡çš„å‘é‡ï¼Œæ¯ä¸ªå˜é‡ç¼©æ”¾ä¸€ä¸ªè½´(xã€yæˆ– z)ã€‚ æˆ‘ä»¬å…ˆæ¥å°è¯•ç¼©æ”¾å‘é‡ $\\vec{v}$ =(3,2)ã€‚æˆ‘ä»¬å¯ä»¥æŠŠå‘é‡æ²¿ç€xè½´ç¼©æ”¾0.5ï¼Œä½¿å®ƒçš„å®½åº¦ç¼©å°ä¸ºåŸæ¥çš„äºŒåˆ†ä¹‹ä¸€ï¼›æˆ‘ä»¬å°†æ²¿ç€yè½´æŠŠå‘é‡çš„é«˜åº¦ç¼©æ”¾ä¸ºåŸæ¥çš„ä¸¤å€ã€‚æˆ‘ä»¬çœ‹çœ‹æŠŠå‘é‡ç¼©æ”¾(0.5, 2)å€æ‰€è·å¾—çš„ $\\vec{s}$ æ˜¯ä»€ä¹ˆæ ·çš„ å¯¹äº 2Dçš„æƒ…å†µæˆ‘ä»¬å¯ä»¥æŠŠzè½´ç¼©æ”¾ 1å€ï¼Œè¿™æ · zè½´çš„å€¼å°±ä¸å˜äº†ã€‚æˆ‘ä»¬åˆšåˆšçš„ç¼©æ”¾æ“ä½œæ˜¯ä¸å‡åŒ€(Non-uniform)ç¼©æ”¾ï¼Œå› ä¸ºæ¯ä¸ªè½´çš„ç¼©æ”¾å› å­(Scaling Factor)éƒ½ä¸ä¸€æ ·ã€‚å¦‚æœæ¯ä¸ªè½´çš„ç¼©æ”¾å› å­éƒ½ä¸€æ ·é‚£ä¹ˆå°±å«å‡åŒ€ç¼©æ”¾(Uniform Scale) ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:9:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"ä½ç§» ä½ç§»(Translation)æ˜¯åœ¨åŸå§‹å‘é‡çš„åŸºç¡€ä¸ŠåŠ ä¸Šå¦ä¸€ä¸ªå‘é‡ä»è€Œè·å¾—ä¸€ä¸ªåœ¨ä¸åŒä½ç½®çš„æ–°å‘é‡çš„è¿‡ç¨‹ï¼Œä»è€Œåœ¨ä½ç§»å‘é‡åŸºç¡€ä¸Šç§»åŠ¨äº†åŸå§‹å‘é‡ã€‚æˆ‘ä»¬å·²ç»è®¨è®ºäº†å‘é‡åŠ æ³•ï¼Œæ‰€ä»¥è¿™åº”è¯¥ä¸ä¼šå¤ªé™Œç”Ÿ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:10:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"é½æ¬¡åæ ‡ å‘é‡çš„wåˆ†é‡ä¹Ÿå«é½æ¬¡åæ ‡ã€‚æƒ³è¦ä»é½æ¬¡å‘é‡å¾—åˆ° 3Då‘é‡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠxã€yå’Œ zåæ ‡åˆ†åˆ«é™¤ä»¥wåæ ‡ã€‚æˆ‘ä»¬é€šå¸¸ä¸ä¼šæ³¨æ„è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºwåˆ†é‡é€šå¸¸æ˜¯1.0ã€‚ä½¿ç”¨é½æ¬¡åæ ‡æœ‰å‡ ç‚¹å¥½å¤„ï¼šå®ƒå…è®¸æˆ‘ä»¬åœ¨3Då‘é‡ä¸Šè¿›è¡Œä½ç§»ï¼ˆå¦‚æœæ²¡æœ‰wåˆ†é‡æˆ‘ä»¬æ˜¯ä¸èƒ½ä½ç§»å‘é‡çš„ï¼‰ å¦‚æœä¸€ä¸ªå‘é‡çš„é½æ¬¡åæ ‡æ˜¯0ï¼Œè¿™ä¸ªåæ ‡å°±æ˜¯æ–¹å‘å‘é‡(Direction Vector)ï¼Œå› ä¸ºwåæ ‡æ˜¯0ï¼Œè¿™ä¸ªå‘é‡å°±ä¸èƒ½ä½ç§» ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:11:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["3Då›¾å½¢å­¦"],"content":"æ—‹è½¬ 2Dæˆ–3Dç©ºé—´ä¸­çš„æ—‹è½¬ç”¨è§’(Angle)æ¥è¡¨ç¤ºã€‚è§’å¯ä»¥æ˜¯è§’åº¦åˆ¶æˆ–å¼§åº¦åˆ¶çš„ï¼Œå‘¨è§’æ˜¯360è§’åº¦æˆ–2Â PIå¼§åº¦ã€‚æˆ‘ä¸ªäººæ›´å–œæ¬¢ç”¨è§’åº¦ï¼Œå› ä¸ºå®ƒä»¬çœ‹èµ·æ¥æ›´ç›´è§‚ å¤§å¤šæ•°æ—‹è½¬å‡½æ•°éœ€è¦ç”¨å¼§åº¦åˆ¶çš„è§’ï¼Œä½†å¹¸è¿çš„æ˜¯è§’åº¦åˆ¶çš„è§’ä¹Ÿå¯ä»¥å¾ˆå®¹æ˜“åœ°è½¬åŒ–ä¸ºå¼§åº¦åˆ¶çš„ï¼š å¼§åº¦è½¬è§’åº¦ï¼šè§’åº¦ = å¼§åº¦ * (180.0f / PI) è§’åº¦è½¬å¼§åº¦ï¼šå¼§åº¦ = è§’åº¦ * (PI / 180.0f) PIçº¦ç­‰äº3.14159265359ã€‚ åœ¨3Dç©ºé—´ä¸­æ—‹è½¬éœ€è¦å®šä¹‰ä¸€ä¸ªè§’å’Œä¸€ä¸ªæ—‹è½¬è½´(Rotation Axis)ã€‚ç‰©ä½“ä¼šæ²¿ç€ç»™å®šçš„æ—‹è½¬è½´æ—‹è½¬ç‰¹å®šè§’åº¦ã€‚å¦‚æœä½ æƒ³è¦æ›´å½¢è±¡åŒ–çš„æ„Ÿå—ï¼Œå¯ä»¥è¯•è¯•å‘ä¸‹çœ‹ç€ä¸€ä¸ªç‰¹å®šçš„æ—‹è½¬è½´ï¼ŒåŒæ—¶å°†ä½ çš„å¤´éƒ¨æ—‹è½¬ä¸€å®šè§’åº¦ã€‚å½“2Då‘é‡åœ¨3Dç©ºé—´ä¸­æ—‹è½¬æ—¶ï¼Œæˆ‘ä»¬æŠŠæ—‹è½¬è½´è®¾ä¸ºzè½´ï¼ˆå°è¯•æƒ³è±¡è¿™ç§æƒ…å†µï¼‰ã€‚ ä½¿ç”¨ä¸‰è§’å­¦ï¼Œç»™å®šä¸€ä¸ªè§’åº¦ï¼Œå¯ä»¥æŠŠä¸€ä¸ªå‘é‡å˜æ¢ä¸ºä¸€ä¸ªç»è¿‡æ—‹è½¬çš„æ–°å‘é‡ã€‚è¿™é€šå¸¸æ˜¯ä½¿ç”¨ä¸€ç³»åˆ—æ­£å¼¦å’Œä½™å¼¦å‡½æ•°ï¼ˆä¸€èˆ¬ç®€ç§° sinå’Œcosï¼‰å„ç§å·§å¦™çš„ç»„åˆå¾—åˆ°çš„ ","date":"2024-12-23","objectID":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/:12:0","tags":["Unreal","3Då›¾å½¢å­¦","å‘é‡","æ ‡é‡"],"title":"å‘é‡","uri":"/3d%E5%9B%BE%E5%BD%A2%E5%AD%A6-%E5%90%91%E9%87%8F/"},{"categories":["Unreal Shader"],"content":"HLSL ","date":"2024-12-22","objectID":"/unreal-hlsl/:0:0","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"æ•°æ®ç±»å‹ ä»£ç åŸºäºä»¥ä¸‹è“å›¾ ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:0","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"bool bool b = false; ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:1","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"int æ•°æ®èŒƒå›´ä¸º â€œ-2147483648 ~ 2147483647â€ int C = A + B; return C; ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:2","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"half è¿™ä¸ªä¹Ÿæ˜¯æ•´å½¢ åªä¸è¿‡ int å 4byteï¼Œhalfå 2byteï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè®¾è®¡ å› ä¸ºåœ¨shaderé‡Œé¢æœ‰æ—¶å€™ä¸éœ€è¦è¿™ä¹ˆå¤§çš„ half èŒƒå›´åœ¨ â€œ-60000~60000â€ return half(1); ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:3","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"float float f = 1.234; ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:4","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"double double d = 1.0; ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:5","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"uint å–å€¼èŒƒå›´æ˜¯ â€œ0 ~ 4294967295â€ uint ui = 1; ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:6","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["Unreal Shader"],"content":"Vector ","date":"2024-12-22","objectID":"/unreal-hlsl/:1:7","tags":["Unreal"],"title":"Unreal HLSL","uri":"/unreal-hlsl/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-å¤‡å¿˜å½•","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/","tags":["å¤‡å¿˜å½•"],"title":"å¤‡å¿˜å½•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¤‡å¿˜å½• ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/:0:0","tags":["å¤‡å¿˜å½•"],"title":"å¤‡å¿˜å½•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"çŠ¶æ€å˜åŒ–æ¨¡å¼ ä»€ä¹ˆæ˜¯çŠ¶æ€å˜åŒ– åœ¨ç»„ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›å¯¹è±¡çš„çŠ¶æ€é¢ä¸´å˜åŒ–, å¦‚ä½•å¯¹è¿™äº›å˜åŒ–è¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†? åŒæ—¶åˆä¿è¯é«˜å±‚çš„ç¨³å®š? å…¸å‹æ¨¡å¼ Memento State ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/:1:0","tags":["å¤‡å¿˜å½•"],"title":"å¤‡å¿˜å½•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›å¯¹è±¡çš„çŠ¶æ€åœ¨è½¬æ¢è¿‡ç¨‹ä¸­, å¯èƒ½ç”±äºæŸç§éœ€è¦, è¦æ±‚ç¨‹åºèƒ½å¤Ÿå›æº¯åˆ°å¯¹è±¡ä¹‹å‰çš„çŠ¶æ€ å¦‚æœä½¿ç”¨ä¸€äº›å…¬æœ‰æ¥å£æ¥è®©å…¶ä»–å¯¹è±¡å¾—åˆ°å¯¹è±¡çš„çŠ¶æ€, ä¾¿ä¼šæš´éœ²å¯¹è±¡çš„ç»†èŠ‚å®ç° å¦‚ä½•å®ç°å¯¹è±¡çŠ¶æ€çš„è‰¯å¥½ä¿å­˜ä¸æ¢å¤? ä½†åŒæ—¶åˆä¸ä¼šå› æ­¤è€Œç ´åå¯¹è±¡æœ¬èº«çš„å°è£…æ€§ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/:2:0","tags":["å¤‡å¿˜å½•"],"title":"å¤‡å¿˜å½•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ åœ¨ä¸ç ´åå°è£…æ€§çš„çš„å‰æä¸‹, æ•è·ä¸€ä¸ªå¯¹è±¡çš„å†…éƒ¨çŠ¶æ€, å¹¶åœ¨è¯¥å¯¹è±¡ä¹‹å¤–ä¿å­˜æ­¤çŠ¶æ€ï¼Œè¿™æ ·ä»¥åå°±å¯ä»¥å°†è¯¥å¯¹è±¡æ¢å¤åˆ°åŸå…ˆä¿å­˜çš„çŠ¶æ€ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/:3:0","tags":["å¤‡å¿˜å½•"],"title":"å¤‡å¿˜å½•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ å¤‡å¿˜å½•(Memento)å­˜å‚¨åŸå‘å™¨å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€ åœ¨éœ€è¦æ—¶æ¢å¤åŸå‘å™¨çŠ¶æ€ Mementoæ¨¡å¼çš„æ ¸å¿ƒæ˜¯ä¿¡æ¯éšè—, å³åŸå‘å™¨éœ€è¦å‘å¤–æ¥éšè—ä¿¡æ¯, ä¿æŒå…¶å°è£…æ€§ï¼Œä½†åŒæ—¶æœ‰éœ€è¦å°†çŠ¶æ€ä¿æŒåˆ°å¤–ç•Œ (Memento) ç”±äºç°ä»£è¯­è¨€è¿è¡Œæ—¶éƒ½å…·æœ‰ç›¸å½“çš„å¯¹è±¡åºåˆ—åŒ–æ”¯æŒ, å› æ­¤å¾€å¾€é‡‡ç”¨æ•ˆç‡é«˜ã€åˆè¾ƒå®¹å™¨æ­£ç¡®å®ç°çš„åºåˆ—åŒ–æ–¹æ¡ˆæ¥å®ç°Mementoæ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/:4:0","tags":["å¤‡å¿˜å½•"],"title":"å¤‡å¿˜å½•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%A4%87%E5%BF%98%E5%BD%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç­–ç•¥æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:0:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç»„ä»¶åä½œæ¨¡å¼ ä»€ä¹ˆæ˜¯ç»„ä»¶åä½œæ¨¡å¼ ç°ä»£è½¯ä»¶ä¸“ä¸šåˆ†å·¥ä¹‹åçš„ç¬¬ä¸€ä¸ªç»“æœå°±æ˜¯ æ¡†æ¶ä¸åº”ç”¨ç¨‹åºçš„åˆ’åˆ† ç»„ä»¶åä½œ æ¨¡å¼é€šè¿‡æ™šç»‘å®šï¼Œæ¥å®ç°æ¡†æ¶å’Œåº”ç”¨ä¹‹é—´çš„æ¾è€¦åˆï¼Œæ˜¯äºŒè€…ä¹‹é—´åä½œæ—¶å¸¸ç”¨çš„æ¨¡å¼ å…¸å‹æ¨¡å¼ Template Method Observer / Event Strategy ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:1:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä½¿ç”¨ç­–ç•¥æ¨¡å¼çš„åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºçš„è¿‡ç¨‹ä¸­ï¼ŒæŸäº›å¯¹è±¡ä½¿ç”¨çš„ç®—æ³•å¯èƒ½å¤šç§å¤šæ ·çš„ï¼Œç»å¸¸æ”¹å˜ï¼Œå¦‚æœå°†è¿™ç§ç®—æ³•éƒ½ç¼–ç åˆ°å¯¹è±¡ä¸­ï¼Œå°†ä¼šä½¿å¯¹è±¡å˜å¾—å¼‚å¸¸å¤æ‚ï¼Œè€Œä¸”æœ‰æ—¶å€™æ”¯æŒä¸ä½¿ç”¨çš„ç®—æ³•ä¹Ÿæ˜¯ä¸€ä¸ªæ€§èƒ½è´Ÿæ‹… å¦‚ä½•åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦é€æ˜çš„æ›´æ”¹å¯¹è±¡çš„ç®—æ³•? å°†ç®—æ³•ä¸å¯¹è±¡æœ¬èº«è§£è—• ä»è€Œé¿å…ä¸Šè¿°é—®é¢˜ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:2:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é™æ€ä»£ç  åœºæ™¯ æ¯ä¸ªå›½å®¶ç¨ä¸åŒ æ‰€ä»¥è¦æ ¹æ®ç¨å»è®¡ç®— æ¼”ç¤ºä»£ç åŠä»£ç æ€è·¯ è¿™é‡Œçš„æ€è·¯ å°±æ˜¯ ç›´æ¥ç”¨ä¸€ä¸ªæšä¸¾ è®°å½•å„ä¸ªå›½å®¶çš„ç¨ ç„¶å æ ¹æ®ä¸åŒçš„ç¨ è¿›è¡Œ if else if è®¡ç®—ï¼Œè¿™é‡Œå¸¦æ¥çš„éœ€æ±‚å˜åŒ– ä¹Ÿæ˜¯éº»çƒ¦çš„ å¦‚æœè¦åŠ ä¸€ä¸ªæ³•å›½çš„ç¨ å°±å¾—æ–°åŠ else if å·¨éº»çƒ¦ è¿™ä¸ªå°±è¿åäº† å¼€æ”¾å°é—­ é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ æ”¯æŒæ‰©å±• æ‹’ç»æ›´æ”¹ï¼Œè¿™æ ·ä»£ç å°±ä¼šå˜æˆé™æ€æ€è·¯ è¿™æ—¶å€™ æˆ‘ä»¬æ‰©å±•ä¸€ä¸‹æ€è·¯ åŠ ä¸ª\"æ—¶é—´è½´\" å˜æˆåŠ¨æ€çš„ enum TaxBase { CN_Tax, US_Tax, DE_Tax }; class SalesOrder { TaxBase tax; public: double CalculateTax() { if (tax == CN_Tax) { // CN.... } else if (tax == US_Tax) { // US... } else if (tax == DE_Tax) { // DE... } //... } } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:3:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æ€ä»£ç  åœºæ™¯ æ¯ä¸ªå›½å®¶ç¨ä¸åŒ æ‰€ä»¥è¦æ ¹æ®ç¨å»è®¡ç®— æ¼”ç¤ºä»£ç åŠæ€è·¯ åœ¨ä¸‹è¿°ä»£ç ä¸­ï¼Œå¦‚æœæˆ‘ä»¬è¦å¢åŠ ä¸€ä¸ªæ³•å›½çš„ç¨ï¼Œåªéœ€è¦å†™ä¸€ä¸ªæ³•å›½çš„å­ç±»ï¼Œè¿™æ ·å°±æ˜¯æ‰©å±•ï¼Œè€Œä¸æ˜¯æ›´æ”¹äº†æšä¸¾ï¼Œè¿˜æœ‰å¢åŠ äº†if else å½“ç„¶ä½ å…¶å®ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œåœ¨é™æ€ä»£ç çš„æ€è·¯ï¼Œif else çš„ä»£ç ä¸æ˜¯ä¹Ÿæ²¡æœ‰åŠ¨ï¼Œå°±åªæ˜¯åŠ äº†ä¸€ä¸ª else if è¿™ä¸ä¹Ÿæ˜¯å¤ç”¨æ‰©å±•å˜› è¿™è‚¯å®šä¸å«å¤ç”¨ï¼Œå¤ç”¨æ˜¯ç¼–è¯‘çº§åˆ«ï¼Œç¼–è¯‘ä¹‹åï¼Œéƒ¨ç½²ä¹‹åï¼ŒåŸå°ä¸åŠ¨ï¼Œè€Œä¸”ä½ æƒ³çš„å¤ªç¾å¥½ï¼Œåœ¨å¤§é‡çš„elseä¸­ï¼Œå¾ˆæœ‰å¯èƒ½ä¹Ÿè¦æ”¹å˜å‰é¢çš„æ€è·¯ï¼Œä»è€Œå¼•å‘bug ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:4:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å®šä¹‰ä¸€ç³»åˆ—ç®—æ³• æŠŠä»–ä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ å¹¶ä¸”ä½¿ä»–ä»¬å¯äº’ç›¸æ›¿æ¢(å˜åŒ–) è¯¥ç®—æ³•ä½¿å¾—ç®—æ³•å¯ç‹¬ç«‹äºä½¿ç”¨ä»–çš„å®¢æˆ·ç¨‹åº(ç¨³å®š)è€Œå˜åŒ–(æ‰©å±•ï¼Œå­ç±»åŒ–) ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:5:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç±»å›¾ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:6:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ StrategyåŠå…¶å­ç±»ä¸ºç»„ä»¶æä¾›äº†ä¸€ç³»åˆ—å¯é‡ç”¨çš„ç®—æ³• ä»è€Œå¯ä»¥ä½¿å¾—ç±»å‹åœ¨è¿è¡Œæ—¶æ–¹ä¾¿çš„æ ¹æ®éœ€è¦åœ¨å„ä¸ªç®—æ³•ä¹‹é—´è¿›è¡Œåˆ‡æ¢ Strategyæ¨¡å¼æä¾›äº†åœ¨æ¡ä»¶åˆ¤æ–­è¯­å¥ä»¥å¤–çš„å¦ä¸€ç§é€‰æ‹© æ¶ˆé™¤æ¡ä»¶åˆ¤æ–­è¯­å¥ å°±æ˜¯åœ¨è§£è€¦åˆ å«æœ‰è®¸å¤šæ¡ä»¶åˆ¤æ–­è¯­å¥çš„ä»£ç é€šå¸¸éƒ½éœ€è¦ç­–ç•¥æ¨¡å¼ å¦‚æœStrategyå¯¹è±¡æ²¡æœ‰å®ä¾‹å˜é‡ï¼Œ é‚£ä¹ˆå„ä¸ªä¸Šä¸‹æ–‡å¯ä»¥å…±äº«ä¸€ä¸ªStrategyå¯¹è±¡ ä»è€ŒèŠ‚çœå¯¹è±¡å¼€é”€ é¢å¤–çš„è§£é‡Š è¿è¡Œæ—¶ è¿™ä¸ªè¯ å°±æ˜¯ä»£ç ä¸­å¤šæ€è°ƒç”¨çš„æ—¶å€™ å…¶å® if else if å’Œ switch case å°±æ˜¯ åˆ†è§£ è¿™ä¸ªæ€è·¯ï¼Œæˆ‘ä»¬å°†å„ç§å…·ä½“çš„è®¡ç®—ç¨çš„ç®—æ³•æŠ½è±¡æˆäº†ç®—æ³•ç±»ï¼Œè¿™ä¸ªå°±æ˜¯æŠ½è±¡çš„æ¦‚å¿µ ä¸æ˜¯æ‰€æœ‰çš„ if elseç­–ç•¥æ¨¡å¼å°±é€‚ç”¨ åœ¨ if elseç»å¯¹ä¸å˜çš„æƒ…å†µä¸‹å°±å¯ä»¥ç”¨ if else æ¯”å¦‚ä¸€å‘¨æœ‰7å¤©çš„æƒ…å†µä¸‹ ä¸èƒ½å¤šå‡ºç¬¬å…«å¤© æ‰€ä»¥å°±å¯ä»¥ç”¨if else ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/:7:0","tags":["ç­–ç•¥æ¨¡å¼"],"title":"ç­–ç•¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-æŠ½è±¡å·¥å‚","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æŠ½è±¡å·¥å‚ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:0:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¯¹è±¡åˆ›å»ºæ¨¡å¼ ä»€ä¹ˆæ˜¯å¯¹è±¡åˆ›å»º é€šè¿‡å¯¹è±¡åˆ›å»ºæ¨¡å¼ï¼Œç»•å¼€newï¼Œæ¥é¿å…å¯¹è±¡åˆ›å»º(new)è¿‡ç¨‹ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆ(ä¾èµ–å…·ä½“ç±»)ä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»º ä»–æ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œ å…¸å‹æ¨¡å¼ Factory Method Abstract Factory Prototype Builder ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:1:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æŠ½è±¡å·¥å‚åŠ¨æœº åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ ç»å¸¸é¢ä¸´ç€ â€œä¸€ç³»åˆ—ç›¸äº’ä¾èµ–çš„å¯¹è±¡\"çš„åˆ›å»ºå·¥ä½œï¼ŒåŒæ—¶, ç”±äºéœ€æ±‚çš„å˜åŒ–, å¾€å¾€å­˜åœ¨æ›´å¤šç³»åˆ—å¯¹è±¡çš„åˆ›å»ºå·¥ä½œ å¦‚æœåº”å¯¹è¿™ç§å˜åŒ–? å¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new), æä¾›ä¸€ç§\"å°è£…æœºåˆ¶\"æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§\"å¤šç³»åˆ—å…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œ\"çš„ç´§è€¦åˆ? ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:2:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆå§‹ä»£ç  class EmployeeDAO{ public: vector\u003cEmployeeDO\u003e GetEmployees(){ SqlConnection* connection = new SqlConnection(); connection-\u003eConnectionString = \"...\"; SqlCommand* command = new SqlCommand(); command-\u003eCommandText=\"...\"; command-\u003eSetConnection(connection); SqlDataReader* reader = command-\u003eExecuteReader(); while (reader-\u003eRead()){ } } }; ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:3:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¿ç”¨äº†å·¥å‚æ¨¡å¼ä»£ç  //æ•°æ®åº“è®¿é—®æœ‰å…³çš„åŸºç±» class IDBConnection{ }; class IDBConnectionFactory{ public: virtual IDBConnection* CreateDBConnection()=0; }; class IDBCommand{ }; class IDBCommandFactory{ public: virtual IDBCommand* CreateDBCommand()=0; }; class IDataReader{ }; class IDataReaderFactory{ public: virtual IDataReader* CreateDataReader()=0; }; //æ”¯æŒSQL Server class SqlConnection: public IDBConnection{ }; class SqlConnectionFactory:public IDBConnectionFactory{ }; class SqlCommand: public IDBCommand{ }; class SqlCommandFactory:public IDBCommandFactory{ }; class SqlDataReader: public IDataReader{ }; class SqlDataReaderFactory:public IDataReaderFactory{ }; //æ”¯æŒOracle class OracleConnection: public IDBConnection{ }; class OracleCommand: public IDBCommand{ }; class OracleDataReader: public IDataReader{ }; class EmployeeDAO{ IDBConnectionFactory* dbConnectionFactory; IDBCommandFactory* dbCommandFactory; IDataReaderFactory* dataReaderFactory; public: vector\u003cEmployeeDO\u003e GetEmployees(){ IDBConnection* connection = dbConnectionFactory-\u003eCreateDBConnection(); connection-\u003eConnectionString(\"...\"); IDBCommand* command = dbCommandFactory-\u003eCreateDBCommand(); command-\u003eCommandText(\"...\"); command-\u003eSetConnection(connection); //å…³è”æ€§ IDBDataReader* reader = command-\u003eExecuteReader(); //å…³è”æ€§ while (reader-\u003eRead()){ } } }; ## è¿ç”¨äº†æŠ½è±¡å·¥å‚çš„ä»£ç  ```cpp //æ•°æ®åº“è®¿é—®æœ‰å…³çš„åŸºç±» class IDBConnection{ }; class IDBCommand{ }; class IDataReader{ }; class IDBFactory{ public: virtual IDBConnection* CreateDBConnection()=0; virtual IDBCommand* CreateDBCommand()=0; virtual IDataReader* CreateDataReader()=0; }; //æ”¯æŒSQL Server class SqlConnection: public IDBConnection{ }; class SqlCommand: public IDBCommand{ }; class SqlDataReader: public IDataReader{ }; class SqlDBFactory:public IDBFactory{ public: virtual IDBConnection* CreateDBConnection()=0; virtual IDBCommand* CreateDBCommand()=0; virtual IDataReader* CreateDataReader()=0; }; //æ”¯æŒOracle class OracleConnection: public IDBConnection{ }; class OracleCommand: public IDBCommand{ }; class OracleDataReader: public IDataReader{ }; class EmployeeDAO{ IDBFactory* dbFactory; public: vector\u003cEmployeeDO\u003e GetEmployees(){ IDBConnection* connection = dbFactory-\u003eCreateDBConnection(); connection-\u003eConnectionString(\"...\"); IDBCommand* command = dbFactory-\u003eCreateDBCommand(); command-\u003eCommandText(\"...\"); command-\u003eSetConnection(connection); //å…³è”æ€§ IDBDataReader* reader = command-\u003eExecuteReader(); //å…³è”æ€§ while (reader-\u003eRead()){ } } }; ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:4:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ æä¾›ä¸€ä¸ªæ¥å£, è®©è¯¥æ¥å£è´Ÿè´£åˆ›å»ºä¸€ç³»åˆ—â€ç›¸å…³æˆ–è€…äº’ç›¸ä¾èµ–çš„å¯¹è±¡\", æ— éœ€ç¡®å®šä»–ä»¬å…·ä½“çš„ç±» ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:5:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç±»å›¾ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:6:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ å¦‚æœæ²¡æœ‰åº”å¯¹\"å¤šç³»åˆ—å¯¹è±¡æ„å»º\"çš„éœ€æ±‚å˜åŒ–, åˆ™æ²¡æœ‰å¿…è¦ä½¿ç”¨ Abstract Factoryæ¨¡å¼, è¿™æ—¶å€™ä½¿ç”¨ç®€å•çš„å·¥å‚å®Œå…¨å¯ä»¥ â€œç³»åˆ—å¯¹è±¡\"æŒ‡çš„æ˜¯åœ¨æŸä¸€ä¸ªç‰¹å®šç³»åˆ—ä¸‹çš„å¯¹è±¡ä¹‹é—´æœ‰äº’ç›¸ä¾èµ–\\æˆ–ä½œç”¨çš„å…³ç³».ä¸åŒç³»åˆ—çš„å¯¹è±¡è‡ªå»ºä¸èƒ½ç›¸äº’ä¾èµ– Abstract Factoryæ¨¡å¼ä¸»è¦åœ¨äºåº”å¯¹\"æ–°ç³»åˆ—\"çš„éœ€æ±‚å˜åŠ¨. å…¶ç¼ºç‚¹åœ¨äºéš¾ä»¥åº”å¯¹\"æ–°å¯¹è±¡\"çš„éœ€æ±‚æ”¹åŠ¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/:7:0","tags":["æŠ½è±¡å·¥å‚"],"title":"æŠ½è±¡å·¥å‚","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%8A%BD%E8%B1%A1%E5%B7%A5%E5%8E%82/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-ä»£ç†æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/","tags":["ä»£ç†æ¨¡å¼"],"title":"ä»£ç†æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä»£ç†æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/:0:0","tags":["ä»£ç†æ¨¡å¼"],"title":"ä»£ç†æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¥å£éš”ç¦»æ¨¡å¼ ä»€ä¹ˆæ˜¯æ¥å£éš”ç¦» åœ¨ç»„ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›æ¥å£ä¹‹é—´ç›´æ¥çš„ä¾èµ– å¸¸å¸¸ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ ç”šè‡³æ ¹æœ¬æ— æ³•å®ç° é‡‡ç”¨æ·»åŠ ä¸€å±‚é—´æ¥(ç¨³å®š)æ¥å£, æ¥éš”ç¦»æœ¬æ¥äº’ç›¸ç´§å¯†å…³è”çš„æ¥å£æ˜¯ä¸€ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆ å…¸å‹æ¨¡å¼ FaÃ§ade Proxy Mediator Adapter ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/:1:0","tags":["ä»£ç†æ¨¡å¼"],"title":"ä»£ç†æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿä¸­, æœ‰äº›å¯¹è±¡ç”±äºæŸç§åŸå› (æ¯”å¦‚å¯¹è±¡åˆ›å»ºçš„å¼€é”€å¾ˆå¤§, æˆ–è€…æŸäº›æ“ä½œéœ€è¦å®‰å…¨æ§åˆ¶, æˆ–è€…éœ€è¦è¿›ç¨‹å¤–çš„è®¿é—®ç­‰)ç›´æ¥è®¿é—®ä¼šç»™ä½¿ç”¨è€…æˆ–è€…ç³»ç»Ÿç»“æ„å¸¦æ¥å¾ˆå¤šéº»çƒ¦ å¦‚ä½•åœ¨ä¸æ˜¯å»é€æ˜æ“ä½œå¯¹è±¡çš„åŒæ—¶æ¥ç®¡ç†æˆ–è€…æ§åˆ¶è¿™äº›å¯¹è±¡ç‰¹æœ‰çš„å¤æ‚æ€§ï¼Ÿ å¢åŠ ä¸€å±‚é—´æ¥å±‚æ˜¯è½¯ä»¶å¼€å‘ä¸­å¸¸è§çš„è§£å†³æ–¹å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/:2:0","tags":["ä»£ç†æ¨¡å¼"],"title":"ä»£ç†æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆå§‹ä»£ç  class ISubject{ public: virtual void process(); }; class RealSubject: public ISubject{ public: virtual void process(){ //â€¦. } }; class ClientApp{ ISubject* subject; public: ClientApp(){ subject=new RealSubject(); } void DoTask(){ //... subject-\u003eprocess(); //.... } }; ## é‡æ„ä»£ç  1. ```cpp class ISubject{ public: virtual void process(); }; //Proxyçš„è®¾è®¡ class SubjectProxy: public ISubject{ public: virtual void process(){ //å¯¹RealSubjectçš„ä¸€ç§é—´æ¥è®¿é—® //.... } }; class ClientApp{ ISubject* subject; public: ClientApp(){ subject=new SubjectProxy(); } void DoTask(){ //... subject-\u003eprocess(); //.... } }; ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/:3:0","tags":["ä»£ç†æ¨¡å¼"],"title":"ä»£ç†æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ ä¸ºå…¶ä»–å¯¹è±¡æä¾›ä¸€ç§ä»£ç†ä»¥æ§åˆ¶(éš”ç¦»ï¼Œä½¿ç”¨æ¥å£) å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—® ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/:4:0","tags":["ä»£ç†æ¨¡å¼"],"title":"ä»£ç†æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ â€œå¢åŠ ä¸€å±‚é—´æ¥å±‚\"æ˜¯è½¯ä»¶ç³»ç»Ÿä¸­å¯¹è®¸å¤šå¤æ‚é—®é¢˜çš„ä¸€ç§å¸¸è§è§£å†³æ–¹æ³•. åœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿä¸­, ç›´æ¥ä½¿ç”¨æŸäº›å¯¹è±¡ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜, ä½œä¸ºé—´æ¥å±‚çš„proxyå¯¹è±¡ä¾¿æ˜¯è§£å†³è¿™ä¸€é—®é¢˜çš„å¸¸ç”¨æ‰‹æ®µ å…·ä½“proxyè®¾è®¡æ¨¡å¼çš„å®ç°æ–¹æ³• å®ç°ç²’åº¦éƒ½ç›¸å·®å¾ˆå¤§ æœ‰äº›å¯èƒ½å¯¹å•ä¸ªå¯¹è±¡åšç»†ç²’åº¦çš„æ§åˆ¶, å¦‚copy-on-writeæŠ€æœ¯, æœ‰äº›å¯èƒ½å¯¹ç»„ä»¶æ¨¡å—æä¾›æŠ½è±¡ä»£ç†å±‚, åœ¨æ¶æ„å±‚æ¬¡å¯¹å¯¹è±¡åšproxy proxyå¹¶ä¸ä¸€å®šè¦æ±‚ä¿æŒæ¥å£å®Œæ•´çš„ä¸€è‡´æ€§, åªè¦èƒ½å¤Ÿå®ç°é—´æ¥æ§åˆ¶, æœ‰æ—¶å€™æŸå¤±ä¸€äº›é€æ˜æ€§æ˜¯å¯ä»¥æ¥å—çš„ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/:5:0","tags":["ä»£ç†æ¨¡å¼"],"title":"ä»£ç†æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BB%A3%E7%90%86%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/","tags":["å•ä¾‹æ¨¡å¼"],"title":"å•ä¾‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å•ä¾‹æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:0:0","tags":["å•ä¾‹æ¨¡å¼"],"title":"å•ä¾‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¯¹è±¡æ€§èƒ½æ¨¡å¼ ä»€ä¹ˆæ˜¯å¯¹è±¡æ€§èƒ½ é¢å‘å¯¹è±¡å¾ˆå¥½çš„è§£å†³äº†\"æŠ½è±¡\"çš„é—®é¢˜, ä½†æ˜¯å¿…ä¸å¯å…çš„è¦ä»˜å‡ºä¸€å®šçš„ä»£ä»·ï¼Œå¯¹äºé€šå¸¸æƒ…å†µæ¥è®², é¢å‘å¯¹è±¡çš„æˆæœ¬å¤§éƒ½å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†æ˜¯æŸäº›æƒ…å†µ, é¢å‘å¯¹è±¡æ‰€å¸¦æ¥çš„æˆæœ¬å¿…é¡»è°¨æ…å¤„ç† å…¸å‹æ¨¡å¼ Singleton Flyweight ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:1:0","tags":["å•ä¾‹æ¨¡å¼"],"title":"å•ä¾‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å•ä¾‹æ¨¡å¼åŠ¨æœº åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ ç»å¸¸æœ‰è¿™æ ·ä¸€äº›ç‰¹æ®Šçš„ç±», å¿…é¡»ä¿è¯ä»–ä»¬åœ¨ç³»ç»Ÿä¸­åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹, æ‰èƒ½ç¡®ä¿ä»–ä»¬çš„é€»è¾‘æ­£ç¡®æ€§ä»¥åŠè‰¯å¥½çš„æ•ˆç‡ å¦‚ä½•ç»•è¿‡å¸¸è§„çš„æ„é€ å™¨, æä¾›ä¸€ç§æœºåˆ¶æ¥ä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ psï¼šè¿™ä¸ªæ˜¯ç±»è®¾è®¡è€…çš„è´£ä»», è€Œä¸æ˜¯ä½¿ç”¨è€…çš„è´£ä»» ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:2:0","tags":["å•ä¾‹æ¨¡å¼"],"title":"å•ä¾‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¼”ç¤ºä»£ç  class Singleton{ private: Singleton(); Singleton(const Singleton\u0026 other); public: static Singleton* getInstance(); static Singleton* m_instance; }; Singleton* Singleton::m_instance=nullptr; //çº¿ç¨‹éå®‰å…¨ç‰ˆæœ¬ Singleton* Singleton::getInstance() { if (m_instance == nullptr) { m_instance = new Singleton(); } return m_instance; } //çº¿ç¨‹å®‰å…¨ç‰ˆæœ¬ï¼Œä½†é”çš„ä»£ä»·è¿‡é«˜ Singleton* Singleton::getInstance() { Lock lock; if (m_instance == nullptr) { m_instance = new Singleton(); } return m_instance; } //åŒæ£€æŸ¥é”ï¼Œä½†ç”±äºå†…å­˜è¯»å†™reorderä¸å®‰å…¨ Singleton* Singleton::getInstance() { if(m_instance==nullptr){ Lock lock; if (m_instance == nullptr) { m_instance = new Singleton(); } } return m_instance; } //C++ 11ç‰ˆæœ¬ä¹‹åçš„è·¨å¹³å°å®ç° (volatile) std::atomic\u003cSingleton*\u003e Singleton::m_instance; std::mutex Singleton::m_mutex; Singleton* Singleton::getInstance() { Singleton* tmp = m_instance.load(std::memory_order_relaxed); std::atomic_thread_fence(std::memory_order_acquire);//è·å–å†…å­˜fence if (tmp == nullptr) { std::lock_guard\u003cstd::mutex\u003e lock(m_mutex); tmp = m_instance.load(std::memory_order_relaxed); if (tmp == nullptr) { tmp = new Singleton; std::atomic_thread_fence(std::memory_order_release);//é‡Šæ”¾å†…å­˜fence m_instance.store(tmp, std::memory_order_relaxed); } } return tmp; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:3:0","tags":["å•ä¾‹æ¨¡å¼"],"title":"å•ä¾‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹, å¹¶æä¾›ä¸€ä¸ªè¯¥å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:4:0","tags":["å•ä¾‹æ¨¡å¼"],"title":"å•ä¾‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Singletonæ¨¡å¼ä¸­çš„å®ä¾‹æ„é€ å™¨å¯ä»¥è®¾ç½®ä¸ºprotectedä»¥å…è®¸å­ç±»æ´¾ç”Ÿ Singletonæ¨¡å¼ä¸€èˆ¬ä¸è¦æ”¯æŒæ‹·è´æ„é€ å‡½æ•°å’Œcloneæ¥å£, å› ä¸ºè¿™æœ‰å¯èƒ½å¯¼è‡´å¤šä¸ªå¯¹è±¡å®ä¾‹, ä¸Singletonæ¨¡å¼çš„åˆè¡·è¿èƒŒ å¦‚ä½•å®ç°å¤šçº¿ç¨‹ç¯å¢ƒä¸‹å®‰å…¨çš„Singletonï¼Ÿ æ³¨æ„å¯¹åŒæ£€æŸ¥é”çš„æ­£ç¡®å®ç° ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/:5:0","tags":["å•ä¾‹æ¨¡å¼"],"title":"å•ä¾‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-è¿­ä»£å™¨","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/","tags":["è¿­ä»£å™¨"],"title":"è¿­ä»£å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¿­ä»£å™¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/:0:0","tags":["è¿­ä»£å™¨"],"title":"è¿­ä»£å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ•°æ®ç»“æ„æ¨¡å¼ ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„ å¸¸å¸¸æœ‰ä¸€äº›ç»„ä»¶åœ¨å†…éƒ¨å…·æœ‰ç‰¹å®šçš„æ•°æ®ç»“æ„, å¦‚æœè®©å®¢æˆ·ç¨‹åºä¾èµ–è¿™äº›ç‰¹å®šçš„æ•°æ®ç»“æ„, å°†æå¤§çš„ç ´åç»„ä»¶çš„å¤ç”¨ å…¸å‹æ¨¡å¼ Composite Iterator Chain of Resposibility ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/:1:0","tags":["è¿­ä»£å™¨"],"title":"è¿­ä»£å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¿­ä»£å™¨å‰è¨€ è¿™ä¸ªæ¨¡å¼ åœ¨ c++ ä¸Šå…¶å®å·²ç»è¿‡æ—¶äº† GoF å¯¹è¿­ä»£å™¨çš„å®šä¹‰ æ˜¯é¢å‘å¯¹è±¡çš„è¿­ä»£å™¨ è¦å»éå†å¾ˆå¤šçš„è™šå‡½æ•° ç„¶è€Œè™šå‡½æ•°æ˜¯æœ‰æ€§èƒ½ä»£ä»·çš„ è¿è¡Œæ—¶ä¾èµ– æ‡‚å¾—STL æ³›å‹ç¼–ç¨‹çš„æœ‹å‹éƒ½çŸ¥é“ STL é‡Œé¢å®šä¹‰äº†å¾ˆå¤šè¿­ä»£å™¨ è¿™é‡Œé¢çš„è¿­ä»£å™¨æ˜¯ æ¨¡æ¿æ–¹æ³•çš„è¿­ä»£å™¨ ç¼–è¯‘æ—¶ä¾èµ– ä½†æ˜¯ä¸€ä¸ªæ¨¡å¼è¿‡æ—¶ ä¸ä»£è¡¨æ€æƒ³ä¼šè¿‡æ—¶ c++çš„è¿­ä»£å™¨ä¹Ÿæ˜¯æ ¹æ®è¿™ä¸ªæ€æƒ³ æŠŠç®—æ³•å’Œå®¹å™¨ç»™éš”ç¦»å¼€æ¥ï¼Œè€Œä¸”å…¶ä»–è¯­è¨€ æ¯”å¦‚java è¿™ä¸ªé¢å‘å¯¹è±¡çš„è¿­ä»£å™¨ä¹Ÿåœ¨ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯å¾—å¯¹è¿™ä¸ªæ¨¡å¼ä¸€æ¢ç©¶ç«Ÿ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/:2:0","tags":["è¿­ä»£å™¨"],"title":"è¿­ä»£å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, é›†åˆå¯¹è±¡å†…éƒ¨ç»“æ„å¸¸å¸¸å˜åŒ–å„å¼‚ï¼Œä½†å¯¹äºè¿™äº›é›†åˆå¯¹è±¡, æˆ‘ä»¬å¸Œæœ›åœ¨ä¸æš´éœ²å…¶å†…éƒ¨ç»“æ„çš„åŒæ—¶, å¯ä»¥è®©å¤–éƒ¨å®¢æˆ·ä»£ç é€æ˜çš„è®¿é—®å…¶ä¸­åŒ…å«çš„å…ƒç´ ï¼ŒåŒæ—¶è¿™ç§\"é€æ˜éå†\"ä¹Ÿä¸º\"åŒä¸€ç§ç®—æ³•åœ¨å¤šç§é›†åˆå¯¹è±¡ä¸Šè¿›è¡Œæ“ä½œ\"æä¾›äº†å¯èƒ½ ä½¿ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯å°†è¿™ç§éå†æœºåˆ¶æŠ½è±¡ä¸º\"è¿­ä»£å™¨å¯¹è±¡\"ï¼Œä¸º\"åº”å¯¹å˜åŒ–ä¸­çš„é›†åˆå¯¹è±¡\"æä¾›äº†ä¸€ç§ä¼˜é›…çš„æ–¹å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/:3:0","tags":["è¿­ä»£å™¨"],"title":"è¿­ä»£å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ , è€Œåˆä¸æš´éœ²(ç¨³å®š)è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤º ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/:4:0","tags":["è¿­ä»£å™¨"],"title":"è¿­ä»£å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ è¿­ä»£æŠ½è±¡: è®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡çš„å†…å®¹è€Œæ— éœ€æš´éœ²ä»–çš„å†…éƒ¨è¡¨ç¤º è¿­ä»£å¤šæ€: ä¸ºéå†ä¸åŒçš„é›†åˆç»“æ„æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¥å£, ä»è€Œæ”¯æŒåŒæ ·çš„ç®—æ³•åœ¨ä¸åŒçš„é›†åˆç»“æ„ä¸Šè¿›è¡Œæ“ä½œ è¿­ä»£å™¨çš„å¥å£®æ€§è€ƒè™‘: éå†çš„åŒæ—¶æ›´æ”¹è¿­ä»£å™¨æ‰€åœ¨çš„é›†åˆç»“æ„, ä¼šå¯¼è‡´é—®é¢˜ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/:5:0","tags":["è¿­ä»£å™¨"],"title":"è¿­ä»£å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%BF%AD%E4%BB%A3%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-è®¿é—®å™¨","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/","tags":["è®¿é—®å™¨"],"title":"è®¿é—®å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¿é—®å™¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/:0:0","tags":["è®¿é—®å™¨"],"title":"è®¿é—®å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¡Œä¸ºå˜åŒ–æ¨¡å¼ ä»€ä¹ˆæ˜¯è¡Œä¸ºå˜åŒ– åœ¨ç»„ä»¶çš„æ„å»ºè¿‡ç¨‹ä¸­, ç»„ä»¶è¡Œä¸ºçš„å˜åŒ–ç»å¸¸å¯¼è‡´ç»„ä»¶æœ¬èº«å‰§çƒˆçš„å˜åŒ–ï¼Œâ€œè¡Œä¸ºå˜åŒ–\"æ¨¡å¼å°†ç»„ä»¶çš„è¡Œä¸ºå’Œç»„ä»¶æœ¬èº«è¿›è¡Œè§£è—•, ä»è€Œæ”¯æŒç»„ä»¶è¡Œä¸ºçš„å˜åŒ–, å®ç°ä¸¤è€…ä¹‹é—´çš„æ¾è€¦åˆ å…¸å‹æ¨¡å¼ Command Visitor ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/:1:0","tags":["è®¿é—®å™¨"],"title":"è®¿é—®å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¿é—®å™¨ - å‰è¨€ è®¿é—®å™¨è¿™ä¸ªæ¨¡å¼ æœ‰ä¸€ä¸ªå¾ˆéš¾çš„å‰æ å°±æ˜¯åœ¨æ‰©å±•çš„ç±»çš„å­ç±»ä¸ªæ•°å¿…é¡»ç¨³å®š ä¹Ÿå°±æ˜¯è¯´è¦æå‰å°±çŸ¥é“æœ‰å¤šå°‘ä¸ªå­ç±» ä¸èƒ½å¢åŠ  ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/:2:0","tags":["è®¿é—®å™¨"],"title":"è®¿é—®å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, ç”±äºéœ€æ±‚çš„æ”¹å˜, æŸäº›ç±»å±‚æ¬¡ç»“æ„ä¸­å¸¸å¸¸éœ€è¦å¢åŠ æ–°çš„è¡Œä¸º(æ–¹æ³•)ï¼Œå¦‚æœç›´æ¥åœ¨åŸºç±»ä¸­åšè¿™æ ·çš„æ›´æ”¹, å°†ä¼šç»™å­ç±»å¸¦æ¥å¾ˆç¹é‡çš„å˜æ›´è´Ÿæ‹…, ç”šè‡³ç ´ååŸæœ‰è®¾è®¡ å¦‚ä½•åœ¨ä¸æ›´æ”¹å±‚æ¬¡ç»“æ„çš„å‰æä¸‹, åœ¨è¿è¡Œæ—¶æ ¹æ®éœ€è¦é€æ˜çš„ä¸ºç±»å±‚æ¬¡ç»“æ„ä¸Šçš„å„ä¸ªç±»åŠ¨æ€æ·»åŠ æ–°çš„æ“ä½œ, ä»è€Œé¿å…ä¸Šè¿°é—®é¢˜? ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/:3:0","tags":["è®¿é—®å™¨"],"title":"è®¿é—®å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ è¡¨ç¤ºä¸€ä¸ªä½œç”¨äºæŸå¯¹è±¡ç»“æ„ä¸­çš„å„å…ƒç´ æ“ä½œï¼Œä½¿å¾—å¯ä»¥åœ¨ä¸æ”¹å˜(ç¨³å®š)å„å…ƒç´ çš„ç±»çš„å‰æä¸‹å®šä¹‰(æ‰©å±•)ä½œç”¨äºè¿™äº›å…ƒç´ çš„æ–°æ“ä½œ(å˜åŒ–) ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/:4:0","tags":["è®¿é—®å™¨"],"title":"è®¿é—®å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Visitoræ¨¡å¼é€šè¿‡æ‰€æœ‰åŒé‡åˆ†å‘æ¥å®ç°åœ¨ä¸æ›´æ”¹ç±»å±‚æ¬¡ç»“æ„çš„å‰æä¸‹, åœ¨è¿è¡Œæ—¶é€æ˜çš„ä¸ºç±»å±‚æ¬¡ç»“æ„ä¸Šçš„å„ä¸ªç±»åŠ¨æ€æ·»åŠ æ–°çš„æ“ä½œ æ‰€æœ‰åŒé‡åˆ†å‘å³Visitoræ¨¡å¼ä¸­é—´åŒ…å«äº†ä¸¤ä¸ªå¤šæ€åˆ†å‘ ç¬¬ä¸€ä¸ªä¸ºacceptæ–¹æ³•çš„å¤šæ€è¾¨æ ç¬¬äºŒä¸ªä¸ºvisitElementXæ–¹æ³•çš„å¤šæ€è¾¨æ Visitoræ¨¡å¼çš„æœ€å¤§ç¼ºç‚¹ä¸ºæ‰©å±•ç±»å±‚æ¬¡ç»“æ„, ä¼šå¯¼è‡´visitorç±»çš„æ”¹å˜ï¼Œå› æ­¤è¿™ä¸ªæ¨¡å¼é€‚ç”¨äºç±»å±‚æ¬¡ç»“æ„ç¨³å®š, è€Œå…¶ä¸­çš„æ“ä½œæ–¹æ³•é¢‘ç¹å˜åŒ– ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/:5:0","tags":["è®¿é—®å™¨"],"title":"è®¿é—®å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%AE%BF%E9%97%AE%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-åˆ†ç±»","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/","tags":["åˆ†ç±»"],"title":"åˆ†ç±»","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆ†ç±» æ¨¡å¼åˆ†ç±» ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/:0:0","tags":["åˆ†ç±»"],"title":"åˆ†ç±»","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä»ç›®çš„æ¥çœ‹ åˆ›å»ºå‹æ¨¡å¼ å°†å¯¹è±¡çš„éƒ¨åˆ†åˆ›å»ºå·¥ä½œå»¶ååˆ°å­ç±»æˆ–è€…å…¶ä»–å¯¹è±¡ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¯¹è±¡åˆ›å»ºæ—¶å¸¦æ¥çš„å†²å‡» ç»“æ„å‹æ¨¡å¼ é€šè¿‡ç±»ç»§æ‰¿æˆ–è€…å¯¹è±¡ç»„åˆè·å¾—çµæ´»çš„ç»“æ„ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¯¹è±¡çš„ç»“æ„å¸¦æ¥å†²å‡» è¡Œä¸ºå‹æ¨¡å¼ é€šè¿‡ç±»ç»§æ‰¿æˆ–è€…å¯¹è±¡ç»„åˆæ¥åˆ’åˆ†ç±»ä¸å¯¹è±¡é—´çš„èŒè´£ï¼Œä»è€Œåº”å¯¹éœ€æ±‚å˜åŒ–ä¸ºå¤šä¸ªäº¤äº’çš„å¯¹è±¡å¸¦æ¥çš„å†²å‡» ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/:1:0","tags":["åˆ†ç±»"],"title":"åˆ†ç±»","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä»èŒƒå›´æ¥çœ‹ ç±»æ¨¡å¼å¤„ç†ç±»ä¸å­ç±»çš„é™æ€å…³ç³» å¯¹è±¡æ¨¡å¼å¤„ç†å¯¹è±¡é—´çš„åŠ¨æ€å…³ç³» ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/:2:0","tags":["åˆ†ç±»"],"title":"åˆ†ç±»","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä»å°è£…å˜åŒ–è§’åº¦æ¥çœ‹ ç»„ä»¶åä½œ Template Method Observer / Event Strategy å•ä¸€èŒè´£ Decorator Bridge å¯¹è±¡åˆ›å»º Factory Method Abstract Factory Prototype Builder å¯¹è±¡æ€§èƒ½ Singleton Flyweight æ¥å£éš”ç¦» FaÃ§ade Proxy Mediator Adapter çŠ¶æ€å˜åŒ– Memento State æ•°æ®ç»“æ„ Composite Iterator Chain of Resposibility è¡Œä¸ºå˜åŒ– Command Visitor é¢†åŸŸé—®é¢˜ Interpreter é‡æ„è·å¾—æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/:3:0","tags":["åˆ†ç±»"],"title":"åˆ†ç±»","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é‡æ„è·å¾—æ¨¡å¼ æ€ä¹ˆå»çœ‹å¾…è®¾è®¡æ¨¡å¼ é¢å‘å¯¹è±¡æ¨¡å¼æ˜¯ â€œå¥½çš„é¢å‘å¯¹è±¡è®¾è®¡â€ï¼Œæ‰€è°“å¥½çš„é¢å‘å¯¹è±¡è®¾è®¡å°±æ˜¯æŒ‡é‚£äº›å¯ä»¥æ»¡è¶³ åº”å¯¹å˜åŒ–ï¼Œæé«˜å¤ç”¨æ€§ ç°ä»£è½¯ä»¶è®¾è®¡çš„ç‰¹å¾å°±æ˜¯ éœ€æ±‚çš„é¢‘ç¹å˜åŒ–ï¼Œæ‰€ä»¥è®¾è®¡æ¨¡å¼é‡ç‚¹åœ¨äº å¯»æ±‚å˜åŒ–ç‚¹ï¼Œç„¶ååœ¨å˜åŒ–ç‚¹åº”ç”¨è®¾è®¡æ¨¡å¼ï¼Œä»è€Œæ¥æ›´å¥½çš„åº”å¯¹éœ€æ±‚çš„å˜åŒ– æ‰€ä»¥è¯´ï¼Œä»€ä¹ˆæ—¶å€™ï¼Œä»€ä¹ˆåœ°ç‚¹åº”ç”¨è®¾è®¡æ¨¡å¼æ¯”ç†è§£è®¾è®¡æ¨¡å¼ç»“æ„æœ¬èº«æ›´ä¸ºé‡è¦!!! åŒæ—¶ï¼Œè®¾è®¡æ¨¡å¼çš„åº”ç”¨ä¸å®œå…ˆå…¥ä¸ºä¸»ï¼Œä¸€ä¸Šæ¥å°±æ˜¯ç”¨è®¾è®¡æ¨¡å¼ï¼Œè¿™æ˜¯æœ€å¤§çš„é”™è¯¯ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰ä¸€æ­¥åˆ°ä½çš„è®¾è®¡æ¨¡å¼è®©ä½ å»ä½¿ç”¨ é‡æ„ä¸æ¨¡å¼ å¾ˆé‡è¦!!! è¿˜æœ‰è„šè¸å®åœ°!!! ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/:4:0","tags":["åˆ†ç±»"],"title":"åˆ†ç±»","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é‡æ„å…³é”®æ–¹æ³• é™æ€ -\u003e åŠ¨æ€ æ—©ç»‘å®š -\u003e æ™šç»‘å®š ç»§æ‰¿ -\u003e ç»„åˆ ç¼–è¯‘æ—¶ä¾èµ– -\u003e è¿è¡Œæ—¶ä¾èµ– ç´§è€¦åˆ -\u003e æ¾è€¦åˆ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/:5:0","tags":["åˆ†ç±»"],"title":"åˆ†ç±»","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%88%86%E7%B1%BB/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/","tags":["å·¥å‚æ¨¡å¼"],"title":"å·¥å‚æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å·¥å‚æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/:0:0","tags":["å·¥å‚æ¨¡å¼"],"title":"å·¥å‚æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¯¹è±¡åˆ›å»ºæ¨¡å¼ ä»€ä¹ˆæ˜¯å¯¹è±¡åˆ›å»º é€šè¿‡å¯¹è±¡åˆ›å»ºæ¨¡å¼ï¼Œç»•å¼€newï¼Œæ¥é¿å…å¯¹è±¡åˆ›å»º(new)è¿‡ç¨‹ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆ(ä¾èµ–å…·ä½“ç±»)ä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»º ä»–æ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œ å…¸å‹æ¨¡å¼ Factory Method Abstract Factory Prototype Builder ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/:1:0","tags":["å·¥å‚æ¨¡å¼"],"title":"å·¥å‚æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å·¥å‚æ¨¡å¼åŠ¨æœº åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ ç»å¸¸é¢ä¸´ç€åˆ›å»ºå¯¹è±¡çš„å·¥ä½œ ç”±äºéœ€æ±‚çš„å˜åŒ– éœ€è¦åˆ›å»ºçš„å¯¹è±¡çš„å…·ä½“ç±»å‹ç»å¸¸å˜åŒ– å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–? å¦‚ä½•ç»•è¿‡å¸¸è§„çš„å¯¹è±¡åˆ›å»ºæ–¹æ³•(new), æä¾›ä¸€ç§\"å°è£…æœºåˆ¶\"æ¥é¿å…å®¢æˆ·ç¨‹åºå’Œè¿™ç§\"å…·ä½“å¯¹è±¡åˆ›å»ºå·¥ä½œ\"çš„ç´§è€¦åˆ? ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/:2:0","tags":["å·¥å‚æ¨¡å¼"],"title":"å·¥å‚æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆå§‹ä»£ç  class ISplitter{ public: virtual void split()=0; virtual ~ISplitter(){} }; class BinarySplitter : public ISplitter{ }; class TxtSplitter: public ISplitter{ }; class PictureSplitter: public ISplitter{ }; class VideoSplitter: public ISplitter{ }; class MainForm : public Form { TextBox* txtFilePath; TextBox* txtFileNumber; ProgressBar* progressBar; public: void Button1_Click(){ ISplitter * splitter= new BinarySplitter();//ä¾èµ–å…·ä½“ç±» splitter-\u003esplit(); } }; ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/:3:0","tags":["å·¥å‚æ¨¡å¼"],"title":"å·¥å‚æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é‡æ„ä»£ç  //å…·ä½“ç±» class BinarySplitter : public ISplitter{ }; class TxtSplitter: public ISplitter{ }; class PictureSplitter: public ISplitter{ }; class VideoSplitter: public ISplitter{ }; //å…·ä½“å·¥å‚ class BinarySplitterFactory: public SplitterFactory{ public: virtual ISplitter* CreateSplitter(){ return new BinarySplitter(); } }; class TxtSplitterFactory: public SplitterFactory{ public: virtual ISplitter* CreateSplitter(){ return new TxtSplitter(); } }; class PictureSplitterFactory: public SplitterFactory{ public: virtual ISplitter* CreateSplitter(){ return new PictureSplitter(); } }; class VideoSplitterFactory: public SplitterFactory{ public: virtual ISplitter* CreateSplitter(){ return new VideoSplitter(); } }; //æŠ½è±¡ç±» class ISplitter{ public: virtual void split()=0; virtual ~ISplitter(){} }; //å·¥å‚åŸºç±» class SplitterFactory{ public: virtual ISplitter* CreateSplitter()=0; virtual ~SplitterFactory(){} }; class MainForm : public Form { SplitterFactory* factory;//å·¥å‚ public: MainForm(SplitterFactory* factory){ this-\u003efactory=factory; } void Button1_Click(){ ISplitter * splitter= factory-\u003eCreateSplitter(); //å¤šæ€new splitter-\u003esplit(); } }; ## æ¨¡å¼å®šä¹‰ 1. *å®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ï¼Œè®©å­ç±»å†³å®šå®ä¾‹åŒ–å“ªä¸€ä¸ªç±»* 2. *Factory Methodä½¿å¾—ä¸€ä¸ªç±»çš„å®ä¾‹åŒ–å»¶è¿Ÿ**(ç›®çš„: è§£è—•ï¼Œæ‰‹æ®µ: è™šå‡½æ•°)**åˆ°å­ç±»* ## ç±»å›¾ ![å·¥å‚æ¨¡å¼ç±»å›¾](https://raw.githubusercontent.com/vlicecream/cloudImage/main/data/imagesimage-20220529155731948.png) ## è¦ç‚¹æ€»ç»“ 1. *Factory Methodæ¨¡å¼ç”¨äºéš”ç¦»ç±»å¯¹è±¡çš„ä½¿ç”¨è€…å’Œå…·ä½“ç±»å‹ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œé¢å¯¹ä¸€ä¸ªç»å¸¸å˜åŒ–çš„å…·ä½“ç±»å‹,ç´§è€¦åˆå…³ç³»(new)ä¼šå¯¼è‡´è½¯ä»¶çš„è„†å¼±* 2. *Factor Methodæ¨¡å¼é€šè¿‡é¢å‘å¯¹è±¡çš„æ‰‹æ³•,å°†æ‰€è¦åˆ›å»ºçš„å…·ä½“å¯¹è±¡å·¥ä½œå»¶è¿Ÿåˆ°å­ç±»,ä»è€Œå®ç°ä¸€ç§æ‰©å±•(å¹¶éæ›´æ”¹)çš„ç­–ç•¥ï¼Œè¾ƒå¥½çš„è§£å†³äº†è¿™ç§ç´§è€¦åˆå…³ç³»* 3. *Factor Methodæ¨¡å¼è§£å†³\"å•ä¸ªå¯¹è±¡\"çš„éœ€æ±‚å˜åŒ–. ç¼ºç‚¹åœ¨äºè¦æ±‚åˆ›å»ºæ–¹æ³•/å‚æ•°ç›¸åŒ* ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/:4:0","tags":["å·¥å‚æ¨¡å¼"],"title":"å·¥å‚æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-æ„å»ºå™¨","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/","tags":["æ„å»ºå™¨"],"title":"æ„å»ºå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ„å»ºå™¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/:0:0","tags":["æ„å»ºå™¨"],"title":"æ„å»ºå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¯¹è±¡åˆ›å»ºæ¨¡å¼ ä»€ä¹ˆæ˜¯å¯¹è±¡åˆ›å»º é€šè¿‡å¯¹è±¡åˆ›å»ºæ¨¡å¼ï¼Œç»•å¼€newï¼Œæ¥é¿å…å¯¹è±¡åˆ›å»º(new)è¿‡ç¨‹ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆ(ä¾èµ–å…·ä½“ç±»)ä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»º ä»–æ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œ å…¸å‹æ¨¡å¼ Factory Method Abstract Factory Prototype Builder ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/:1:0","tags":["æ„å»ºå™¨"],"title":"æ„å»ºå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ„å»ºå™¨åŠ¨æœº åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™é¢ä¸´ç€â€œä¸€ä¸ªå¤æ‚å¯¹è±¡â€çš„åˆ›å»ºå·¥ä½œï¼Œå…¶é€šå¸¸ç”±å„ä¸ªéƒ¨åˆ†çš„å­å¯¹è±¡ç”¨ä¸€å®šçš„ç®—æ³•æ„æˆï¼›ç”±äºéœ€æ±‚çš„å˜åŒ–ï¼Œè¿™ä¸ªå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–ï¼Œä½†æ˜¯å°†å®ƒä»¬ç»„åˆåœ¨ä¸€èµ·çš„ç®—æ³•å´ç›¸å¯¹ç¨³å®šã€‚ å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–ï¼Ÿå¦‚ä½•æä¾›ä¸€ç§â€œå°è£…æœºåˆ¶â€æ¥éš”ç¦»å‡ºâ€œå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†â€çš„å˜åŒ–ï¼Œä»è€Œä¿æŒç³»ç»Ÿä¸­çš„â€œç¨³å®šæ„å»ºç®—æ³•â€ä¸éšç€éœ€æ±‚æ”¹å˜è€Œæ”¹å˜ï¼Ÿ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/:2:0","tags":["æ„å»ºå™¨"],"title":"æ„å»ºå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å…¶è¡¨ç¤ºç›¸åˆ†ç¦»ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹(ç¨³å®š)å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤º(å˜åŒ–) ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/:3:0","tags":["æ„å»ºå™¨"],"title":"æ„å»ºå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Builderæ¨¡å¼ä¸»è¦ç”¨äºâ€œåˆ†æ­¥éª¤æ„å»ºä¸€ä¸ªå¤æ‚çš„å¯¹è±¡â€ã€‚åœ¨è¿™å…¶ä¸­â€œåˆ†æ­¥éª¤â€æ˜¯ä¸€ä¸ªç¨³å®šçš„ç®—æ³•ï¼Œè€Œå¤æ‚å¯¹è±¡çš„å„ä¸ªéƒ¨åˆ†åˆ™ç»å¸¸å˜åŒ–ã€‚ å˜åŒ–ç‚¹åœ¨å“ªé‡Œï¼Œå°è£…å“ªé‡Œâ€”â€” Builderæ¨¡å¼ä¸»è¦åœ¨äºåº”å¯¹â€œå¤æ‚å¯¹è±¡å„ä¸ªéƒ¨åˆ†â€çš„é¢‘ç¹éœ€æ±‚å˜åŠ¨ã€‚å…¶ç¼ºç‚¹åœ¨äºéš¾ä»¥åº”å¯¹â€œåˆ†æ­¥éª¤æ„å»ºç®—æ³•â€çš„éœ€æ±‚å˜åŠ¨ åœ¨Builderæ¨¡å¼ä¸­ï¼Œè¦æ³¨æ„ä¸åŒè¯­è¨€ä¸­æ„é€ å™¨å†…è°ƒç”¨è™šå‡½æ•°çš„å·®åˆ«ï¼ˆC++ vs. C#) ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/:4:0","tags":["æ„å»ºå™¨"],"title":"æ„å»ºå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%9E%84%E5%BB%BA%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/","tags":["è§‚å¯Ÿè€…æ¨¡å¼"],"title":"è§‚å¯Ÿè€…æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è§‚å¯Ÿè€…æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/:0:0","tags":["è§‚å¯Ÿè€…æ¨¡å¼"],"title":"è§‚å¯Ÿè€…æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç»„ä»¶åä½œæ¨¡å¼ ä»€ä¹ˆæ˜¯ç»„ä»¶åä½œæ¨¡å¼ ç°ä»£è½¯ä»¶ä¸“ä¸šåˆ†å·¥ä¹‹åçš„ç¬¬ä¸€ä¸ªç»“æœå°±æ˜¯ æ¡†æ¶ä¸åº”ç”¨ç¨‹åºçš„åˆ’åˆ† ç»„ä»¶åä½œ æ¨¡å¼é€šè¿‡æ™šç»‘å®šï¼Œæ¥å®ç°æ¡†æ¶å’Œåº”ç”¨ä¹‹é—´çš„æ¾è€¦åˆï¼Œæ˜¯äºŒè€…ä¹‹é—´åä½œæ—¶å¸¸ç”¨çš„æ¨¡å¼ å…¸å‹æ¨¡å¼ Template Method Observer / Event Strategy ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/:1:0","tags":["è§‚å¯Ÿè€…æ¨¡å¼"],"title":"è§‚å¯Ÿè€…æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å®šä¹‰å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤š(å˜åŒ–)çš„ä¾èµ–å…³ç³» ä»¥ä¾¿å½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºä»–çš„å¯¹è±¡éƒ½å¾—åˆ°é€šçŸ¥å¹¶è‡ªåŠ¨æ›´æ–° ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/:2:0","tags":["è§‚å¯Ÿè€…æ¨¡å¼"],"title":"è§‚å¯Ÿè€…æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ ä½¿ç”¨é¢å‘å¯¹è±¡çš„æŠ½è±¡æ€æƒ³ï¼ŒObserveræ¨¡å¼ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç‹¬ç«‹åœ°æ”¹å˜ç›®æ ‡ä¸è§‚å¯Ÿè€…ï¼Œä»è€Œä½¿äºŒè€…ä¹‹é—´çš„ä¾èµ–å…³ç³»è¾¾è‡´æ¾è€¦åˆ ç›®æ ‡å‘é€é€šçŸ¥æ—¶ï¼Œæ— éœ€æŒ‡å®šè§‚å¯Ÿè€…ï¼Œé€šçŸ¥ï¼ˆå¯ä»¥æºå¸¦é€šçŸ¥ä¿¡æ¯ä½œ ä¸ºå‚æ•°ï¼‰ä¼šè‡ªåŠ¨ä¼ æ’­ è§‚å¯Ÿè€…è‡ªå·±å†³å®šæ˜¯å¦éœ€è¦è®¢é˜…é€šçŸ¥ï¼Œç›®æ ‡å¯¹è±¡å¯¹æ­¤ä¸€æ— æ‰€çŸ¥ Observeræ¨¡å¼æ˜¯åŸºäºäº‹ä»¶çš„UIæ¡†æ¶ä¸­éå¸¸å¸¸ç”¨çš„è®¾è®¡æ¨¡å¼ï¼Œä¹Ÿæ˜¯MVCæ¨¡å¼çš„ä¸€ä¸ªé‡è¦ç»„æˆéƒ¨åˆ†ã€‚ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/:3:0","tags":["è§‚å¯Ÿè€…æ¨¡å¼"],"title":"è§‚å¯Ÿè€…æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å…·ä½“ä»£ç å…ˆä¸å±•å‡º å›å¤´ä¼šè¡¥ æƒ³æ³•æ˜¯ç›´æ¥ä½¿ç”¨è¡Œä¸ºæ ‘çš„ä¾‹å­ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/:4:0","tags":["è§‚å¯Ÿè€…æ¨¡å¼"],"title":"è§‚å¯Ÿè€…æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-ç®€ä»‹","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/","tags":["è®¾è®¡æ¨¡å¼"],"title":"ç®€ä»‹","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ è®¾è®¡æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/:0:0","tags":["è®¾è®¡æ¨¡å¼"],"title":"ç®€ä»‹","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼ ä»€ä¹ˆæ˜¯è®¾è®¡æ¨¡å¼ æ¯ä¸€ä¸ªæ¨¡å¼æè¿°äº†ä¸€ä¸ªåœ¨æˆ‘ä»¬å‘¨å›´ä¸æ–­é‡å¤å‘ç”Ÿçš„é—®é¢˜ä»¥åŠè¯¥é—®é¢˜çš„è§£å†³æ–¹æ¡ˆçš„æ ¸å¿ƒï¼Œè¿™æ ·ä½ å°±èƒ½ä¸€æ¬¡åˆä¸€æ¬¡çš„ä½¿ç”¨è¯¥æ–¹æ¡ˆè€Œä¸å¿…é‡å¤åŠ³åŠ¨ è®¾è®¡æ¨¡å¼æœ‰å¯ä»¥è¯´æ˜¯ å¯å¤ç”¨é¢å‘å¯¹è±¡è½¯ä»¶çš„åŸºç¡€ é‡ç‚¹åœ¨äº å¯å¤ç”¨ é¢å‘å¯¹è±¡ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/:1:0","tags":["è®¾è®¡æ¨¡å¼"],"title":"ç®€ä»‹","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¦‚ä½•è§£å†³å¤æ‚æ€§ åˆ†è§£ åˆ†è€Œæ²»ä¹‹ï¼Œå°†å¤§é—®é¢˜åˆ†æˆå¤šä¸ªå°é—®é¢˜ï¼Œå°†å¤æ‚é—®é¢˜åˆ†æˆå¤šä¸ªç®€å•é—®é¢˜ è¿™ä¸ªåœ¨ç®—æ³•æ˜¯ä¸€ä¸ªæœ€é‡è¦çš„æ ¸å¿ƒæ€è·¯ï¼Œä½†æ˜¯åœ¨è®¾è®¡æ¨¡å¼ï¼Œåªèƒ½è¯´å¯ä»¥ç”¨ï¼Œä½†æ˜¯ä¸å¤Ÿç”¨!!! æŠ½è±¡ ç”±äºä¸èƒ½æŒæ¡å…¨éƒ¨çš„å¤æ‚å¯¹è±¡ï¼Œæˆ‘ä»¬é€‰æ‹©å¿½è§†ä»–çš„éæœ¬è´¨é—®é¢˜ï¼Œè€Œå»å¤„ç†æ³›åŒ–å’Œç†æƒ³åŒ–çš„å¯¹è±¡æ¨¡å‹ è¿™ä¸ªå°±æ˜¯è®¾è®¡æ¨¡å¼çš„æ ¸å¿ƒæ€è·¯ é¢å‘å¯¹è±¡ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/:2:0","tags":["è®¾è®¡æ¨¡å¼"],"title":"ç®€ä»‹","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é¢å‘å¯¹è±¡è®¾è®¡ å˜åŒ–æ˜¯å¤ç”¨çš„å¤©æ•Œï¼Œè€Œé¢å‘å¯¹è±¡è®¾è®¡å°±æ˜¯æŠµå¾¡å˜åŒ–ï¼ï¼ï¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/:3:0","tags":["è®¾è®¡æ¨¡å¼"],"title":"ç®€ä»‹","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é‡æ–°è®¤è¯†é¢å‘å¯¹è±¡ ç†è§£éš”ç¦»å˜åŒ– ä»å®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹è±¡çš„æ„å»ºæ–¹å¼æ›´èƒ½é€‚åº”è½¯ä»¶å˜åŒ–ï¼Œèƒ½å°†å˜åŒ–æ‰€å¸¦æ¥çš„å½±å“åº¦å‡ä¸ºæœ€å° ä»å¾®è§‚å±‚é¢æ¥çœ‹ï¼Œé¢å‘å¯¹è±¡çš„æ–¹å¼æ›´å¼ºè°ƒæ¯ä¸ªç±»çš„è´£ä»»ï¼Œç”±äºéœ€æ±‚å˜åŒ–å¯¼è‡´çš„æ–°å¢ç±»å‹ä¸åº”è¯¥å½±å“åŸæ¥ç±»å‹çš„å®ç° å¯¹è±¡æ˜¯ä»€ä¹ˆ ä»è¯­è¨€å®ç°å±‚é¢æ¥çœ‹ï¼Œå¯¹è±¡å°è£…äº†ä»£ç å’Œæ•°æ® ä»è§„æ ¼å±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯ä¸€ç³»åˆ—å¯è¢«ä½¿ç”¨çš„å…¬å…±æ¥å£ ä»æ¦‚å¿µå±‚é¢è®²ï¼Œå¯¹è±¡æ˜¯æŸç§æ‹¥æœ‰è´£ä»»çš„æŠ½è±¡ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/:4:0","tags":["è®¾è®¡æ¨¡å¼"],"title":"ç®€ä»‹","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ ä¾èµ–å€’ç½®åŸåˆ™ é«˜å±‚æ¨¡å—ï¼ˆç¨³å®šï¼‰ä¸åº”è¯¥ä¾èµ–äºåº•å±‚æ¨¡å—ï¼ˆå˜åŒ–ï¼‰ï¼ŒäºŒè€…åº”è¯¥ä¾èµ–äºæŠ½è±¡ï¼ˆç¨³å®šï¼‰ æŠ½è±¡ï¼ˆç¨³å®šï¼‰ä¸åº”è¯¥ä¾èµ–äºå®ç°ç»†èŠ‚ï¼ˆå˜åŒ–ï¼‰ï¼Œå®ç°ç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ å¼€æ”¾å°é—­åŸåˆ™ å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹æ›´æ”¹å°é—­ï¼Œç±»æ¨¡å—åº”è¯¥æ˜¯å¯æ‰©å±•çš„ï¼Œå¹¶ä¸”ä¸èƒ½ä¿®æ”¹ å•ä¸€èŒè´£åŸåˆ™ æ¯ä¸ªç±»å¼•èµ·ä»–å˜åŒ–çš„åŸå› åªå‡†ä¸€ä¸ªï¼Œä¸èƒ½æ˜¯å¤šä¸ª è¦å¤šç”¨ç»„åˆï¼Œè€Œä¸æ˜¯å¤šç”¨ç»§æ‰¿ ç»§æ‰¿ä¼šé€ æˆå­ç±»çš„æ•°ç›®å’ŒåŠŸèƒ½æ€¥å‰§è†¨èƒ€ï¼Œæ‰€ä»¥è¦å¤šç”¨ç»„åˆ å°è£…å˜åŒ– å°†å˜åŒ–ç‚¹å°è£…èµ·æ¥ï¼Œä¸è¦å»å½±å“ç¨³å®šç‚¹ æ›¿æ¢åŸåˆ™ å­ç±»åº”è¯¥å»é‡å†™çˆ¶ç±»æ–¹æ³•ï¼Œè€Œä¸æ˜¯å»éšè—çˆ¶ç±»æ–¹æ³• æ¥å£éš”ç¦»åŸåˆ™ æ¥å£åº”è¯¥å°è€Œå®Œå¤‡ï¼Œä¸åº”è¯¥å¼ºè¿«å®¢æˆ·ç¨‹åºä¾èµ–ä»–ä»¬ä¸ç”¨çš„æ–¹æ³• é’ˆå¯¹æ¥å£ç¼–ç¨‹ï¼Œè€Œä¸æ˜¯é’ˆå¯¹å®ç°ç¼–ç¨‹ ä¸å°†å˜é‡ç±»å‹å£°æ˜ä¸ºæŸä¸ªç‰¹å®šçš„å…·ä½“ç±»ï¼Œè€Œæ˜¯æŠ½è±¡å‡ºæ¥å£°æ˜ä¸ºæŸä¸ªæ¥å£ å®¢æˆ·ç¨‹åºæ— éœ€è·çŸ¥å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œåªéœ€è¦çŸ¥é“å¯¹è±¡æ‰€å…·æœ‰çš„æ¥å£ å‡å°‘ç³»ç»Ÿä¸­å„éƒ¨åˆ†çš„ä¾èµ–å…³ç³»ï¼Œä»è€Œå®ç° â€œé«˜å†…èšï¼Œ æ¾è€¦åˆâ€ çš„ç±»å‹è®¾è®¡ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/:5:0","tags":["è®¾è®¡æ¨¡å¼"],"title":"ç®€ä»‹","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A6%82%E5%BF%B5/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-è§£æå™¨","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/","tags":["è§£æå™¨"],"title":"è§£æå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è§£æå™¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/:0:0","tags":["è§£æå™¨"],"title":"è§£æå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é¢†åŸŸè§„åˆ™æ¨¡å¼ ä»€ä¹ˆæ˜¯é¢†åŸŸè§„åˆ™ åœ¨ç‰¹å®šé¢†åŸŸä¸­, æŸäº›å˜åŒ–è™½ç„¶é¢‘ç¹, ä½†å¯ä»¥æŠ½è±¡ä¸ºæŸç§è§„åˆ™ï¼Œè¿™æ—¶å€™, ç»“åˆç‰¹å®šé¢†åŸŸ, å°†é—®é¢˜æŠ½è±¡ä¸ºè¯­æ³•è§„åˆ™, ä»è€Œç»™å‡ºåœ¨è¯¥é¢†åŸŸä¸‹çš„ä¸€èˆ¬æ€§çš„è§£å†³æ–¹æ¡ˆ å…¸å‹æ¨¡å¼ Interpreter ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/:1:0","tags":["è§£æå™¨"],"title":"è§£æå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, å¦‚æœæŸä¸€ç‰¹å®šé¢†åŸŸçš„é—®é¢˜æ¯”è¾ƒå¤æ‚, ç±»ä¼¼çš„ç»“æ„ä¸æ–­é‡å¤å‡ºç°, å¦‚æœä½¿ç”¨æ™®é€šçš„ç¼–ç¨‹æ–¹å¼æ¥å®ç°å°†é¢ä¸´éå¸¸é¢‘ç¹çš„å˜åŒ– åœ¨è¿™ç§æƒ…å†µä¸‹, å°†ç‰¹å®šé¢†åŸŸçš„é—®é¢˜è¡¨è¾¾ä¸ºæŸç§è¯­æ³•è§„åˆ™ä¸‹çš„å¥å­ï¼Œç„¶åæ„å»ºä¸€ä¸ªè§£é‡Šå™¨æ¥è§£é‡Šè¿™æ ·çš„å¥å­, ä»è€Œè¾¾åˆ°è§£å†³é—®é¢˜çš„ç›®çš„ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/:2:0","tags":["è§£æå™¨"],"title":"è§£æå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ ç»™å®šä¸€ä¸ªè¯­è¨€, å®šä¹‰ä»–çš„æ–‡æ³•çš„ä¸€ç§è¡¨ç¤º, å¹¶å®šä¹‰ä¸€ç§è§£é‡Šå™¨, è¿™ä¸ªè§£é‡Šå™¨ä½¿ç”¨è¯¥è¡¨ç¤ºæ¥è§£é‡Šè¯­è¨€ä¸­çš„å¥å­ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/:3:0","tags":["è§£æå™¨"],"title":"è§£æå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Interpreteræ¨¡å¼çš„åº”ç”¨åœºæ™¯æ˜¯è¿™ä¸ªæ¨¡å¼çš„ä¸€ä¸ªéš¾ç‚¹ï¼Œåªæœ‰æ»¡è¶³ â€œä¸šåŠ¡è§„åˆ™é¢‘ç¹å˜åŒ–, ä¸”ç±»ä¼¼çš„ç»“æ„ä¸æ–­é‡å¤å‡ºç°, å¹¶ä¸”å®¹æ˜“æŠ½è±¡ä¸ºè¯­è¨€è§„åˆ™çš„é—®é¢˜\"æ‰é€‚åˆè¿™ç§æ¨¡å¼ ä½¿ç”¨è¿™ç§æ¨¡å¼æ¥è¡¨ç¤ºæ–‡æ³•è§„åˆ™, ä»è€Œå¯ä»¥ä½¿ç”¨é¢å‘å¯¹è±¡æŠ€å·§æ¥æ–¹ä¾¿çš„ æ‰©å±• æ–‡æ³• Interpreteræ¨¡å¼é€‚åˆç®€å•çš„æ–‡æ³•è¡¨ç¤º, å¯¹äºå¤æ‚çš„æ–‡æ³•è¡¨ç¤º, è¿™ç§æ¨¡å¼ä¼šäº§ç”Ÿè¾ƒå¤§çš„ç±»å±‚æ¬¡ç»“æ„ï¼Œéœ€è¦æ±‚åŠ©äºç¬¬ä¸‰æ–¹çš„è¯­æ³•åˆ†æå™¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/:4:0","tags":["è§£æå™¨"],"title":"è§£æå™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%A3%E6%9E%90%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-é—¨é¢æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/","tags":["é—¨é¢æ¨¡å¼"],"title":"é—¨é¢æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é—¨é¢æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/:0:0","tags":["é—¨é¢æ¨¡å¼"],"title":"é—¨é¢æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¥å£éš”ç¦»æ¨¡å¼ ä»€ä¹ˆæ˜¯æ¥å£éš”ç¦» åœ¨ç»„ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›æ¥å£ä¹‹é—´ç›´æ¥çš„ä¾èµ– å¸¸å¸¸ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ ç”šè‡³æ ¹æœ¬æ— æ³•å®ç° é‡‡ç”¨æ·»åŠ ä¸€å±‚é—´æ¥(ç¨³å®š)æ¥å£, æ¥éš”ç¦»æœ¬æ¥äº’ç›¸ç´§å¯†å…³è”çš„æ¥å£æ˜¯ä¸€ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆ å…¸å‹æ¨¡å¼ FaÃ§ade Proxy Mediator Adapter ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/:1:0","tags":["é—¨é¢æ¨¡å¼"],"title":"é—¨é¢æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº ä¸Šè¿°Aæ–¹æ¡ˆçš„é—®é¢˜åœ¨äºç»„ä»¶çš„å®¢æˆ·å’Œç»„ä»¶ä¸­å„ç§å¤æ‚çš„å­ç³»ç»Ÿæœ‰äº†è¿‡å¤šçš„è€¦åˆ, éšç€å¤–éƒ¨å®¢æˆ·ç¨‹åºå’Œå„å­ç³»ç»Ÿçš„æ¼”åŒ–, è¿™ç§è¿‡å¤šçš„è€¦åˆé¢ä¸´å¾ˆå¤šå˜åŒ–çš„æŒ‘æˆ˜ å¦‚ä½•ç®€åŒ–å¤–éƒ¨å®¢æˆ·ç¨‹åºå’Œç³»ç»Ÿé—´çš„äº¤äº’æ¥å£? å¦‚ä½•å°†å¤–éƒ¨å®¢æˆ·ç¨‹åºçš„æ¼”åŒ–å’Œå†…éƒ¨å­ç³»ç»Ÿçš„å˜åŒ–ä¹‹é—´çš„ä¾èµ–ç›¸äº’è§£è—•? ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/:2:0","tags":["é—¨é¢æ¨¡å¼"],"title":"é—¨é¢æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´(ç¨³å®š)çš„ç•Œé¢, Facadeæ¨¡å¼å®šä¹‰äº†ä¸€ä¸ªé«˜å±‚æ¥å£, è¿™ä¸ªæ¥å£ä½¿å¾—è¿™ä¸€å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“å¤ç”¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/:3:0","tags":["é—¨é¢æ¨¡å¼"],"title":"é—¨é¢æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç±»å›¾ è¿™ä¸ªæ¨¡å¼ä¸‹çš„ç±»å›¾å…¶å®æ²¡æœ‰å¾ˆæ˜ç¡®çš„æ¦‚å¿µ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/:4:0","tags":["é—¨é¢æ¨¡å¼"],"title":"é—¨é¢æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ ä»å®¢æˆ·ç¨‹åºçš„è§’åº¦æ¥çœ‹, é—¨é¢æ¨¡å¼ç®€åŒ–äº†æ•´ä¸ªç»„ä»¶ç³»ç»Ÿçš„æ¥å£, å¯¹äºç»„ä»¶å†…éƒ¨ä¸å¤–éƒ¨å®¢æˆ·ç¨‹åºæ¥è¯´, è¾¾åˆ°äº†ä¸€ç§\"è§£è—•\"çš„æ•ˆæœâ€”-å†…éƒ¨å­ç³»ç»Ÿçš„ä»»ä½•å˜åŒ–ä¸ä¼šå½±å“åˆ°Facadeæ¥å£çš„å˜åŒ– Facadeè®¾è®¡æ¨¡å¼æ›´æ³¨é‡ä»æ¶æ„çš„å±‚æ¬¡å»çœ‹æ•´ä¸ªç³»ç»Ÿ, è€Œä¸æ˜¯å•ä¸ªç±»çš„å±‚æ¬¡ é—¨é¢æ¨¡å¼å¾ˆå¤šæ—¶é—´æ›´æ˜¯ä¸€ç§æ¶æ„è®¾è®¡æ¨¡å¼ Facadeè®¾è®¡æ¨¡å¼å¹¶éä¸€ä¸ªé›†è£…ç®±, å¯ä»¥ä»»æ„çš„æ”¾è¿›ä»»ä½•å¤šä¸ªå¯¹è±¡. Facadeæ¨¡å¼ä¸­ç»„ä»¶çš„å†…éƒ¨åº”è¯¥æ˜¯\"ç›¸äº’è€¦åˆå…³ç³»æ¯”è¾ƒå¤§çš„ä¸€ç³»åˆ—ç»„ä»¶\", è€Œä¸æ˜¯ä¸€ä¸ªç®€å•çš„åŠŸèƒ½é›†åˆ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/:5:0","tags":["é—¨é¢æ¨¡å¼"],"title":"é—¨é¢æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%97%A8%E9%9D%A2%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-å‘½ä»¤æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/","tags":["å‘½ä»¤æ¨¡å¼"],"title":"å‘½ä»¤æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å‘½ä»¤æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/:0:0","tags":["å‘½ä»¤æ¨¡å¼"],"title":"å‘½ä»¤æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¡Œä¸ºå˜åŒ–æ¨¡å¼ ä»€ä¹ˆæ˜¯è¡Œä¸ºå˜åŒ– åœ¨ç»„ä»¶çš„æ„å»ºè¿‡ç¨‹ä¸­, ç»„ä»¶è¡Œä¸ºçš„å˜åŒ–ç»å¸¸å¯¼è‡´ç»„ä»¶æœ¬èº«å‰§çƒˆçš„å˜åŒ–ï¼Œâ€œè¡Œä¸ºå˜åŒ–\"æ¨¡å¼å°†ç»„ä»¶çš„è¡Œä¸ºå’Œç»„ä»¶æœ¬èº«è¿›è¡Œè§£è—•, ä»è€Œæ”¯æŒç»„ä»¶è¡Œä¸ºçš„å˜åŒ–, å®ç°ä¸¤è€…ä¹‹é—´çš„æ¾è€¦åˆ å…¸å‹æ¨¡å¼ Command Visitor ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/:1:0","tags":["å‘½ä»¤æ¨¡å¼"],"title":"å‘½ä»¤æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å‘½ä»¤æ¨¡å¼å‰è¨€ è¿™ä¸ªæ¨¡å¼è·Ÿè¿­ä»£å™¨æ¨¡å¼çš„åœ°ä½å¾ˆåƒï¼Œå¦‚æœåœ¨c++ä¸­ å…¶å®è¿™ä¸ªæ¨¡å¼å¾ˆå°‘ç”¨åˆ° å› ä¸ºæ³›å‹ç¼–ç¨‹é‡Œçš„å‡½æ•°å¯¹è±¡å·²ç»ä¼˜åŒ–çš„å¾ˆå¥½ï¼Œç„¶ååœ¨å…¶ä»–è¯­è¨€ javaä¹‹ç±»çš„ è¿™ä¸ªæ¨¡å¼åº”ç”¨çš„ä¹Ÿæ˜¯å¾ˆå¹¿æ³› ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/:2:0","tags":["å‘½ä»¤æ¨¡å¼"],"title":"å‘½ä»¤æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, â€œè¡Œä¸ºè¯·æ±‚è€…\"ä¸\"è¡Œä¸ºå®ç°è€…\"é€šå¸¸å‘ˆç°ä¸€ç§\"ç´§è€¦åˆâ€ï¼Œä½†åœ¨æŸä¸€ä¸ªåœºåˆâ€”-æ¯”å¦‚éœ€è¦å¯¹è¡Œä¸ºè¿›è¡Œ\"è®°å½•ã€æ’¤é”€/é‡(undo/redo)ã€äº‹åŠ¡ç­‰å¤„ç†â€, è¿™ç§æ— æ³•æŠµå¾¡å˜åŒ–çš„ç´§è€¦åˆæ˜¯ä¸åˆé€‚çš„ åœ¨è¿™ç§æƒ…å†µä¸‹, å¦‚ä½•å°†\"è¡Œä¸ºè¯·æ±‚è€…\"ä¸\"è¡Œä¸ºå®ç°è€…\"è§£è—•? å°†ä¸€ç»„è¡Œä¸ºæŠ½è±¡ä¸ºå¯¹è±¡, å¯ä»¥å®ç°äºŒè€…ä¹‹é—´çš„æ¾è€¦åˆ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/:3:0","tags":["å‘½ä»¤æ¨¡å¼"],"title":"å‘½ä»¤æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å°†ä¸€ä¸ªè¯·æ±‚(è¡Œä¸º)å°è£…ä¸ºä¸€ä¸ªå¯¹è±¡, ä»è€Œä½¿ä½ å¯ç”¨ä¸åŒçš„è¯·æ±‚å¯¹å®¢æˆ·è¿›è¡Œå‚æ•°åŒ–ï¼Œå¯¹è¯·æ±‚æ’é˜Ÿæˆ–è®°å½•æ—¥å¿—, ä»¥åŠæ”¯æŒå¯æ’¤é”€çš„æ“ä½œ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/:4:0","tags":["å‘½ä»¤æ¨¡å¼"],"title":"å‘½ä»¤æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Commandæ¨¡å¼çš„æ ¹æœ¬ç›®çš„åœ¨äºå°†\"è¡Œä¸ºè¯·æ±‚è€…\"ä¸\"è¡Œä¸ºå®ç°è€…\"è§£è—•, åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­, å¸¸è§çš„å®ç°æ‰‹æ®µæ˜¯\"å°†è¡Œä¸ºæŠ½è±¡ä¸ºå¯¹è±¡\" å®ç°Commandæ¥å£çš„å…·ä½“å‘½ä»¤å¯¹è±¡ConcreteCommandæœ‰æ—¶å€™æ ¹æ®éœ€è¦å¯èƒ½ä¼šä¿å­˜ä¸€äº›é¢å¤–çš„çŠ¶æ€ä¿¡æ¯ã€‚é€šè¿‡ä½¿ç”¨Compositeæ¨¡å¼, å¯ä»¥å°†å¤šä¸ªå‘½ä»¤å°è£…ä¸ºä¸€ä¸ªå¤åˆå‘½ä»¤ Commandæ¨¡å¼ä¸c++ä¸­çš„å‡½æ•°å¯¹è±¡æœ‰äº›ç±»ä¼¼, ä½†ä¸¤è€…è¡Œä¸ºæ¥å£çš„è§„èŒƒæœ‰æ‰€åŒºåˆ«ï¼ŒCommandä»¥é¢å‘å¯¹è±¡ä¸­çš„\"æ¥å£-å®ç°\"æ¥å®šä¹‰è¡Œä¸ºå‡½æ•°è§„èŒƒ, æ›´ä¸¥æ ¼, ä½†æœ‰æ€§èƒ½æŸå¤±ï¼Œc++å‡½æ•°å¯¹è±¡ä»¥å‡½æ•°ç­¾åæ¥å®šä¹‰è¡Œä¸ºå‡½æ•°è§„èŒƒ, æ›´çµæ´», æ€§èƒ½æ›´é«˜ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/:5:0","tags":["å‘½ä»¤æ¨¡å¼"],"title":"å‘½ä»¤æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡æ¿æ–¹æ³• ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:0:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç»„ä»¶åä½œæ¨¡å¼ ä»€ä¹ˆæ˜¯ç»„ä»¶åä½œæ¨¡å¼ ç°ä»£è½¯ä»¶ä¸“ä¸šåˆ†å·¥ä¹‹åçš„ç¬¬ä¸€ä¸ªç»“æœå°±æ˜¯ æ¡†æ¶ä¸åº”ç”¨ç¨‹åºçš„åˆ’åˆ† ç»„ä»¶åä½œ æ¨¡å¼é€šè¿‡æ™šç»‘å®šï¼Œæ¥å®ç°æ¡†æ¶å’Œåº”ç”¨ä¹‹é—´çš„æ¾è€¦åˆï¼Œæ˜¯äºŒè€…ä¹‹é—´åä½œæ—¶å¸¸ç”¨çš„æ¨¡å¼ å…¸å‹æ¨¡å¼ Template Method Observer / Event Strategy ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:1:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä½¿ç”¨æ¨¡æ¿æ–¹æ³•çš„åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºçš„è¿‡ç¨‹ä¸­ï¼Œå¯¹äºæŸä¸€é¡¹ä»»åŠ¡ï¼Œä»–å°å°æœ‰ç¨³å®šçš„æ•´ä½“æ“ä½œç»“æ„ï¼Œä½†æ˜¯å„ä¸ªå­æ­¥éª¤å´æœ‰å¾ˆå¤šæ”¹å˜çš„éœ€æ±‚ï¼Œæˆ–è€…ç”±äºå›ºæœ‰åŸå› ï¼ˆæ¯”å¦‚æ¡†æ¶ä¸åº”ç”¨ä¹‹é—´çš„å…³ç³»ï¼‰è€Œæ— æ³•å’Œä»»åŠ¡çš„æ•´ä½“ç»“æ„åŒæ—¶å®ç° é‚£ä¹ˆå¦‚ä½•åœ¨ç¡®å®šç¨³å®šæ“ä½œç»“æ„çš„å‰æä¸‹ï¼Œæ¥çµæ´»åº”å¯¹å„ä¸ªå­æ­¥éª¤çš„å˜åŒ–æˆ–è€…æ™šæœŸå®ç°éœ€æ±‚ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:2:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ—©ç»‘å®šä»£ç  ä»€ä¹ˆæ˜¯æ—©ç»‘å®š æ—©ç»‘å®šä»£ç æ¼”ç¤º ç¨‹åºåº“å¼€å‘äººå‘˜ ä¸ºäº†å®ç°ä¸€ä¸ªåº“ å†™äº†ä¸‰ä¸ªæ­¥éª¤ class Library{ public: void Step1(){ //... } void Step3(){ //... } void Step5(){ //... } }; appå¼€å‘äººå‘˜ä¹Ÿè¦åšæ­¥éª¤ å¹¶ä¸”è¿˜è¦å†™å‡ºä¸€ä¸ªæ­¥éª¤èµ°çš„æµç¨‹ class Application{ public: bool Step2(){ //... } void Step4(){ //... } }; int main() { Library lib(); Application app(); lib.Step1(); if (app.Step2()){ lib.Step3(); } for (int i = 0; i \u003c 4; i++){ app.Step4(); } lib.Step5(); } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:3:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ™šç»‘å®šä»£ç  ä»€ä¹ˆæ˜¯æ™šç»‘å®š æ™šç»‘å®šæ¼”ç¤ºä»£ç  ç¨‹åºåº“å¼€å‘äººå‘˜åœ¨å¼€å‘çš„æ—¶å€™ç›´æ¥æŠŠä¸»æµç¨‹å†™å¥½ è°ƒç”¨æ¯ä¸€æ­¥æµç¨‹ï¼ŒæŠŠåº”ç”¨ç¨‹åºå¼€å‘äººå‘˜è¦å¼€å‘çš„æ­¥éª¤å®šä¹‰æˆè™šå‡½æ•° class Library{ public: // ç¨³å®š template method void Run() { Step1(); if (Step2()) Step3; // æ”¯æŒå˜åŒ– --\u003e è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨ for (int i = 0; i \u003c 4; i++) Step4(); // æ”¯æŒå˜åŒ– --\u003e è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨ Step5(); } virtual ~Library() { } protected: void Step1() { ... } void Step3() { ... } void Step5() { ... } virtual bool Step2() = 0; //å˜åŒ– virtual void Step4() = 0; //å˜åŒ– }; åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜åªéœ€è¦å­ç±»é‡å†™å°±å³å¯ class Application : public Library { protected: virrual bool Step2() { // å­ç±»é‡å†™å®ç° } virtual void Step4() { // å­ç±»é‡å†™å®ç° } }; int main() { Library* pLib = new Application; lib-\u003eRun(); delete pLib; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:4:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å®šä¹‰ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼ˆç¨³å®šï¼‰ â€”â€“\u003e ä¹Ÿå°±æ˜¯ä¸Šé¢æ™šç»‘å®šä»£ç ï¼Œå…ˆæŠŠæµç¨‹å†™å‡ºæ¥ è®²ä¸€äº›æ­¥éª¤å»¶è¿Ÿï¼ˆå˜åŒ–ï¼‰åˆ°å­ç±»ä¸­ â€”â€“\u003e ä¹Ÿå°±æ˜¯ä¸Šé¢æ™šç»‘å®šä»£ç ï¼Œå­ç±»å»å®ç° â€œ2â€ â€œ4â€ ä¸¤ä¸ªæ–¹æ³• Template Methodä½¿å¾—å­ç±»å¯ä»¥ä¸æ”¹å˜(å¤ç”¨)ä¸€ä¸ªç®—æ³•çš„ç»“æ„å³å¯é‡å®šä¹‰(override é‡å†™)è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:5:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å†æ¬¡å¼ºè°ƒçš„ç‚¹ å¦‚æœä¸€ä¸ªéª¨æ¶ä¸ç¨³å®š(ä»£ç ä¸­) é‚£ä¹ˆè¿™ä¸ªæ¨¡ç‰ˆæ–¹æ³•å°±ä¸é€‚ç”¨ å¦‚æœå¤¸å¼ ä¸€ç‚¹ éƒ½ä¸ç¨³å®š é‚£æ²¡æœ‰ä»»ä½•ä¸€ç§è®¾è®¡æ¨¡å¼é€‚åˆ è®¾è®¡æ¨¡å¼å°±æ˜¯éœ€è¦ä¸€ä¸ªç¨³å®šç‚¹ å¦‚æœåè¿‡æ¥ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼Œå¦‚æœä¸€ä¸ªä»£ç éƒ½æ˜¯ç¨³å®šçš„ï¼Œé‚£è®¾è®¡æ¨¡å¼éƒ½ä¸ç”¨å­˜åœ¨çš„ æ‰€ä»¥ï¼Œåˆ«é—²çš„èƒƒç–¼äº†ï¼Œè¿™ä¸¤ç§æç«¯éƒ½æ˜¯ä¸å­˜åœ¨çš„ï¼Œä½†æ˜¯ä»è¿™å¯ä»¥çœ‹å‡ºæ¥ï¼Œæˆ‘ä»¬ä¸€å®šè¦åˆ†å‡ºå“ªäº›æ˜¯ç¨³å®šçš„ é‚£äº›æ˜¯å˜åŒ–çš„ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:6:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Template Methodæ¨¡å¼æ˜¯ä¸€ç§éå¸¸åŸºç¡€æ€§çš„è®¾è®¡æ¨¡å¼, åœ¨é¢å‘å¯¹è±¡ç³»ç»Ÿä¸­æœ‰ç€å¤§é‡çš„åº”ç”¨ï¼Œä»–ç”¨æœ€ç®€æ´çš„æœºåˆ¶ï¼ˆè™šå‡½æ•°çš„å¤šæ€ï¼‰ï¼Œä¸ºå¾ˆå¤šåº”ç”¨ç¨‹åºæ¡†æ¶æä¾›äº†çµæ´»çš„æ‰©å±•ç‚¹ Template Methodæ¨¡å¼é™¤äº†å¯ä»¥çµæ´»åº”å¯¹å­æ­¥éª¤çš„å˜åŒ–å¤–ï¼Œä»–ä¹Ÿå®ç°äº†æ—©ç»‘å®š -\u003e æ™šç»‘å®šçš„è¿™ä¸€æ€è·¯ï¼Œä¹Ÿå°±æ˜¯ä¸è¦è°ƒç”¨æˆ‘ï¼Œè®©æˆ‘æ¥è°ƒç”¨ä½ ï¼Œåå‘æ§åˆ¶ç»“æ„æ˜¯æ¨¡ç‰ˆæ–¹æ³•çš„å…¸å‹åº”ç”¨ åœ¨å…·ä½“å®ç°æ–¹é¢ï¼Œè¢«æ¨¡æ¿æ–¹æ³•è°ƒç”¨çš„è™šå‡½æ•°å¯ä»¥å®ç°ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰ä»»ä½•å®ç°ï¼Œå¯ä»¥æŠŠä»–ä»¬è®¾ç½®ä¸ºprotectedæ–¹æ³• ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/:7:0","tags":["æ¨¡æ¿æ–¹æ³•"],"title":"æ¨¡æ¿æ–¹æ³•","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-æ¡¥æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¡¥æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:0:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å•ä¸€èŒè´£æ¨¡å¼ ä»€ä¹ˆæ˜¯å•ä¸€èŒè´£ åœ¨è½¯ä»¶ç»„ä»¶çš„è®¾è®¡ä¸­ï¼Œå¦‚æœè´£ä»»åˆ’åˆ†çš„ä¸æ¸…æ™°ï¼Œä½¿ç”¨ç»§æ‰¿å¾—åˆ°çš„ç»“æœå¾€å¾€æ˜¯éšç€éœ€æ±‚çš„å˜åŒ–ï¼Œå­ç±»æ€¥å‰§è†¨èƒ€ï¼ŒåŒæ—¶å……æ»¡ç€é‡å¤ä»£ç  è¿™æ—¶å€™æœ€å…³é”®æ˜¯åˆ’æ¸…è´£ä»»ï¼Œæ¯ä¸ªç±»å¼•èµ·ä»–å˜åŒ–çš„åŸå› åªæœ‰ä¸€ä¸ª å…¸å‹æ¨¡å¼ Decorator Bridge ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:1:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä½¿ç”¨æ¡¥æ¨¡å¼åŠ¨æœº ç”±äºæŸäº›ç±»å‹çš„å›ºæœ‰çš„å®ç°é€»è¾‘ ä½¿å¾—å®ƒä»¬å…·æœ‰ä¸¤ä¸ªå˜åŒ–çš„ç»´åº¦ ä¹ƒè‡³å¤šä¸ªç»´åº¦çš„å˜åŒ– å¦‚ä½•åº”å¯¹è¿™ç§\"å¤šç»´åº¦çš„å˜åŒ–\" å¦‚ä½•åˆ©ç”¨é¢å‘å¯¹è±¡æŠ€æœ¯æ¥ä½¿å¾—ç±»å‹å¯ä»¥è½»æ¾çš„æ²¿ç€ä¸¤ä¸ªä¹ƒè‡³å¤šä¸ªæ–¹å‘å˜åŒ– è€Œä¸å¼•å…¥é¢å¤–çš„å¤æ‚åº¦ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:2:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆå§‹ä»£ç  ä»£ç æ¼”ç¤º class Messager{ public: virtual void Login(string username, string password)=0; virtual void SendMessage(string message)=0; virtual void SendPicture(Image image)=0; virtual void PlaySound()=0; virtual void DrawShape()=0; virtual void WriteText()=0; virtual void Connect()=0; virtual ~Messager(){} }; //å¹³å°å®ç° class PCMessagerBase : public Messager{ public: virtual void PlaySound(){ //********** } virtual void DrawShape(){ //********** } virtual void WriteText(){ //********** } virtual void Connect(){ //********** } }; class MobileMessagerBase : public Messager{ public: virtual void PlaySound(){ //========== } virtual void DrawShape(){ //========== } virtual void WriteText(){ //========== } virtual void Connect(){ //========== } }; //ä¸šåŠ¡æŠ½è±¡ class PCMessagerLite : public PCMessagerBase { public: virtual void Login(string username, string password){ PCMessagerBase::Connect(); //........ } virtual void SendMessage(string message){ PCMessagerBase::WriteText(); //........ } virtual void SendPicture(Image image){ PCMessagerBase::DrawShape(); //........ } }; class PCMessagerPerfect : public PCMessagerBase { public: virtual void Login(string username, string password){ PCMessagerBase::PlaySound(); //******** PCMessagerBase::Connect(); //........ } virtual void SendMessage(string message){ PCMessagerBase::PlaySound(); //******** PCMessagerBase::WriteText(); //........ } virtual void SendPicture(Image image){ PCMessagerBase::PlaySound(); //******** PCMessagerBase::DrawShape(); //........ } }; class MobileMessagerLite : public MobileMessagerBase { public: virtual void Login(string username, string password){ MobileMessagerBase::Connect(); //........ } virtual void SendMessage(string message){ MobileMessagerBase::WriteText(); //........ } virtual void SendPicture(Image image){ MobileMessagerBase::DrawShape(); //........ } }; class MobileMessagerPerfect : public MobileMessagerBase { public: virtual void Login(string username, string password){ MobileMessagerBase::PlaySound(); //******** MobileMessagerBase::Connect(); //........ } virtual void SendMessage(string message){ MobileMessagerBase::PlaySound(); //******** MobileMessagerBase::WriteText(); //........ } virtual void SendPicture(Image image){ MobileMessagerBase::PlaySound(); //******** MobileMessagerBase::DrawShape(); //........ } }; void Process(){ //ç¼–è¯‘æ—¶è£…é… Messager *m = new MobileMessagerPerfect(); } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:3:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆ©ç”¨ ç»„åˆ é‡æ„ä»£ç  ä»£ç ç¤ºä¾‹ class Messager{ protected: MessagerImp* messagerImp;//... public: virtual void Login(string username, string password)=0; virtual void SendMessage(string message)=0; virtual void SendPicture(Image image)=0; virtual ~Messager(){} }; class MessagerImp{ public: virtual void PlaySound()=0; virtual void DrawShape()=0; virtual void WriteText()=0; virtual void Connect()=0; virtual MessagerImp(){} }; //å¹³å°å®ç° n class PCMessagerImp : public MessagerImp{ public: virtual void PlaySound(){ //********** } virtual void DrawShape(){ //********** } virtual void WriteText(){ //********** } virtual void Connect(){ //********** } }; class MobileMessagerImp : public MessagerImp{ public: virtual void PlaySound(){ //========== } virtual void DrawShape(){ //========== } virtual void WriteText(){ //========== } virtual void Connect(){ //========== } }; //ä¸šåŠ¡æŠ½è±¡ m //ç±»çš„æ•°ç›®ï¼š1+n+m class MessagerLite :public Messager { public: virtual void Login(string username, string password){ messagerImp-\u003eConnect(); //........ } virtual void SendMessage(string message){ messagerImp-\u003eWriteText(); //........ } virtual void SendPicture(Image image){ messagerImp-\u003eDrawShape(); //........ } }; class MessagerPerfect :public Messager { public: virtual void Login(string username, string password){ messagerImp-\u003ePlaySound(); //******** messagerImp-\u003eConnect(); //........ } virtual void SendMessage(string message){ messagerImp-\u003ePlaySound(); //******** messagerImp-\u003eWriteText(); //........ } virtual void SendPicture(Image image){ messagerImp-\u003ePlaySound(); //******** messagerImp-\u003eDrawShape(); //........ } }; void Process(){ //è¿è¡Œæ—¶è£…é… MessagerImp* mImp=new PCMessagerImp(); Messager *m =new Messager(mImp); } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:4:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å°†æŠ½è±¡éƒ¨åˆ†(ä¸šåŠ¡åŠŸèƒ½)ä¸å®ç°éƒ¨åˆ†(å¹³å°å®ç°)åˆ†ç¦»ï¼Œä½¿ä»–ä»¬éƒ½å¯ä»¥ç‹¬ç«‹çš„å˜åŒ– ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:5:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç±»å›¾ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:6:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Bridgeæ¨¡å¼ä½¿ç”¨â€œå¯¹è±¡é—´çš„ç»„åˆå…³ç³»â€è§£è€¦äº†æŠ½è±¡å’Œå®ç°ä¹‹é—´å›ºæœ‰çš„ç»‘å®šå…³ç³»ï¼Œä½¿å¾—æŠ½è±¡å’Œå®ç°å¯ä»¥æ²¿ç€å„è‡ªçš„ç»´åº¦æ¥å˜åŒ–ã€‚æ‰€è°“æŠ½è±¡å’Œå®ç°æ²¿ç€å„è‡ªçº¬åº¦çš„å˜åŒ–ï¼Œå³â€œå­ç±»åŒ–â€å®ƒä»¬ Bridgeæ¨¡å¼æœ‰æ—¶å€™ç±»ä¼¼äºå¤šç»§æ‰¿æ–¹æ¡ˆï¼Œä½†æ˜¯å¤šç»§æ‰¿æ–¹æ¡ˆå¾€å¾€è¿èƒŒå•ä¸€èŒè´£åŸåˆ™ï¼ˆå³ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå˜åŒ–çš„åŸå› ï¼‰ï¼Œå¤ç”¨æ€§æ¯”è¾ƒå·®ã€‚Bridgeæ¨¡å¼æ˜¯æ¯”å¤šç»§æ‰¿æ–¹æ¡ˆæ›´å¥½çš„è§£å†³æ–¹æ³•ã€‚ Bridgeæ¨¡å¼çš„åº”ç”¨ä¸€èˆ¬åœ¨â€œä¸¤ä¸ªéå¸¸å¼ºçš„å˜åŒ–ç»´åº¦â€ï¼Œæœ‰æ—¶ä¸€ä¸ªç±»ä¹Ÿæœ‰å¤šäºä¸¤ä¸ªçš„å˜åŒ–ç»´åº¦ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨Bridgeçš„æ‰©å±•æ¨¡å¼ã€‚ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/:7:0","tags":["æ¡¥æ¨¡å¼"],"title":"æ¡¥æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-ç¤ºä¾‹c++ä»£ç ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"c++ ç¤ºä¾‹ä»£ç  ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:0:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å‰è¨€ åœ¨è¢«åæ§½ä»£ç å†™çš„çƒ‚ä¹‹å çœ‹äº†å¾ˆå¤šæºç  å­¦ä¹ åˆ«äººæ€ä¹ˆå†™çš„ ä¹Ÿä¸“é—¨å»çœ‹äº†è®¾è®¡æ¨¡å¼ åœ¨å­¦è‰ºæœ¯çš„æˆ‘ è¿˜æ˜¯ç‰¹åˆ«çƒ­è¡·äºæç®€è‰ºæœ¯çš„æˆ‘ è‡ªå·±ä¹‹å‰å†™çš„ä»£ç ä¹Ÿå®åœ¨çœ‹ä¸è¿›å» ç°åœ¨è®¾è®¡æ¨¡å¼éƒ½çœ‹å®Œäº† ç”¨golang è¿˜æœ‰ c++ ç»¼åˆä¸€ä¸‹æ¯ä¸ªæ¨¡å¼çš„ä»£ç ç¤ºä¾‹ ä½†æ˜¯å› ä¸ºåªæ˜¯ç¤ºèŒƒè®¾è®¡æ¨¡å¼ ä¸ä¼šéµå®ˆc++çš„ä»£ç è§„èŒƒ,ç”šè‡³æ˜¯ä¼ªä»£ç  æœ¬ç¯‡æ˜¯ c++ ä½†æ˜¯å¬æˆ‘ä¸€å¥åŠ è™½ç„¶çœ‹ä»£ç æ¨¡æ¿ä¹Ÿå¯ä»¥è®©ä½ å»åº”ä»˜ä¸€äº›åœºæ™¯ ä½†æ˜¯è¿˜æ˜¯è¦çœŸæ­£å»å­¦è®¾è®¡æ¨¡å¼ å­¦è®¾è®¡æ¨¡å¼ = å­¦é¢å‘å¯¹è±¡ è¦ç†æ¸… ç¨³å®šä¸å˜åŒ– è®¾è®¡æ¨¡å¼æœ‰äº›æ¨¡å¼ä¹Ÿæ˜¯åº”ç”¨äºæ¶æ„å±‚æ¬¡çš„ æ‰€ä»¥æœ‰äº›æ¨¡å¼ å¹¶æ²¡æœ‰å¥½çš„ä»£ç æ¨¡æ¿ è€Œä¸”è®¾è®¡æ¨¡å¼ æ˜¯äººä»¬æ™ºæ…§çš„ç²¾å å¾ˆå€¼å¾—æˆ‘ä»¬å»å­¦ä¹ å…¶ä¸­çš„æ€è·¯ç²¾é«“ ä¸è¦è¢«çœ¼å‰çš„è¡¨è±¡ä»£ç è¿·æƒ‘äº† å¥½çš„ä»£ç æ˜¯ä¸€ç§è‰ºæœ¯ ä¹Ÿå¯ä»¥é€šè¿‡ä½ çš„ä»£ç è¯‰è¯´ä½ çš„ç”Ÿæ´»æç®€å“å‘³ ---å£¬å¯…å¹´ä¸ƒæœˆåˆäºŒ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:1:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡æ¿æ–¹æ³• /* * æ¨¡ç‰ˆæ–¹æ³•è®²è§£ * eg: å¨æˆ¿åšèœçš„æµç¨‹ * æµç¨‹: å…ˆå¼€ç« å†åšå…·ä½“çš„èœ éšåå…³ç« * */ #include \u003ciostream\u003e using namespace std; class Cooker { public: void CookProcess() { Fire(); CookDishes(); OutFire(); }; void Fire() { cout \u003c\u003c \"å¼€ç«~\" \u003c\u003c endl; }; // å…·ä½“åšä»€ä¹ˆèœ äº¤ç»™å­ç±»å»å®ç° virtual void CookDishes() = 0; // å…³ç« void OutFire() { cout \u003c\u003c \"å…³ç«~\" \u003c\u003c endl; } }; class CookTomato : public Cooker { void CookDishes() { cout \u003c\u003c \"å¹²è¥¿çº¢æŸ¿\" \u003c\u003c endl; }; }; int main() { Cooker* cooker = new CookTomato(); cooker-\u003eCookProcess(); return 0; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:2:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç®€å•å·¥å‚ #include \u003ciostream\u003e using namespace std; // å…·ä½“ç±» class Product { public: Product() {} virtual ~Product() {} virtual void Function() = 0; }; class ProductA : public Product { public: void Function() { cout \u003c\u003c \"ProductA\" \u003c\u003c endl; } }; class ProductB : public Product { public: void Function() { cout \u003c\u003c \"ProductB\" \u003c\u003c endl; } }; // å…·ä½“å·¥å‚ class NewProductFactory { public: virtual Product* CreateProduct() = 0; virtual ~NewProductFactory() {}; }; class NewProductAFactory : public NewProductFactory { public: virtual Product* CreateProduct() { return new ProductA(); }; }; class NewProductBFactory : public NewProductFactory { public: virtual Product* CreateProduct() { return new ProductB; }; }; // è°ƒç”¨product classç±» class MainFrom { NewProductFactory* factory; // å·¥å‚ public: MainFrom(NewProductFactory* factory) { this-\u003efactory = factory; } void click() { Product* product = factory -\u003e CreateProduct(); // å¤šæ€new product-\u003eFunction(); } }; int main() { NewProductAFactory* pa = new NewProductAFactory(); MainFrom* mf = new MainFrom(pa); mf-\u003eclick(); } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:3:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æŠ½è±¡å·¥å‚ #include \u003ciostream\u003e #include \u003cvector\u003e using namespace std; // è®¿é—®æ•°æ®åº“æœ‰å…³åŸºç±» class IDBConnection { }; class IDBCommand { }; class IDataReader { }; class IDBFactory { public: virtual IDBConnection* CreateDBConnection() = 0; virtual IDBCommand* CreateDBCommand()=0; virtual IDataReader* CreateDataReader()=0; }; //æ”¯æŒMYSQL class SqlConnection: public IDBConnection{ }; class SqlCommand: public IDBCommand{ }; class SqlDataReader: public IDataReader{ }; class SqlDBFactory:public IDBFactory{ public: virtual IDBConnection* CreateDBConnection()=0; virtual IDBCommand* CreateDBCommand()=0; virtual IDataReader* CreateDataReader()=0; }; //æ”¯æŒOracle class OracleConnection: public IDBConnection{ }; class OracleCommand: public IDBCommand{ }; class OracleDataReader: public IDataReader{ }; class OracleDBFactory : public IDBFactory { public: virtual IDBConnection* CreateDBConnection() = 0; virtual IDBCommand* CreateDBCommand() = 0; virtual IDataReader* CreateDataReader() = 0; }; class EmployeeDAO { IDBFactory* dbFactory; public: vector\u003cEmployeeDAO\u003e GetEmployees() { // ä»¥ä¸‹æ˜¯ä¼ªä»£ç  å› ä¸ºå¦‚æœæ¯ä¸ªå®ç°å‡ºæ¥è¿˜æŒºéº»çƒ¦ // é‡è¦çš„æ€è·¯å°±æ˜¯ åœ¨ä½ åªéœ€è¦ç”¨ä¸€ä¸ªå·¥å‚ ä½ å°±å¯ä»¥æŠŠè¿™ä¸ªå·¥å‚ä¸‹çš„éƒ½ å¤šæ€newå‡ºæ¥ è¿˜ä¸å¤±å…³è”æ€§ IDBConnection* connection = dbFactory-\u003eCreateDBConnection(); connection-\u003eConnectionString(\"...\"); IDBCommand* command = dbFactory-\u003eCreateDBCommand(); command-\u003eCommandText(\"...\"); command-\u003eSetConnection(connection); //å…³è”æ€§ IDBDataReader* reader = command-\u003eExecuteReader(); //å…³è”æ€§ while (reader-\u003eRead()){ } } }; ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:4:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç­–ç•¥æ¨¡å¼ /* ç­–ç•¥æ¨¡å¼ * eg: è®¡ç®—ä¸åŒå›½å®¶çš„ç¨ * */ #include \u003ciostream\u003e using namespace std; // ç¨çš„åŸºç±» class TaxStrategy { public: // ç¨çš„å…·ä½“ç®—æ³• virtual double Calculate(const double\u0026 Money) = 0; virtual ~TaxStrategy() { }; }; // ä¸­å›½ç¨æ”¶ class CNTax : public TaxStrategy { public: double Calculate(const double\u0026 Money) { return TaxBase * Money; }; private: double TaxBase = 2; }; // å¾·å›½ç¨æ”¶ class GermanyTax : public TaxStrategy { public: double Calculate(const double\u0026 Money) { return TaxBase * Money + 10; } private: double TaxBase = 1.5; }; // å·¥å‚ class NewTaxFactory { public: virtual TaxStrategy* CreateTax() = 0; virtual ~NewTaxFactory() { }; }; class NewCNTaxFactory : public NewTaxFactory { public: virtual TaxStrategy* CreateTax() { return new CNTax(); } }; class NewGermanyTaxFactory { public: virtual TaxStrategy* CreateTax() { return new GermanyTax(); } }; // è®¡ç®—ç¨çš„ç±» class SalesOrder { public: SalesOrder(NewTaxFactory* TaxFactory) { this -\u003e strategy = TaxFactory-\u003eCreateTax(); } ~SalesOrder() { delete this-\u003estrategy; } double CalculateTax() { double Money = 10000; double val = strategy-\u003eCalculate(Money); return val; } private: TaxStrategy* strategy; }; int main() { // ç®—ä¸­å›½ç¨æ”¶ NewCNTaxFactory* CNTax = new NewCNTaxFactory(); SalesOrder* SO = new SalesOrder(CNTax); double val = SO-\u003eCalculateTax(); cout \u003c\u003c val \u003c\u003c endl; return 0; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:5:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è£…é¥°æ¨¡å¼ /* è£…é¥°æ¨¡å¼ * eg: ç”·äººç±» æœ‰å«åŠŸèƒ½ åœ¨å«å®Œä¹‹å éœ€è¦æˆ´å¸½å­å’Œç©¿é‹å­ * */ #include \u003ciostream\u003e using namespace std; class Man { public: void Speak() { cout \u003c\u003c \"ç”·äººä½¿ç”¨äº† å°–å« æŠ€èƒ½\" \u003c\u003c endl; } virtual void Cloth() {}; virtual ~Man() { } }; // è£…é¥°æŠ½è±¡ç±» class ManWithCloth : public Man { public: // æ„é€ å‡½æ•° ManWithCloth(Man* PMan) :PMan(PMan) {} // æµç¨‹ void Cloth() { PMan-\u003eSpeak(); DressUp(); } // ç©¿è¡£æœçš„æ–¹æ³• virtual void DressUp() {} // é‡å†™ææ„å‡½æ•° virtual ~ManWithCloth() { if (PMan != nullptr) { delete PMan; PMan = nullptr; } } private: Man* PMan; }; // é€šè¿‡æŠ½è±¡ç±»å®ç°æˆ´å¸½å­ class ManWearHat : public ManWithCloth { public: ManWearHat(Man* PMan) : ManWithCloth(PMan) {} virtual void DressUp() { cout \u003c\u003c \"ç”·äººå¸¦ä¸Šäº†ç»¿å¸½å­ å¥‡æ€ªçš„å±æ€§å¢åŠ äº†\" \u003c\u003c endl; } }; // é€šè¿‡æŠ½è±¡ç±»å®ç°ç©¿é‹å­ class ManWearShoes : public ManWithCloth { public: ManWearShoes(Man* PMan) : ManWithCloth(PMan) {} virtual void DressUp() { cout \u003c\u003c \"ç”·äººç©¿ä¸Šäº†å°é‹ é˜²å¾¡åŠ›up\" \u003c\u003c endl;} }; // å·¥å‚ class ManFactory { public: virtual Man* CreateMan() { return new Man(); }; virtual ~ManFactory() {}; }; // æŠ½è±¡ç±»å·¥å‚ class ManWithClothFactory { public: virtual ManWithCloth* CreateManWithCloth(Man* PMan) = 0; virtual ~ManWithClothFactory() {}; }; class ManWearHatFactory : public ManWithClothFactory { public: virtual ManWithCloth* CreateManWithCloth(Man* PMan) { return new ManWearHat(PMan); } }; class ManWearShoesFactory : public ManWithClothFactory { public: virtual ManWithCloth* CreateManWithCloth(Man* PMan) { return new ManWearShoes(PMan); } }; int main() { ManFactory* manFactory = new ManFactory(); Man* man = manFactory-\u003eCreateMan(); ManWearHatFactory* manWearHatFactory = new ManWearHatFactory(); ManWearHat a = manWearHatFactory-\u003eCreateManWithCloth(man); a.DressUp(); return 0; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:6:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¡¥æ¨¡å¼ /* * åœºæ™¯: * å‡å¦‚ä½ æœ‰ä¸€ä¸ªå‡ ä½•å½¢çŠ¶(shape)ç±», å¯ä»¥æ‰©å±•å‡ºä¸¤ä¸ªå­ç±»(åœ†å½¢, æ–¹å½¢) * ä½†æ˜¯ä½ åˆæƒ³ç»™æ¯ä¸€ä¸ªå‡ ä½•éƒ½ä¸Šé¢œè‰² æ¯”å¦‚ç°æœ‰(red, blue) * ä½†æ˜¯ï¼Œç”±äºä½ å·²æœ‰ä¸¤ä¸ªå­ç±»ï¼Œæ‰€ä»¥æ€»å…±éœ€è¦åˆ›å»ºå››ä¸ªç±»æ‰èƒ½è¦†ç›–æ‰€æœ‰ç»„åˆï¼Œä¾‹å¦‚è“è‰²åœ†å½¢(BlueCircle)å’Œçº¢è‰²æ–¹å½¢(RedSquare) * * åå¤„: * åœ¨å±‚æ¬¡ç»“æ„ä¸­å’Œé¢œè‰²å°†å¯¼è‡´ä»£ç å¤æ‚ç¨‹åºæŒ‡æ•°å¢é•¿ * ä¾‹å¦‚æ·»åŠ ä¸‰è§’çŠ¶, ä½ éœ€è¦å¢åŠ ä¸¤ä¸ªå­ç±»,ä¹Ÿå°±æ˜¯æ¯ç§é¢œè‰²ä¸€ä¸ª * æ­¤åæ–°å¢ä¸€ç§æ–°é¢œè‰²å°±éœ€è¦æ–°å¢ä¸‰ä¸ªå­ç±» * æ»¡æ»¡çš„å­ç±»æ•°ç›®å°†ä¼šæ€¥å‰§è†¨èƒ€ * * å¯ä»¥åˆ©ç”¨æ¡¥æ¨¡å¼å»æ”¹å–„è¿™ä¸ªåå¤„ å¹¶å°è£…å˜åŒ– */ #include \u003ciostream\u003e using namespace std; class Color { public: virtual void Draw() = 0; }; // çº¢è‰² class Red : public Color { public: void Draw() { cout \u003c\u003c \"çº¢è‰²\" \u003c\u003c endl; } }; // è“è‰² class Blue : public Color { public: void Draw() { cout \u003c\u003c \"è“è‰²\" \u003c\u003c endl; } }; class Shape { public: Shape(Color* c): color(c) {}; virtual void Self() = 0; protected: Color* color; }; // åœ†å½¢ class Cyclo : public Shape { public: Cyclo(Color* color) : Shape(color) {}; void Self() { cout \u003c\u003c \"æˆ‘æ˜¯åœ†å½¢\" \u003c\u003c endl; color-\u003eDraw(); } }; // æ–¹å½¢ class Square : public Shape { public: void Self() { cout \u003c\u003c \"æˆ‘æ˜¯æ–¹å½¢\" \u003c\u003c color \u003c\u003c endl; color-\u003eDraw(); } }; int main() { Red* red = new Red(); Cyclo* c = new Cyclo(red); c-\u003eSelf(); return 0; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:7:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŸå‹æ¨¡å¼ class MainForm : public Form { ISplitter* prototype;//åŸå‹å¯¹è±¡ public: MainForm(ISplitter* prototype){ this-\u003eprototype=prototype; } void Button1_Click(){ ISplitter * splitter= prototype-\u003eclone(); //å…‹éš†åŸå‹ splitter-\u003esplit(); } }; //å…·ä½“ç±» class BinarySplitter : public ISplitter{ public: virtual ISplitter* clone(){ return new BinarySplitter(*this); } }; class TxtSplitter: public ISplitter{ public: virtual ISplitter* clone(){ return new TxtSplitter(*this); } }; class PictureSplitter: public ISplitter{ public: virtual ISplitter* clone(){ return new PictureSplitter(*this); } }; class VideoSplitter: public ISplitter{ public: virtual ISplitter* clone(){ return new VideoSplitter(*this); } }; //æŠ½è±¡ç±» class ISplitter{ public: virtual void split()=0; virtual ISplitter* clone()=0; //é€šè¿‡å…‹éš†è‡ªå·±æ¥åˆ›å»ºå¯¹è±¡ virtual ~ISplitter(){} }; ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:8:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å•ä¾‹æ¨¡å¼ /* * å•ä¾‹æ¨¡å¼ * \"å•ä¾‹æ¨¡å¼\" æ˜¯ \"æ€§èƒ½ä¼˜åŒ–\" çš„ä½œç”¨ å…¨ç¨‹ä¸‹åªå­˜åœ¨ä¸€ä¸ªå®ä¾‹ * åœ¨å†…éƒ¨ä¼šæä¾›ä¸€ä¸ªä¾›å¤–æ¥è®¿é—®çš„æ¥å£ * ä»–æ˜¯å°†å…¶æ„é€ å‡½æ•°å’Œæ‹·è´æ„é€ å‡½æ•°è®¾ä¸ºç§æœ‰ * å®ƒåˆ†ä¸ºé¥¿æ±‰æ¨¡å¼å’Œæ‡’æ±‰æ¨¡å¼ * æ‡’æ±‰æ¨¡å¼ ç”±äºç”¨åˆ°å®ä¾‹æ‰ä¼šå®ä¾‹åŒ– æ‰€ä»¥éœ€è¦æ³¨æ„çº¿ç¨‹å®‰å…¨ * é¥¿æ±‰æ¨¡å¼ ç”±äºä¸€å¼€å§‹ç›´æ¥å®ä¾‹åŒ– ä¸éœ€è¦æ³¨æ„çº¿ç¨‹å®‰å…¨ ä½†æ˜¯è¦æ³¨æ„è¿”å›ä¸€ä¸ªæŒ‡é’ˆå®ä¾‹ * */ //*********************************æ‡’æ±‰********************************* // ç®€å•å®ç° class Singleton { private: Singleton(); Singleton(const Singleton\u0026 other); public: static Singleton* getInstance(); static Singleton* m_instance; }; Singleton* Singleton::m_instance = nullptr; //çº¿ç¨‹éå®‰å…¨ç‰ˆæœ¬ Singleton* Singleton::getInstance() { if (m_instance == nullptr) { m_instance = new Singleton(); } return m_instance; } //åŒæ£€æŸ¥é”ï¼Œä½†ç”±äºå†…å­˜è¯»å†™reorderä¸å®‰å…¨ Singleton* Singleton::getInstance() { if(m_instance==nullptr){ Lock lock; if (m_instance == nullptr) { m_instance = new Singleton(); } } return m_instance; } //*******************************************é¥¿æ±‰********************************* class Singleton { private: Singleton() {} static Singleton instance; //é™æ€å˜é‡åªä¼šæœ‰ä¸€ä»½æ•°æ®å­˜åœ¨ ä»è€Œä¿è¯åªæœ‰ä¸€ä¸ªå®ä¾‹ public: static Singleton* GetInstance() { return \u0026instance; } } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:9:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"äº«å…ƒæ¨¡å¼ /* FileName: flyweight.h * Author: ting * Detail: { * 1. äº«å…ƒæ¨¡å¼ç¤ºä¾‹ * 2. flyweightæ¨¡å¼ è·Ÿ å•ä¾‹æ¨¡å¼ çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ éƒ½æ˜¯æ€§èƒ½ä¼˜åŒ– ä¸ºäº†å‡å°‘å¯¹è±¡çš„å®ä¾‹ä¸ªæ•° * } * */ #include \u003ciostream\u003e #include\u003cstring\u003e #include\u003cmap\u003e using namespace std; //ç”¨æˆ·ç±» ç”¨æˆ·ç½‘ç«™çš„å®¢æˆ·è´¦å·ï¼Œæ˜¯\"ç½‘ç«™\"ç±»çš„å¤–éƒ¨çŠ¶æ€ class User { private: string m_name; public: User(string name) { m_name = name; } std::string GetName() { return m_name; } }; //æŠ½è±¡ç½‘ç«™ç±» å®šä¹‰å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€åŠå…¶å¯¹åº”çš„æ–¹æ³• class WebSite { public: virtual ~WebSite() = default; virtual void Use(User user) = 0; }; //æ­¤å¤„ä¸ºå…·ä½“ç½‘ç«™ç±» å®ç°æŠ½è±¡äº«å…ƒè§’è‰²çš„æ–¹æ³•ï¼Œåœ¨å…·ä½“çš„è§’è‰²ä¸­ï¼Œå®ç°å…·ä½“æ–¹æ³•æ—¶éœ€è¦æ³¨æ„å°†å†…éƒ¨çŠ¶æ€ä¸å¤–éƒ¨çŠ¶æ€åŒºåˆ†å¼€ï¼Œä¸åº”å‡ºç°äºŒè€…åŒæ—¶è¢«ä¿®æ”¹çš„æ–¹æ³•ã€‚ class ConcreteWebSite :public WebSite { private: string m_name; public: ConcreteWebSite(std::string name) { m_name = name; } void Use(User user)override { cout \u003c\u003c \"ç½‘ç«™åˆ†ç±»ï¼š\" \u003c\u003c m_name \u003c\u003c \" ç”¨æˆ·ï¼š\" + user.GetName() \u003c\u003c endl; } }; //æ­¤å¤„ä¸ºç½‘ç«™å·¥ç¨‹ç±» è´Ÿè´£åˆ›å»ºå’Œç®¡ç†äº«å…ƒè§’è‰²ã€‚å½“å®¢æˆ·å¯¹è±¡è¯·æ±‚ä¸€ä¸ªäº«å…ƒå¯¹è±¡æ—¶ï¼Œäº«å…ƒå·¥å‚æ£€æŸ»ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨ç¬¦åˆè¦æ±‚çš„äº«å…ƒå¯¹è±¡ï¼Œ //å¦‚æœå­˜åœ¨åˆ™æä¾›ç»™å®¢æˆ·ï¼›å¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº«å…ƒå¯¹è±¡ã€‚ class WebSiteFactory { private: std::map\u003cstd::string, WebSite*\u003e flyweights; public: ~WebSiteFactory() { for (auto it = flyweights.begin(); it != flyweights.end(); ++it) delete it-\u003esecond; } WebSite* GetWebSiteCategory(string key) { for (auto it = flyweights.begin(); it != flyweights.end(); ++it) { if (it-\u003efirst == key) return it-\u003esecond; } WebSite* website = new ConcreteWebSite(key); flyweights.insert(pair\u003cstd::string, WebSite*\u003e(key, website)); return website; } int GetWebSiteCount() { return flyweights.size(); } }; int main() { WebSiteFactory f; WebSite* fx = f.GetWebSiteCategory(\"äº§å“å±•ç¤º\"); fx-\u003eUse(User(\"å°èœ\")); WebSite* fy = f.GetWebSiteCategory(\"äº§å“å±•ç¤º\"); fy-\u003eUse(User(\"å¤§é¸Ÿ\")); WebSite* fz = f.GetWebSiteCategory(\"äº§å“å±•ç¤º\"); fz-\u003eUse(User(\"å¨‡å¨‡\")); WebSite* fl = f.GetWebSiteCategory(\"åšå®¢\"); fl-\u003eUse(User(\"è€é¡½ç«¥\")); WebSite* fm = f.GetWebSiteCategory(\"åšå®¢\"); fm-\u003eUse(User(\"æ¡ƒè°·å…­ä»™\")); WebSite* fn = f.GetWebSiteCategory(\"åšå®¢\"); fn-\u003eUse(User(\"å—æµ·é³„ç¥\")); cout \u003c\u003c \"å¾—åˆ°ç½‘ç«™åˆ†ç±»æ€»æ•°ï¼š\" \u003c\u003c f.GetWebSiteCount() \u003c\u003c endl; system(\"pause\"); return 0; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:10:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"çŠ¶æ€æ¨¡å¼ /* Author: ting * Mail: vlicecream520@gmail.com * Detail: ( * 1. çŠ¶æ€æ¨¡å¼ç¤ºä¾‹ * ä¸€ä¸ªç¨‹åºå‘˜ä¼šéšç€ä¸€å¤©çš„ä¸åŒæ—¶é—´å¤„äºä¸åŒçŠ¶æ€ * * 2. çŠ¶æ€æ¨¡å¼é€‚ç”¨äº æ ¹æ®è‡ªå·±çš„çŠ¶æ€å‘ç”Ÿå˜åŒ– è¡Œä¸ºä¹Ÿéšä¹‹å‘ç°å˜åŒ– * ä»–è·Ÿè§‚å¯Ÿè€…æ¨¡å¼ä¸ä¸€æ · è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ æ ¹æ® ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–è€Œå‘ç”Ÿå˜åŒ– * ) * */ #include \u003ciostream\u003e using namespace std; class Work; // çŠ¶æ€æ¥å£ class State { public: // ä¸ work è¡Œä¸ºç›¸å…³çš„å‡½æ•° virtual void WriteProgram(Work *w) = 0; }; // å·¥ä½œç±» class Work { private: // å½“å‰çŠ¶æ€ State* current; // å½“å‰æ—¶é—´ double hour; // å·¥ä½œæ˜¯å¦å®Œæˆ bool taskFinish; public: Work() { taskFinish = false; } // è®¾ç½®/è·å–æ—¶é—´ void SetTime(double hour) { this-\u003ehour = hour; } double GetTime() { return this-\u003ehour; } // è®¾ç½®çŠ¶æ€ void SetState(State *s) { current = s; } // è®¾ç½®å·¥ç¨‹æ˜¯å¦å®Œæˆ void SetFinish() { this-\u003etaskFinish = true; } // è·å–å·¥ä½œæ˜¯å¦å®ŒæˆçŠ¶æ€ bool GetFinish() { return taskFinish; } // work è¡Œä¸º void WriteProgram() { current-\u003eWriteProgram(this); } }; //ä¸‹ç­ä¼‘æ¯çŠ¶æ€ class RestState : public State { public: void WriteProgram(Work *w) { cout \u003c\u003c \"å½“å‰æ—¶é—´:\" \u003c\u003c w-\u003eGetTime() \u003c\u003c \"ç‚¹ å·¥ä½œå®Œæˆï¼Œä¸‹ç­å›å®¶äº†\" \u003c\u003c endl; } }; //ç¡çœ å·¥ä½œçŠ¶æ€ class SleepingState : public State { public: void WriteProgram(Work *w) { cout \u003c\u003c \"å—ä¸äº†äº†,\" \u003c\u003c w-\u003eGetTime() \u003c\u003c \"ç‚¹äº†ï¼Œå…ˆç¡å§\" \u003c\u003c endl; } }; //æ™šä¸Šå·¥ä½œçŠ¶æ€ class EveningState : public State { public: void WriteProgram(Work *w) { //ä»»åŠ¡å®Œæˆäº†ï¼Œå¯ä»¥ä¼‘æ¯äº† if(w-\u003eGetFinish()) { w-\u003eSetState(new RestState()); w-\u003eWriteProgram(); } else { if(w-\u003eGetTime()\u003c21) { cout \u003c\u003c \"å½“å‰æ—¶é—´:\" \u003c\u003c w-\u003eGetTime() \u003c\u003c \"ç‚¹ åŠ ç­äº†ï¼Œç–²æƒ«è‡³æ\" \u003c\u003c endl; } else { //æ‰¾è¿‡21ç‚¹ w-\u003eSetState(new SleepingState()); w-\u003eWriteProgram(); } } } }; //ä¸‹åˆå·¥ä½œçŠ¶æ€ class AfternoonState : public State { public: void WriteProgram(Work *w) { if(w-\u003eGetTime()\u003c17) { cout \u003c\u003c \"å½“å‰æ—¶é—´:\" \u003c\u003c w-\u003eGetTime() \u003c\u003c \"ç‚¹ çŠ¶æ€è¿˜ä¸é”™ï¼Œç»§ç»­åŠªåŠ›\" \u003c\u003c endl; } else { w-\u003eSetState(new EveningState()); w-\u003eWriteProgram(); } } }; //ä¸­åˆå·¥ä½œçŠ¶æ€ class NoonState : public State { public: void WriteProgram(Work *w) { if (w-\u003eGetTime()\u003c13) cout\u003c\u003c\"å½“å‰æ—¶é—´:\"\u003c\u003cw-\u003eGetTime()\u003c\u003c\"ç‚¹ é¥¿äº†ï¼Œåˆé¥­:çŠ¯å›°ï¼Œåˆä¼‘\"\u003c\u003cendl; else { w-\u003eSetState(new AfternoonState()); w-\u003eWriteProgram(); } } }; //ä¸Šåˆå·¥ä½œçŠ¶æ€ class ForenoonState : public State { public: void WriteProgram(Work *w) { if(w-\u003eGetTime()\u003c12) cout\u003c\u003c\"å½“å‰æ—¶é—´:\"\u003c\u003cw-\u003eGetTime()\u003c\u003c\"ç‚¹ ä¸Šåˆå·¥ä½œï¼Œç²¾ç¥ç™¾å€\"\u003c\u003cendl; else { w-\u003eSetState(new NoonState()); w-\u003eWriteProgram(); } } }; void main() { //ç´§æ€¥é¡¹ç›® Work *emergencyProjects = new Work(); emergencyProjects-\u003eSetState(new ForenoonState()); emergencyProjects-\u003eSetTime(9); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(10); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(12); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(14); emergencyProjects-\u003eWriteProgram(); //å®Œæˆå·¥ä½œï¼Œä¸éœ€è¦å†åŠ ç­äº† //emergencyProjects-\u003eSetFinish(); emergencyProjects-\u003eSetTime(19); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(22); emergencyProjects-\u003eWriteProgram(); } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:11:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç»„åˆæ¨¡å¼ /* Author: ting * Date: 2022-08-14 * Detail: ç»„åˆæ¨¡å¼ç¤ºä¾‹ * å°†å¤šä¸ªå¯¹è±¡ä¾æ®æ ‘å½¢ç»“æ„çœ‹ä¸ºä¸€ä¸ªæ•´ä½“ å®ç° \"éƒ¨åˆ† - æ•´ä½“\"çš„æ•ˆæœ * 1. æŠ½è±¡ç¤ºä¾‹(Component)è§’è‰²: ä»–çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†æ ‘å¶æ„ä»¶å£°æ˜å…¬å…±æ¥å£, å¹¶å®ç°ä»–ä»¬çš„é»˜è®¤è¡Œä¸º * 2. æ ‘å¶æ„ä»¶(Composite)è§’è‰²: æ˜¯ç»„åˆä¸­çš„åˆ†æ”¯èŠ‚ç‚¹å¯¹è±¡, ä»–æœ‰å­ç»“ç‚¹, ç”¨äºç»§æ‰¿å’Œå®ç°æŠ½è±¡æ„ä»¶ * ä¸»è¦ä½œç”¨æ˜¯å­˜å‚¨å’Œç®¡ç†å­éƒ¨ä»¶ é€šå¸¸åŒ…å« Add() Remove() GetChild() ç­‰æ–¹æ³• * 3. æ ‘å¶æ„ä»¶(Leaf)è§’è‰²: æ˜¯ç»„åˆä¸­çš„å¶èŠ‚ç‚¹å¯¹è±¡, ä»–æ²¡æœ‰å­èŠ‚ç‚¹, ç”¨äºç»§æ‰¿å’Œå®ç°æŠ½è±¡æ„ä»¶ * */ // è®¡æ•° class Counter { public: virtual ~Counter() {}; virtual int Count() = 0; }; // æ ‘å¶æ„ä»¶ class City : public Counter { public: City(int sum) : sum(sum) { }; int Count() override { return sum; } private: int sum; }; // æ ‘ææ„ä»¶ class Composite : public Counter { public: ~Composite() { for (auto\u0026 counter : counters) { delete counter; } } void add(Counter* counter) { counters.push_back(counter); } void del(Counter* counter) { auto it = find(counters.begin(), counters.end(), counter); counters.erase(it); } int count() { int sum = 0; for (const auto\u0026 counter : counters) { sum += counter-\u003ecount(); } return sum; } private: vector\u003cCounter*\u003e counters; }; // ä½¿ç”¨ï¼šç»Ÿè®¡äººå£æ•°é‡ int main() { Composite* china = new Composite(); City* beijing = new City(100000); // ç›´è¾–å¸‚ City* shanghai = new City(50000); // ç›´è¾–å¸‚ china-\u003eadd(beijing); china-\u003eadd(shanghai); Composite* shanxi = new Composite(); shanxi-\u003eadd(new City(3000)); // å¤§åŒå¸‚ shanxi-\u003eadd(new City(2000)); // å¤ªåŸå¸‚ china-\u003eadd(shanxi); cout \u003c\u003c china-\u003ecount() \u003c\u003c endl; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/:12:0","tags":["ç¤ºä¾‹c++ä»£ç "],"title":"ç¤ºä¾‹c++ä»£ç ","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%A4%BA%E4%BE%8Bc-%E4%BB%A3%E7%A0%81/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-é€‚é…å™¨","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/","tags":["é€‚é…å™¨"],"title":"é€‚é…å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"é€‚é…å™¨ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/:0:0","tags":["é€‚é…å™¨"],"title":"é€‚é…å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¥å£éš”ç¦»æ¨¡å¼ ä»€ä¹ˆæ˜¯æ¥å£éš”ç¦» åœ¨ç»„ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›æ¥å£ä¹‹é—´ç›´æ¥çš„ä¾èµ– å¸¸å¸¸ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ ç”šè‡³æ ¹æœ¬æ— æ³•å®ç° é‡‡ç”¨æ·»åŠ ä¸€å±‚é—´æ¥(ç¨³å®š)æ¥å£, æ¥éš”ç¦»æœ¬æ¥äº’ç›¸ç´§å¯†å…³è”çš„æ¥å£æ˜¯ä¸€ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆ å…¸å‹æ¨¡å¼ FaÃ§ade Proxy Mediator Adapter ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/:1:0","tags":["é€‚é…å™¨"],"title":"é€‚é…å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶ç³»ç»Ÿä¸­, ç”±äºåº”ç”¨ç¯å¢ƒçš„å˜åŒ–, å¸¸å¸¸éœ€è¦å°†\"ä¸€äº›ç°å­˜çš„å¯¹è±¡\"æ”¾åœ¨æ–°çš„ç¯å¢ƒä¸­åº”ç”¨, ä½†æ˜¯æ–°ç¯å¢ƒè¦æ±‚çš„æ¥å£æ˜¯è¿™äº›ç°å­˜å¯¹è±¡æ‰€ä¸æ»¡è¶³çš„ å¦‚ä½•åº”å¯¹è¿™ç§\"è¿ç§»çš„å˜åŒ–\"? å¦‚ä½•æ—¢èƒ½åˆ©ç”¨ç°æœ‰å¯¹è±¡çš„è‰¯å¥½å®ç°, åŒæ—¶åˆèƒ½æ»¡è¶³æ–°çš„åº”ç”¨ç¯å¢ƒæ‰€è¦æ±‚çš„æ¥å£? ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/:2:0","tags":["é€‚é…å™¨"],"title":"é€‚é…å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å°†ä¸€ä¸ªç±»çš„æ¥å£è½¬æ¢æˆå®¢æˆ·å¸Œæœ›çš„å¦ä¸€ä¸ªæ¥å£ Adapteræ¨¡å¼ä½¿å¾—ç”±äºæ¥å£ä¸å…¼å®¹è€Œä¸èƒ½ä¸€èµ·å·¥ä½œçš„é‚£äº›ç±»å¯ä»¥ä¸€èµ·å·¥ä½œ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/:3:0","tags":["é€‚é…å™¨"],"title":"é€‚é…å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ Adapteræ¨¡å¼ä¸»è¦åº”ç”¨äº\"å¸Œæœ›å¤ç”¨ä¸€äº›ç°å­˜çš„ç±», ä½†æ˜¯æ¥å£åˆä¸å¤ç”¨ç¯å¢ƒè¦æ±‚ä¸ä¸€è‡´çš„æƒ…å†µ\", åœ¨é—ç•™ä»£ç å¤ç”¨ã€ç±»åº“è¿ç§»ç­‰æ–¹é¢éå¸¸æœ‰ç”¨ GoF 23 å®šä¹‰äº†ä¸¤ç§Adapteræ¨¡å¼çš„å®ç°ç»“æ„, å¯¹è±¡é€‚é…å™¨å’Œç±»é€‚é…å™¨ ä¸æ¨èä½¿ç”¨ç±»é€‚é…å™¨ å› ä¸ºç±»é€‚é…å™¨ç”¨çš„æ˜¯å¤šç»§æ‰¿çš„æ–¹æ³• æ¨èä½¿ç”¨å¯¹è±¡é€‚é…å™¨ å› ä¸ºå¯¹è±¡é€‚é…å™¨ä½¿ç”¨çš„ç»„åˆæ–¹æ³• Adapteræ¨¡å¼çš„ä½¿ç”¨éå¸¸çµæ´», ä¸å¿…æ‹˜æ³¥äºä¸Šè¿°ä¸¤ç§æ¨¡å¼ ä¾‹å¦‚ å®Œå…¨å¯ä»¥å°†Adapteræ¨¡å¼ä¸­çš„ç°å­˜å¯¹è±¡ä½œä¸ºæ–°çš„æ¥å£æ–¹æ³•å‚æ•°, æ¥è¾¾åˆ°é€‚é…çš„ç›®çš„ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/:4:0","tags":["é€‚é…å™¨"],"title":"é€‚é…å™¨","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E9%80%82%E9%85%8D%E5%99%A8/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-äº«å…ƒæ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/","tags":["äº«å…ƒæ¨¡å¼"],"title":"äº«å…ƒæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"äº«å…ƒæ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/:0:0","tags":["äº«å…ƒæ¨¡å¼"],"title":"äº«å…ƒæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¯¹è±¡æ€§èƒ½æ¨¡å¼ ä»€ä¹ˆæ˜¯å¯¹è±¡æ€§èƒ½ é¢å‘å¯¹è±¡å¾ˆå¥½çš„è§£å†³äº†\"æŠ½è±¡\"çš„é—®é¢˜, ä½†æ˜¯å¿…ä¸å¯å…çš„è¦ä»˜å‡ºä¸€å®šçš„ä»£ä»·ï¼Œå¯¹äºé€šå¸¸æƒ…å†µæ¥è®², é¢å‘å¯¹è±¡çš„æˆæœ¬å¤§éƒ½å¯ä»¥å¿½ç•¥ä¸è®¡ï¼Œä½†æ˜¯æŸäº›æƒ…å†µ, é¢å‘å¯¹è±¡æ‰€å¸¦æ¥çš„æˆæœ¬å¿…é¡»è°¨æ…å¤„ç† å…¸å‹æ¨¡å¼ Singleton Flyweight ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/:1:0","tags":["äº«å…ƒæ¨¡å¼"],"title":"äº«å…ƒæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"äº«å…ƒæ¨¡å¼åŠ¨æœº åœ¨è½¯ä»¶ç³»ç»Ÿé‡‡ç”¨çº¯ç²¹å¯¹è±¡æ–¹æ¡ˆçš„é—®é¢˜åœ¨äºå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ä¼šå¾ˆå¿«å……æ–¥åœ¨ç³»ç»Ÿä¸­ï¼Œ ä»è€Œå¸¦æ¥å¾ˆé«˜çš„è¿è¡Œæ—¶ä»£ä»·â€“ä¸»è¦æŒ‡å†…å­˜éœ€æ±‚æ–¹é¢çš„ä»£ä»·. å¦‚ä½•åœ¨é¿å…å¤§é‡ç»†ç²’åº¦å¯¹è±¡é—®é¢˜çš„åŒæ—¶, è®©å¤–éƒ¨å®¢æˆ·ç¨‹åºä»ç„¶èƒ½å¤Ÿé€æ˜çš„ä½¿ç”¨é¢å‘å¯¹è±¡çš„æ–¹å¼æ¥è¿›è¡Œæ“ä½œ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/:2:0","tags":["äº«å…ƒæ¨¡å¼"],"title":"äº«å…ƒæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¼”ç¤ºä»£ç  /* FileName: flyweight.h * Author: ting * Detail: { * 1. äº«å…ƒæ¨¡å¼ç¤ºä¾‹ * 2. flyweightæ¨¡å¼ è·Ÿ å•ä¾‹æ¨¡å¼ çš„ä½œç”¨æ˜¯ä¸€æ ·çš„ éƒ½æ˜¯æ€§èƒ½ä¼˜åŒ– ä¸ºäº†å‡å°‘å¯¹è±¡çš„å®ä¾‹ä¸ªæ•° * } * */ #include \u003ciostream\u003e #include\u003cstring\u003e #include\u003cmap\u003e using namespace std; //ç”¨æˆ·ç±» ç”¨æˆ·ç½‘ç«™çš„å®¢æˆ·è´¦å·ï¼Œæ˜¯\"ç½‘ç«™\"ç±»çš„å¤–éƒ¨çŠ¶æ€ class User { private: string m_name; public: User(string name) { m_name = name; } std::string GetName() { return m_name; } }; //æŠ½è±¡ç½‘ç«™ç±» å®šä¹‰å¯¹è±¡çš„å†…éƒ¨çŠ¶æ€å’Œå¤–éƒ¨çŠ¶æ€åŠå…¶å¯¹åº”çš„æ–¹æ³• class WebSite { public: virtual ~WebSite() = default; virtual void Use(User user) = 0; }; //æ­¤å¤„ä¸ºå…·ä½“ç½‘ç«™ç±» å®ç°æŠ½è±¡äº«å…ƒè§’è‰²çš„æ–¹æ³•ï¼Œåœ¨å…·ä½“çš„è§’è‰²ä¸­ï¼Œå®ç°å…·ä½“æ–¹æ³•æ—¶éœ€è¦æ³¨æ„å°†å†…éƒ¨çŠ¶æ€ä¸å¤–éƒ¨çŠ¶æ€åŒºåˆ†å¼€ï¼Œä¸åº”å‡ºç°äºŒè€…åŒæ—¶è¢«ä¿®æ”¹çš„æ–¹æ³•ã€‚ class ConcreteWebSite :public WebSite { private: string m_name; public: ConcreteWebSite(std::string name) { m_name = name; } void Use(User user)override { cout \u003c\u003c \"ç½‘ç«™åˆ†ç±»ï¼š\" \u003c\u003c m_name \u003c\u003c \" ç”¨æˆ·ï¼š\" + user.GetName() \u003c\u003c endl; } }; //æ­¤å¤„ä¸ºç½‘ç«™å·¥ç¨‹ç±» è´Ÿè´£åˆ›å»ºå’Œç®¡ç†äº«å…ƒè§’è‰²ã€‚å½“å®¢æˆ·å¯¹è±¡è¯·æ±‚ä¸€ä¸ªäº«å…ƒå¯¹è±¡æ—¶ï¼Œäº«å…ƒå·¥å‚æ£€æŸ»ç³»ç»Ÿä¸­æ˜¯å¦å­˜åœ¨ç¬¦åˆè¦æ±‚çš„äº«å…ƒå¯¹è±¡ï¼Œ //å¦‚æœå­˜åœ¨åˆ™æä¾›ç»™å®¢æˆ·ï¼›å¦‚æœä¸å­˜åœ¨çš„è¯ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„äº«å…ƒå¯¹è±¡ã€‚ class WebSiteFactory { private: std::map\u003cstd::string, WebSite*\u003e flyweights; public: ~WebSiteFactory() { for (auto it = flyweights.begin(); it != flyweights.end(); ++it) delete it-\u003esecond; } WebSite* GetWebSiteCategory(string key) { for (auto it = flyweights.begin(); it != flyweights.end(); ++it) { if (it-\u003efirst == key) return it-\u003esecond; } WebSite* website = new ConcreteWebSite(key); flyweights.insert(pair\u003cstd::string, WebSite*\u003e(key, website)); return website; } int GetWebSiteCount() { return flyweights.size(); } }; int main() { WebSiteFactory f; WebSite* fx = f.GetWebSiteCategory(\"äº§å“å±•ç¤º\"); fx-\u003eUse(User(\"å°èœ\")); WebSite* fy = f.GetWebSiteCategory(\"äº§å“å±•ç¤º\"); fy-\u003eUse(User(\"å¤§é¸Ÿ\")); WebSite* fz = f.GetWebSiteCategory(\"äº§å“å±•ç¤º\"); fz-\u003eUse(User(\"å¨‡å¨‡\")); WebSite* fl = f.GetWebSiteCategory(\"åšå®¢\"); fl-\u003eUse(User(\"è€é¡½ç«¥\")); WebSite* fm = f.GetWebSiteCategory(\"åšå®¢\"); fm-\u003eUse(User(\"æ¡ƒè°·å…­ä»™\")); WebSite* fn = f.GetWebSiteCategory(\"åšå®¢\"); fn-\u003eUse(User(\"å—æµ·é³„ç¥\")); cout \u003c\u003c \"å¾—åˆ°ç½‘ç«™åˆ†ç±»æ€»æ•°ï¼š\" \u003c\u003c f.GetWebSiteCount() \u003c\u003c endl; system(\"pause\"); return 0; } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/:3:0","tags":["äº«å…ƒæ¨¡å¼"],"title":"äº«å…ƒæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ è¿ç”¨å…±äº«æŠ€æœ¯æœ‰æ•ˆçš„æ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/:4:0","tags":["äº«å…ƒæ¨¡å¼"],"title":"äº«å…ƒæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ é¢å‘å¯¹è±¡å¾ˆå¥½çš„è§£å†³äº†æŠ½è±¡æ€§çš„é—®é¢˜ï¼Œ ä½†æ˜¯ä½œä¸ºä¸€ä¸ªè¿è¡Œåœ¨æœºå™¨ä¸­çš„ç¨‹åºå®ä½“, æˆ‘ä»¬éœ€è¦è€ƒè™‘å¯¹è±¡çš„ä»£ä»·é—®é¢˜ï¼ŒFlyweightä¸»è¦è§£å†³é¢å‘å¯¹è±¡çš„ä»£ä»·é—®é¢˜, ä¸€èˆ¬ä¸è§¦åŠé¢å‘å¯¹è±¡çš„æŠ½è±¡æ€§é—®é¢˜ Flyweighté‡‡ç”¨å¯¹è±¡å…±äº«çš„åšæ³•æ¥é™ä½ç³»ç»Ÿä¸­å¯¹è±¡çš„ä¸ªæ•°, ä»è€Œé™ä½ç»†ç²’åº¦å¯¹è±¡ç»™ç³»ç»Ÿå¸¦æ¥çš„å†…å­˜å‹åŠ›ï¼Œåœ¨å…·ä½“å®ç°æ–¹é¢, è¦æ³¨æ„å¯¹è±¡çŠ¶æ€çš„å¤„ç† å¯¹è±¡çš„æ•°é‡å¤ªå¤§ä»è€Œå¯¼è‡´å¯¹è±¡å†…å­˜å¼€é”€åŠ å¤§â€”ä»€ä¹ˆæ ·çš„æ•°é‡æ‰ç®—å¤§ï¼Ÿè¿™éœ€è¦æˆ‘ä»¬ä»”ç»†çš„æ ¹æ®å…·ä½“åº”ç”¨æƒ…å†µè¿›è¡Œè¯„ä¼°, è€Œä¸èƒ½å‡­ç©ºè‡†æ–­ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/:5:0","tags":["äº«å…ƒæ¨¡å¼"],"title":"äº«å…ƒæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%BA%AB%E5%85%83%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-åŸå‹æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŸå‹æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/:0:0","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å¯¹è±¡åˆ›å»ºæ¨¡å¼ ä»€ä¹ˆæ˜¯å¯¹è±¡åˆ›å»º é€šè¿‡å¯¹è±¡åˆ›å»ºæ¨¡å¼ï¼Œç»•å¼€newï¼Œæ¥é¿å…å¯¹è±¡åˆ›å»º(new)è¿‡ç¨‹ä¸­æ‰€å¯¼è‡´çš„ç´§è€¦åˆ(ä¾èµ–å…·ä½“ç±»)ä»è€Œæ”¯æŒå¯¹è±¡åˆ›å»º ä»–æ˜¯æ¥å£æŠ½è±¡ä¹‹åçš„ç¬¬ä¸€æ­¥å·¥ä½œ å…¸å‹æ¨¡å¼ Factory Method Abstract Factory Prototype Builder ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/:1:0","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŸå‹åŠ¨æœº åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œç»å¸¸é¢ä¸´ç€\"æŸäº›æ¥å£å¤æ‚çš„å¯¹è±¡\"çš„åˆ›å»ºå·¥ä½œï¼Œç”±äºéœ€æ±‚çš„å˜åŒ–, è¿™äº›å¯¹è±¡ç»å¸¸é¢ä¸´ç€å‰§çƒˆçš„å˜åŒ–, ä½†æ˜¯ä»–ä»¬å´æ‹¥æœ‰æ¯”è¾ƒç¨³å®šä¸€è‡´çš„æ¥å£ å¦‚ä½•åº”å¯¹è¿™ç§å˜åŒ–? å¦‚ä½•å‘å®¢æˆ·ç¨‹åº(ä½¿ç”¨è¿™äº›å¯¹è±¡çš„ç¨‹åº)éš”ç¦»å‡º â€œè¿™äº›æ˜“å˜å¯¹è±¡â€, ä»è€Œä½¿å¾—\"ä¾èµ–è¿™äº›æ˜“å˜å¯¹è±¡çš„å®¢æˆ·ç¨‹åº\"ä¸éšç€éœ€æ±‚æ”¹å˜è€Œæ”¹å˜ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/:2:0","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åœ¨å·¥å‚æ–¹æ³•é‡æ„çš„åŸºç¡€ä¸Šå†æ¬¡ç”¨åŸå‹æ¨¡å¼é‡æ„çš„ä»£ç  class MainForm : public Form { ISplitter* prototype;//åŸå‹å¯¹è±¡ public: MainForm(ISplitter* prototype){ this-\u003eprototype=prototype; } void Button1_Click(){ ISplitter * splitter= prototype-\u003eclone(); //å…‹éš†åŸå‹ splitter-\u003esplit(); } }; //å…·ä½“ç±» class BinarySplitter : public ISplitter{ public: virtual ISplitter* clone(){ return new BinarySplitter(*this); } }; class TxtSplitter: public ISplitter{ public: virtual ISplitter* clone(){ return new TxtSplitter(*this); } }; class PictureSplitter: public ISplitter{ public: virtual ISplitter* clone(){ return new PictureSplitter(*this); } }; class VideoSplitter: public ISplitter{ public: virtual ISplitter* clone(){ return new VideoSplitter(*this); } }; //æŠ½è±¡ç±» class ISplitter{ public: virtual void split()=0; virtual ISplitter* clone()=0; //é€šè¿‡å…‹éš†è‡ªå·±æ¥åˆ›å»ºå¯¹è±¡ virtual ~ISplitter(){} }; ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/:3:0","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ ä½¿ç”¨åŸå‹å®ä¾‹æŒ‡å®šåˆ›å»ºå¯¹è±¡çš„ç§ç±»ï¼Œç„¶åé€šè¿‡æ‹·è´è¿™äº›åŸå‹æ¥åˆ›å»ºæ–°çš„å¯¹è±¡ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/:4:0","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç±»å›¾ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/:5:0","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ prototypeæ¨¡å¼åŒæ ·ç”¨è¯­éš”ç¦»ç±»å¯¹è±¡çš„ä½¿ç”¨è€…å’Œå…·ä½“ç±»å‹(æ˜“å˜ç±»)ä¹‹é—´çš„è€¦åˆå…³ç³», ä»–åŒæ ·è¦æ±‚è¿™äº›\"æ˜“å˜ç±»\"æ‹¥æœ‰\"ç¨³å®šçš„æ¥å£\" prototypeæ¨¡å¼å¯¹äº\"å¦‚ä½•åˆ›å»ºæ˜“å˜ç±»çš„å®ä½“å¯¹è±¡\"é‡‡ç”¨\"åŸå‹å…‹éš†\"çš„æ–¹æ³•æ¥åšã€‚ ä»–ä½¿å¾—æˆ‘ä»¬å¯ä»¥éå¸¸çµæ´»çš„åŠ¨æ€åˆ›å»º\"æ‹¥æœ‰æŸäº›ç¨³å®šæ¥å£\"çš„æ–°å¯¹è±¡ï¼Œæ‰€éœ€å·¥ä½œä»…ä»…æ˜¯æ³¨å†Œä¸€ä¸ªæ–°ç±»çš„å¯¹è±¡(å³åŸå‹) ç„¶ååœ¨ä»»ä½•éœ€è¦çš„åœ°æ–¹clone prototypeæ¨¡å¼ä¸­çš„cloneæ–¹æ³•å¯ä»¥åˆ©ç”¨æŸäº›æ¡†æ¶ä¸­çš„åºåˆ—åŒ–æ¥å®ç°æ·±æ‹·è´ c++é‡Œé¢ä¸€èˆ¬éƒ½æ˜¯æ‹·è´æ„é€  æˆ‘ä»¬ä»€ä¹ˆæ—¶å€™ç”¨factory method æˆ–è€… åŸå‹æ¨¡å¼å‘¢ï¼Œç®€å•æ¥è¯´ å°±æ˜¯å¦‚æœç”¨å‡ ä¸ªæ­¥éª¤å°±ç”¨factory methodæ¨¡å¼ï¼Œå¦‚æœå¯¹è±¡å¾ˆå¤æ‚ æœ‰ä¸­é—´çŠ¶æ€ ä½ è¿˜æƒ³ä¿ç•™ä¸­é—´çŠ¶æ€ å°±ç”¨ åŸå‹æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/:6:0","tags":["åŸå‹æ¨¡å¼"],"title":"åŸå‹æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8E%9F%E5%9E%8B%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-èŒè´£é“¾","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/","tags":["èŒè´£é“¾"],"title":"èŒè´£é“¾","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"èŒè´£é“¾ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/:0:0","tags":["èŒè´£é“¾"],"title":"èŒè´£é“¾","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ•°æ®ç»“æ„æ¨¡å¼ ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„æ¨¡å¼ å¸¸å¸¸æœ‰ä¸€äº›ç»„ä»¶åœ¨å†…éƒ¨å…·æœ‰ç‰¹å®šçš„æ•°æ®ç»“æ„, å¦‚æœè®©å®¢æˆ·ç¨‹åºä¾èµ–è¿™äº›ç‰¹å®šçš„æ•°æ®ç»“æ„, å°†æå¤§çš„ç ´åç»„ä»¶çš„å¤ç”¨ å…¸å‹æ¨¡å¼ Composite Iterator Chain of Resposibility ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/:1:0","tags":["èŒè´£é“¾"],"title":"èŒè´£é“¾","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"èŒè´£é“¾å‰è¨€ è¿™ä¸ªæ¨¡å¼ å…¶å®éšç€ç°åœ¨æ•°æ®ç»“æ„çš„å‘å±• ä¹Ÿè¿‡æ—¶äº† ä½†æ˜¯è¿˜æ˜¯è€è¯ æ¨¡å¼è¿‡æ—¶ æ€æƒ³ä¸ä¼šè¿‡æ—¶ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/:2:0","tags":["èŒè´£é“¾"],"title":"èŒè´£é“¾","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, ä¸€ä¸ªè¯·æ±‚å¯èƒ½è¢«å¤šä¸ªå¯¹è±¡å¤„ç†, ä½†æ˜¯æ¯ä¸ªè¯·æ±‚åœ¨è¿è¡Œæ—¶åªèƒ½æœ‰ä¸€ä¸ªæ¥å—è€…ï¼Œå¦‚æœæ˜¾å¼æŒ‡å®š, å°†å¿…ä¸å¯å°‘çš„å¸¦æ¥å‘é€è€…å’Œæ¥å—è€…çš„ç´§è€¦åˆ å¦‚ä½•ä½¿è¯·æ±‚çš„å‘é€è€…ä¸éœ€è¦æŒ‡å®šå…·ä½“çš„æ¥å—è€…? è®©è¯·æ±‚çš„æ¥å—è€…è‡ªå·±åœ¨è¿è¡Œæ—¶å†³å®šæ¥å¤„ç†è¯·æ±‚, ä»è€Œä½¿ä¸¤è€…è§£è—• ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/:3:0","tags":["èŒè´£é“¾"],"title":"èŒè´£é“¾","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚, ä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥å—è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå°†è¿™äº›å¯¹è±¡å½¢æˆä¸€æ¡é“¾è¡¨, å¹¶æ²¿ç€è¿™æ¡é“¾ä¼ é€’è¯·æ±‚, ç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/:4:0","tags":["èŒè´£é“¾"],"title":"èŒè´£é“¾","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ èŒè´£é“¾æ¨¡å¼çš„åº”ç”¨åœºåˆåœ¨äº â€œä¸€ä¸ªè¯·æ±‚å¯èƒ½æœ‰å¤šä¸ªæ¥å—è€…, ä½†æ˜¯æœ€åçœŸæ­£çš„æ¥å—è€…åªæœ‰ä¸€ä¸ªâ€ï¼Œè¿™æ—¶å€™è¯·æ±‚å‘é€è€…ä¸æ¥å—è€…çš„è€¦åˆæœ‰å¯èƒ½å‡ºç°\"å˜åŒ–è„†å¼±\"çš„ç—‡çŠ¶, èŒè´£é“¾çš„ç›®çš„å°±æ˜¯å°†äºŒè€…è§£è—•, ä»è€Œæ›´å¥½çš„åº”å¯¹å˜åŒ– åº”ç”¨äº†èŒè´£é“¾æ¨¡å¼å, å¯¹è±¡çš„èŒè´£åˆ†æ´¾å°†æ›´å…·æœ‰çµæ´»æ€§ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶åŠ¨æ€æ·»åŠ /ä¿®æ”¹è¯·æ±‚çš„å¤„ç†èŒè´£ å¦‚æœè¯·æ±‚ä¼ é€’åˆ°èŒè´£é“¾çš„æœ«å°¾ä»å¾—ä¸åˆ°å¤„ç†, åº”è¯¥æœ‰ä¸€ä¸ªåˆç†çš„ç¼ºçœæœºåˆ¶ï¼Œè¿™ä¹Ÿæ˜¯æ¯ä¸€ä¸ªæ¥å—å¯¹è±¡çš„è´£ä»», è€Œä¸æ˜¯å‘å‡º ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/:5:0","tags":["èŒè´£é“¾"],"title":"èŒè´£é“¾","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%81%8C%E8%B4%A3%E9%93%BE/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-ä¸­ä»‹è€…","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/","tags":["ä¸­ä»‹è€…"],"title":"ä¸­ä»‹è€…","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä¸­ä»‹è€… ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/:0:0","tags":["ä¸­ä»‹è€…"],"title":"ä¸­ä»‹è€…","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¥å£éš”ç¦»æ¨¡å¼ ä»€ä¹ˆæ˜¯æ¥å£éš”ç¦» åœ¨ç»„ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›æ¥å£ä¹‹é—´ç›´æ¥çš„ä¾èµ– å¸¸å¸¸ä¼šå¸¦æ¥å¾ˆå¤šé—®é¢˜ ç”šè‡³æ ¹æœ¬æ— æ³•å®ç° é‡‡ç”¨æ·»åŠ ä¸€å±‚é—´æ¥(ç¨³å®š)æ¥å£, æ¥éš”ç¦»æœ¬æ¥äº’ç›¸ç´§å¯†å…³è”çš„æ¥å£æ˜¯ä¸€ç§å¸¸è§çš„è§£å†³æ–¹æ¡ˆ å…¸å‹æ¨¡å¼ FaÃ§ade Proxy Mediator Adapter ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/:1:0","tags":["ä¸­ä»‹è€…"],"title":"ä¸­ä»‹è€…","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, ç»å¸¸ä¼šå‡ºç°å¤šä¸ªå¯¹è±¡äº’ç›¸å…³è”äº¤äº’çš„æƒ…å†µ, å¯¹è±¡ä¹‹é—´å¸¸å¸¸ä¼šç»´æŒä¸€ç§å¤æ‚çš„å¼•ç”¨å…³ç³»ï¼Œå¦‚æœé‡åˆ°ä¸€äº›éœ€æ±‚çš„æ›´æ”¹, è¿™ç§ç›´æ¥çš„å¼•ç”¨å…³ç³»å°†é¢ä¸´ä¸æ–­çš„å˜åŒ– åœ¨è¿™ç§æƒ…å†µä¸‹, æˆ‘ä»¬å¯ä½¿ç”¨ä¸€ä¸ª\"ä¸­ä»‹å¯¹è±¡\"æ¥ç®¡ç†å¯¹è±¡ä¹‹é—´çš„å…³è”å…³ç³», é¿å…ç›¸äº’äº¤äº’çš„å¯¹è±¡ä¹‹é—´çš„ç´§è€¦åˆå¼•ç”¨å…³ç³», ä»è€ŒæŠµå¾¡å˜åŒ– ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/:2:0","tags":["ä¸­ä»‹è€…"],"title":"ä¸­ä»‹è€…","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ ç”¨ä¸€ä¸ªä¸­ä»‹å¯¹è±¡æ¥å°è£…(å˜åŒ–)ä¸€ç³»åˆ—çš„å¯¹è±¡äº¤äº’ ä¸­ä»‹è€…ä½¿å„å¯¹è±¡ä¸éœ€è¦æ˜¾å¼çš„ç›¸äº’å¼•ç”¨(ç¼–è¯‘æ—¶ä¾èµ– -\u003e è¿è¡Œæ—¶ä¾èµ–), ä»è€Œä½¿å¾—è€¦åˆæ¾æ•£, è€Œä¸”å¯ä»¥ç‹¬ç«‹çš„æ”¹å˜ä»–ä»¬ä¹‹é—´çš„äº¤äº’ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/:3:0","tags":["ä¸­ä»‹è€…"],"title":"ä¸­ä»‹è€…","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ å°†å¤šä¸ªå¯¹è±¡é—´å¤æ‚çš„å…³è”å…³ç³», Mediatoræ¨¡å¼å°†å¤šä¸ªå¯¹è±¡é—´çš„æ§åˆ¶é€»è¾‘è¿›è¡Œé›†ä¸­ç®¡ç† å˜\"å¤šä¸ªå¯¹è±¡äº’ç›¸å…³è”\"ä¸º\"å¤šä¸ªå¯¹è±¡å’Œä¸€ä¸ªä¸­ä»‹è€…å…³è”\", ç®€åŒ–äº†ç³»ç»Ÿçš„ç»´æŠ¤, æŠµå¾¡äº†å¯èƒ½çš„å˜åŒ– éšç€æ§åˆ¶é€»è¾‘çš„å¤æ‚å˜åŒ–, Mediatorå…·ä½“å¯¹è±¡çš„å®ç°å¯èƒ½ç›¸å½“å¤æ‚ï¼Œè¿™ä¸ªæ—¶å€™å¯å¯¹Mediatorå¯¹è±¡è¿›è¡Œåˆ†è§£å¤„ç† Facadeæ¨¡å¼æ˜¯è§£è€¦ç³»ç»Ÿé—´(å•å‘)çš„å¯¹è±¡å…³è”å…³ç³» Mediatoræ¨¡å¼æ˜¯è§£è€¦ç³»ç»Ÿå†…å„ä¸ªå¯¹è±¡é—´(åŒå‘)çš„å…³è”å…³ç³» ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/:4:0","tags":["ä¸­ä»‹è€…"],"title":"ä¸­ä»‹è€…","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E4%B8%AD%E4%BB%8B%E8%80%85/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-è£…é¥°æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è£…é¥°æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/:0:0","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"å•ä¸€èŒè´£æ¨¡å¼ ä»€ä¹ˆæ˜¯å•ä¸€èŒè´£ åœ¨è½¯ä»¶ç»„ä»¶çš„è®¾è®¡ä¸­ï¼Œå¦‚æœè´£ä»»åˆ’åˆ†çš„ä¸æ¸…æ™°ï¼Œä½¿ç”¨ç»§æ‰¿å¾—åˆ°çš„ç»“æœå¾€å¾€æ˜¯éšç€éœ€æ±‚çš„å˜åŒ–ï¼Œå­ç±»æ€¥å‰§è†¨èƒ€ï¼ŒåŒæ—¶å……æ»¡ç€é‡å¤ä»£ç  è¿™æ—¶å€™æœ€å…³é”®æ˜¯åˆ’æ¸…è´£ä»»ï¼Œæ¯ä¸ªç±»å¼•èµ·ä»–å˜åŒ–çš„åŸå› åªæœ‰ä¸€ä¸ª å…¸å‹æ¨¡å¼ Decorator Bridge ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/:1:0","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä½¿ç”¨è£…é¥°æ¨¡å¼åŠ¨æœº åœ¨æŸäº›æƒ…å†µä¸‹æˆ‘ä»¬å¯èƒ½ä¼šâ€œè¿‡åº¦åœ°ä½¿ç”¨ç»§æ‰¿æ¥æ‰©å±•å¯¹è±¡çš„åŠŸèƒ½â€ï¼Œç”±äºç»§æ‰¿ä¸ºç±»å‹å¼•å…¥çš„é™æ€ç‰¹è´¨ï¼Œä½¿å¾—è¿™ç§æ‰©å±•æ–¹å¼ç¼ºä¹çµæ´»æ€§ï¼› å¹¶ä¸”éšç€å­ç±»çš„å¢å¤šï¼ˆæ‰©å±•åŠŸèƒ½çš„å¢å¤šï¼‰ï¼Œå„ç§å­ç±»çš„ç»„åˆï¼ˆæ‰©å±•åŠŸèƒ½çš„ç»„åˆï¼‰ä¼šå¯¼è‡´æ›´å¤šå­ç±»çš„è†¨èƒ€ å¦‚ä½•ä½¿â€œå¯¹è±¡åŠŸèƒ½çš„æ‰©å±•â€èƒ½å¤Ÿæ ¹æ®éœ€è¦æ¥åŠ¨æ€åœ°å®ç°ï¼ŸåŒæ—¶é¿å…â€œæ‰©å±•åŠŸèƒ½çš„å¢å¤šâ€å¸¦æ¥çš„å­ç±»è†¨èƒ€é—®é¢˜ï¼Ÿä»è€Œä½¿å¾—ä»»ä½•â€œåŠŸèƒ½æ‰©å±•å˜åŒ–â€æ‰€å¯¼è‡´çš„å½±å“å°†ä¸ºæœ€ä½ï¼Ÿ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/:2:0","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆå§‹ä»£ç  ç±»å›¾ ä»£ç æ¼”ç¤º //ä¸šåŠ¡æ“ä½œ class Stream{ publicï¼š virtual char Read(int number)=0; virtual void Seek(int position)=0; virtual void Write(char data)=0; virtual ~Stream(){} }; //ä¸»ä½“ç±» class FileStream: public Stream{ public: virtual char Read(int number){ //è¯»æ–‡ä»¶æµ } virtual void Seek(int position){ //å®šä½æ–‡ä»¶æµ } virtual void Write(char data){ //å†™æ–‡ä»¶æµ } }; class NetworkStream :public Stream{ public: virtual char Read(int number){ //è¯»ç½‘ç»œæµ } virtual void Seek(int position){ //å®šä½ç½‘ç»œæµ } virtual void Write(char data){ //å†™ç½‘ç»œæµ } }; class MemoryStream :public Stream{ public: virtual char Read(int number){ //è¯»å†…å­˜æµ } virtual void Seek(int position){ //å®šä½å†…å­˜æµ } virtual void Write(char data){ //å†™å†…å­˜æµ } }; //æ‰©å±•æ“ä½œ class CryptoFileStream :public FileStream{ public: virtual char Read(int number){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... FileStream::Read(number);//è¯»æ–‡ä»¶æµ } virtual void Seek(int position){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... FileStream::Seek(position);//å®šä½æ–‡ä»¶æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } virtual void Write(byte data){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... FileStream::Write(data);//å†™æ–‡ä»¶æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } }; class CryptoNetworkStream : :public NetworkStream{ public: virtual char Read(int number){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... NetworkStream::Read(number);//è¯»ç½‘ç»œæµ } virtual void Seek(int position){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... NetworkStream::Seek(position);//å®šä½ç½‘ç»œæµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } virtual void Write(byte data){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... NetworkStream::Write(data);//å†™ç½‘ç»œæµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } }; class CryptoMemoryStream : public MemoryStream{ public: virtual char Read(int number){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... MemoryStream::Read(number);//è¯»å†…å­˜æµ } virtual void Seek(int position){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... MemoryStream::Seek(position);//å®šä½å†…å­˜æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } virtual void Write(byte data){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... MemoryStream::Write(data);//å†™å†…å­˜æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } }; class BufferedFileStream : public FileStream{ //... }; class BufferedNetworkStream : public NetworkStream{ //... }; class BufferedMemoryStream : public MemoryStream{ //... } class CryptoBufferedFileStream :public FileStream{ public: virtual char Read(int number){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... //é¢å¤–çš„ç¼“å†²æ“ä½œ... FileStream::Read(number); //è¯»æ–‡ä»¶æµ } virtual void Seek(int position){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... //é¢å¤–çš„ç¼“å†²æ“ä½œ... FileStream::Seek(position); //å®šä½æ–‡ä»¶æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... //é¢å¤–çš„ç¼“å†²æ“ä½œ... } virtual void Write(byte data){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... //é¢å¤–çš„ç¼“å†²æ“ä½œ... FileStream::Write(data); //å†™æ–‡ä»¶æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... //é¢å¤–çš„ç¼“å†²æ“ä½œ... } }; void Process(){ //ç¼–è¯‘æ—¶è£…é… CryptoFileStream *fs1 = new CryptoFileStream(); BufferedFileStream *fs2 = new BufferedFileStream(); CryptoBufferedFileStream *fs3 =new CryptoBufferedFileStream(); } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/:3:0","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åˆ©ç”¨ ç»„åˆ é‡æ„ä»£ç  ç±»å›¾ ä»£ç ç¤ºä¾‹ //ä¸šåŠ¡æ“ä½œ class Stream{ public: virtual char Read(int number)=0; virtual void Seek(int position)=0; virtual void Write(char data)=0; virtual ~Stream(){} }; //ä¸»ä½“ç±» class FileStream: public Stream{ public: virtual char Read(int number){ //è¯»æ–‡ä»¶æµ } virtual void Seek(int position){ //å®šä½æ–‡ä»¶æµ } virtual void Write(char data){ //å†™æ–‡ä»¶æµ } }; class NetworkStream :public Stream{ public: virtual char Read(int number){ //è¯»ç½‘ç»œæµ } virtual void Seek(int position){ //å®šä½ç½‘ç»œæµ } virtual void Write(char data){ //å†™ç½‘ç»œæµ } }; class MemoryStream :public Stream{ public: virtual char Read(int number){ //è¯»å†…å­˜æµ } virtual void Seek(int position){ //å®šä½å†…å­˜æµ } virtual void Write(char data){ //å†™å†…å­˜æµ } }; //æ‰©å±•æ“ä½œ class DecoratorStream: public Stream{ protected: Stream* stream;//... DecoratorStream(Stream * stm):stream(stm){ } }; class CryptoStream: public DecoratorStream { Stream* stream;//... public: CryptoStream(Stream* stm):DecoratorStream(stm){ } virtual char Read(int number){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... stream-\u003eRead(number);//è¯»æ–‡ä»¶æµ } virtual void Seek(int position){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... stream::Seek(position);//å®šä½æ–‡ä»¶æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } virtual void Write(byte data){ //é¢å¤–çš„åŠ å¯†æ“ä½œ... stream::Write(data);//å†™æ–‡ä»¶æµ //é¢å¤–çš„åŠ å¯†æ“ä½œ... } }; class BufferedStream : public DecoratorStream{ Stream* stream;//â€¦ public: BufferedStream(Stream* stm):DecoratorStream(stm){ } //... }; void Process(){ //è¿è¡Œæ—¶è£…é… FileStream* s1=new FileStream(); CryptoStream* s2=new CryptoStream(s1); BufferedStream* s3=new BufferedStream(s1); BufferedStream* s4=new BufferedStream(s2); } ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/:4:0","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ åŠ¨æ€ï¼ˆç»„åˆï¼‰åœ°ç»™ä¸€ä¸ªå¯¹è±¡å¢åŠ ä¸€äº›é¢å¤–çš„èŒè´£ã€‚å°±å¢åŠ åŠŸèƒ½è€Œè¨€ï¼ŒDecoratoræ¨¡å¼æ¯”ç”Ÿæˆå­ç±»ï¼ˆç»§æ‰¿ï¼‰æ›´ä¸ºçµæ´»ï¼ˆæ¶ˆé™¤é‡å¤ä»£ç  \u0026 å‡å°‘å­ç±»ä¸ªæ•°ï¼‰ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/:5:0","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è¦ç‚¹æ€»ç»“ é€šè¿‡é‡‡ç”¨ç»„åˆè€Œéç»§æ‰¿çš„æ‰‹æ³•ï¼Œ Decoratoræ¨¡å¼å®ç°äº†åœ¨è¿è¡Œæ—¶åŠ¨æ€æ‰©å±•å¯¹è±¡åŠŸèƒ½çš„èƒ½åŠ›ï¼Œè€Œä¸”å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•å¤šä¸ªåŠŸèƒ½ã€‚é¿å…äº†ä½¿ç”¨ç»§æ‰¿å¸¦æ¥çš„â€œçµæ´»æ€§å·®â€å’Œâ€œå¤šå­ç±»è¡ç”Ÿé—®é¢˜â€ã€‚ Decoratorç±»åœ¨æ¥å£ä¸Šè¡¨ç°ä¸ºis-a Componentçš„ç»§æ‰¿å…³ç³»ï¼Œå³Decoratorç±»ç»§æ‰¿äº†Componentç±»æ‰€å…·æœ‰çš„æ¥å£ã€‚ä½†åœ¨å®ç°ä¸Šåˆè¡¨ç°ä¸ºhas-a Componentçš„ç»„åˆå…³ç³»ï¼Œå³Decoratorç±»åˆä½¿ç”¨äº†å¦å¤–ä¸€ä¸ªComponentç±» Decoratoræ¨¡å¼çš„ç›®çš„å¹¶éè§£å†³â€œå¤šå­ç±»è¡ç”Ÿçš„å¤šç»§æ‰¿â€é—®é¢˜ï¼Œ Decoratoræ¨¡å¼åº”ç”¨çš„è¦ç‚¹åœ¨äºè§£å†³â€œä¸»ä½“ç±»åœ¨å¤šä¸ªæ–¹å‘ä¸Šçš„æ‰©å±• åŠŸèƒ½â€â€”â€”æ˜¯ä¸ºâ€œè£…é¥°â€çš„å«ä¹‰ å…¶å®èƒ½çœ‹åˆ°ä¸€ä¸ªç±» ç»§æ‰¿åˆç»„åˆäº†è‡ªå·±çˆ¶ç±» ç»å¤§å¤šæ•°å°±æ˜¯ è£…é¥°æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/:6:0","tags":["è£…é¥°æ¨¡å¼"],"title":"è£…é¥°æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-çŠ¶æ€æ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/","tags":["çŠ¶æ€æ¨¡å¼"],"title":"çŠ¶æ€æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"çŠ¶æ€æ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/:0:0","tags":["çŠ¶æ€æ¨¡å¼"],"title":"çŠ¶æ€æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"çŠ¶æ€å˜åŒ–æ¨¡å¼ ä»€ä¹ˆæ˜¯çŠ¶æ€å˜åŒ– åœ¨ç»„ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›å¯¹è±¡çš„çŠ¶æ€é¢ä¸´å˜åŒ–, å¦‚ä½•å¯¹è¿™äº›å˜åŒ–è¿›è¡Œæœ‰æ•ˆçš„ç®¡ç†? åŒæ—¶åˆä¿è¯é«˜å±‚çš„ç¨³å®š? å…¸å‹æ¨¡å¼ Memento State ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/:1:0","tags":["çŠ¶æ€æ¨¡å¼"],"title":"çŠ¶æ€æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æ„å»ºè¿‡ç¨‹ä¸­, æŸäº›å¯¹è±¡çš„çŠ¶æ€å¦‚æœæ”¹å˜, å…¶è¡Œä¸ºä¹Ÿä¼šéšä¹‹è€Œå‘ç”Ÿå˜åŒ– æ¯”å¦‚æ–‡æ¡£å¤„äºåªè¯»çŠ¶æ€, å…¶æ”¯æŒçš„è¡Œä¸ºå’Œè¯»å†™çŠ¶æ€æ”¯æŒçš„è¡Œä¸ºå°±å¯èƒ½å®Œå…¨ä¸åŒ å¦‚ä½•åœ¨è¿è¡Œæ—¶æ ¹æ®å¯¹è±¡çš„çŠ¶æ€æ¥é€æ˜çš„æ›´æ”¹å¯¹è±¡çš„è¡Œä¸º? è€Œä¸ä¼šä¸ºå¯¹è±¡æ“ä½œå’ŒçŠ¶æ€è½¬åŒ–ä¹‹é—´å¼•å…¥ç´§è€¦åˆ? ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/:2:0","tags":["çŠ¶æ€æ¨¡å¼"],"title":"çŠ¶æ€æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å…è®¸ä¸€ä¸ªå¯¹è±¡åœ¨å…¶å†…éƒ¨çŠ¶æ€æ”¹å˜æ—¶æ”¹å˜ä»–çš„è¡Œä¸º, ä»è€Œä½¿å¯¹è±¡çœ‹èµ·æ¥ä¼¼ä¹ä¿®æ”¹äº†å…¶è¡Œä¸º ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/:3:0","tags":["çŠ¶æ€æ¨¡å¼"],"title":"çŠ¶æ€æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä»£ç ç¤ºä¾‹ /* Author: ting * Mail: vlicecream520@gmail.com * Detail: ( * 1. çŠ¶æ€æ¨¡å¼ç¤ºä¾‹ * ä¸€ä¸ªç¨‹åºå‘˜ä¼šéšç€ä¸€å¤©çš„ä¸åŒæ—¶é—´å¤„äºä¸åŒçŠ¶æ€ * * 2. çŠ¶æ€æ¨¡å¼é€‚ç”¨äº æ ¹æ®è‡ªå·±çš„çŠ¶æ€å‘ç”Ÿå˜åŒ– è¡Œä¸ºä¹Ÿéšä¹‹å‘ç°å˜åŒ– * ä»–è·Ÿè§‚å¯Ÿè€…æ¨¡å¼ä¸ä¸€æ · è§‚å¯Ÿè€…æ¨¡å¼æ˜¯ ä¸€ä¸ªæˆ–å¤šä¸ªå¯¹è±¡ æ ¹æ® ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–è€Œå‘ç”Ÿå˜åŒ– * ) * */ #include \u003ciostream\u003e using namespace std; class Work; // çŠ¶æ€æ¥å£ class State { public: // ä¸ work è¡Œä¸ºç›¸å…³çš„å‡½æ•° virtual void WriteProgram(Work *w) = 0; }; // å·¥ä½œç±» class Work { private: // å½“å‰çŠ¶æ€ State* current; // å½“å‰æ—¶é—´ double hour; // å·¥ä½œæ˜¯å¦å®Œæˆ bool taskFinish; public: Work() { taskFinish = false; } // è®¾ç½®/è·å–æ—¶é—´ void SetTime(double hour) { this-\u003ehour = hour; } double GetTime() { return this-\u003ehour; } // è®¾ç½®çŠ¶æ€ void SetState(State *s) { current = s; } // è®¾ç½®å·¥ç¨‹æ˜¯å¦å®Œæˆ void SetFinish() { this-\u003etaskFinish = true; } // è·å–å·¥ä½œæ˜¯å¦å®ŒæˆçŠ¶æ€ bool GetFinish() { return taskFinish; } // work è¡Œä¸º void WriteProgram() { current-\u003eWriteProgram(this); } }; //ä¸‹ç­ä¼‘æ¯çŠ¶æ€ class RestState : public State { public: void WriteProgram(Work *w) { cout Â« â€œå½“å‰æ—¶é—´:â€ Â« w-\u003eGetTime() Â« â€œç‚¹ å·¥ä½œå®Œæˆï¼Œä¸‹ç­å›å®¶äº†â€ Â« endl; } }; //ç¡çœ å·¥ä½œçŠ¶æ€ class SleepingState : public State { public: void WriteProgram(Work *w) { cout Â« â€œå—ä¸äº†äº†,â€ Â« w-\u003eGetTime() Â« â€œç‚¹äº†ï¼Œå…ˆç¡å§â€ Â« endl; } }; //æ™šä¸Šå·¥ä½œçŠ¶æ€ class EveningState : public State { public: void WriteProgram(Work *w) { //ä»»åŠ¡å®Œæˆäº†ï¼Œå¯ä»¥ä¼‘æ¯äº† if(w-\u003eGetFinish()) { w-\u003eSetState(new RestState()); w-\u003eWriteProgram(); } else { if(w-\u003eGetTime()\u003c21) { cout Â« â€œå½“å‰æ—¶é—´:â€ Â« w-\u003eGetTime() Â« â€œç‚¹ åŠ ç­äº†ï¼Œç–²æƒ«è‡³æâ€ Â« endl; } else { //æ‰¾è¿‡21ç‚¹ w-\u003eSetState(new SleepingState()); w-\u003eWriteProgram(); } } } }; //ä¸‹åˆå·¥ä½œçŠ¶æ€ class AfternoonState : public State { public: void WriteProgram(Work *w) { if(w-\u003eGetTime()\u003c17) { cout Â« â€œå½“å‰æ—¶é—´:â€ Â« w-\u003eGetTime() Â« â€œç‚¹ çŠ¶æ€è¿˜ä¸é”™ï¼Œç»§ç»­åŠªåŠ›â€ Â« endl; } else { w-\u003eSetState(new EveningState()); w-\u003eWriteProgram(); } } }; //ä¸­åˆå·¥ä½œçŠ¶æ€ class NoonState : public State { public: void WriteProgram(Work *w) { if (w-\u003eGetTime()\u003c13) coutÂ«â€œå½“å‰æ—¶é—´:\"Â«w-\u003eGetTime()Â«â€œç‚¹ é¥¿äº†ï¼Œåˆé¥­:çŠ¯å›°ï¼Œåˆä¼‘â€Â«endl; else { w-\u003eSetState(new AfternoonState()); w-\u003eWriteProgram(); } } }; //ä¸Šåˆå·¥ä½œçŠ¶æ€ class ForenoonState : public State { public: void WriteProgram(Work *w) { if(w-\u003eGetTime()\u003c12) coutÂ«â€œå½“å‰æ—¶é—´:\"Â«w-\u003eGetTime()Â«â€œç‚¹ ä¸Šåˆå·¥ä½œï¼Œç²¾ç¥ç™¾å€â€Â«endl; else { w-\u003eSetState(new NoonState()); w-\u003eWriteProgram(); } } }; void main() { //ç´§æ€¥é¡¹ç›® Work *emergencyProjects = new Work(); emergencyProjects-\u003eSetState(new ForenoonState()); emergencyProjects-\u003eSetTime(9); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(10); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(12); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(14); emergencyProjects-\u003eWriteProgram(); //å®Œæˆå·¥ä½œï¼Œä¸éœ€è¦å†åŠ ç­äº† //emergencyProjects-\u003eSetFinish(); emergencyProjects-\u003eSetTime(19); emergencyProjects-\u003eWriteProgram(); emergencyProjects-\u003eSetTime(22); emergencyProjects-\u003eWriteProgram(); } ## è¦ç‚¹æ€»ç»“ 1. *Stateæ¨¡å¼å°†æ‰€æœ‰ä¸ä¸€ä¸ªç‰¹å®šçŠ¶æ€ç›¸å…³çš„è¡Œä¸ºéƒ½æ”¾å…¥ä¸€ä¸ªStateçš„å­ç±»å¯¹è±¡ä¸­, åœ¨å¯¹è±¡çŠ¶æ€åˆ‡æ¢æ—¶, åˆ‡æ¢ç›¸å¯¹åº”çš„å¯¹è±¡ï¼Œä½†åŒæ—¶ç»´æŒStateçš„æ¥å£, è¿™æ ·å®ç°äº†å…·ä½“æ“ä½œä¸çŠ¶æ€è½¬æ¢ä¹‹é—´çš„è§£è—•* 2. *ä¸ºä¸åŒçš„çŠ¶æ€å¼•å…¥ä¸åŒçš„å¯¹è±¡ä½¿å¾—çŠ¶æ€è½¬æ¢å˜å¾—æ›´åŠ æ˜ç¡®, è€Œä¸”å¯ä»¥ä¿è¯ä¸ä¼šå‡ºç°çŠ¶æ€ä¸ä¸€è‡´çš„æƒ…å†µ, å› ä¸ºè½¬æ¢æ˜¯åŸå­æ€§çš„ï¼Œå³è¦ä¹ˆå½»åº•è½¬æ¢è¿‡æ¥ è¦ä¹ˆä¸è½¬æ¢* 3. *å¦‚æœStateå¯¹è±¡æ²¡æœ‰å®ä¾‹å˜é‡, é‚£ä¹ˆå„ä¸Šä¸‹æ–‡å¯ä»¥å…±äº«ä¸€ä¸ªStateå¯¹è±¡, ä»è€ŒèŠ‚çœå¯¹è±¡å¼€é”€* ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/:4:0","tags":["çŠ¶æ€æ¨¡å¼"],"title":"çŠ¶æ€æ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%8A%B6%E6%80%81%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"è®¾è®¡æ¨¡å¼-ç»„åˆæ¨¡å¼","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/","tags":["ç»„åˆæ¨¡å¼"],"title":"ç»„åˆæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ç»„åˆæ¨¡å¼ ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/:0:0","tags":["ç»„åˆæ¨¡å¼"],"title":"ç»„åˆæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ•°æ®ç»“æ„æ¨¡å¼ ä»€ä¹ˆæ˜¯æ•°æ®ç»“æ„æ¨¡å¼ å¸¸å¸¸æœ‰ä¸€äº›ç»„ä»¶åœ¨å†…éƒ¨å…·æœ‰ç‰¹å®šçš„æ•°æ®ç»“æ„, å¦‚æœè®©å®¢æˆ·ç¨‹åºä¾èµ–è¿™äº›ç‰¹å®šçš„æ•°æ®ç»“æ„, å°†æå¤§çš„ç ´åç»„ä»¶çš„å¤ç”¨ å…¸å‹æ¨¡å¼ Composite Iterator Chain of Resposibility ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/:1:0","tags":["ç»„åˆæ¨¡å¼"],"title":"ç»„åˆæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"åŠ¨æœº åœ¨è½¯ä»¶æŸäº›æƒ…å†µä¸‹, å®¢æˆ·ä»£ç è¿‡å¤šçš„ä¾èµ–äºå¯¹è±¡å®¹å™¨å¤æ‚çš„å†…éƒ¨å®ç°ç»“æ„, å¯¹è±¡å®¹å™¨å†…éƒ¨å®ç°ç»“æ„(è€Œéå¯¹è±¡æ¥å£)çš„å˜åŒ–å°†å¼•èµ·å®¢æˆ·ä»£ç çš„é¢‘ç¹å˜åŒ–, å¸¦æ¥äº†ä»£ç çš„ç»´æŠ¤æ€§ã€æ‰©å±•æ€§ç­‰å¼Šç«¯ å¦‚ä½•å°†\"å®¢æˆ·ä»£ç ä¸å¤æ‚çš„å¯¹è±¡å®¹å™¨ç»“æ„\"è§£è—•? è®©å¯¹è±¡å®¹å™¨è‡ªå·±æ¥å®ç°è‡ªèº«çš„å¤æ‚ç»“æ„, ä»è€Œä½¿å¾—å®¢æˆ·ä»£ç å°±åƒå¤„ç†ç®€å•å¯¹è±¡ä¸€æ ·æ¥å¤„ç†å¤æ‚çš„å¯¹è±¡å®¹å™¨? ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/:2:0","tags":["ç»„åˆæ¨¡å¼"],"title":"ç»„åˆæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"æ¨¡å¼å®šä¹‰ å°†å¯¹è±¡ç»„åˆæˆæ ‘å½¢ç»“æ„ä»¥è¡¨ç¤º â€œéƒ¨åˆ† - æ•´ä½“â€ çš„å±‚æ¬¡ç»“æ„ Compositeä½¿å¾—ç”¨æˆ·å¯¹å•ä¸ªå¯¹è±¡å’Œç»„åˆå¯¹è±¡çš„ä½¿ç”¨å…·æœ‰ä¸€è‡´æ€§(ç¨³å®š) ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/:3:0","tags":["ç»„åˆæ¨¡å¼"],"title":"ç»„åˆæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"},{"categories":["è®¾è®¡æ¨¡å¼"],"content":"ä»£ç ç¤ºä¾‹ /* Author: ting * Date: 2022-08-14 * Detail: ç»„åˆæ¨¡å¼ç¤ºä¾‹ * å°†å¤šä¸ªå¯¹è±¡ä¾æ®æ ‘å½¢ç»“æ„çœ‹ä¸ºä¸€ä¸ªæ•´ä½“ å®ç° \"éƒ¨åˆ† - æ•´ä½“\"çš„æ•ˆæœ * 1. æŠ½è±¡ç¤ºä¾‹(Component)è§’è‰²: ä»–çš„ä¸»è¦ä½œç”¨æ˜¯ä¸ºäº†æ ‘å¶æ„ä»¶å£°æ˜å…¬å…±æ¥å£, å¹¶å®ç°ä»–ä»¬çš„é»˜è®¤è¡Œä¸º * 2. æ ‘å¶æ„ä»¶(Composite)è§’è‰²: æ˜¯ç»„åˆä¸­çš„åˆ†æ”¯èŠ‚ç‚¹å¯¹è±¡, ä»–æœ‰å­ç»“ç‚¹, ç”¨äºç»§æ‰¿å’Œå®ç°æŠ½è±¡æ„ä»¶ * ä¸»è¦ä½œç”¨æ˜¯å­˜å‚¨å’Œç®¡ç†å­éƒ¨ä»¶ é€šå¸¸åŒ…å« Add() Remove() GetChild() ç­‰æ–¹æ³• * 3. æ ‘å¶æ„ä»¶(Leaf)è§’è‰²: æ˜¯ç»„åˆä¸­çš„å¶èŠ‚ç‚¹å¯¹è±¡, ä»–æ²¡æœ‰å­èŠ‚ç‚¹, ç”¨äºç»§æ‰¿å’Œå®ç°æŠ½è±¡æ„ä»¶ * */ // è®¡æ•° class Counter { public: virtual ~Counter() {}; virtual int Count() = 0; }; // æ ‘å¶æ„ä»¶ class City : public Counter { public: City(int sum) : sum(sum) { }; int Count() override { return sum; } private: int sum; }; // æ ‘ææ„ä»¶ class Composite : public Counter { public: ~Composite() { for (auto\u0026 counter : counters) { delete counter; } } void add(Counter* counter) { counters.push_back(counter); } void del(Counter* counter) { auto it = find(counters.begin(), counters.end(), counter); counters.erase(it); } int count() { int sum = 0; for (const auto\u0026 counter : counters) { sum += counter-\u003ecount(); } return sum; } private: vector\u003cCounter*\u003e counters; }; // ä½¿ç”¨ï¼šç»Ÿè®¡äººå£æ•°é‡ int main() { Composite* china = new Composite(); City* beijing = new City(100000); // ç›´è¾–å¸‚ City* shanghai = new City(50000); // ç›´è¾–å¸‚ china-\u003eadd(beijing); china-\u003eadd(shanghai); Composite* shanxi = new Composite(); shanxi-\u003eadd(new City(3000)); // å¤§åŒå¸‚ shanxi-\u003eadd(new City(2000)); // å¤ªåŸå¸‚ china-\u003eadd(shanxi); cout \u003c\u003c china-\u003ecount() \u003c\u003c endl; } ## è¦ç‚¹æ€»ç»“ 1. *Compositeæ¨¡å¼é‡‡ç”¨æ ‘å½¢ç»“æ„æ¥å®ç°æ™®éå­˜åœ¨çš„å¯¹è±¡å®¹å™¨, ä»è€Œå°†\"ä¸€å¯¹å¤š\"çš„å…³ç³»è½¬åŒ–ä¸º\"ä¸€å¯¹ä¸€\"çš„å…³ç³», ä½¿å¾—å®¢æˆ·ä»£ç å¯ä»¥ä¸€è‡´çš„(å¤ç”¨)å¤„ç†å¯¹è±¡å’Œå¯¹è±¡å®¹å™¨, æ— éœ€å…³å¿ƒå¤„ç†çš„æ˜¯å•ä¸ªçš„å¯¹è±¡, è¿˜æ˜¯ç»„åˆçš„å¯¹è±¡å®¹å™¨* 2. *å°†\"å®¢æˆ·ä»£ç ä¸å¤æ‚çš„å¯¹è±¡å®¹å™¨ç»“æ„\"è§£è—•æ˜¯Compositeæ¨¡å¼çš„æ ¸å¿ƒæ€æƒ³ï¼Œè§£è—•ä¹‹å, å®¢æˆ·ä»£ç å°†ä¸çº¯ç²¹çš„æŠ½è±¡æ¥å£----è€Œéå¯¹è±¡å®¹å™¨å†…éƒ¨å®ç°ç»“æ„ å‘ç”Ÿä¾èµ–, ä»è€Œæ›´èƒ½\"åº”å¯¹å˜åŒ–\"* 3. *Compositeæ¨¡å¼åœ¨å…·ä½“å®ç°ä¸­, å¯ä»¥è®©çˆ¶å¯¹è±¡ä¸­çš„å­å¯¹è±¡åå‘è¿½æº¯ï¼Œå¦‚æœçˆ¶å¯¹è±¡æœ‰é¢‘ç¹çš„éå†éœ€æ±‚, å¯ä½¿ç”¨ç¼“å­˜* ","date":"2023-07-21","objectID":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/:4:0","tags":["ç»„åˆæ¨¡å¼"],"title":"ç»„åˆæ¨¡å¼","uri":"/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%BB%84%E5%90%88%E6%A8%A1%E5%BC%8F/"},{"categories":["nvim"],"content":"é…ç½®nvim ","date":"2023-03-29","objectID":"/nvim/:0:0","tags":["nvim"],"title":"nvim é…ç½®","uri":"/nvim/"},{"categories":["nvim"],"content":"centos7 è¿™é‡Œè¯´æ˜ è¿™é‡Œåªé…ç½®äº† ccls å› ä¸ºgolangçš„ç¼–è¯‘ç‰¹æ€§ å…¶å®ä»€ä¹ˆå¹³å°å†™goéƒ½ä¸€æ · /* æ›´æ–°yumåº“ yum update centos7 python é»˜è®¤ä¸º 3.6.8 å‡çº§ä¸º 3.8.11 yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make yum -y install epel-release yum -y install zlib zlib yum -y install zlib zlib-devel wget http://npm.taobao.org/mirrors/python/3.8.12/Python-3.8.12.tar.xz xz -d Python-3.8.12.tar.xz tar -xf Python-3.8.12.tar cd Python-3.8.12 ./configure prefix=/usr/local/python3 make \u0026\u0026 make install mv /usr/bin/python /usr/bin/python.bak ln -s /usr/local/python3/bin/python3.8 /usr/bin/python python --version vi /usr/bin/yum æŠŠ#! /usr/bin/pythonä¿®æ”¹ä¸º#! /usr/bin/python2 vi /usr/libexec/urlgrabber-ext-down æŠŠ#! /usr/bin/python ä¿®æ”¹ä¸º#! /usr/bin/python2 ä¸ºä½•è¿™æ ·é…æ˜¯å› ä¸ºyuméœ€è¦ä½¿ç”¨python2æ‰èƒ½æ­£å¸¸è¿è¡Œ,è€Œä¹‹å‰çš„pythonæŒ‡å‘python3 ,ç‰ˆæœ¬ä¸å¯¹åº”,æ‰€ä»¥å°†å…¶æ”¹æˆpython2 cd /usr/bin ll pip* rm pip3 ln -s /usr/local/python3/bin/pip3 /usr/bin/pip3 pip3 install -U setuptools (æœ‰å•¥é—®é¢˜ å¯ä»¥çœ‹çœ‹ åˆ«äººåšå®¢ https://www.cnblogs.com/yahoon/p/16172517.html) ä¸‹è½½nodejs curl -sL install-node.now.sh/lts | bash ä¸‹è½½nvim curl -o /usr/local/bin/nvim -LO https://github.com/neovim/neovim/releases/download/stable/nvim.appimage chmod u+x /usr/local/bin/nvim cp /usr/local/bin/nvim /usr/bin/nvim å®‰è£…æ’ä»¶ç®¡ç†å™¨ ä½¿ç”¨æ–°çš„ vim-plug sh -c 'curl -fLo \"${XDG_DATA_HOME:-$HOME/.local/share}\"/nvim/site/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim' åˆ›å»ºåˆå§‹åŒ– neovim é…ç½®æ–‡ä»¶ mkdir ~/.config/nvim/ nvim ~/.config/nvim/init.vim ä¸‹è½½ nodejs \u0026 npm wget https://nodejs.org/dist/v16.15.1/node-v16.15.1-linux-x64.tar.xz tar -xvf node-v16.15.1-linux-x64.tar.xz cocæ’ä»¶ éœ€è¦çš„æ­¥éª¤ npm install neovim pip3 install neovim ä¸‹è½½ ccls sudo yum install epel-release sudo yum install snapd sudo systemctl enable --now snapd.socket sudo ln -s /var/lib/snapd/snap /snap sudo snap install ccls --classic vim ~/.bash_profile export PATH=\"$PATH:/snap/bin/\" å®‰è£…wget(å¦‚æœæ²¡æœ‰wget) yum -y install gcc make gcc-c++ openssl-devel wget ä½¿ç”¨ clash vpn é˜²æ­¢nvimä¸‹è½½æ’ä»¶å¤±è´¥ wget -c https://github.com/Dreamacro/clash/releases/download/v1.11.8/clash-linux-amd64-v1.11.8.gz gzip -d ./clash-linux-armv6-v1.10.6.gz chmod u+x ./clash-linux-armv6-v1.10.6.gz å¤„ç† é…ç½®æ–‡ä»¶ wget -O config.yaml \u003cé…ç½®æ–‡ä»¶çš„url\u003e å¯åŠ¨clash ./clash-linux-armv6-v1.10.6.gz å¯åŠ¨ http ä»£ç† export http_proxy=http://127.0.0.1:7890 export https_proxy=http://127.0.0.1:7890 éªŒè¯æ˜¯å¦ok curl https://www.google.com.hk/ ä¸‹è½½æ’ä»¶ nvim ~/.config/nvim/init.vim :PlugInstall æ£€æŸ¥å¥åº· :checkhealth ä¿®å¤err ä¸€èˆ¬éƒ½ä¼šæ˜¯cocå‡ºç°é—®é¢˜ å¦‚æœæ˜¯ build/index.js cd ~/.vim/plugged/coc.nvim git checkout release */ ","date":"2023-03-29","objectID":"/nvim/:1:0","tags":["nvim"],"title":"nvim é…ç½®","uri":"/nvim/"},{"categories":["nvim"],"content":"Mac /* mac è‡ªå¸¦çš„pythonæ˜¯ 3.8 ç‰ˆæœ¬ å¯ä»¥è·³è¿‡ å®‰è£…nvim brew install neovim å®‰è£…vim-plug sh -c 'curl -fLo \"${XDG_DATA_HOME:-$HOME/.local/share}\"/nvim/site/autoload/plug.vim --create-dirs \\ https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim' å¦‚æœ 443 å¯ä»¥é€šè¿‡ /ect/hosts è§£å†³ å…·ä½“çš„å¯ä»¥ç™¾åº¦ åˆ›å»ºåˆå§‹åŒ– neovim é…ç½®æ–‡ä»¶ mkdir ~/.config/nvim/ nvim ~/.config/nvim/init.vim ä¸‹è½½node.js brew install nodejs cocæ’ä»¶ éœ€è¦çš„æ­¥éª¤ npm install neovim pip3 install neovim brew install ccls ä¸‹è½½æ’ä»¶ nvim ~/.config/nvim/init.vim :PlugInstall å¦‚æœtimeoutè¯·å¼€å¯ vpn å¹¶é…ç½®gitconfig æ£€æŸ¥å¥åº· :checkhealth è§£å†³ checkhealth é”™è¯¯å nvim test.go :GoInstallB... ç„¶åå¦‚æœä¸è¡Œå°±é‡æ–°å¯åŠ¨å‘½ä»¤è¡Œ éšåå³å¯ */ ","date":"2023-03-29","objectID":"/nvim/:2:0","tags":["nvim"],"title":"nvim é…ç½®","uri":"/nvim/"},{"categories":["nvim"],"content":"Windows // æœªå®Œå¾…ç»­ ","date":"2023-03-29","objectID":"/nvim/:3:0","tags":["nvim"],"title":"nvim é…ç½®","uri":"/nvim/"},{"categories":["nvim"],"content":"clashé…ç½®æ–‡ä»¶åŠŸèƒ½è¯¦è§£ # HTTP ä»£ç†ç«¯å£ port: 7890 # SOCKS5 ä»£ç†ç«¯å£ socks-port: 7891 # Linux å’Œ macOS çš„ redir ä»£ç†ç«¯å£ redir-port: 7892 # å…è®¸å±€åŸŸç½‘çš„è¿æ¥ allow-lan: true # è§„åˆ™æ¨¡å¼ï¼šRuleï¼ˆè§„åˆ™ï¼‰ / Globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ Directï¼ˆå…¨å±€ç›´è¿ï¼‰ mode: rule # è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« (é»˜è®¤çº§åˆ«ï¼šsilentï¼Œå³ä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œä»¥é¿å…å› æ—¥å¿—å†…å®¹è¿‡å¤§è€Œå¯¼è‡´ç¨‹åºå†…å­˜æº¢å‡ºï¼‰ã€‚ # 5 ä¸ªçº§åˆ«ï¼šsilent / info / warning / error / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚ log-level: silent # Clash çš„ RESTful API external-controller: '0.0.0.0:9090' # RESTful API çš„å£ä»¤ secret: '' # æ‚¨å¯ä»¥å°†é™æ€ç½‘é¡µèµ„æºï¼ˆå¦‚ clash-dashboardï¼‰æ”¾ç½®åœ¨ä¸€ä¸ªç›®å½•ä¸­ï¼Œclash å°†ä¼šæœåŠ¡äº `RESTful API/ui` # å‚æ•°åº”å¡«å†™é…ç½®ç›®å½•çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„ã€‚ # external-ui: folder ","date":"2023-03-29","objectID":"/nvim/:4:0","tags":["nvim"],"title":"nvim é…ç½®","uri":"/nvim/"},{"categories":["nvim"],"content":"Init.vim \" ==================== Editor behavior ==================== \" http://blog.guorongfei.com/2015/09/03/vim-shortcut/ set nu syntax on set foldmethod=marker set tabstop=2 set shiftwidth=2 set softtabstop=2 set showmode set showcmd set mouse=a set encoding=utf-8 set t_Co=256 set autoindent set cursorline set linebreak set showmatch set hlsearch set incsearch \"è®¾ç½®vimå¯ä»¥ä½¿ç”¨backé”®\" set backspace=2 nnoremap \u003cC-l\u003e :tabn\u003cCR\u003e \"ç§»åŠ¨åˆ°ä¸‹ä¸€ä¸ªæ ‡ç­¾\" nnoremap \u003cC-h\u003e :tabp\u003cCR\u003e \"ç§»åŠ¨åˆ°ä¸Šä¸€ä¸ªæ ‡ç­¾\" au BufReadPost * if line(\"'\\\"\") \u003e 1 \u0026\u0026 line(\"'\\\"\") \u003c= line(\"$\") | exe \"normal! g'\\\"\" | endif inoremap ' ''\u003cESC\u003ei inoremap \" \"\"\u003cESC\u003ei inoremap ( ()\u003cESC\u003ei inoremap [ []\u003cESC\u003ei inoremap { {}\u003cESC\u003ei \"è®¾ç½®è·³å‡ºè‡ªåŠ¨è¡¥å…¨çš„æ‹¬å· func SkipPair() if getline('.')[col('.') - 1] == '\u003c' || getline('.')[col('.') - 1] == ')' || getline('.')[col('.') - 1 ] == ']' || getline('.')[col('.') - 1] == '\"' || getline('.')[col('.') - 1] == \"'\" || getline('.')[col('.' ) - 1] == '}' return \"\\\u003cESC\u003ela\" else return \"\\t\" endif endfunc \" ===================== Install Plugins with Vim-Plug ================= call plug#begin('~/.vim/plugged') \" style \" Plug 'crusoexia/vim-monokai' Plug 'shaunsingh/nord.nvim' \" Go Plug 'fatih/vim-go' , { 'for': ['go', 'vim-plug'], 'tag': '*' } \" Python Plug 'Vimjas/vim-python-pep8-indent', { 'for' :['python', 'vim-plug'] } Plug 'numirias/semshi', { 'do': ':UpdateRemotePlugins', 'for' :['python', 'vim-plug'] } Plug 'tweekmonster/braceless.vim', { 'for' :['python', 'vim-plug'] } \" Visual indentation Plug 'Yggdroot/indentLine' \" vim-monokai Plug 'crusoexia/vim-monokai' \" annotation Plug 'scrooloose/nerdcommenter' \" Nested parentheses are highlighted Plug 'luochen1990/rainbow' \" Directory management plug-in Plug 'preservim/nerdtree' Plug 'Xuyuanp/nerdtree-git-plugin' Plug 'ryanoasis/vim-devicons' \" Coc.nvim Plug 'neoclide/coc.nvim', {'branch': 'release'} \" dashboard Plug 'glepnir/dashboard-nvim' \" lualine Plug 'nvim-lualine/lualine.nvim' \" barbar Plug 'kyazdani42/nvim-web-devicons' Plug 'romgrk/barbar.nvim' \" diffview Plug 'nvim-lua/plenary.nvim' Plug 'sindrets/diffview.nvim' \" telescope Plug 'nvim-lua/plenary.nvim' Plug 'nvim-telescope/telescope.nvim', { 'tag': '0.1.0' } Plug 'nvim-treesitter/nvim-treesitter', {'do': ':TSUpdate'} \" lazygit Plug 'kdheepak/lazygit.nvim' \" delve Plug 'sebdah/vim-delve' call plug#end() \" ==================== lazygit ======================== \" https://github.com/kdheepak/lazygit.nvim nnoremap \u003csilent\u003e \u003cleader\u003egg :LazyGit\u003cCR\u003e \" ==================== telescope ====================== \" https://github.com/nvim-telescope/telescope.nvim \" Find files using Telescope command-line sugar. nnoremap \u003cleader\u003eff \u003ccmd\u003eTelescope find_files\u003ccr\u003e nnoremap \u003cleader\u003efg \u003ccmd\u003eTelescope live_grep\u003ccr\u003e nnoremap \u003cleader\u003efb \u003ccmd\u003eTelescope buffers\u003ccr\u003e nnoremap \u003cleader\u003efh \u003ccmd\u003eTelescope help_tags\u003ccr\u003e \" Using Lua functions nnoremap \u003cleader\u003eff \u003ccmd\u003elua require('telescope.builtin').find_files()\u003ccr\u003e nnoremap \u003cleader\u003efg \u003ccmd\u003elua require('telescope.builtin').live_grep()\u003ccr\u003e nnoremap \u003cleader\u003efb \u003ccmd\u003elua require('telescope.builtin').buffers()\u003ccr\u003e nnoremap \u003cleader\u003efh \u003ccmd\u003elua require('telescope.builtin').help_tags()\u003ccr\u003e \" ==================== diffview ======================= \" https://github.com/sindrets/diffview.nvim \" ==================== barbar ======================== \" Move to previous/next nnoremap \u003csilent\u003e \u003cA-,\u003e \u003cCmd\u003eBufferPrevious\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-.\u003e \u003cCmd\u003eBufferNext\u003cCR\u003e \" Re-order to previous/next nnoremap \u003csilent\u003e \u003cA-\u003c\u003e \u003cCmd\u003eBufferMovePrevious\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-\u003e\u003e \u003cCmd\u003eBufferMoveNext\u003cCR\u003e \" Goto buffer in position... nnoremap \u003csilent\u003e \u003cA-1\u003e \u003cCmd\u003eBufferGoto 1\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-2\u003e \u003cCmd\u003eBufferGoto 2\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-3\u003e \u003cCmd\u003eBufferGoto 3\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-4\u003e \u003cCmd\u003eBufferGoto 4\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-5\u003e \u003cCmd\u003eBufferGoto 5\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-6\u003e \u003cCmd\u003eBufferGoto 6\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-7\u003e \u003cCmd\u003eBufferGoto 7\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-8\u003e \u003cCmd\u003eBufferGoto 8\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-9\u003e \u003cCmd\u003eBufferGoto 9\u003cCR\u003e nnoremap \u003csilent\u003e \u003cA-0\u003e \u003cCmd\u003eBufferLast\u003cCR\u003e \" Pin/un","date":"2023-03-29","objectID":"/nvim/:5:0","tags":["nvim"],"title":"nvim é…ç½®","uri":"/nvim/"},{"categories":["nvim"],"content":"coc-settings.json { \"coc.preferences.semanticTokensHighlights\": false, \"coc.preferences.enableFloatHighlight\": true, \"coc.preferences.snippetStatusText\": \"â“ˆ \", \"coc.preferences.extensionUpdateCheck\": \"daily\", \"coc.preferences.messageLevel\": \"error\", \"coc.source.around.firstMatch\": false, \"coc.source.buffer.firstMatch\": false, \"coc.source.syntax.firstMatch\": false, \"suggest.detailMaxLength\": 60, \"suggest.noselect\": true, \"suggest.enablePreselect\": false, \"suggest.triggerAfterInsertEnter\": true, \"suggest.autoTrigger\": \"always\", \"suggest.timeout\": 5000, \"suggest.enablePreview\": true, \"suggest.floatEnable\": true, \"suggest.detailField\": \"preview\", \"suggest.snippetIndicator\": \"\", \"suggest.triggerCompletionWait\": 100, \"suggest.echodocSupport\": true, \"suggst.completionItemKindLabels\": { \"class\": \"\\uf0e8\", \"color\": \"\\ue22b\", \"constant\": \"\\uf8fe\", \"default\": \"\\uf29c\", \"enum\": \"\\uf435\", \"enumMember\": \"\\uf02b\", \"event\": \"\\ufacd\", \"field\": \"\\uf93d\", \"file\": \"\\uf723\", \"folder\": \"\\uf115\", \"function\": \"\\u0192\", \"interface\": \"\\uf417\", \"keyword\": \"\\uf1de\", \"method\": \"\\uf6a6\", \"module\": \"\\uf40d\", \"operator\": \"\\uf915\", \"property\": \"\\ue624\", \"reference\": \"\\ufa46\", \"snippet\": \"\\ue60b\", \"struct\": \"\\ufb44\", \"text\": \"\\ue612\", \"typeParameter\": \"\\uf728\", \"unit\": \"\\uf475\", \"value\": \"\\uf89f\", \"variable\": \"\\ue71b\" }, \"diagnostic.signOffset\": 2, \"diagnostic.errorSign\": \"!\", \"diagnostic.warningSign\": \"!!\", \"diagnostic.infoSign\": \"\\uf129\", \"diagnostic.hintSign\": \"\\uf864\", \"diagnostic.displayByAle\": false, \"diagnostic.refreshOnInsertMode\": false, \"diagnostic.checkCurrentLine\": true, \"diagnostic.virtualTextPrefix\": \" â¯â¯â¯ \", \"diagnostic.virtualText\": false, \"codeLens.enable\": true, \"list.previewHighlightGroup\": \"Statement\", \"list.nextKeymap\": \"\u003cC-e\u003e\", \"list.previousKeymap\": \"\u003cC-u\u003e\", \"importCost.bundleSizeDecoration\": \"both\", \"importCost.typescriptExtensions\": [\"\\\\.tsx?$\"], \"importCost.javascriptExtensions\": [\"\\\\.jsx?$\"], \"importCost.showCalculatingDecoration\": true, \"importCost.debug\": false, \"snippets.ultisnips.directories\": [ \"$HOME/.config/nvim/Ultisnips/\", \"$HOME/.config/nvim/plugged/vim-snippets/UltiSnips/\" ], \"coc.preferences.formatOnSaveFiletypes\": [ \"javascript\", \"typescript\", \"typescriptreact\", \"html\", \"css\", \"json\", \"jsonc\", \"java\", \"python\", \"vue\", \"svelte\", \"cs\", \"racket\", \"prisma\" ], \"yaml.format.enable\": true, \"signature.target\": \"float\", \"yank.enableCompletion\": false, \"typescript.suggestionActions.enabled\": true, \"typescript.format.enabled\": true, \"jest.watch\": false, \"explorer.width\": 38, \"explorer.quitOnOpen\": true, \"explorer.sources\": [ { \"name\": \"buffer\", \"expand\": false }, { \"name\": \"file\", \"expand\": true } ], \"explorer.file.column.indent.indentLine\": true, \"explorer.file.showHiddenFiles\": true, \"explorer.icon.enableNerdfont\": true, \"explorer.file.column.git.showIgnored\": true, \"explorer.keyMappingMode\": \"none\", \"explorer.buffer.showHiddenBuffers\": false, \"explorer.keyMappings.global\": { \"u\": \"nodePrev\", \"e\": \"nodeNext\", \"h\": \"toggleSelection\", \"\u003ctab\u003e\": \"actionMenu\", \"gl\": \"expandRecursive\", \"gh\": \"collapseRecursive\", \"i\": [\"wait\", \"expandable?\", \"expand\", \"open\"], \"\u003ccr\u003e\": [\"wait\", \"expandable?\", \"cd\", \"open\"], \"I\": \"open:vsplit\", \"o\": [\"wait\", \"expanded?\", \"collapse\", \"expand\"], \"O\": \"open:tab\", \"n\": \"collapse\", \"l\": \"gotoParent\", \"yp\": \"copyFilepath\", \"yn\": \"copyFilename\", \"yy\": \"copyFile\", \"dd\": \"cutFile\", \"pp\": \"pasteFile\", \"dD\": \"deleteForever\", \"a\": \"addFile\", \"k\": \"addFile\", \"M\": \"addDirectory\", \"cw\": \"rename\", \".\": \"toggleHidden\", \"zh\": \"toggleHidden\", \"R\": \"refresh\", \"?\": \"help\", \"q\": \"quit\", \"X\": \"systemExecute\", \"gd\": \"listDrive\", \"f\": \"search\", \"F\": \"searchRecursive\", \"B\": \"gotoSource:file\", \"b\": \"gotoSource:buffer\", \"[[\": \"sourcePrev\", \"]]\": \"sourceNext\", \"[d\": \"diagnosticPrev\", \"]d\": \"diagnosticNext\", \"[c\": \"gitPrev\", \"]c\": \"gitNext\", \"\u003c\u003c\": \"gitStage\", \"\u003e\u003e\": \"gitUnstage\" }, \"flutter.outlineWidth\": 40, \"flutter.outlineIconPadding\": 0, \"flutter.UIPath\": true, \"flutter.openDevLogSplitCommand\": \"botright 12split\", \"flutter.lsp.init","date":"2023-03-29","objectID":"/nvim/:6:0","tags":["nvim"],"title":"nvim é…ç½®","uri":"/nvim/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"PImpl","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"C++ PImpl ","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/:0:0","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"PImplæƒ¯ç”¨æ³• PImplæœ¯è¯­ï¼Œå³\"pointer to implementation\" ï¼ˆæŒ‡å‘å®ç°çš„æŒ‡é’ˆï¼‰ï¼Œç”±Jeff Summeræœ€å…ˆå¼•å…¥ã€‚ è¯¥æŠ€å·§å¯ä»¥é¿å…åœ¨å¤´æ–‡ä»¶ä¸­æš´éœ²ç§æœ‰ç»†èŠ‚ï¼Œæ˜¯ä¿ƒè¿›APIæ¥å£å’Œå®ç°ä¿æŒå®Œå…¨åˆ†ç¦»çš„é‡è¦æœºåˆ¶ PImplå¹¶ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„è®¾è®¡æ¨¡å¼ï¼Œè€Œæ˜¯æ¡¥æ¨¡å¼çš„ä¸€ç§ç‰¹ä¾‹ åœ¨æœ¬äººåšå®¢ä¸­æœ‰ä»‹ç»ã€Šè®¾è®¡æ¨¡å¼-æ¡¥æ¨¡å¼ã€‹ å¦‚ä¸‹å›¾ï¼ŒClass Aåªæä¾›å…¬æœ‰æ¥å£Function1ï¼ŒFunction2ï¼Œå…¶å®ç°ç»†èŠ‚ç”±Implç±»å®ç°ï¼ŒClass Aé€šè¿‡ä¸€æ ¼ImplæŒ‡é’ˆæ¥æä¾›æœåŠ¡ï¼Œè¿™æ ·åšçš„ç›®çš„åœ¨äºï¼Œä½¿ç”¨Class Aå…¬æœ‰æ¥å£çš„ç”¨æˆ·ï¼Œä¸å¿…å…³ç³»å…¶å®ç°ç»†èŠ‚ï¼Œè€Œä¸”å®ç°çš„å˜åŠ¨ï¼Œå¯¹ç”¨æˆ·ä¹Ÿæ˜¯é€æ˜çš„ æ³¨ï¼š- : private, + : public, # : protected ç‰¹ç‚¹ï¼šè¯¥æŠ€å·§åœ¨å…¬æœ‰æ¥å£ä¸­å®Œå…¨éšè—å†…éƒ¨ç»†èŠ‚ã€‚æ”¯æŒå°†ç§æœ‰æˆå‘˜æ•°æ®å’Œæ–¹æ³•ï¼Œä».hè½¬ç§»åˆ°.cppæ–‡ä»¶ã€‚æ˜¯æ„å»ºæ¥å£å’Œå®ç°æ°å½“åˆ†ç¦»çš„APIçš„ä¸å¯æˆ–ç¼ºçš„å·¥å…· ","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/:1:0","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"ä½¿ç”¨PImpl PImplå°†ç±»çš„æ•°æ®æˆå‘˜å®šä¹‰ä¸ºæŒ‡å‘æŸä¸ªå·²ç»å£°æ˜è¿‡çš„ç±»å‹çš„æŒ‡é’ˆï¼Œå¦‚ä¸Šé¢çš„ä¾‹å­ä¸­çš„implã€‚è¿™é‡Œç±»å‹ä»…ä½œä¸ºåå­—å¼•å…¥ï¼Œæ²¡æœ‰è¢«å®Œæ•´å®šä¹‰ï¼Œåªéœ€è¦å‰å‘å£°æ˜å³å¯ï¼Œéšè—å¯ä»¥å°†è¯¥ç±»å‹å®šä¹‰éšè—åœ¨.cppæ–‡ä»¶ä¸­ã€‚è¯¥æŒ‡é’ˆä¹Ÿç§°ä¸ºä¸é€æ˜æŒ‡é’ˆï¼Œå› ä¸ºç”¨æˆ·æ— æ³•çœ‹åˆ°æ‰€æŒ‡å¯¹è±¡ç»†èŠ‚ ç¤ºä¾‹ï¼šâ€œè‡ªåŠ¨å®šæ—¶å™¨ï¼ˆAutoTimerï¼‰APIï¼Œå¯¹è±¡è¢«é”€æ¯æ—¶æ‰“å°å‡ºç”Ÿå­˜æ—¶é—´â€ // autotimer.h #ifdef _WIN32 #include \u003cwindows.h\u003e #else #include \u003csys/time.h\u003e #endif #include \u003cstring\u003e class AutoTimer { public: /// ä½¿ç”¨æ˜“äºç†è§£çš„åå­—åˆ›å»ºæ–°å®šæ—¶å™¨ explicit AutoTimer(const std::string\u0026 name); ~AutoTimer(); private: // è¿”å›å¯¹è±¡å·²ç»å­˜åœ¨äº†å¤šé•¿æ—¶é—´ double GetElapsed() const; std::string name_; #ifdef _WIN32 DWORD startTime_; #else struct timeval startTime_; #endif }; è¯¥APIçš„é—®é¢˜ï¼šæš´éœ²äº†å®šæ—¶å™¨åœ¨ä¸åŒå¹³å°ä¸Šå­˜å‚¨çš„åº•å±‚ç»†èŠ‚ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä»å¤´æ–‡ä»¶çœ‹åˆ°è¿™äº›å¹³å°çš„å®šä¹‰ å¯å–ä¹‹å¤„ï¼šä»…å°†å¿…è¦çš„æ–¹æ³•æš´éœ²ä¸ºpublicæ–¹æ³•ï¼ˆæ„é€ å‡½æ•°ã€ææ„å‡½æ•°ï¼‰ï¼Œå…¶ä½™æ–¹æ³•ã€æ•°æ®æ ‡è®°ä¸ºprivate ç”±äºC++è¯­è¨€ç‰¹æ€§ï¼Œè¦æ±‚è¿™äº›privateæˆå‘˜éƒ½å£°æ˜åœ¨å…¬æœ‰å¤´æ–‡ä»¶ä¸­ï¼Œå¯¼è‡´APIåŒ…å«å¹³å°ç›¸å…³#ifæŒ‡ä»¤ã€‚è€Œè®¾è®¡è€…çš„çœŸæ­£ç›®çš„æ˜¯å°†æ‰€æœ‰privateæˆå‘˜éšè—åœ¨.cppæ–‡ä»¶ä¸­ PImplæƒ¯ç”¨æ³•å°†æ‰€æœ‰privateæˆå‘˜æ”¾åœ¨ä¸€ä¸ªclass/structä¸­ï¼Œè¿™ä¸ªç±»åœ¨å¤´æ–‡ä»¶ä¸­ä»…åšå‰ç½®å£°æ˜ï¼Œåœ¨.cppä¸­å®šä¹‰ã€‚å¯ä»¥åƒä¸‹é¢è¿™æ ·ï¼Œåˆ©ç”¨pimplé‡æ„å‰é¢çš„å¤´æ–‡ä»¶ autotimer.h #include \u003cstring\u003e class AutoTimer // æ¥å£ç±» { public: explicit AutoTimer(const std::string \u0026name); ~AutoTimer(); private: class Impl; // å‰ç½®å£°æ˜ Impl *impl; // é€šè¿‡ç§æœ‰å†…åµŒç±», å°†å®ç°ç»†èŠ‚å°è£…åˆ°å†…åµŒç±»ä¸­ }; autotimer.cpp // autotimer.cpp #include \"autotimer.h\" #include \u003ciostream\u003e #if _WIN32 #include \u003cwindows.h\u003e #else #include \u003csys/time.h\u003e #endif class AutoTimer::Impl // å®ç°ç±» { public: double GetElapsed() const { #ifdef _WIN32 return (GetTickCount() - startTime_) / 1e3; #else struct timeval end_time; gettimeofday(\u0026end_time, NULL); double t1 = startTime_.tv_usec / 1e6 + startTime_.tv_sec; double t2 = end_time.tv_usec / 1e6 + end_time.tv_sec; return t2 - t1; #endif } std::string name_; #ifdef _WIN32 DWORD starTime_; #else struct timeval startTime_; #endif }; AutoTimer::AutoTimer(const std::string \u0026name) : impl_(new AutoTimer::Impl()) { impl_-\u003ename_ = name; #ifdef _WIN32 imp_-\u003estartTime_ = GetTickCount(); #else gettimeofday(\u0026impl_-\u003estartTime, NULL); #endif } AutoTimer::~AutoTimer() { std::cout \u003c\u003c impl_-\u003ename_ \u003c\u003c \": took \" \u003c\u003c impl_-\u003eGetElapsed() \u003c\u003c \" secs\" \u003c\u003c std::endl; delete impl_; impl_ = NULL; } è¿™æ ·ï¼Œå°†åŸæœ¬æš´éœ²åœ¨åŸæœ‰å¤´æ–‡ä»¶ä¸­çš„æ‰€æœ‰privateæ–¹æ³•å’Œæ•°æ®ï¼Œè½¬ç§»åˆ°äº†.cppæ–‡ä»¶ä¸­å®šä¹‰çš„AutoTimer::Implç±»ä¸­ å°†Implç±»ï¼ˆå®ç°ç±»ï¼‰å£°æ˜ä¸ºAutoTimerç±»çš„privateå†…åµŒç±»ï¼Œæ˜¯ä¸ºäº†é¿å…ä¸è¯¥å®ç°ç›¸å…³çš„ç¬¦å·æ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œåªæœ‰AutoTimerçš„æ–¹æ³•æ‰èƒ½è®¿é—®Implæˆå‘˜ åœ¨Implç±»ä¸­æ”¾å“ªäº›é€»è¾‘ï¼Ÿæ¥å£ç±»ä¸­æœ‰å“ªäº›éƒ¨åˆ†ï¼Œéœ€è¦æ”¾åˆ°Implç±»ä¸­ï¼Ÿ é€šå¸¸ï¼Œæœ‰ä»¥ä¸‹é€‰æ‹© ä»…privateæˆå‘˜å˜é‡ privateæˆå‘˜å˜é‡å’Œæ–¹æ³• æ‰€æœ‰publicæ–¹æ³•ã€‚æ¥å£ç±»ä¸­publicæ–¹æ³•åªæ˜¯å¯¹Implç±»ä¸­ç­‰ä»·æ–¹æ³•è¿›è¡Œç®€å•åŒ…è£… æ¨èç¬¬2é¡¹ï¼Œå°†priavetå˜é‡å’Œæ–¹æ³•éƒ½æ”¾åˆ°Implç±»ä¸­ï¼Œè¿™æ ·å¯ä»¥ä¿æŒæ•°æ®å’Œæ“ä½œè¿™äº›æ•°æ®çš„æ–¹æ³•çš„å°è£…æ€§ï¼Œä»è€Œé¿å…åœ¨publicå¤´æ–‡ä»¶ä¸­å£°æ˜privateæ–¹æ³•ã€‚ ä¸è¿‡ï¼Œæœ‰2é¡¹éœ€è¦æ³¨æ„ ä¸èƒ½åœ¨implç±»ä¸­éšè—privateè™šæ–¹æ³•ã€‚virtualæ–¹æ³•å¿…é¡»å‡ºç°åœ¨æ¥å£ç±»ä¸­ï¼Œä»¥ä¿è¯ä»»ä½•æ´¾ç”Ÿç±»éƒ½èƒ½è¦†ç›–å®ƒ è™½ç„¶å¯ä»¥å°†æ¥å£ç±»ä¼ é€’ç»™Implç±»çš„æ–¹æ³•ï¼Œä½†å¿…è¦æ—¶ï¼Œå¯ä»¥åœ¨Implç±»ä¸­å¢åŠ æŒ‡å›æ¥å£ç±»çš„æŒ‡é’ˆï¼Œä¾¿äºImplç±»è°ƒç”¨å…¬æœ‰æ–¹æ³• ","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/:2:0","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å¤åˆ¶è¯­ä¹‰ å¤åˆ¶ä½¿ç”¨PImplæƒ¯ç”¨æ³•çš„æ¥å£ç±»ï¼Œå­˜åœ¨æ½œåœ¨é£é™© å½“æ²¡æœ‰ä¸ºç±»æ˜¾å¼å®šä¹‰copyæ„é€ å‡½æ•°ã€assignmentè¿ç®—ç¬¦ï¼ˆoperator=ï¼‰æ—¶ï¼ŒC++ç¼–è¯‘å™¨ä¼šé»˜è®¤åˆ›å»ºï¼ˆtrivialç‰ˆæœ¬ï¼‰ã€‚ä½†è¿™ç§trivailç‰ˆæœ¬çš„copyæ„é€ å‡½æ•°ã€assigmentè¿ç®—ç¬¦ï¼Œåªèƒ½æ‰§è¡Œæµ…å¤åˆ¶ã€‚æ˜¾ç„¶ä¸åˆ©äºä½¿ç”¨PImplæƒ¯ç”¨æ³•ï¼Œå› ä¸ºå¦‚æœå®¢æˆ·å¤åˆ¶äº†æ¥å£ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆ2ä¸ªå¯¹è±¡å°±ä¼šæŒ‡å‘åŒä¸€ä¸ªImplå®ç°ç±»å¯¹è±¡ï¼Œææ„æ—¶ï¼Œå°±ä¼šåˆ é™¤åŒä¸€ä¸ªImplå¯¹è±¡2æ¬¡ï¼Œä»è€Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒ *é’ˆå¯¹è¯¥é—®é¢˜ï¼Œæœ‰2ç§å¯é€‰æ–¹æ¡ˆï¼š ç¦æ­¢å¤åˆ¶ç±» å¦‚æœä¸æ‰“ç®—è®©ç”¨æˆ·åˆ›å»ºæ¥å£ç±»å¯¹è±¡å‰¯æœ¬ï¼Œå¯ä»¥å°†å¯¹è±¡å£°æ˜ä¸ºä¸å¯å¤åˆ¶ã€‚ ç¦æ­¢ç¼–è¯‘å™¨ç”Ÿæˆé»˜è®¤copyå‡½æ•°ï¼Œæœ‰ä»¥ä¸‹å‡ ç§æ–¹æ³•ï¼š å°†æ–¹æ³•è®¾ä¸ºprivateï¼Œç¦æ­¢å®¢æˆ·è°ƒç”¨ å¦‚æœä½¿ç”¨Booståº“ï¼Œå¯ä»¥è®©æ¥å£ç±»ç»§æ‰¿è‡ªboost::noncopyable C++11ä»¥åï¼Œå¯ä»¥å°†æ–¹æ³•å£°æ˜ä¸º\"=delete\" æ˜¾å¼å®šä¹‰å¤åˆ¶è¯­ä¹‰ å¦‚æœå¸Œæœ›å®¢æˆ·èƒ½å¤åˆ¶é‡‡ç”¨PImplçš„å¯¹è±¡ï¼Œå°±åº”è¯¥å£°æ˜å¹¶å®šä¹‰è‡ªå·±çš„copyæ„é€ å‡½æ•°ã€assignmentè¿ç®—ç¬¦ï¼Œè¿›è¡Œå¯¹è±¡çš„æ·±æ‹·è´ï¼Œåˆ›å»ºImplå¯¹è±¡çš„å‰¯æœ¬ ä¸‹é¢å±•ç¤ºå¦‚ä½•ä½¿å¾—æ¥å£ç±»AutoTimerç¦æ­¢æ‹·è´ #include \u003cstring\u003e // æ–¹å¼1 class AutoTimer { public: explicit AutoTimer(const std::string \u0026name); ~AutoTimer(); private: // ä½¿å¯¹è±¡ä¸å¯å¤åˆ¶ AutoTimer(const AutoTimer\u0026); const AutoTimer\u0026 operator=(const AutoTimer\u0026); class Impl; Impl *impl_; }; // æ–¹å¼2 class AutoTimer : boost::noncopyable // ä½¿å¯¹è±¡ä¸å¯å¤åˆ¶ { public: explicit AutoTimer(const std::string \u0026name); ~AutoTimer(); private: class Impl; Impl *impl_; }; // æ–¹å¼3 class AutoTimer : boost::noncopyable { public: explicit AutoTimer(const std::string \u0026name); ~AutoTimer(); private: // ä½¿å¯¹è±¡ä¸å¯å¤åˆ¶ AutoTimer(const AutoTimer\u0026) = delete; const AutoTimer\u0026 operator=(const AutoTimer\u0026)= delete; class Impl; Impl *impl_; }; ","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/:3:0","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"PImplä¸æ™ºèƒ½æŒ‡é’ˆ è¯¦æƒ…å¯ä»¥çœ‹ã€ŠEffective Modern c++ æ¡æ¬¾22ã€‹ ","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/:4:0","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"PImplä¼˜ç‚¹ ä¿¡æ¯éšè— å®ç°ç»†èŠ‚å¯ä»¥éšè—åˆ°Implç±»å®ç°ä¸­ï¼Œä¿æŠ¤é—­æºAPIä¸“æœ‰æ€§ã€‚åŒæ—¶ï¼Œæ¥å£å¤´æ–‡ä»¶ä¹Ÿèƒ½æ›´å¹²å‡€ã€æ¸…æ™°è¡¨è¾¾çœŸæ­£çš„å…¬æœ‰æ¥å£ï¼Œæ˜“äºé˜…è¯»å’Œç†è§£ é™ä½è€¦åˆ æ¥å£ç±»åªç”¨çŸ¥é“Implç±»å³å¯ï¼Œä¸ç”¨åŒ…å«ç§æœ‰æˆå‘˜å˜é‡æ‰€éœ€å¤´æ–‡ä»¶ï¼Œä¹Ÿä¸å¿…åŒ…å«å¹³å°ä¾èµ–çš„windows.hæˆ–sys/time.hã€‚ åŠ é€Ÿç¼–è¯‘ å°†å®ç°ç›¸å…³å¤´æ–‡ä»¶ç§»å…¥.cppï¼ŒAPIçš„å¼•ç”¨å±‚æ¬¡é™ä½ï¼Œä¼šå¯¼è‡´ç¼–è¯‘æ—¶é—´å‡å°‘ã€‚ æ›´å¥½çš„äºŒè¿›åˆ¶å…¼å®¹æ€§ é‡‡ç”¨PImplçš„å¯¹è±¡å¤§å°ä»ä¸æ”¹å˜ï¼Œå› ä¸ºå¯¹è±¡æ€»æ˜¯å•ä¸ªæŒ‡é’ˆå¤§å°ã€‚å¯¹ç§æœ‰æˆå‘˜å˜é‡åšä»»ä½•ä¿®æ”¹ï¼Œéƒ½åªå½±å“éšè—åœ¨cppæ–‡ä»¶å†…çš„å®ç°ç±»å¤§å°ã€‚è€Œå¯¹è±¡çš„äºŒè¿›åˆ¶è¡¨ç¤ºå¯ä»¥ä¸å˜ æƒ°æ€§åˆ†é… Implç±»å¯ä»¥åœ¨éœ€è¦æ—¶å†æ„é€ ï¼Œè€Œä¸å¿…åœ¨æ¥å£ç±»æ„é€ æ—¶ç«‹å³æ„é€ ã€‚ ","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/:5:0","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"PImplç¼ºç‚¹ å¿…é¡»ä¸ºä½ åˆ›å»ºçš„æ¯ä¸ªå¯¹è±¡åˆ†é…å¹¶é‡Šæ”¾å®ç°å¯¹è±¡ã€‚è¿™ä½¿å¾—å¯¹è±¡å¢åŠ äº†ä¸€ä¸ªæŒ‡é’ˆï¼ˆImpl implï¼‰ï¼ŒåŒæ—¶å¢åŠ äº†é€šè¿‡æŒ‡é’ˆè®¿é—®æˆå‘˜çš„å¼€é”€ï¼Œå¢åŠ äº†newå’Œdeleteå¯¹è±¡çš„å¼€é”€* å¿…é¡»é€šè¿‡impl-\u003eçš„å½¢å¼è®¿é—®ç§æœ‰æˆå‘˜ï¼Œç»™å¼€å‘äººå‘˜å¸¦æ¥äº†ä¸ä¾¿ã€‚ ç¼–è¯‘å™¨ä¸èƒ½æ•è·æ¥å£ç±»ä¸­constå¯¹æˆå‘˜å˜é‡ä¿®æ”¹ã€‚å› ä¸ºæˆå‘˜å˜é‡ç°åœ¨å­˜åœ¨äºç‹¬ç«‹çš„å¯¹è±¡ï¼ˆimplæŒ‡é’ˆæ‰€æŒ‡å¯¹è±¡ï¼‰ä¸­ã€‚ç¼–è¯‘å™¨ä»…æ£€æŸ¥implæŒ‡é’ˆæ˜¯å¦å‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸ä¼šæ£€æŸ¥å…¶æˆå‘˜ã€‚ ","date":"2023-03-18","objectID":"/%E7%BC%98%E8%B5%B7-pimpl/:6:0","tags":["PImpl"],"title":"PImpl","uri":"/%E7%BC%98%E8%B5%B7-pimpl/"},{"categories":["C++"],"content":"inline ","date":"2023-03-17","objectID":"/c-inline/:0:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"ä»€ä¹ˆæ˜¯å†…è”å‡½æ•°-inline å¼•å‡º å‡½æ•°æ˜¯ä¸€ä¸ªå¯ä»¥é‡å¤ä½¿ç”¨çš„ä»£ç å—ï¼ŒCPU ä¼šä¸€æ¡ä¸€æ¡åœ°æŒ¨ç€æ‰§è¡Œå…¶ä¸­çš„ä»£ç ã€‚CPU åœ¨æ‰§è¡Œä¸»è°ƒå‡½æ•°ä»£ç æ—¶å¦‚æœé‡åˆ°äº†è¢«è°ƒå‡½æ•°ï¼Œä¸»è°ƒå‡½æ•°å°±ä¼šæš‚åœï¼ŒCPU è½¬è€Œæ‰§è¡Œè¢«è°ƒå‡½æ•°çš„ä»£ç ï¼›è¢«è°ƒå‡½æ•°æ‰§è¡Œå®Œæ¯•åå†è¿”å›åˆ°ä¸»è°ƒå‡½æ•°ï¼Œä¸»è°ƒå‡½æ•°æ ¹æ®åˆšæ‰çš„çŠ¶æ€ç»§ç»­å¾€ä¸‹æ‰§è¡Œ ä¸€ä¸ª C/C++ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹å¯ä»¥è®¤ä¸ºæ˜¯å¤šä¸ªå‡½æ•°ä¹‹é—´çš„ç›¸äº’è°ƒç”¨è¿‡ç¨‹ï¼Œå®ƒä»¬å½¢æˆäº†ä¸€ä¸ªæˆ–ç®€å•æˆ–å¤æ‚çš„è°ƒç”¨é“¾æ¡ï¼Œè¿™ä¸ªé“¾æ¡çš„èµ·ç‚¹æ˜¯ main()ï¼Œç»ˆç‚¹ä¹Ÿæ˜¯ main()ã€‚å½“ main() è°ƒç”¨å®Œäº†æ‰€æœ‰çš„å‡½æ•°ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªå€¼ï¼ˆä¾‹å¦‚return 0;ï¼‰æ¥ç»“æŸè‡ªå·±çš„ç”Ÿå‘½ï¼Œä»è€Œç»“æŸæ•´ä¸ªç¨‹åº å‡½æ•°è°ƒç”¨æ˜¯æœ‰æ—¶é—´å’Œç©ºé—´å¼€é”€çš„ã€‚ç¨‹åºåœ¨æ‰§è¡Œä¸€ä¸ªå‡½æ•°ä¹‹å‰éœ€è¦åšä¸€äº›å‡†å¤‡å·¥ä½œï¼Œè¦å°†å®å‚ã€å±€éƒ¨å˜é‡ã€è¿”å›åœ°å€ä»¥åŠè‹¥å¹²å¯„å­˜å™¨éƒ½å‹å…¥æ ˆä¸­ï¼Œç„¶åæ‰èƒ½æ‰§è¡Œå‡½æ•°ä½“ä¸­çš„ä»£ç ï¼›å‡½æ•°ä½“ä¸­çš„ä»£ç æ‰§è¡Œå®Œæ¯•åè¿˜è¦æ¸…ç†ç°åœºï¼Œå°†ä¹‹å‰å‹å…¥æ ˆä¸­çš„æ•°æ®éƒ½å‡ºæ ˆï¼Œæ‰èƒ½æ¥ç€æ‰§è¡Œå‡½æ•°è°ƒç”¨ä½ç½®ä»¥åçš„ä»£ç  å¦‚æœå‡½æ•°ä½“ä»£ç æ¯”è¾ƒå¤šï¼Œéœ€è¦è¾ƒé•¿çš„æ‰§è¡Œæ—¶é—´ï¼Œé‚£ä¹ˆå‡½æ•°è°ƒç”¨æœºåˆ¶å ç”¨çš„æ—¶é—´å¯ä»¥å¿½ç•¥ï¼›å¦‚æœå‡½æ•°åªæœ‰ä¸€ä¸¤æ¡è¯­å¥ï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†çš„æ—¶é—´éƒ½ä¼šèŠ±è´¹åœ¨å‡½æ•°è°ƒç”¨æœºåˆ¶ä¸Šï¼Œè¿™ç§æ—¶é—´å¼€é”€å°±å°±ä¸å®¹å¿½è§† ä¸ºäº†æ¶ˆé™¤å‡½æ•°è°ƒç”¨çš„æ—¶ç©ºå¼€é”€ï¼ŒC++ æä¾›ä¸€ç§æé«˜æ•ˆç‡çš„æ–¹æ³•ï¼Œå³åœ¨ç¼–è¯‘æ—¶å°†å‡½æ•°è°ƒç”¨å¤„ç”¨å‡½æ•°ä½“æ›¿æ¢ï¼Œç±»ä¼¼äºCè¯­è¨€ä¸­çš„å®å±•å¼€ã€‚è¿™ç§åœ¨å‡½æ•°è°ƒç”¨å¤„ç›´æ¥åµŒå…¥å‡½æ•°ä½“çš„å‡½æ•°ç§°ä¸ºå†…è”å‡½æ•°ï¼ˆInline Functionï¼‰ï¼Œåˆç§°å†…åµŒå‡½æ•°æˆ–è€…å†…ç½®å‡½æ•° æ€ä¹ˆå®šä¹‰å†…è”å‡½æ•° #include \u003ciostream\u003e using namespace std; //å†…è”å‡½æ•°ï¼Œäº¤æ¢ä¸¤ä¸ªæ•°çš„å€¼ inline void swap(int *a, int *b){ int temp; temp = *a; *a = *b; *b = temp; } int main(){ int m, n; cin\u003e\u003em\u003e\u003en; cout\u003c\u003cm\u003c\u003c\", \"\u003c\u003cn\u003c\u003cendl; swap(\u0026m, \u0026n); cout\u003c\u003cm\u003c\u003c\", \"\u003c\u003cn\u003c\u003cendl; return 0; } å†…è”å‡½æ•°è¦æ³¨æ„çš„ç‚¹ è¦åœ¨å‡½æ•°å®šä¹‰å¤„æ·»åŠ  inline å…³é”®å­—ï¼Œåœ¨å‡½æ•°å£°æ˜å¤„æ·»åŠ  inline å…³é”®å­—è™½ç„¶æ²¡æœ‰é”™ï¼Œä½†è¿™ç§åšæ³•æ˜¯æ— æ•ˆçš„ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥å‡½æ•°å£°æ˜å¤„çš„ inline å…³é”®å­— å¯¹å‡½æ•°ä½œ inline å£°æ˜åªæ˜¯ç¨‹åºå‘˜å¯¹ç¼–è¯‘å™¨æå‡ºçš„ä¸€ä¸ªå»ºè®®ï¼Œè€Œä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œå¹¶éä¸€ç»æŒ‡å®šä¸º inline ç¼–è¯‘å™¨å°±å¿…é¡»è¿™æ ·åšã€‚ç¼–è¯‘å™¨æœ‰è‡ªå·±çš„åˆ¤æ–­èƒ½åŠ›ï¼Œå®ƒä¼šæ ¹æ®å…·ä½“æƒ…å†µå†³å®šæ˜¯å¦è¿™æ ·åš å†…è”å‡½æ•°çš„å‘ ä½¿ç”¨å†…è”å‡½æ•°çš„ç¼ºç‚¹ä¹Ÿæ˜¯éå¸¸æ˜æ˜¾çš„ï¼Œç¼–è¯‘åçš„ç¨‹åºä¼šå­˜åœ¨å¤šä»½ç›¸åŒçš„å‡½æ•°æ‹·è´ï¼Œå¦‚æœè¢«å£°æ˜ä¸ºå†…è”å‡½æ•°çš„å‡½æ•°ä½“éå¸¸å¤§ï¼Œé‚£ä¹ˆç¼–è¯‘åçš„ç¨‹åºä½“ç§¯ä¹Ÿå°†ä¼šå˜å¾—å¾ˆå¤§ï¼Œæ‰€ä»¥å†æ¬¡å¼ºè°ƒï¼Œä¸€èˆ¬åªå°†é‚£äº›çŸ­å°çš„ã€é¢‘ç¹è°ƒç”¨çš„å‡½æ•°å£°æ˜ä¸ºå†…è”å‡½æ•° ","date":"2023-03-17","objectID":"/c-inline/:1:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"inline å·¥ä½œåŸç† inline ä¸æ˜¯åœ¨è°ƒç”¨æ—¶å‘ç”Ÿæ§åˆ¶è½¬ç§»å…³ç³»ï¼Œè€Œæ˜¯åœ¨ç¼–è¯‘é˜¶æ®µå°†å‡½æ•°ä½“åµŒå…¥åˆ°æ¯ä¸€ä¸ªè°ƒç”¨è¯¥å‡½æ•°çš„è¯­å¥å—ä¸­ï¼Œç¼–è¯‘å™¨ä¼šå°†ç¨‹åºä¸­å‡ºç°inlineçš„è°ƒç”¨è¡¨è¾¾å¼ç”¨å†…è”å‡½æ•°çš„å‡½æ•°ä½“æ¥æ›¿æ¢ï¼Œæ™®é€šå‡½æ•°è°ƒç”¨æ—¶ï¼Œéœ€è¦åˆ‡æ¢æ ˆå¸§å¯„å­˜å™¨ï¼ŒåŒæ—¶æ ˆä¸­å‹å…¥å‚æ•°ï¼Œè¿”å›å€¼ï¼Œç„¶åè·³è½¬ï¼Œè¿™äº›éƒ½éœ€è¦å¼€é”€ï¼Œè€Œå†…è”å‡½æ•°ä¸è¦è¿™äº›å¼€é”€ï¼Œç›´æ¥å°†å†…è”å‡½æ•°ä¸­å‡½æ•°ä½“ç›´æ¥æ’å…¥æˆ–è€…æ›¿æ¢åˆ°è¯¥å‡½æ•°è°ƒç”¨ç‚¹ æ™®é€šå‡½æ•°æ˜¯å°†ç¨‹åºæ‰§è¡Œè½¬ç§»åˆ°è¢«è°ƒç”¨å‡½æ•°æ‰€å­˜æ”¾çš„å†…å­˜åœ°å€ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œåï¼Œè¿”å›åˆ°æ‰§è¡Œæ­¤å‡½æ•°å‰çš„åœ°æ–¹ã€‚è½¬ç§»æ“ä½œéœ€è¦ä¿æŠ¤ç°åœºï¼Œè¢«è°ƒå‡½æ•°æ‰§è¡Œå®Œåï¼Œå†æ¢å¤ç°åœºï¼Œè¯¥è¿‡ç¨‹éœ€è¦è¾ƒå¤§çš„èµ„æºå¼€é”€ è™½ç„¶å†…è”å‡½æ•°åœ¨è°ƒç”¨æ—¶ç›´æ¥è¿›è¡Œå±•å¼€ï¼Œä½†å®é™…åœ¨ç¼–è¯‘åä»£ç ä¸­å­˜åœ¨å†…è”å‡½æ•°çš„å®šä¹‰ï¼Œå¯ä»¥ä¾›ç¼–è¯‘å™¨è¿›è¡Œè°ƒç”¨ã€‚æ™®é€šå‡½æ•°å¯ä»¥æœ‰æŒ‡å‘å®ƒçš„å‡½æ•°æŒ‡é’ˆï¼Œå†…æ•›å‡½æ•°ä¹Ÿå¯ä»¥æœ‰æŒ‡å‘å®ƒçš„å‡½æ•°æŒ‡é’ˆ ","date":"2023-03-17","objectID":"/c-inline/:2:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"inlineçš„ä¼˜ç‚¹ ä¸ä¼šäº§ç”Ÿå‡½æ•°è°ƒç”¨å¼€é”€ã€‚èŠ‚çœäº†è°ƒç”¨å‡½æ•°æ—¶åœ¨å †æ ˆä¸Šæ¨é€/å¼¹å‡ºå˜é‡çš„å¼€é”€ã€‚èŠ‚çœäº†å‡½æ•°è¿”å›è°ƒç”¨çš„å¼€é”€ã€‚ å½“ä½ inlineä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä½ å¯ä»¥è®©ç¼–è¯‘å™¨å¯¹å‡½æ•°ä½“æ‰§è¡Œä¸Šä¸‹æ–‡ç‰¹å®šçš„ä¼˜åŒ–ï¼Œå…¶ä»–ä¼˜åŒ–å¯ä»¥é€šè¿‡è€ƒè™‘è°ƒç”¨ä¸Šä¸‹æ–‡å’Œè¢«è°ƒç”¨ä¸Šä¸‹æ–‡çš„æµç¨‹æ¥è·å¾—ï¼Œè€Œå¯¹äºæ™®é€šå‡½æ•°ä¸ä¼šæœ‰è¿™ç§ä¼˜åŒ– ","date":"2023-03-17","objectID":"/c-inline/:3:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"inlineçš„ç¼ºç‚¹ ä»å†…è”å‡½æ•°ä¸­æ·»åŠ çš„å˜é‡ä¼šæ¶ˆè€—é¢å¤–çš„å¯„å­˜å™¨ï¼Œåœ¨å†…è”å‡½æ•°ä¹‹åï¼Œå¦‚æœè¦ä½¿ç”¨å¯„å­˜å™¨çš„å˜é‡æ•°é‡å¢åŠ ï¼Œåˆ™å¯èƒ½ä¼šåœ¨å¯„å­˜å™¨å˜é‡èµ„æºåˆ©ç”¨æ–¹é¢äº§ç”Ÿå¼€é”€ï¼Œåœ¨å‡½æ•°è°ƒç”¨ç‚¹æ›¿æ¢å†…è”å‡½æ•°ä½“æ—¶ï¼Œå‡½æ•°ä½¿ç”¨çš„å˜é‡æ€»æ•°ä¹Ÿä¼šå¢åŠ ï¼Œç”¨äºå­˜å‚¨å˜é‡çš„å¯„å­˜å™¨æ•°é‡ä¹Ÿä¼šå¢åŠ  å¦‚æœä½ ä½¿ç”¨å¤ªå¤šçš„å†…è”å‡½æ•°ï¼Œé‚£ä¹ˆäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ä¼šå¾ˆå¤§ï¼Œå› ä¸ºç›¸åŒçš„ä»£ç é‡å¤ è¿‡å¤šçš„å†…è”ä¹Ÿä¼šé™ä½æŒ‡ä»¤ç¼“å­˜å‘½ä¸­ç‡ï¼Œä»è€Œé™ä½ä»ç¼“å­˜å†…å­˜åˆ°ä¸»å†…å­˜çš„æŒ‡ä»¤è·å–é€Ÿåº¦ å¦‚æœæœ‰äººæ›´æ”¹å†…è”å‡½æ•°å†…çš„ä»£ç ï¼Œå†…è”å‡½æ•°å¯èƒ½ä¼šå¢åŠ ç¼–è¯‘æ—¶é—´å¼€é”€ï¼Œé‚£ä¹ˆæ‰€æœ‰è°ƒç”¨ä½ç½®éƒ½å¿…é¡»é‡æ–°ç¼–è¯‘ï¼Œå› ä¸ºç¼–è¯‘å™¨éœ€è¦å†æ¬¡æ›¿æ¢æ‰€æœ‰ä»£ç ï¼Œå¦åˆ™å®ƒå°†ç»§ç»­ä½¿ç”¨æ—§åŠŸèƒ½ å†…è”å‡½æ•°å¯èƒ½ä¼šå¯¼è‡´æŠ–åŠ¨ï¼Œå› ä¸ºå†…è”å¯èƒ½ä¼šå¢åŠ äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„å¤§å°ã€‚å†…å­˜æŠ–åŠ¨ä¼šå¯¼è‡´è®¡ç®—æœºæ€§èƒ½ä¸‹é™ ","date":"2023-03-17","objectID":"/c-inline/:4:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"inlineçš„ä½¿ç”¨åœºæ™¯ å†…è”å‡½æ•°ä¸€èˆ¬åªé€‚ç”¨äºæ¯”è¾ƒçŸ­å°ï¼Œå¤„ç†è¾ƒä¸ºç®€å•çš„å‡½æ•°ã€‚å†…è”åªæ˜¯å¯¹ç¼–è¯‘å™¨çš„è¯·æ±‚ï¼Œè€Œä¸æ˜¯å‘½ä»¤ã€‚ç¼–è¯‘å™¨å¯ä»¥å¿½ç•¥å†…è”è¯·æ±‚ã€‚ç¼–è¯‘å™¨å¯èƒ½ä¸ä¼šåœ¨ä»¥ä¸‹æƒ…å†µä¸‹æ‰§è¡Œå†…è” å¦‚æœå‡½æ•°åŒ…å«å¾ªç¯ï¼ˆfor, while, do-whileï¼‰ï¼› å¦‚æœä¸€ä¸ªå‡½æ•°åŒ…å«é™æ€å˜é‡ï¼› å¦‚æœä¸€ä¸ªå‡½æ•°æ˜¯é€’å½’çš„ï¼› å¦‚æœå‡½æ•°è¿”å›ç±»å‹ä¸æ˜¯ voidï¼Œå¹¶ä¸”å‡½æ•°ä½“ä¸­ä¸å­˜åœ¨ return è¯­å¥ï¼› å¦‚æœå‡½æ•°åŒ…å« switch æˆ– goto è¯­å¥ï¼› ","date":"2023-03-17","objectID":"/c-inline/:5:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"c++å†…è”å‡½æ•°ä¹Ÿå¯ä»¥ç”¨æ¥ä»£æ›¿å® å…ˆæ¥è®²è®²å® ä½¿ç”¨å®çš„ä¸€ä¸ªç»å…¸ä¾‹å­æ˜¯æ±‚ä¸€ä¸ªæ•°çš„å¹³æ–¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š #include \u003ciostream\u003e using namespace std; #define SQ(y) y*y int main(){ int n, sq; cin\u003e\u003en; sq = SQ(n); cout\u003c\u003csq\u003c\u003cendl; return 0; } // è¿è¡Œç»“æœ 9â†™ 81 çœ‹è¿è¡Œç»“æœæ˜¯æ²¡æœ‰å•¥é—®é¢˜çš„ï¼Œä½†æ˜¯å½“æˆ‘ä»¬å°†å®è°ƒç”¨ SQ(n) æ¢æˆ SQ(n+1) åï¼Œå°±ä¼šå‡ºç°æ„æƒ³ä¸åˆ°çš„çŠ¶å†µ #include \u003ciostream\u003e using namespace std; #define SQ(y) y*y int main(){ int n, sq; cin\u003e\u003en; sq = SQ(n+1); cout\u003c\u003csq\u003c\u003cendl; return 0; } // è¿è¡Œç»“æœ 9â†™ 19 æˆ‘ä»¬æœŸæœ›çš„ç»“æœæ˜¯ 100ï¼Œä½†è¿™é‡Œå´æ˜¯ 19ï¼Œä¸¤è€…å¤§ç›¸å¾„åº­ã€‚è¿™æ˜¯å› ä¸ºï¼Œå®å±•å¼€ä»…ä»…æ˜¯å­—ç¬¦ä¸²çš„æ›¿æ¢ï¼Œä¸ä¼šè¿›è¡Œä»»ä½•è®¡ç®—æˆ–ä¼ å€¼ï¼Œä¸Šé¢çš„ sq = SQ(n+1); åœ¨å®å±•å¼€åä¼šå˜ä¸ºsq = n+1*n+1;ï¼Œè¿™æ˜¾ç„¶æ˜¯æ²¡æœ‰é“ç†çš„ å¦‚æœå¸Œæœ›å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œåº”è¯¥å°†å®å®šä¹‰æ”¹ä¸ºå¦‚ä¸‹çš„å½¢å¼ï¼š #define SQ(y) (y)*(y) è¿™æ ·å®è°ƒç”¨ sq = SQ(n+1); å°±ä¼šå±•å¼€ä¸º sq = (n+1)*(n+1);ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯ 100ã€‚ å¦‚æœä½ è®¤ä¸ºè¿™æ ·å°±ä¸‡äº‹å¤§å‰äº†ï¼Œé‚£ä¸‹é¢çš„ç»“æœä¼šè®©ä½ è§‰å¾—è€ƒè™‘ä¸å‘¨ï¼š #include \u003ciostream\u003e using namespace std; #define SQ(y) (y)*(y) int main(){ int n, sq; cin\u003e\u003en; sq = 200 / SQ(n+1); cout\u003c\u003csq\u003c\u003cendl; return 0; } 9â†™ 200 ä¹‹æ‰€ä»¥ä¼šå‡ºç°è¿™ä¹ˆå¥‡æ€ªçš„ç»“æœï¼Œæ˜¯å› ä¸ºå®è°ƒç”¨ sq = 200 / SQ(n+1); ä¼šè¢«å±•å¼€ä¸ºsq = 200 / (n+1) * (n+1);ï¼Œå½“ n è¢«èµ‹å€¼ 9 åï¼Œç›¸å½“äº sq = 200 / 10 * 10ï¼Œç»“æœæ˜¾ç„¶æ˜¯ 200 è¦æƒ³å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œè¿˜åº”è¯¥å¯¹å®åŠ ä»¥é™åˆ¶ï¼Œåœ¨ä¸¤è¾¹å¢åŠ  ( )ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š #define SQ(y) ( (y)*(y) ) è¿™æ ·å®è°ƒç”¨ sq = 200 / SQ(n+1); å°±ä¼šå±•å¼€ä¸ºsq = 200 / ( (n+1) * (n+1) );ï¼Œå¾—åˆ°çš„ç»“æœå°±æ˜¯ 2 è¯´äº†è¿™ä¹ˆå¤šï¼Œæˆ‘æœ€ç»ˆæƒ³å¼ºè°ƒçš„æ˜¯ï¼Œå®å®šä¹‰æ˜¯ä¸€é¡¹ â€œç»†æ€æå¯†â€ çš„å·¥ä½œï¼Œä¸€ä¸å°å¿ƒå°±ä¼šè¸©å‘ï¼Œè€Œä¸”ä¸ä¸€å®šåœ¨ç¼–è¯‘å’Œè¿è¡Œæ—¶å‘ç°ï¼Œç»™ç¨‹åºåŸ‹ä¸‹éšæ‚£ å¦‚æœåœ¨ 1 çš„åŸºç¡€ä¸Šå°†å®æ›¿æ¢æˆ inlineå‡½æ•°å‘¢ #include \u003ciostream\u003e using namespace std; inline int SQ(int y){ return y*y; } int main(){ int n, sq; cin\u003e\u003en; //SQ(n) sq = SQ(n); cout\u003c\u003csq\u003c\u003cendl; //SQ(n+1) sq = SQ(n+1); cout\u003c\u003csq\u003c\u003cendl; //200 / SQ(n+1) sq = 200 / SQ(n+1); cout\u003c\u003csq\u003c\u003cendl; return 0; } 9â†™ 81 100 2 çœ‹ï¼Œä¸€åˆ‡é—®é¢˜è¿åˆƒè€Œè§£ï¼å‘ç”Ÿå‡½æ•°è°ƒç”¨æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå…ˆå¯¹å®å‚è¿›è¡Œè®¡ç®—ï¼Œå†å°†è®¡ç®—çš„ç»“æœä¼ é€’ç»™å½¢å‚ï¼Œå¹¶ä¸”å‡½æ•°æ‰§è¡Œå®Œæ¯•åä¼šå¾—åˆ°ä¸€ä¸ªå€¼ï¼Œè€Œä¸æ˜¯å¾—åˆ°ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œè¿™å’Œç®€å•çš„å­—ç¬¦ä¸²æ›¿æ¢ç›¸æ¯”çœå»äº†å¾ˆå¤šéº»çƒ¦ï¼Œæ‰€ä»¥åœ¨ç¼–å†™ C++ ä»£ç æ—¶æˆ‘æ¨èä½¿ç”¨å†…è”å‡½æ•°æ¥æ›¿æ¢å¸¦å‚æ•°çš„å® ä½¿ç”¨inlineå‡½æ•°æ›¿æ¢å®çš„ä¼˜ç‚¹ å’Œå®ä¸€æ ·ï¼Œå†…è”å‡½æ•°å¯ä»¥å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­ï¼ˆä¸ç”¨åŠ  static å…³é”®å­—ï¼‰ï¼Œå¹¶ä¸”å¤´æ–‡ä»¶è¢«å¤šæ¬¡#include åä¹Ÿä¸ä¼šå¼•å‘é‡å¤å®šä¹‰é”™è¯¯ã€‚è¿™ä¸€ç‚¹å’Œéå†…è”å‡½æ•°ä¸åŒï¼Œéå†…è”å‡½æ•°æ˜¯ç¦æ­¢å®šä¹‰åœ¨å¤´æ–‡ä»¶ä¸­çš„ï¼Œå®ƒæ‰€åœ¨çš„å¤´æ–‡ä»¶è¢«å¤šæ¬¡#include åä¼šå¼•å‘é‡å¤å®šä¹‰é”™è¯¯ å†…è”å‡½æ•°åœ¨ç¼–è¯‘æ—¶ä¼šå°†å‡½æ•°è°ƒç”¨å¤„ç”¨å‡½æ•°ä½“æ›¿æ¢ï¼Œç¼–è¯‘å®Œæˆåå‡½æ•°å°±ä¸å­˜åœ¨äº†ï¼Œæ‰€ä»¥åœ¨é“¾æ¥æ—¶ä¸ä¼šå¼•å‘é‡å¤å®šä¹‰é”™è¯¯ã€‚è¿™ä¸€ç‚¹å’Œå®å¾ˆåƒï¼Œå®åœ¨é¢„å¤„ç†æ—¶è¢«å±•å¼€ï¼Œç¼–è¯‘æ—¶å°±ä¸å­˜åœ¨äº†ã€‚ä»è¿™ä¸ªè§’åº¦è®²ï¼Œå†…è”å‡½æ•°æ›´åƒæ˜¯ç¼–è¯‘æœŸé—´çš„å® ","date":"2023-03-17","objectID":"/c-inline/:6:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"inlineçš„è§„èŒƒ inline æ˜¯ä¸€ç§\"ç”¨äºå®ç°çš„å…³é”®å­—\"ï¼Œè€Œä¸æ˜¯ä¸€ç§\"ç”¨äºå£°æ˜çš„å…³é”®å­—\" inline å…³é”®å­—å¯ä»¥åªåœ¨å‡½æ•°å®šä¹‰å¤„æ·»åŠ ï¼Œä¹Ÿå¯ä»¥åªåœ¨å‡½æ•°å£°æ˜å¤„æ·»åŠ ï¼Œä¹Ÿå¯ä»¥åŒæ—¶æ·»åŠ ï¼›ä½†æ˜¯åœ¨å‡½æ•°å£°æ˜å¤„æ·»åŠ  inline å…³é”®å­—æ˜¯æ— æ•ˆçš„ï¼Œç¼–è¯‘å™¨ä¼šå¿½ç•¥å‡½æ•°å£°æ˜å¤„çš„ inline å…³é”®å­— æ›´ä¸ºä¸¥æ ¼åœ°è¯´ï¼Œå†…è”å‡½æ•°ä¸åº”è¯¥æœ‰å£°æ˜ï¼Œåº”è¯¥å°†å‡½æ•°å®šä¹‰æ”¾åœ¨æœ¬åº”è¯¥å‡ºç°å‡½æ•°å£°æ˜çš„åœ°æ–¹ï¼Œè¿™æ˜¯ä¸€ç§è‰¯å¥½çš„ç¼–ç¨‹é£æ ¼ å°†å†…è”å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰åˆ†æ•£åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ä¼šå‡ºé”™ åœ¨å¤šæ–‡ä»¶ç¼–ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸å°†å‡½æ•°çš„å®šä¹‰æ”¾åœ¨æºæ–‡ä»¶ä¸­ï¼Œå°†å‡½æ•°çš„å£°æ˜æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå¸Œæœ›è°ƒç”¨å‡½æ•°æ—¶ï¼Œå¼•å…¥å¯¹åº”çš„å¤´æ–‡ä»¶å³å¯ï¼Œæˆ‘ä»¬é¼“åŠ±è¿™ç§å°†å‡½æ•°å®šä¹‰å’Œå‡½æ•°å£°æ˜åˆ†å¼€çš„åšæ³•ã€‚ä½†è¿™ç§åšæ³•ä¸é€‚ç”¨äºå†…è”å‡½æ•°ï¼Œå°†å†…è”å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰åˆ†æ•£åˆ°ä¸åŒçš„æ–‡ä»¶ä¸­ä¼šå‡ºé”™ï¼Œè¯·çœ‹ä¸‹é¢çš„ä¾‹å­ main.cpp ä»£ç  #include \u003ciostream\u003e using namespace std; //å†…è”å‡½æ•°å£°æ˜ void func(); int main(){ func(); return 0; } module.cpp ä»£ç  #include \u003ciostream\u003e using namespace std; //å†…è”å‡½æ•°å®šä¹‰ inline void func(){ cout\u003c\u003c\"inline function\"\u003c\u003cendl; } ä¸Šé¢çš„ä»£ç èƒ½å¤Ÿæ­£å¸¸ç¼–è¯‘ï¼Œä½†åœ¨é“¾æ¥æ—¶ä¼šå‡ºé”™ã€‚func() æ˜¯å†…è”å‡½æ•°ï¼Œç¼–è¯‘æœŸé—´ä¼šç”¨å®ƒæ¥æ›¿æ¢å‡½æ•°è°ƒç”¨å¤„ï¼Œç¼–è¯‘å®Œæˆåå‡½æ•°å°±ä¸å­˜åœ¨äº†ï¼Œé“¾æ¥å™¨åœ¨å°†å¤šä¸ªç›®æ ‡æ–‡ä»¶ï¼ˆ.oæˆ–.objæ–‡ä»¶ï¼‰åˆå¹¶æˆä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶æ—¶æ‰¾ä¸åˆ° func() å‡½æ•°çš„å®šä¹‰ï¼Œæ‰€ä»¥ä¼šäº§ç”Ÿé“¾æ¥é”™è¯¯ å†…è”å‡½æ•°è™½ç„¶å«åšå‡½æ•°ï¼Œåœ¨å®šä¹‰å’Œå£°æ˜çš„è¯­æ³•ä¸Šä¹Ÿå’Œæ™®é€šå‡½æ•°ä¸€æ ·ï¼Œä½†å®ƒå·²ç»å¤±å»äº†å‡½æ•°çš„æœ¬è´¨ å‡½æ•°æ˜¯ä¸€æ®µå¯ä»¥é‡å¤ä½¿ç”¨çš„ä»£ç ï¼Œå®ƒä½äºè™šæ‹Ÿåœ°å€ç©ºé—´ä¸­çš„ä»£ç åŒºï¼Œä¹Ÿå ç”¨å¯æ‰§è¡Œæ–‡ä»¶çš„ä½“ç§¯ï¼Œè€Œå†…è”å‡½æ•°çš„ä»£ç åœ¨ç¼–è¯‘åå°±è¢«æ¶ˆé™¤äº†ï¼Œä¸å­˜åœ¨äºè™šæ‹Ÿåœ°å€ç©ºé—´ä¸­ï¼Œæ²¡æ³•é‡å¤ä½¿ç”¨ è§„èŒƒå°ç»“ å†…è”å‡½æ•°çœ‹èµ·æ¥ç®€å•ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šç»†èŠ‚éœ€è¦æ³¨æ„ï¼Œä»ä»£ç é‡å¤åˆ©ç”¨çš„è§’åº¦è®²ï¼Œå†…è”å‡½æ•°å·²ç»ä¸å†æ˜¯å‡½æ•°äº†ã€‚æˆ‘è®¤ä¸ºå°†å†…è”å‡½æ•°ä½œä¸ºå¸¦å‚å®çš„æ›¿ä»£æ–¹æ¡ˆæ›´ä¸ºé è°±ï¼Œè€Œä¸æ˜¯çœŸçš„å½“åšå‡½æ•°ä½¿ç”¨ åœ¨å¤šæ–‡ä»¶ç¼–ç¨‹æ—¶ï¼Œæˆ‘å»ºè®®å°†å†…è”å‡½æ•°çš„å®šä¹‰ç›´æ¥æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”ç¦ç”¨å†…è”å‡½æ•°çš„å£°æ˜ï¼ˆå£°æ˜æ˜¯å¤šæ­¤ä¸€ä¸¾ï¼‰ ","date":"2023-03-17","objectID":"/c-inline/:7:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"Effective c++ Item å¯¹äºæ›´å¤šçš„inlineçŸ¥è¯†è¯·çœ‹ã€ŠEffective c++ Item30ã€‹ ","date":"2023-03-17","objectID":"/c-inline/:8:0","tags":["C++"],"title":"inline","uri":"/c-inline/"},{"categories":["C++"],"content":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•° ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:0:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"å‰è¨€ æƒ³äº†æƒ³ï¼Œæœ€å¥½çš„å¤ä¹ æ–¹æ³•å…¶å®å°±æ˜¯å»å†™å‡ºæ¥ï¼Œgood idea~ ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:1:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"strlen V.S sizeof ä»€ä¹ˆæ˜¯strlen strlen æ˜¯å¤´æ–‡ä»¶ \u003ccstring\u003e ä¸­çš„å‡½æ•° strlenæµ‹é‡çš„æ˜¯å­—ç¬¦ä¸²çš„å®é™…é•¿åº¦ï¼ˆå…¶æºä»£ç å¦‚ä¸‹ï¼‰ä»¥\\0ç»“å°¾ size_t strlen(const char *str) { size_t length = 0; while (*str++) ++length; return length; } ä»€ä¹ˆæ˜¯sizeof sizeofæ˜¯c++é‡Œçš„ä¸€ä¸ªæ“ä½œç¬¦ï¼Œç”¨æ¥æµ‹é‡å¯¹è±¡æˆ–è€…è¡¨è¾¾å¼ç±»å‹æ‰€å å­—èŠ‚çš„å¤§å° #include \u003ciostream\u003e #include \u003ccstring\u003e using namespace std; int main() { char arr[10] = \"hello\"; cout \u003c\u003c strlen(arr) \u003c\u003c endl; // 5 cout \u003c\u003c sizeof(arr) \u003c\u003c endl; // 10 return 0; } ä¸¤è€…çš„ä¸åŒç‚¹ è‹¥å­—ç¬¦æ•°ç»„ arr ä½œä¸ºå‡½æ•°çš„å½¢å‚ï¼Œsizeof(arr) ä¸­ arr è¢«å½“ä½œå­—ç¬¦æŒ‡é’ˆæ¥å¤„ç†ï¼Œstrlen(arr) ä¸­ arr ä¾ç„¶æ˜¯å­—ç¬¦æ•°ç»„ï¼Œä»ä¸‹è¿°ç¨‹åºçš„è¿è¡Œç»“æœä¸­å°±å¯ä»¥çœ‹å‡º #include \u003ciostream\u003e #include \u003ccstring\u003e using namespace std; void size_of(char arr[]) { cout \u003c\u003c sizeof(arr) \u003c\u003c endl; // warning: 'sizeof' on array function parameter 'arr' will return size of 'char*' . cout \u003c\u003c strlen(arr) \u003c\u003c endl; } int main() { char arr[20] = \"hello\"; size_of(arr); return 0; } /* è¾“å‡ºç»“æœï¼š 8 5 */ strlen æœ¬èº«æ˜¯åº“å‡½æ•°ï¼Œå› æ­¤åœ¨ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­ï¼Œè®¡ç®—é•¿åº¦ / è€Œ sizeof æ˜¯åœ¨ç¼–è¯‘æ—¶è®¡ç®—é•¿åº¦ï¼› strlen çš„å‚æ•°å¿…é¡»æ˜¯ char * ç±»å‹çš„å˜é‡ / sizeof çš„å‚æ•°å¯ä»¥æ˜¯ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯å˜é‡ï¼Œä¸”å¿…é¡»æ˜¯å®Œæ•´ç±»å‹ strlen æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå¦‚æœæ¥å—è¡¨è¾¾å¼åˆ™ä¼šå¯¹è¡¨è¾¾å¼è¿›è¡Œè¿ç®— / sizeof æ¥å—çš„å‚æ•°å¯ä»¥æ˜¯å¯¹è±¡ä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼ï¼Œä½†æ˜¯ sizeof(expression) åœ¨è¿è¡Œæ—¶ä¸ä¼šå¯¹æ¥å—çš„è¡¨è¾¾å¼è¿›è¡Œè®¡ç®—ï¼Œç¼–è¯‘å™¨åªä¼šæ¨å¯¼è¡¨è¾¾å¼çš„ç±»å‹ä»è€Œè®¡ç®—å ç”¨çš„å­—èŠ‚å¤§å°ï¼› #include \u003ciostream\u003e using namespace std; int main(int argc, char * argv[]) { int x = 4; char *s = \"12345678\"; char *p = s; sizeof(x++); printf(\"%d\\n\", x); strlen(p++); return 0; } ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:2:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"C å’Œ C++ static ä¸­çš„ä½œç”¨ æŒ‡è·¯ï¼Œåœ¨staticçš„ä¸“é¢˜æœ‰è®²è§£ https://vlicecream.github.io/c-static/ ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:3:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"const ä½œç”¨åŠç”¨æ³• æŒ‡è·¯ï¼Œåœ¨constçš„ä¸“é¢˜æœ‰è®²è§£ https://vlicecream.github.io/c-const/ ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:4:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"define V.S const ç¼–è¯‘é˜¶æ®µ define æ˜¯åœ¨ç¼–è¯‘é¢„å¤„ç†é˜¶æ®µè¿›è¡Œæ›¿æ¢ / const æ˜¯åœ¨ç¼–è¯‘é˜¶æ®µç¡®å®šå…¶å€¼ å®‰å…¨æ€§ define å®šä¹‰çš„å®å¸¸é‡æ²¡æœ‰æ•°æ®ç±»å‹ï¼Œåªæ˜¯è¿›è¡Œç®€å•çš„ä»£ç æ›¿æ¢ï¼Œä¸ä¼šè¿›è¡Œç±»å‹å®‰å…¨çš„æ£€æŸ¥ const å®šä¹‰çš„å¸¸é‡æ˜¯æœ‰ç±»å‹çš„ï¼Œæ˜¯è¦è¿›è¡Œåˆ¤æ–­çš„ï¼Œå¯ä»¥é¿å…ä¸€äº›ä½çº§çš„é”™è¯¯ å­˜å‚¨ç©ºé—´ define å®šä¹‰çš„å®å®šä¹‰åªæ˜¯ä½œä¸ºä»£ç æ›¿æ¢çš„è¡¨è¾¾å¼è€Œå·²ï¼Œå®å®šä¹‰æœ¬èº«ä¸å ç”¨å†…å­˜ç©ºé—´ï¼Œdefine å®šä¹‰çš„å®å¸¸é‡ï¼Œåœ¨ç¨‹åºä¸­ä½¿ç”¨å¤šå°‘æ¬¡å°±ä¼šè¿›è¡Œå¤šå°‘æ¬¡æ›¿æ¢ï¼Œå†…å­˜ä¸­æœ‰å¤šä¸ªå¤‡ä»½ï¼Œå®é™…ä½¿ç”¨å®å®šä¹‰æ›¿æ¢ä»£ç æ—¶å ç”¨çš„æ˜¯ä»£ç æ®µçš„ç©ºé—´ const å®šä¹‰çš„å¸¸é‡å ç”¨é™æ€å­˜å‚¨åŒºçš„åªè¯»ç©ºé—´ï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­å¸¸é‡åªæœ‰ä¸€ä»½ è°ƒè¯• define å®šä¹‰çš„å®å¸¸é‡ä¸èƒ½è°ƒè¯•ï¼Œå› ä¸ºåœ¨é¢„ç¼–è¯‘é˜¶æ®µå°±å·²ç»è¿›è¡Œæ›¿æ¢äº† const å®šä¹‰çš„å¸¸é‡å¯ä»¥è¿›è¡Œè°ƒè¯• æ¥å—å‚æ•° define å¯ä»¥æ¥å—å‚æ•°æ„é€ éå¸¸å¤æ‚çš„è¡¨è¾¾å¼ const ä¸èƒ½æ¥å—å‚æ•° ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:5:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"inline ä½œç”¨åŠä½¿ç”¨æ–¹æ³• æŒ‡è·¯ï¼Œåœ¨inlineä¸“é¢˜æœ‰è®²è§£ https://vlicecream.github.io/c-inline/ ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:6:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"inline V.S define ç¼–è¯‘é˜¶æ®µ å†…è”å‡½æ•°æ˜¯åœ¨ç¼–è¯‘æ—¶å±•å¼€ï¼Œè€Œå®åœ¨ç¼–è¯‘é¢„å¤„ç†æ—¶å±•å¼€ åœ¨ç¼–è¯‘çš„æ—¶å€™ï¼Œå†…è”å‡½æ•°ç›´æ¥è¢«åµŒå…¥åˆ°ç›®æ ‡ä»£ç ä¸­å»ï¼Œè€Œå®åªæ˜¯ä¸€ä¸ªç®€å•çš„æ–‡æœ¬æ›¿æ¢ å®‰å…¨æ€§ å®å®šä¹‰ç¼–å†™è¾ƒä¸ºå¤æ‚ï¼Œå¸¸éœ€è¦å¢åŠ ä¸€äº›æ‹¬å·æ¥é¿å…æ­§ä¹‰ã€‚å®å®šä¹‰åªè¿›è¡Œæ–‡æœ¬æ›¿æ¢ï¼Œä¸ä¼šå¯¹å‚æ•°çš„ç±»å‹ã€è¯­å¥èƒ½å¦æ­£å¸¸ç¼–è¯‘ç­‰è¿›è¡Œæ£€æŸ¥ï¼Œå› æ­¤åœ¨å®é™…ä½¿ç”¨å®æ—¶éå¸¸å®¹æ˜“å‡ºé”™ / è€Œå†…è”å‡½æ•°æ˜¯çœŸæ­£çš„å‡½æ•°ï¼Œä¼šå¯¹å‚æ•°çš„ç±»å‹ã€å‡½æ•°ä½“å†…çš„è¯­å¥ç¼–å†™æ˜¯å¦æ­£ç¡®ç­‰è¿›è¡Œæ£€æŸ¥ è°ƒè¯• å†…è”å‡½æ•°å¯ä»¥è¿›è¡Œè°ƒè¯• / å®å®šä¹‰çš„â€œå‡½æ•°â€æ— æ³•è°ƒè¯• ç±» ç”±äºç±»çš„æˆå‘˜å‡½æ•°å…¨éƒ¨ä¸ºå†…è”å‡½æ•°ï¼Œé€šè¿‡å†…è”å‡½æ•°ï¼Œå¯ä»¥è®¿é—®ç±»çš„æ•°æ®æˆå‘˜ï¼Œè€Œå®ä¸èƒ½è®¿é—®ç±»çš„æ•°æ®æˆå‘˜ ä¼ é€’å‚æ•° åœ¨ inline å‡½æ•°ä¼ é€’å‚æ•°åªè®¡ç®—ä¸€æ¬¡ï¼Œè€Œåœ¨ä½¿ç”¨å®å®šä¹‰çš„æƒ…å†µä¸‹ï¼Œæ¯æ¬¡åœ¨ç¨‹åºä¸­ä½¿ç”¨å®æ—¶éƒ½ä¼šè®¡ç®—è¡¨è¾¾å¼å‚æ•°ï¼Œå› æ­¤å®ä¼šå¯¹è¡¨è¾¾å¼å‚æ•°è®¡ç®—å¤šæ¬¡ ","date":"2023-03-16","objectID":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/:7:0","tags":["C++"],"title":"c++ å…³é”®å­—ä¸å…³é”®åº“å‡½æ•°","uri":"/c-%E5%85%B3%E9%94%AE%E5%AD%97%E4%B8%8E%E5%85%B3%E9%94%AE%E5%BA%93%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"const const object non-const object const member functions âœ… âœ… non-const member functions âŒ âœ… ","date":"2023-03-16","objectID":"/c-const/:0:0","tags":["C++"],"title":"const","uri":"/c-const/"},{"categories":["C++"],"content":"object ä¸ member func çš„å…³ç³» æˆ‘ä»¬æ ¹æ®ä¸Šè¿°è¡¨æ ¼æ¥çœ‹çœ‹ä¾‹å­ æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªå¸¸é‡ str å¹¶ä¸”è°ƒç”¨printæ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœå½“åˆè®¾è®¡ string::print() æ—¶å€™æ²¡æœ‰æŒ‡æ˜const é‚£ä¹ˆä¼šç›´æ¥æŠ¥é”™ï¼Œ å› ä¸º â€œconst objâ€ è°ƒç”¨ non-const æˆå‘˜å‡½æ•°çš„æ—¶å€™ æ˜¯ä¸å…è®¸çš„ï½ï½ const String str(\"hello world\"); str.print(); æˆ‘ä»¬å†æ¥çœ‹ä¸€ä¸ªæ ‡å‡†åº“ string çš„ä¾‹å­ class template std::basic_string\u003c...\u003e æœ‰å¦‚ä¸‹ä¸¤ä¸ª æˆå‘˜å‡½æ•° chatT operator[] (size_type pos) const { ... } // ä¸å¿…è€ƒè™‘copy on write reference operator[] (size_type pos) { ... } // å¿…é¡»è€ƒè™‘copy on write åœ¨è®¾è®¡å­—ç¬¦ä¸²çš„æ—¶å€™ å› ä¸ºå­—ç¬¦ä¸²æ˜¯å…±äº«çš„ å¯èƒ½aæ‹·è´ä¸€ä»½ bæ‹·è´ä¸€ä»½ å°±æœ‰å¤šä»½ æœ€è‡´å‘½çš„æ˜¯ å¦‚æœaä¿®æ”¹äº† bçš„å­—ç¬¦ä¸²ä¹Ÿéšä¹‹ä¿®æ”¹äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»è¦è€ƒè™‘è¿™ä¸ªå…±äº«çš„é—®é¢˜ æ‰€ä»¥è¿™ä¸ªå°±è€ƒè™‘åˆ°äº† const ä¸‹é¢æ²¡æœ‰constï¼Œé‚£ä¹ˆå¯èƒ½å°±ä¼šä¿®æ”¹å­—ç¬¦ä¸²ï¼Œä¸Šé¢çš„æœ‰ const é‚£ä¹ˆå°±ä¸å…è®¸ä¿®æ”¹ ä¸‹é¢ä¹Ÿæ˜¯å¯è¡Œçš„ å› ä¸º non-const member func æ˜¯å¯ä»¥åˆ›å»º non-const obj çš„ ä½†æ˜¯ä¸Šé¢çš„ const member func åˆå¯ä»¥åˆ›å»º const obj åˆå¯ä»¥åˆ›å»º non-const objï¼Œé‚£ä¹ˆç¼–è¯‘å™¨æ€ä¹ˆè°ƒç”¨å‘¢ å½“æˆå‘˜å‡½æ•°çš„ â€œconst\" å’Œ â€œnon-constâ€ ç‰ˆæœ¬åŒæ—¶å­˜åœ¨ const obj åªèƒ½è°ƒç”¨const ç‰ˆæœ¬ â€œnon-const objâ€ åªèƒ½è°ƒç”¨\"non-const\"ç‰ˆæœ¬ ","date":"2023-03-16","objectID":"/c-const/:1:0","tags":["C++"],"title":"const","uri":"/c-const/"},{"categories":["C++"],"content":"constä¿®é¥° const ä¿®é¥°åŸºæœ¬æ•°æ®ç±»å‹ åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¿®é¥°ç¬¦ const å¯ä»¥ç”¨åœ¨ç±»å‹è¯´æ˜ç¬¦å‰ï¼Œä¹Ÿå¯ä»¥ ç”¨åœ¨ç±»å‹è¯´æ˜ç¬¦åï¼Œå…¶ç»“æœæ˜¯ä¸€æ ·çš„ã€‚åœ¨ä½¿ç”¨è¿™äº›å¸¸é‡çš„æ—¶å€™ï¼Œåªè¦ä¸æ”¹å˜è¿™äº›å¸¸é‡çš„å€¼å³å¯ const ä¿®é¥°æŒ‡é’ˆå˜é‡å’Œå¼•ç”¨å˜é‡ const int* p1; //æŒ‡å‘æ•´å½¢å¸¸é‡çš„æŒ‡é’ˆï¼Œå®ƒæŒ‡å‘çš„å€¼ä¸èƒ½ä¿®æ”¹ int* const p2; //æŒ‡å‘æ•´å½¢çš„å¸¸é‡æŒ‡é’ˆ ï¼Œå®ƒä¸èƒ½åœ¨æŒ‡å‘åˆ«çš„å˜é‡ï¼Œä½†æŒ‡å‘(å˜é‡)çš„å€¼å¯ä»¥ä¿®æ”¹ã€‚ const int* const p3; //æŒ‡å‘æ•´å½¢å¸¸é‡çš„å¸¸é‡æŒ‡é’ˆ ã€‚å®ƒæ—¢ä¸èƒ½å†æŒ‡å‘åˆ«çš„å¸¸é‡ï¼ŒæŒ‡å‘çš„å€¼ä¹Ÿä¸èƒ½ä¿®æ”¹ã€‚ const åº”ç”¨åˆ°å‡½æ•°ä¸­ ä½œä¸ºå‚æ•°çš„ const ä¿®é¥°ç¬¦ï¼š è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œç”¨ç›¸åº”çš„å˜é‡åˆå§‹åŒ–constå¸¸é‡ï¼Œåˆ™åœ¨å‡½æ•°ä½“ä¸­ï¼ŒæŒ‰ç…§constæ‰€ä¿®é¥°çš„éƒ¨åˆ†è¿›è¡Œå¸¸é‡åŒ–ï¼Œä¿æŠ¤äº†åŸå¯¹è±¡çš„å±æ€§ æ³¨æ„ï¼šå‚æ•° const é€šå¸¸ç”¨äºå‚æ•°ä¸ºæŒ‡é’ˆæˆ–å¼•ç”¨çš„æƒ…å†µ ä½œä¸ºå‡½æ•°è¿”å›å€¼çš„ const ä¿®é¥°ç¬¦ï¼š å£°æ˜äº†è¿”å›å€¼åï¼Œconst æŒ‰ç…§\"ä¿®é¥°åŸåˆ™\"è¿›è¡Œä¿®é¥°ï¼Œèµ·åˆ°ç›¸åº”çš„ä¿æŠ¤ä½œç”¨ const åœ¨ç±»ä¸­çš„ç”¨æ³• constæˆå‘˜å˜é‡ åªåœ¨æŸä¸ªå¯¹è±¡ç”Ÿå‘½å‘¨æœŸå†…æ˜¯å¸¸é‡ï¼Œè€Œå¯¹äºæ•´ä¸ªç±»è€Œè¨€ æ˜¯å¯ä»¥æ”¹å˜çš„ const æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–åªèƒ½åœ¨ç±»çš„æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­è¿›è¡Œ å› ä¸ºç±»å¯ä»¥åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œä¸åŒçš„å¯¹è±¡å…¶ const æ•°æ®æˆå‘˜å€¼å¯ä»¥ä¸åŒã€‚æ‰€ä»¥ä¸èƒ½åœ¨ç±»çš„å£°æ˜ä¸­åˆå§‹åŒ– const æ•°æ®æˆå‘˜ï¼Œå› ä¸ºç±»çš„å¯¹è±¡åœ¨æ²¡æœ‰åˆ›å»ºæ—¶å€™ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“ const æ•°æ®æˆå‘˜çš„å€¼æ˜¯ä»€ä¹ˆ constæˆå‘˜å‡½æ•° const æˆå‘˜å‡½æ•°çš„ä¸»è¦ç›®çš„æ˜¯é˜²æ­¢æˆå‘˜å‡½æ•°ä¿®æ”¹å¯¹è±¡çš„å†…å®¹ è¦æ³¨æ„ï¼Œconst å…³é”®å­—å’Œ static å…³é”®å­—å¯¹äºæˆå‘˜å‡½æ•°æ¥è¯´æ˜¯ä¸èƒ½åŒæ—¶ä½¿ç”¨çš„ å› ä¸º static å…³é”®å­—ä¿®é¥°é™æ€æˆå‘˜ å‡½æ•°ä¸å«æœ‰ this æŒ‡é’ˆï¼Œå³ä¸èƒ½å®ä¾‹åŒ–ï¼Œconst æˆå‘˜å‡½æ•°åˆå¿…é¡»å…·ä½“åˆ°æŸä¸€ä¸ªå‡½æ•° const ä¿®é¥°ç±»å¯¹è±¡ï¼Œå®šä¹‰å¸¸é‡å¯¹è±¡ å¸¸é‡å¯¹è±¡åªèƒ½è°ƒç”¨å¸¸é‡å‡½æ•°ï¼Œåˆ«çš„æˆå‘˜å‡½æ•°éƒ½ä¸èƒ½è°ƒç”¨ C++ ä¸­çš„ constç±»æˆå‘˜å‡½æ•°(ç”¨æ³•å’Œæ„ä¹‰) å¸¸é‡å¯¹è±¡å¯ä»¥è°ƒç”¨ç±»ä¸­çš„ const member funcï¼Œä½†ä¸èƒ½è°ƒç”¨non-const member func è¿™æ˜¯å› ä¸ºå¯¹è±¡è°ƒç”¨æˆå‘˜å‡½æ•°çš„æ—¶å€™ï¼Œåœ¨å½¢å‚åˆ—è¡¨æœ€å‰é¢åŠ ä¸€ä¸ªå½¢å‚thisï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯éšå¼çš„ã€‚this æŒ‡é’ˆæ˜¯é»˜è®¤æŒ‡å‘è°ƒç”¨å‡½æ•°çš„å½“å‰å¯¹è±¡çš„ï¼Œæ‰€ä»¥ï¼Œå¾ˆè‡ªç„¶ï¼Œthisæ˜¯ä¸€ä¸ªå¸¸é‡æŒ‡é’ˆtest* constï¼Œå› ä¸ºä¸å¯ä¿®æ”¹thisæŒ‡é’ˆä»£è¡¨çš„åœ°å€ã€‚ä½†å½“member funcçš„å‚æ•°åˆ—è¡¨ååŠ äº† const å…³é”®å­— void print() const; ï¼Œæ­¤æˆå‘˜å‡½æ•°ä¸ºå¸¸é‡æˆå‘˜å‡½æ•°ï¼Œæ­¤æ—¶ä»–çš„éšå¼thiså½¢å‚ä¸º const test* const å³ ä¸å¯ä»¥é€šè¿‡thisæŒ‡é’ˆæ¥æ”¹å˜æŒ‡å‘å¯¹è±¡çš„å€¼ éå¸¸é‡å¯¹è±¡å¯ä»¥è°ƒç”¨ç±»ä¸­çš„ const æˆå‘˜å‡½æ•°ï¼Œä¹Ÿå¯ä»¥è°ƒç”¨é const æˆå‘˜å‡½æ•°ã€‚ ","date":"2023-03-16","objectID":"/c-const/:2:0","tags":["C++"],"title":"const","uri":"/c-const/"},{"categories":["C++"],"content":"Effective c++ Item å¯¹äºæ›´å¤šçš„constçš„ç›¸å…³çŸ¥è¯†ï¼Œå¯ä»¥æŸ¥çœ‹ã€ŠEffective c++ Item3 - å°½é‡ä½¿ç”¨constã€‹ ","date":"2023-03-16","objectID":"/c-const/:3:0","tags":["C++"],"title":"const","uri":"/c-const/"},{"categories":["C++"],"content":"friend ","date":"2023-03-16","objectID":"/c-friend/:0:0","tags":["C++"],"title":"friend","uri":"/c-friend/"},{"categories":["C++"],"content":"å‹å…ƒ ä»€ä¹ˆæ˜¯å‹å…ƒ Friend çš„æ„ä¹‰åœ¨äºæ‰“å¼€å°è£…çš„å¤§é—¨ï¼Œå¯ä»¥ç›´æ¥ä»ç§æœ‰åŒºåŸŸæ‹¿å–æ•°æ® å¥½æ¯”å€Ÿé’±ï¼Œé™Œç”Ÿäººä¸å¯èƒ½å€Ÿé’±ç»™ä»–ï¼Œä½†æ˜¯æœ‹å‹æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯æœ‹å‹å¤ªå¤šå€Ÿå¤ªå¤šé’±ä¹Ÿä¸å¤ªå¥½ï¼Œæ‰€ä»¥ä½ è‡ªå·±é€‰æ‹©ï¼Œå¦‚æœä¸è®¾ç½®friendï¼Œç»•ä¸ªå¼¯ä»å‡½æ•°æ‹¿ï¼Œä¹Ÿæ˜¯å¯ä»¥çš„ private: double re, im; friend complex\u0026 __dopal (conplex*, const complex\u0026) inline complex\u0026 __doapl (complex* ths, const complex\u0026 r) { ths-\u003ere += r.re; ths-\u003eim += r.im; return *ths } ","date":"2023-03-16","objectID":"/c-friend/:1:0","tags":["C++"],"title":"friend","uri":"/c-friend/"},{"categories":["C++"],"content":"å‹å…ƒçš„ä½¿ç”¨åœºæ™¯ æ™®é€šå‡½æ•°å®šä¹‰ä¸ºç±»çš„å‹å…ƒå‡½æ•°ï¼Œä½¿å¾—æ™®é€šå‡½æ•°èƒ½å¤Ÿè®¿é—®è¯¥ç±»çš„ç§æœ‰æˆå‘˜å’Œä¿æŠ¤æˆå‘˜ #include \u003ciostream\u003e using namespace std; class A { friend ostream \u0026operator\u003c\u003c(ostream \u0026_cout, const A \u0026tmp); // å£°æ˜ä¸ºç±»çš„å‹å…ƒå‡½æ•° public: A(int tmp) : var(tmp) { } private: int var; }; ostream \u0026operator\u003c\u003c(ostream \u0026_cout, const A \u0026tmp) { _cout \u003c\u003c tmp.var; return _cout; } int main() { A ex(4); cout \u003c\u003c ex \u003c\u003c endl; // 4 return 0; } å‹å…ƒç±» ç”±äºç±»çš„ private å’Œ protected æˆå‘˜å˜é‡åªèƒ½ç”±ç±»çš„æˆå‘˜å‡½æ•°è®¿é—®æˆ–è€…æ´¾ç”Ÿç±»è®¿é—®ï¼Œå‹å…ƒç±»åˆ™æä¾›æä¾›ä¸€ç§é€šç”¨çš„æ–¹æ³•ï¼Œä½¿å¾—ä¸åŒç±»ä¹‹é—´å¯ä»¥è®¿é—®å…¶ private å’Œ protected æˆå‘˜å˜é‡ï¼Œç”¨äºä¸åŒç±»ä¹‹é—´å…±äº«æ•°æ® #include \u003ciostream\u003e using namespace std; class A { friend class B; public: A() : var(10){} A(int tmp) : var(tmp) {} void fun() { cout \u003c\u003c \"fun():\" \u003c\u003c var \u003c\u003c endl; } private: int var; }; class B { public: B() {} void fun() { cout \u003c\u003c \"fun():\" \u003c\u003c ex.var \u003c\u003c endl; // è®¿é—®ç±» A ä¸­çš„ç§æœ‰æˆå‘˜ } private: A ex; }; int main() { B ex; ex.fun(); // fun():10 return 0; } ","date":"2023-03-16","objectID":"/c-friend/:2:0","tags":["C++"],"title":"friend","uri":"/c-friend/"},{"categories":["C++"],"content":"ç›¸åŒclassçš„å„ä¸ªobjäº’ä¸ºfriend åœ¨ä¸‹è¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬ç«Ÿç„¶å¯ä»¥é€šè¿‡funcç›´æ¥è·å–åˆ°privateä¸­çš„å€¼ï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰è®¾ç½®friendï¼Œè¿™æ˜¯å› ä¸ºç›¸åŒclassçš„å„ä¸ªobjäº’ä¸ºfriend class complex { public: complex(double r = 0, double i = 0) : re(r), im(i) {} int func(const complex\u0026 param) { return param.re + param.im; } private: double re, im; }; { complex c1(2, 1); complex c2; c2.func(c1); } ","date":"2023-03-16","objectID":"/c-friend/:3:0","tags":["C++"],"title":"friend","uri":"/c-friend/"},{"categories":["C++"],"content":"lambda ","date":"2023-03-16","objectID":"/c-lambda/:0:0","tags":["C++"],"title":"lambda","uri":"/c-lambda/"},{"categories":["C++"],"content":"lambda æ€ä¹ˆå»å®šä¹‰ä¸€ä¸ªlambda [] { std::cout \u003c\u003c \"hello lambdas\" \u003c\u003c std::endl; } å¯¹äºä¸Šè¿°ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥å†™æˆè¿™ä¸ªæ ·å­ [] { std::cout \u003c\u003c \"hello lambdas\" \u003c\u003c std::endl; } (); // prints \"hello lambdas\" é‚£æˆ‘ä»¬æ”¹è¿›å çœ‹ç€ä¹Ÿæœ‰ç‚¹æ€ªæ€ªçš„ï¼Œæˆ‘ä»¬å¤§è´¹å‘¨ç« å°±ä¸ºäº†ä¸€ä¸ªcoutï¼Œå¹²å˜›å‘¢ï¼Œå‡å¦‚è¦100æ¬¡coutè¿˜ä¸å¦‚æŠ½å‡ºæ¥ ç„¶åè°ƒç”¨100æ¬¡å‘¢ï¼Œæ‰€ä»¥å¤šåŠæˆ‘ä»¬ä¼šè¿™ä¹ˆå†™ auto l = [] { std::cout \u003c\u003c \"hello lambdas\" \u003c\u003c std::endl; }; ... l(); // prints \"hello lambdas\" lambdaæ˜¯å¯ä»¥åœ¨è¯­å¥å’Œè¡¨è¾¾å¼ä¸­å®šä¹‰çš„åŠŸèƒ½å®šä¹‰ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥å°†lambdaç”¨ä½œå†…è”å‡½æ•°ã€‚æœ€å°lambdå‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œåªæ˜¯ç®€å•åœ°åšä¸€äº›äº‹æƒ…ï¼Œæ‰€ä»¥è·Ÿä¸Šè¿°çš„ä¸å¤ªä¸€æ ·ï¼Œlambdaæ˜¯å¯ä»¥ä¸ç”¨å–åå­—ï¼Œç›´æ¥åœ¨è¯­å¥æˆ–è€…è¡¨è¾¾å¼ä¸­å®šä¹‰ï¼Œç”¨å®Œå°±ç›´æ¥ä¸ç®¡çš„ lambdasçš„æ¨¡æ¿ [ capture-list ] ( params ) mutable(optional) constexpr(optional)(c++17) exception attribute -\u003e ret { body } // å¯é€‰çš„ç®€åŒ–è¯­æ³• [ capture-list ] ( params ) -\u003e ret { body } [ capture-list ] ( params ) { body } [ capture-list ] { body } capture-list: æ•æ‰åˆ—è¡¨ï¼Œè¿™ä¸ªä¸ç”¨å¤šè¯´ï¼Œå‰é¢å·²ç»è®²è¿‡ï¼Œå®ƒä¸èƒ½çœç•¥ [] // æ²¡æœ‰å®šä¹‰ä»»ä½•å˜é‡ã€‚ä½¿ç”¨æœªå®šä¹‰å˜é‡ä¼šå¼•å‘é”™è¯¯ã€‚ [x, \u0026y] // x pass by valueï¼ˆé»˜è®¤ï¼‰ï¼Œy pass by referenceã€‚ [\u0026] // ä»»ä½•è¢«ä½¿ç”¨åˆ°çš„å¤–éƒ¨å˜é‡éƒ½éšå¼åœ°ä»¥å¼•ç”¨æ–¹å¼åŠ ä»¥å¼•ç”¨ã€‚ [=] // ä»»ä½•è¢«ä½¿ç”¨åˆ°çš„å¤–éƒ¨å˜é‡éƒ½éšå¼åœ°ä»¥ä¼ å€¼æ–¹å¼åŠ ä»¥å¼•ç”¨ã€‚ [\u0026, x] // xæ˜¾å¼åœ°ä»¥ä¼ å€¼æ–¹å¼åŠ ä»¥å¼•ç”¨ã€‚å…¶ä½™å˜é‡ä»¥å¼•ç”¨æ–¹å¼åŠ ä»¥å¼•ç”¨ã€‚ [=, \u0026z] // zæ˜¾å¼åœ°ä»¥å¼•ç”¨æ–¹å¼åŠ ä»¥å¼•ç”¨ã€‚å…¶ä½™å˜é‡ä»¥ä¼ å€¼æ–¹å¼åŠ ä»¥å¼•ç”¨ã€‚ params:å‚æ•°åˆ—è¡¨ï¼Œå¯ä»¥çœç•¥(ä½†æ˜¯åé¢å¿…é¡»ç´§è·Ÿå‡½æ•°ä½“) mutable:å¯é€‰ï¼Œå°† lambda è¡¨è¾¾å¼æ ‡è®°ä¸º mutable åï¼Œå‡½æ•°ä½“å°±å¯ä»¥ä¿®æ”¹ä¼ å€¼æ–¹å¼æ•è·çš„å˜é‡ constexpr:å¯é€‰ exception:å¯é€‰ï¼ŒæŒ‡å®š attribute:å¯é€‰ï¼ŒæŒ‡å®š ret:å¯é€‰ï¼Œè¿”å›å€¼ç±»å‹ body:å‡½æ•°æ‰§è¡Œä½“ ","date":"2023-03-16","objectID":"/c-lambda/:1:0","tags":["C++"],"title":"lambda","uri":"/c-lambda/"},{"categories":["C++"],"content":"lambda çš„æœ¬è´¨ æœ€å‰è¾¹çš„ [] æ˜¯ lambda è¡¨è¾¾å¼çš„ä¸€ä¸ªå¾ˆé‡è¦çš„åŠŸèƒ½ï¼Œå°±æ˜¯ é—­åŒ… å…ˆè¯´æ˜ä¸€ä¸‹ lambda è¡¨è¾¾å¼çš„å¤§è‡´åŸç† æ¯å½“ä½ å®šä¹‰ä¸€ä¸ª lambda è¡¨è¾¾å¼åï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåŒ¿åç±»ï¼Œè¿™ä¸ªç±»å½“ç„¶é‡è½½è½½äº†()è¿ç®—ç¬¦ï¼Œæˆ‘ä»¬ç§°ä¸ºé—­åŒ…ç±»å‹* é‚£ä¹ˆåœ¨è¿è¡Œæ—¶ï¼Œè¿™ä¸ª lambda è¡¨è¾¾å¼å°±ä¼šè¿”å›ä¸€ä¸ªåŒ¿åçš„é—­åŒ…å®ä¾‹ï¼Œå…¶å®æ˜¯ä¸€ä¸ªå³å€¼ æ‰€ä»¥ï¼Œæˆ‘ä»¬ä¸Šé¢çš„ lambda è¡¨è¾¾å¼çš„ç»“æœå°±æ˜¯ä¸€ä¸ªä¸ªé—­åŒ…å®ä¾‹ é—­åŒ…çš„ä¸€ä¸ªå¼ºå¤§ä¹‹å¤„æ˜¯å…¶å¯ä»¥é€šè¿‡ä¼ å€¼æˆ–è€…å¼•ç”¨çš„æ–¹å¼æ•æ‰å…¶å°è£…ä½œç”¨åŸŸå†…çš„å˜é‡ï¼Œå‰é¢çš„æ–¹æ‹¬å·å°±æ˜¯ç”¨æ¥å®šä¹‰æ•æ‰æ¨¡å¼ä»¥åŠå˜é‡ï¼Œæˆ‘ä»¬åˆå°†å…¶ç§°ä¸º lambda æ•æ‰å—ã€‚ä¾‹å­å¦‚ä¸‹ int main() { int x = 10; auto add_x = [x](int a) { return a + x; }; // å¤åˆ¶æ•æ‰x,lambda è¡¨è¾¾å¼æ— æ³•ä¿®æ”¹æ­¤å˜é‡ auto multiply_x = [\u0026x](int a) { return a * x; }; // å¼•ç”¨æ•æ‰xï¼Œlambda è¡¨è¾¾å¼å¯ä»¥ä¿®æ”¹æ­¤å˜é‡ cout \u003c\u003c add_x(10) \u003c\u003c \" \" \u003c\u003c multiply_x(10) \u003c\u003c endl; // è¾“å‡º:20 100 return 0; } è€Œ lambda è¡¨è¾¾å¼ä¸€ä¸ªæ›´é‡è¦çš„åº”ç”¨æ˜¯å…¶å¯ä»¥ç”¨äºå‡½æ•°çš„å‚æ•°ï¼Œé€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥å®ç°å›è°ƒå‡½æ•° å…¶å®ï¼Œæœ€å¸¸ç”¨çš„æ˜¯åœ¨STLç®—æ³•ä¸­ï¼Œæ¯”å¦‚ä½ è¦ç»Ÿè®¡ä¸€ä¸ªæ•°ç»„ä¸­æ»¡è¶³ç‰¹å®šæ¡ä»¶çš„å…ƒç´ æ•°é‡ï¼Œ é€šè¿‡ lambda è¡¨è¾¾å¼ç»™å‡ºæ¡ä»¶ï¼Œä¼ é€’ç»™ count_if å‡½æ•° int val = 3; vector\u003cint\u003e v {1, 8, 5, 3, 6, 10}; int count = std::count_if(v.beigin(), v.end(), [val](int x) { return x \u003e val; }); // vä¸­å¤§äº3çš„å…ƒç´ æ•°ô° ","date":"2023-03-16","objectID":"/c-lambda/:2:0","tags":["C++"],"title":"lambda","uri":"/c-lambda/"},{"categories":["C++"],"content":"Summary c++ 11å¼•å…¥äº†lambdaï¼Œå…è®¸å®šä¹‰å†…è”å‡½æ•°ï¼Œå¯ä»¥ä½œä¸ºå‚æ•°æˆ–å±€éƒ¨å¯¹è±¡ä½¿ç”¨ ä»æœ¬è´¨ä¸Šæ¥è®²ï¼Œè¡¨è¾¾å¼åªæ˜¯ä¸€ç§è¯­æ³•ç³–ï¼Œå› ä¸ºæ‰€æœ‰å…¶èƒ½å®Œæˆçš„å·¥ä½œéƒ½å¯ä»¥ç”¨å…¶å®ƒç¨å¾®å¤æ‚çš„ä»£ç æ¥å®ç°ï¼Œä½†æ˜¯å®ƒç®€ä¾¿çš„è¯­æ³•å´ç»™ C++ å¸¦æ¥äº†æ·±è¿œçš„å½±å“ ä»å¹¿ä¹‰ä¸Šè¯´ï¼Œ è¡¨è¾¾å¼äº§ç”Ÿçš„æ˜¯å‡½æ•°å¯¹è±¡ã€‚ åœ¨ç±»ä¸­ï¼Œå¯ä»¥é‡è½½å‡½æ•°è°ƒç”¨è¿ç®—ç¬¦()ï¼Œæ­¤æ—¶ç±»çš„å¯¹è±¡å¯ä»¥å°†å…·æœ‰ç±»ä¼¼å‡½æ•°çš„è¡Œä¸ºï¼Œæˆ‘ä»¬ç§°è¿™äº›å¯¹è±¡ä¸ºå‡½æ•°å¯¹è±¡æˆ–è€…ä»¿å‡½æ•° ç›¸æ¯” lambdaè¡¨è¾¾å¼ï¼Œå‡½æ•°å¯¹è±¡æœ‰è‡ªå·±ç‹¬ç‰¹çš„ä¼˜åŠ¿ lambdaæ˜¯å¯ä»¥åœ¨è¯­å¥å’Œè¡¨è¾¾å¼ä¸­å®šä¹‰çš„åŠŸèƒ½å®šä¹‰ã€‚å› æ­¤ï¼Œæ‚¨å¯ä»¥å°†lambdaç”¨ä½œå†…è”å‡½æ•°ã€‚æœ€å°lambdaå‡½æ•°æ²¡æœ‰å‚æ•°ï¼Œåªæ˜¯ç®€å•åœ°åšä¸€äº›äº‹æƒ… è¦å¼„æ¸…æ¥šlambdaçš„æ¨¡æ¿å¹¶ä¸”åˆ†æ¸…æ¥š\"[ ]â€œçš„ä¼ å€¼ä½¿ç”¨ï¼Œæƒ³è¦ä¿®æ”¹å€¼å°±pass by reference + mutable ","date":"2023-03-16","objectID":"/c-lambda/:3:0","tags":["C++"],"title":"lambda","uri":"/c-lambda/"},{"categories":["C++"],"content":"static ","date":"2023-03-16","objectID":"/c-static/:0:0","tags":["C++"],"title":"static","uri":"/c-static/"},{"categories":["C++"],"content":"static ä»€ä¹ˆæ˜¯static ä¸‹è¿°ä»£ç æ‹¬å·é‡Œé¢ä¼ çš„å°±æ˜¯this pointer å½“ä¸æ˜¯é™æ€æ–¹æ³•çš„æ—¶å€™ c1, c2, c3è°ƒç”¨åŒä¸€ä¸ªå‡½æ•° é‚£ä¹ˆå°±æ˜¯é this pointåŒºåˆ†åˆ°åº•æ˜¯c1 è¿˜æ˜¯ c2 çš„ complex c1, c2, c3; cout \u003c\u003c c1.real(); cout \u003c\u003c c2.real(); // ä¸Šè¿°ä»£ç å…¶å®è¦æ˜¯çœ‹é€æœ¬è´¨ç­‰äºä¸‹é¢ä»£ç  complex c1, c2, c3; cout \u003c\u003c complex::real(\u0026c1); cout \u003c\u003c complex::real(\u0026c2); æ‰€ä»¥é™æ€å°±æ˜¯ä¸å¸¦è¿™ä¸ªthis pointer é™æ€ç”¨åœ¨å“ª - å­˜å‚¨é™æ€çš„æ•°æ® ä¸ä¼šå˜åŠ¨çš„ ","date":"2023-03-16","objectID":"/c-static/:1:0","tags":["C++"],"title":"static","uri":"/c-static/"},{"categories":["C++"],"content":"staticçš„ä¿®é¥° static ä¿®é¥°å±€éƒ¨å˜é‡ å­˜æ”¾åŸæœ¬ä»æ ˆåŒºå˜æˆäº†é™æ€å­˜å‚¨åŒº ç”Ÿå‘½å‘¨æœŸåŸæœ¬ä»åŒ…å«è¯­å¥æ¨¡å—ç»“æŸå˜æˆäº†å»¶ç»­åˆ°æ•´ä¸ªç¨‹åºç»“æŸ ä½œç”¨åŸŸä¸å‘ç”Ÿå˜åŒ– static ä¿®é¥°å…¨å±€å˜é‡ staticå…¨å±€å˜é‡ä¼šå­˜åœ¨é™æ€å­˜å‚¨åŒº ç”Ÿå‘½å‘¨æœŸä¼šå»¶ç»­åˆ°æ•´ä¸ªç¨‹åºç»“æŸ ä½œç”¨åŸŸä»åŸæœ¬çš„å…¨æ–‡ä»¶å…±äº«ï¼Œå˜æˆäº†å®šä¹‰æ–‡ä»¶å…±äº« static ä¿®é¥°å‡½æ•° è·Ÿå…¨å±€å˜é‡ç±»ä¼¼ï¼Œä½œç”¨åŸŸå‘ç”Ÿäº†æ”¹å˜ static ä¿®é¥°æˆå‘˜å˜é‡ é™æ€æˆå‘˜å˜é‡æ˜¯åœ¨ç±»å†…è¿›è¡Œå£°æ˜ï¼Œåœ¨ç±»å¤–è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–ï¼Œåœ¨ç±»å¤–è¿›è¡Œå®šä¹‰å’Œåˆå§‹åŒ–çš„æ—¶å€™ä¸è¦å‡ºç° static å…³é”®å­—å’Œ privateã€publicã€protected è®¿é—®è§„åˆ™ é™æ€æˆå‘˜å˜é‡ç›¸å½“äºç±»åŸŸä¸­çš„å…¨å±€å˜é‡ï¼Œè¢«ç±»çš„æ‰€æœ‰å¯¹è±¡æ‰€å…±äº«ï¼ŒåŒ…æ‹¬æ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œä¸”åªèƒ½è¯¥å˜é‡åªèƒ½è¢«åˆå§‹åŒ–ä¸€æ¬¡ï¼Œä¸èƒ½åœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­å¯¹é™æ€æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ– é™æ€æˆå‘˜å˜é‡å¯ä»¥ä½œä¸ºæˆå‘˜å‡½æ•°çš„å‚æ•°ï¼Œè€Œæ™®é€šæˆå‘˜å˜é‡ä¸å¯ä»¥ é™æ€æ•°æ®æˆå‘˜çš„ç±»å‹å¯ä»¥æ˜¯æ‰€å±ç±»çš„ç±»å‹ï¼Œè€Œæ™®é€šæ•°æ®æˆå‘˜çš„ç±»å‹åªèƒ½æ˜¯è¯¥ç±»ç±»å‹çš„æŒ‡é’ˆæˆ–å¼•ç”¨ static ä¿®é¥°æˆå‘˜å‡½æ•° é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½è°ƒç”¨éé™æ€æˆå‘˜å˜é‡æˆ–è€…éé™æ€æˆå‘˜å‡½æ•°ï¼Œå› ä¸ºé™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰ this æŒ‡é’ˆã€‚é™æ€æˆå‘˜å‡½æ•°åšä¸ºç±»ä½œç”¨åŸŸçš„å…¨å±€å‡½æ•° é™æ€æˆå‘˜å‡½æ•°ä¸èƒ½å£°æ˜æˆ virtual functionã€const funcitonã€volatile function static å¯¹è±¡ é™æ€å¯¹è±¡çš„ç”Ÿå­˜å‘¨æœŸä¸ºæ•´ä¸ªç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸï¼Œè€Œéé™æ€å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸåªå­˜åœ¨äºæŸä¸ªå¾ªç¯ä¸­ ","date":"2023-03-16","objectID":"/c-static/:2:0","tags":["C++"],"title":"static","uri":"/c-static/"},{"categories":["C++"],"content":"inline ä¸ static åœ¨c++17ä¹‹å é™æ€æˆå‘˜ç›´æ¥ç±»å†…inlineå°±å¯ä»¥çœå»ç±»å¤–åˆå§‹åŒ–çš„éº»çƒ¦ class Person { public: ... private: inline static uint8_t age = 0; } ","date":"2023-03-16","objectID":"/c-static/:3:0","tags":["C++"],"title":"static","uri":"/c-static/"},{"categories":["C++"],"content":"ä½“ç³»ç»“æ„ æ ‡å‡†åº“ä¸STL æ ‡å‡†åº“ä¸STLçš„å·®åˆ« æ ‡å‡†åº“ \u003e STL / æ ‡å‡†åº“é‡Œé¢ç™¾åˆ†ä¹‹70 80 éƒ½æ˜¯STL STLå…­å¤§éƒ¨ä»¶ å®¹å™¨ / åˆ†é…å™¨ / ç®—æ³• / è¿­ä»£å™¨ / ä»¿å‡½æ•° / é€‚é…å™¨ // æ ‡å‡†åº“ä»¥header files å½¢å¼å‘ˆç°// C++æ ‡å‡†åº“çš„head files ä¸å¸¦.h ä¾‹å¦‚: #include \u003cvector\u003e// æ–°å¼ C header files ä¸å¸¦.h ä¾‹å¦‚ #include \u003ccstdio\u003e// æ—§å¼ C header files å¸¦.h ä»ç„¶å¯ç”¨ ä¾‹å¦‚ #include \u003cstdio.h\u003e // æ–°å¼headerså†…çš„ç»„ä»¶å°è£…äº å‘½åç©ºé—´namespace \"std\"using namespace std; // ä»£è¡¨ç›´æ¥æ‰“å¼€è¿™ä¸ªnamespace é‡Œé¢çš„éšä¾¿ç”¨ æ¨èç”¨è¿™ä¸ªusing std::cout // å°±å¯ä»¥ç›´æ¥ç”¨coutæ¥è¡¨ç¤º // example: #include \u003cstring\u003e #include \u003ciostream\u003e #include \u003cvector\u003e using namespace std; è¿™é‡Œæ¨èç›´æ¥ç”¨æ–°å¼çš„ä¹ æƒ¯ ","date":"2023-03-16","objectID":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/:0:0","tags":["C++"],"title":"stl-ä½“ç³»ç»“æ„","uri":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"},{"categories":["C++"],"content":"æ ‡å‡†åº“é‡è¦ç½‘é¡µ // æ ‡å‡†åº“ç½‘é¡µ CPlusPlus.com CppReference.com gcc.gnu.org// ä¹¦ç±ä»‹ç» THE C++ STANDARD LIBRARY STLæºç å‰–æ ","date":"2023-03-16","objectID":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/:1:0","tags":["C++"],"title":"stl-ä½“ç³»ç»“æ„","uri":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"},{"categories":["C++"],"content":"STLå…­å¤§éƒ¨ä»¶ /* å®¹å™¨: å­˜æ”¾dataçš„åœ°æ–¹ åˆ†é…å™¨: åˆ†é…å†…å­˜çš„ä½œç”¨ è¿­ä»£å™¨: å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæŒ‡é’ˆ ç®—æ³•: æ¯”å¦‚ sort ä¹‹ç±»çš„ ä»¿å‡½æ•°: ä½œç”¨è·Ÿå‡½æ•°ç±»ä¼¼ é€‚é…å™¨: ç›¸å½“äºè½¬æ¢xxxçš„åŠŸèƒ½*/ #include \u003cvector\u003e#include \u003calgorithm\u003e#include \u003cfunctional\u003e#include \u003ciostream\u003eusing namespace std;int main() { int ia[6] = { 27, 210, 12, 47, 109, 83 }; vector\u003cint, allocator\u003cint\u003e\u003e vi(ia, ia+6); cout \u003c\u003c count_if(vi.begin(), vi.end(), not1(bind2nd(less\u003cint\u003e(), 40))); return 0;}/*ä»£ç è§£æ: vector å…¶å®å°±æ˜¯ä¸€ä¸ªå®¹å™¨ allocator: åˆ†é…å™¨ å¯ä»¥ä¸å†™ æºä»£ç ä¼šæœ‰é»˜è®¤çš„åˆ†é…å™¨ç”¨æ¥åˆ†é…å†…å­˜ count_if: ä¸€ç§ç®—æ³• èƒ½å¤Ÿå¸®æˆ‘ä»¬åœ¨æŸç§æ¡ä»¶ä¸‹è®¡ç®—å…ƒç´ çš„ä¸ªæ•° vi.begin(): è¿­ä»£å™¨ ä¼ å…ƒç´  less: ä»¿å‡½æ•° æ¯”å¤§å° è·Ÿa, bæ¯”å¤§å° å–å° bind2nd: é€‚é…å™¨ ç»‘å®šç¬¬äºŒä¸ªå‚æ•° æ­¤å¤„å°±æ˜¯å¯ä»¥è·Ÿ40æ¥æ¯” not1: å¦å®š åŸæœ¬æ˜¯å°äº40 ç°åœ¨æ˜¯å¤§äºç­‰äº40*/ ","date":"2023-03-16","objectID":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/:2:0","tags":["C++"],"title":"stl-ä½“ç³»ç»“æ„","uri":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"},{"categories":["C++"],"content":"å‰é—­åå¼€ åŒºé—´ #include \u003cvector\u003e#include \u003calgorithm\u003e#include \u003cfunctional\u003e#include \u003ciostream\u003eusing namespace std;int main() { int ia[6] = { 27, 210, 12, 47, 109, 83 }; vector\u003cint, allocator\u003cint\u003e\u003e vi(ia, ia+6); cout \u003c\u003c count_if(vi.begin(), vi.end(), not1(bind2nd(less\u003cint\u003e(), 40))); return 0;}/* vi.begin() æŒ‡å‘iaæ•°ç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ä½ç½® vi.end() æŒ‡å‘iaæ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªä½ç½® è¿™ç§çš„æˆ‘ä»¬å°±å«åšå‰é—­åå¼€ [ ) æ‰€ä»¥åˆ©ç”¨è¿™ä¸ªæˆ‘ä»¬å¯ä»¥å¯¹è¿™ä¸ªå®¹å™¨ç”¨ä¼ªä»£ç éå†*/Container\u003cT\u003e c; // åˆ›å»ºä¸€ä¸ªå®¹å™¨... // å¾€å®¹å™¨å¡å€¼container\u003cT\u003e::iterator ite = c.begin() // ç»™ä¸€ä¸ªè¿­ä»£å™¨for (; ite != c.end(); ++ite) { // å¦‚æœè¿™ä¸ªè¿­ä»£å™¨ä¸åˆ°c.end() å°±æ‰§è¡Œä»£ç  ...}// ç°åœ¨æœ‰ä¸€ä¸ªå¯ä»¥ä¼˜åŒ–ä¸Šé¢çš„ä¼ªä»£ç çš„æ–¹æ³•std::vector\u003cdouble\u003e vec;...for ( auto elem : vec) { // autoçš„ä½œç”¨å°±æ˜¯ä»£æ›¿ container\u003cT\u003e::iterator std::cout \u003c\u003c elem \u003c\u003c std::end1;}// å¯¹autoä¹Ÿå¯ä»¥ä¼˜åŒ–for ( auto\u0026 elem : vec) { elem *= 3}// å¯¹autoå†ä¸€æ¬¡è§£é‡Šlist\u003cstring\u003e c;...list\u003cstring\u003e::iterator ite;ite = ::find(c.begin(), c.end(), target);// ä¸Šè¿°ä»£ç åˆ©ç”¨autoå¯ä»¥å†™æˆlist\u003cstring\u003e c;...auto ite = ::find(c.begin(), c.end(), target); ","date":"2023-03-16","objectID":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/:3:0","tags":["C++"],"title":"stl-ä½“ç³»ç»“æ„","uri":"/c-stl-%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84/"},{"categories":["C++"],"content":"value \u0026 poionter \u0026 reference ","date":"2023-03-16","objectID":"/c-value-pointer-reference/:0:0","tags":["C++"],"title":"value \u0026 poionter \u0026 reference","uri":"/c-value-pointer-reference/"},{"categories":["C++"],"content":"å¼•ç”¨ ä»€ä¹ˆæ˜¯å¼•ç”¨ reference å…¶å®å°±æ˜¯ä¸€ä¸ªæ¼‚äº®çš„ pointer å¼•ç”¨çš„ä»£ç  int x = 0; int* p = \u0026x; // p is a pointer to x int\u0026 p = x; // r is a reference to x int x2 = 5; r = x2; int\u0026 r2= r; int*æ˜¯ pointer to intï¼Œint\u0026æ˜¯ reference to intï¼Œæ¯”å¦‚ int* p = \u0026x; æˆ‘ä»¬ä¼šè¯´æŒ‡é’ˆpæŒ‡å‘äº†xï¼Œè€Œint\u0026 r = x;æˆ‘ä»¬ä¼šè¯´ r ä»£è¡¨äº† xï¼Œå…¶å®ré‡Œé¢æœ‰ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘äº†x ï¼Œr åªè¦ä»£è¡¨äº† x å°±ä¸å¯ä»¥ä»£è¡¨åˆ«çš„å˜é‡ï¼Œpointerä¸åŒï¼Œpointerè¿˜å¯ä»¥æŒ‡å‘åˆ«çš„å˜é‡ å‡è±¡ æˆ‘ä»¬è§‚å¯Ÿä¸Šé¢çš„ x å’Œ rçš„åœ°å€å’Œå¤§å°ï¼Œå°±å‘ç° sizeof(r) = sizeof(x) \u0026x == \u0026r object å’Œå…¶ referenceçš„å¤§å°ç›¸åŒï¼Œåœ°å€ä¹Ÿç›¸åŒï¼ˆä½†æ˜¯éƒ½æ˜¯å‡è±¡ï¼‰ referenceçš„å¸¸è§ç”¨é€” referenceä¸€èˆ¬ä¸ç”¨åœ¨å£°æ˜å˜é‡ï¼Œè€Œç”¨åœ¨å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹çš„æè¿° void func1(Cls* pobj) { pobj-\u003exxx(); } // pass by pointer void func2(Cls obj) { obj.xxx(); } // pass by value void func3(Cls\u0026 obj) { obj.xxx(); } // pass by reference Cls obj; func1(\u0026obj); func2(obj); func(obj); æˆ‘ä»¬èƒ½å‘ç° pass by pointer è·Ÿå…¶ä»–çš„éƒ½ä¸ä¸€æ ·ï¼Œè€Œ\"value\" â€œreference\"è¢«è°ƒç”¨ç«¯çš„å†™æ³•ç›¸åŒï¼Œè°ƒç”¨ç«¯æ¥å£ä¹Ÿç›¸åŒ æ‰€ä»¥æœ€å¥½ç”¨ reference ä¸è¡Œçš„æƒ…å†µä¸‹ æ¯”å¦‚è¿”å›ä¸´æ—¶å¯¹è±¡çš„æƒ…å†µä¸‹ï¼Œç”¨value ","date":"2023-03-16","objectID":"/c-value-pointer-reference/:1:0","tags":["C++"],"title":"value \u0026 poionter \u0026 reference","uri":"/c-value-pointer-reference/"},{"categories":["C++"],"content":"ç­¾å ä»€ä¹ˆæ˜¯ç­¾å ä¸å«return typeçš„å‡½æ•°éƒ¨åˆ†å«åšç­¾å å¦‚ä¸‹è¿°ä»£ç  ä»–ä»¬çš„ç­¾åéƒ½æ˜¯ image(const double im) æ‰€ä»¥ä»–ä»¬ä¸¤è€…ä¸èƒ½åŒæ—¶å­˜åœ¨ double image(const double\u0026 im) { ... } double image(const double im) { ... } const ä¹Ÿç®—å‡½æ•°ç­¾å ","date":"2023-03-16","objectID":"/c-value-pointer-reference/:2:0","tags":["C++"],"title":"value \u0026 poionter \u0026 reference","uri":"/c-value-pointer-reference/"},{"categories":["C++"],"content":"æŒ‡é’ˆå’Œå¼•ç”¨çš„åŒºåˆ« æŒ‡é’ˆå’Œå¼•ç”¨éƒ½æ˜¯å†…å­˜åœ°å€çš„ä¸€ä¸ªæ¦‚å¿µï¼ŒåŒºåˆ«å°±æ˜¯æŒ‡é’ˆæ˜¯ä¸€ä¸ªå®ä½“ï¼Œå¼•ç”¨æ˜¯ä¸€ä¸ªåˆ«å æŒ‡é’ˆä»–æŒ‡å‘ä¸€ä¸ªå†…å­˜ï¼Œåœ¨ç¼–è¯‘çš„æ—¶å€™ä¼šä»¥ â€œæŒ‡é’ˆå - æŒ‡å‘çš„å†…å­˜åœ°å€â€ å­˜å…¥ç¬¦å·è¡¨ï¼Œæ‰€ä»¥è¯´ æŒ‡é’ˆåŒ…å«çš„å†…å®¹æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œå¹¶ä¸”æ˜¯å¯ä»¥ constä¿®é¥°çš„ï¼Œå…è®¸æ‹·è´å’Œèµ‹å€¼ï¼Œç”šè‡³å¯ä»¥ä¸ºç©ºï¼Œsizeofå¾—åˆ°çš„å°±æ˜¯æŒ‡é’ˆç±»å‹çš„å¤§å° å¼•ç”¨åˆ™å°±æ˜¯ç›¸å½“äºä¸€ä¸ªå†…å­˜çš„åˆ«åï¼Œåœ¨æ·»åŠ åˆ°ç¬¦å·è¡¨çš„æ—¶å€™ï¼Œæ˜¯ä»¥ â€œå¼•ç”¨å˜é‡å - å¼•ç”¨å¯¹è±¡çš„åœ°å€\"æ·»åŠ åˆ°ç¬¦å·è¡¨ä¸­ï¼Œç¬¦å·è¡¨ä¸€ç»å®Œæˆä¸èƒ½æ”¹å˜ï¼Œæ‰€ä»¥å¼•ç”¨å¿…é¡»è€Œä¸”åªèƒ½åœ¨å®šä¹‰æ—¶è¢«ç»‘ å®šåˆ°ä¸€å—å†…å­˜ä¸Šï¼Œåç»­ä¸èƒ½æ›´æ”¹ï¼Œä¹Ÿä¸èƒ½ä¸ºç©ºï¼Œä¹Ÿæ²¡æœ‰ const å’Œé const åŒºåˆ« sizeof sizeof å¼•ç”¨å¾—åˆ°ä»£è¡¨å¯¹è±¡çš„å¤§å° sizeof æŒ‡é’ˆå¾—åˆ°çš„æ˜¯æŒ‡é’ˆæœ¬èº«çš„å¤§å° å‚æ•°ä¼ é€’ ä¼ æŒ‡é’ˆçš„å®è´¨æ˜¯ä¼ å€¼ï¼Œä¼ é€’çš„å€¼æ˜¯æŒ‡é’ˆçš„åœ°å€ã€‚æŒ‡é’ˆéœ€è¦è¢«è§£å¼•ç”¨åæ‰å¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œæ“ä½œ ä¼ å¼•ç”¨çš„å®è´¨æ˜¯ä¼ åœ°å€ï¼Œä¼ é€’çš„æ˜¯å‚æ•°çš„åœ°å€ã€‚ç›´æ¥å¯¹å¼•ç”¨è¿›è¡Œçš„ä¿®æ”¹ä¼šç›´æ¥ä½œç”¨åˆ°å¼•ç”¨å¯¹è±¡ä¸Š ","date":"2023-03-16","objectID":"/c-value-pointer-reference/:3:0","tags":["C++"],"title":"value \u0026 poionter \u0026 reference","uri":"/c-value-pointer-reference/"},{"categories":["C++"],"content":"å‚æ•°ä¼ é€’ pass by value å½¢å‚æ˜¯å®å‚çš„æ‹·â»‰ï¼Œå‡½æ•°å†…éƒ¨å¯¹å½¢å‚çš„æ“ä½œå¹¶ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„å®å‚ å€¼ä¼ é€’è¿‡ç¨‹ä¸­ï¼Œè¢«è°ƒå‡½æ•°çš„å½¢å¼å‚æ•°ä½œä¸ºè¢«è°ƒå‡½æ•°çš„å±€éƒ¨å˜é‡å¤„ç†ï¼Œä¼šåœ¨æ ˆä¸­å¼€è¾Ÿå†…å­˜ç©ºé—´ä»¥å­˜æ”¾ç”±ä¸»è°ƒå‡½æ•°ä¼ é€’è¿›æ¥çš„å®å‚ å€¼ï¼Œä»è€Œå½¢æˆäº†å®å‚çš„ä¸€ä¸ªå‰¯æœ¬(æ›¿èº«) å€¼ä¼ é€’çš„ç‰¹ç‚¹å°±æ˜¯è¢«è°ƒå‡½æ•°å¯¹å½¢å¼å‚æ•°çš„ä»»ä½•æ“ä½œéƒ½æ˜¯ä½œä¸ºå±€éƒ¨å˜é‡è¿›è¡Œçš„ï¼Œä¸ä¼šå½±å“ä¸»è°ƒå‡½æ•°çš„å®å‚å˜é‡çš„å€¼(å½¢å‚æŒ‡é’ˆå˜äº†ï¼Œå®å‚æŒ‡é’ˆä¸ä¼šå˜) pass by pointer æŒ‡é’ˆå‚æ•°æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå€¼ä¼ é€’ï¼Œä»–æ‰€ä¼ é€’çš„æ˜¯ä¸€ä¸ªåœ°å€å€¼ å½“å¯¹åœ°å€å€¼çš„æŒ‡å‘æ“ä½œæ—¶ï¼Œå°±ç›¸å½“äºå¯¹å®å‚æœ¬èº«è¿›è¡Œæ“ä½œ pass by reference è¢«è°ƒå‡½æ•°çš„å½¢å¼å‚æ•°ä¹Ÿä½œä¸ºå±€éƒ¨å˜é‡åœ¨æ ˆä¸­å¼€è¾Ÿäº†å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯è¿™æ—¶ å­˜æ”¾çš„æ˜¯ç”±ä¸»è°ƒå‡½æ•°æ”¾è¿›æ¥çš„å®å‚å˜é‡çš„åœ°å€ è¢«è°ƒå‡½æ•°å¯¹å½¢å‚(æœ¬ä½“)çš„ä»»ä½•æ“ä½œéƒ½è¢«å¤„ç†æˆé—´æ¥å¯»å€ï¼Œå³é€šè¿‡æ ˆä¸­å­˜æ”¾çš„åœ°å€è®¿é—®ä¸»è°ƒå‡½æ•°ä¸­çš„å®å‚å˜é‡(æ ¹æ®åˆ«åæ‰¾åˆ°ä¸»è°ƒå‡½æ•°ä¸­çš„ æœ¬ä½“) å› æ­¤ï¼Œè¢«è°ƒå‡½æ•°å¯¹å½¢å‚çš„ä»»ä½•æ“ä½œéƒ½ä¼šå½±å“ä¸»è°ƒå‡½æ•°ä¸­çš„å®å‚å˜é‡ å¼•ç”¨ä¼ é€’å’ŒæŒ‡é’ˆä¼ é€’æ˜¯ä¸åŒçš„ è™½ç„¶ä»–ä»¬éƒ½æ˜¯è¢«è°ƒå‡½æ•°æ ˆç©ºé—´ä¸Šçš„ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œä½†æ˜¯ä»»ä½•å¯¹äºå¼•ç”¨å‚æ•°çš„å¤„ç†éƒ½ä¼šé€šè¿‡ä¸€ä¸ªé—´æ¥å¯»å€çš„æ–¹å¼æ“ä½œåˆ°ä¸»è°ƒå‡½æ•°ä¸­çš„ç›¸å…³å˜é‡ï¼Œè€Œå¯¹äºæŒ‡é’ˆä¼ é€’çš„å‚æ•°ï¼Œå¦‚æœæ”¹å˜è¢«è°ƒå‡½æ•°ä¸­çš„æŒ‡é’ˆåœ°å€ï¼Œä»–å°†åº”ç”¨ä¸åˆ°ä¸»è°ƒå‡½æ•°çš„ç›¸å…³å˜é‡ã€‚ å¦‚æœæƒ³é€šè¿‡æŒ‡é’ˆå‚æ•°ä¼ é€’æ¥æ”¹å˜ä¸»è°ƒå‡½æ•°ä¸­çš„ç›¸å…³å˜é‡(åœ°å€)ï¼Œé‚£å°±å¾—ä½¿ç”¨æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆæˆ–è€…æŒ‡é’ˆå¼•ç”¨ ","date":"2023-03-16","objectID":"/c-value-pointer-reference/:4:0","tags":["C++"],"title":"value \u0026 poionter \u0026 reference","uri":"/c-value-pointer-reference/"},{"categories":["C++"],"content":"é‡æŒ‡é’ˆ ä»€ä¹ˆæ˜¯é‡æŒ‡é’ˆ å°±æ˜¯æ²¡æœ‰è¢«åˆå§‹åŒ–è¿‡çš„æŒ‡é’ˆ å¦‚ä½•é¿å…é‡æŒ‡é’ˆ åœ¨å¹³æ—¶çš„ç¼–ç ä¸­ï¼Œå…»æˆå®šä¹‰æŒ‡é’ˆååˆå§‹åŒ–æˆ–è€…ä½¿ç”¨æ™ºèƒ½æŒ‡é’ˆçš„ä¹ æƒ¯ ","date":"2023-03-16","objectID":"/c-value-pointer-reference/:5:0","tags":["C++"],"title":"value \u0026 poionter \u0026 reference","uri":"/c-value-pointer-reference/"},{"categories":["C++"],"content":"æ‚¬ç©ºæŒ‡é’ˆ ä»€ä¹ˆæ˜¯æ‚¬ç©ºæŒ‡é’ˆ æ˜¯æŒ‡é’ˆæœ€åˆæŒ‡å‘çš„å†…å­˜å·²ç»è¢«é‡Šæ”¾çš„ä¸€ç§æŒ‡é’ˆ ","date":"2023-03-16","objectID":"/c-value-pointer-reference/:6:0","tags":["C++"],"title":"value \u0026 poionter \u0026 reference","uri":"/c-value-pointer-reference/"},{"categories":["C++"],"content":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(reference) ","date":"2023-03-16","objectID":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Breference/:0:0","tags":["C++"],"title":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(reference)","uri":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Breference/"},{"categories":["C++"],"content":"classå†… ç¼–å†™é˜²å«å¼å£°æ˜ #ifndef __STRING__ // __STRING__ è‡ªç”±å– #define __STRING__ // __STRING__ è‡ªç”±å– #endif ç¼–å†™class head #ifndef __STRING__ // __STRING__ è‡ªç”±å– #define __STRING__ // __STRING__ è‡ªç”±å– class String { }; #endif ç¼–å†™æ•°æ® æ”¾å…¥private #ifndef __STRING__ // __STRING__ è‡ªç”±å– #define __STRING__ // __STRING__ è‡ªç”±å– class String { private: char* m_data; }; #endif // __STRING__ ç¼–å†™æ„é€ å‡½æ•° ç±»çš„åç§°è¦ç›¸åŒ æœ‰å“ªäº›å‚æ•°è¦ä¼ ï¼Œéœ€ä¸éœ€è¦é»˜è®¤å€¼ï¼Œå‚æ•°ä¼ é€’æ˜¯ pass by value è¿˜æ˜¯ pass by reference åˆç†åˆ©ç”¨åˆå§‹åˆ—ï¼Œåˆå§‹åˆ—å°±æ˜¯è®¾åˆå§‹å€¼ { } å†…å¯èƒ½ä¼šæœ‰å†…å­˜åˆ†é…å“¦~ const!!! #ifndef __STRING__ // __STRING__ è‡ªç”±å– #define __STRING__ // __STRING__ è‡ªç”±å– class String { public: String(const char* cstr = 0); // æ„é€ å‡½æ•° private: char* m_data; }; #endif // __STRING__ è®¾è®¡ä¸‰å¤§å‡½æ•° #ifndef __STRING__ // __STRING__ è‡ªç”±å– #define __STRING__ // __STRING__ è‡ªç”±å– class String { public: String(const char* cstr = 0); // æ„é€ å‡½æ•° String(const String\u0026 str); // æ‹·è´æ„é€  String\u0026 operator=(const String\u0026 str); // æ‹·è´èµ‹å€¼ ~String(); // ææ„å‡½æ•° private: char* m_data; }; #endif // __STRING__ è®¾è®¡å…¶ä»–å‡½æ•° å½“æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä¸€å®šè¦æ€è€ƒï¼Œè¦ä¸è¦åŠ const åˆ°åº•è¦ä¸è¦åŠ ï¼Œåªéœ€è¦çœ‹ï¼Œè¿™ä¸ªå‚æ•°ä¼šä¸ä¼šè¢«æ”¹å˜ï¼Œå¦‚æœä¸ä¼šæ”¹å˜æˆ–ä¸èƒ½æ”¹å˜ï¼Œåˆ™åŠ const ç»“åˆæ­¤å¤„ä»£ç è€ƒè™‘ï¼Œå–å‡ºå’Œæ„é€ çš„æ‹·è´çš„æ—¶å€™ï¼Œéƒ½ä¸ä¼šæ”¹å˜strï¼Œæ‰€ä»¥å°±åŠ ä¸€ä¸ªconst class String { public: String(const char* cstr = 0); // æ„é€ å‡½æ•° String(const String\u0026 str); // æ‹·è´æ„é€  String\u0026 operator=(const String\u0026 str); // æ‹·è´èµ‹å€¼ ~String(); // ææ„å‡½æ•° char* get_c_str() const { return m_data; } // æ‹¿åˆ°ç§æœ‰çš„æ•°æ® private: char* m_data; }; #endif // __STRING__ ","date":"2023-03-16","objectID":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Breference/:1:0","tags":["C++"],"title":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(reference)","uri":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Breference/"},{"categories":["C++"],"content":"classå¤– æ„é€ å‡½æ•°å’Œææ„å‡½æ•° inline String::String(const char* cstr = 0) { if (cstr) { m_data = new char[strlen(cstr)+1]; strcpy(m_data, cstr); } else { m_data = new char[1]; *m_data = '\\0'; } } // cé‡Œé¢å­—ç¬¦ä¸²æ˜¯ä»¥ '\\0' ä¸ºç»“æŸç¬¦å· è¿™æ˜¯æ„é€ å‡½æ•° inline String::~String() { delete[] m_data; } // ææ„å‡½æ•° å› ä¸ºä¸Šè¿°æ„é€ å‡½æ•° ä¸ºstråˆ†é…äº†ä¸€ä¸ªå†…å­˜ æ‰€ä»¥è¦é‡Šæ”¾å†…å­˜ è¦ä¸ç„¶ä¼šå†…å­˜æ³„æ¼ // class æœ‰æŒ‡é’ˆ å¤šåŠè¦åšåŠ¨æ€åˆ†é… æ‰€ä»¥å°±è¦åœ¨ææ„å‡½æ•° é‡Šæ”¾å†…å­˜ æ‹·è´æ„é€ å‡½æ•° // æ‹·è´æ„é€ æ²¡æœ‰è¿”å›å€¼ inline String::String(const String\u0026 str) { m_data = new char[ strlen(str.m_data) + 1 ]; strcpy(m_data, str.m_data); } æ‹·è´èµ‹å€¼å‡½æ•° inline String\u0026 String::operator=(const String\u0026 str) { // è¿™ä¸€è¡Œä¸ä¸‹ä¸€è¡Œçš„\u0026ä¸ä¸€æ · ç¬¬ä¸€è¡Œæ˜¯å¼•ç”¨(reference) ç¬¬äºŒè¡Œæ˜¯å–\"str\"åœ°å€ if (this == \u0026str) return *this; // åˆ¤æ–­æ˜¯ä¸æ˜¯è‡ªæˆ‘èµ‹å€¼ delete[] m_data; m_data = new char [ strlen(str.m_data) + 1]; strcpy(m_data, str.m_data); return *this; } ","date":"2023-03-16","objectID":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Breference/:2:0","tags":["C++"],"title":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(reference)","uri":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Breference/"},{"categories":["C++"],"content":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(value) ","date":"2023-03-16","objectID":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Bvalue/:0:0","tags":["C++"],"title":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(value)","uri":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Bvalue/"},{"categories":["C++"],"content":"classå†… ç¼–å†™é˜²å«å¼å£°æ˜ #ifndef __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #define __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #endif ç¼–å†™class head #ifndef __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #define __COMPLEX__ // __COMPLEX__ è‡ªç”±å– class complex { }; #endif ç¼–å†™æ•°æ® æ”¾å…¥private #ifndef __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #define __COMPLEX__ // __COMPLEX__ è‡ªç”±å– class complex { private: double re, im; }; #endif // __COMPLEX__ ç¼–å†™æ„é€ å‡½æ•° ç±»çš„åç§°è¦ç›¸åŒ æœ‰å“ªäº›å‚æ•°è¦ä¼ ï¼Œéœ€ä¸éœ€è¦é»˜è®¤å€¼ï¼Œå‚æ•°ä¼ é€’æ˜¯ pass by value è¿˜æ˜¯ pass by reference åˆç†åˆ©ç”¨åˆå§‹åˆ—ï¼Œåˆå§‹åˆ—å°±æ˜¯è®¾åˆå§‹å€¼ { } å†…å¯èƒ½ä¼šæœ‰å†…å­˜åˆ†é…å“¦~ #ifndef __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #define __COMPLEX__ // __COMPLEX__ è‡ªç”±å– class complex { public: complex(double r = 0, double i = 0) : re(r), im(i) {} private: double re, im; }; #endif // __COMPLEX__ è®¾è®¡\"+=â€œå‡½æ•° è¿™é‡Œéœ€è¦è€ƒè™‘æ˜¯å¦ä¸ºæˆå‘˜å‡½æ•°ï¼Œå¦‚æœæ˜¯åˆ™åœ¨classå†…å®šä¹‰ï¼Œå¦‚æœä¸æ˜¯åˆ™åœ¨classå†…å®šä¹‰ï¼Œè¿™é‡Œé€‰æ‹©æ˜¯ #ifndef __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #define __COMPLEX__ // __COMPLEX__ è‡ªç”±å– class complex { public: complex(double r = 0, double i = 0) : re(r), im(i) {} complex\u0026 operator+=(const complex\u0026); private: double re, im; }; #endif // __COMPLEX__ è®¾è®¡å…¶ä»–å‡½æ•° å½“æˆ‘ä»¬è®¾è®¡ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œä¸€å®šè¦æ€è€ƒï¼Œè¦ä¸è¦åŠ const åˆ°åº•è¦ä¸è¦åŠ ï¼Œåªéœ€è¦çœ‹ï¼Œè¿™ä¸ªå‚æ•°ä¼šä¸ä¼šè¢«æ”¹å˜ï¼Œå¦‚æœä¸ä¼šæ”¹å˜æˆ–ä¸èƒ½æ”¹å˜ï¼Œåˆ™åŠ const *ç»“åˆæ­¤å¤„ä»£ç è€ƒè™‘ real imag æ˜¯å–å‡º re im æ²¡æœ‰æ”¹åŠ¨ æ‰€ä»¥ è¦åŠ const * #ifndef __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #define __COMPLEX__ // __COMPLEX__ è‡ªç”±å– class complex { public: complex(double r = 0, double i = 0) : re(r), im(i) {} complex\u0026 operator+=(const complex\u0026); double real() const { return re; } double imag() const { return im; } private: double re, im; }; #endif // __COMPLEX__ æƒ³æ‹¿ç§æœ‰æ•°æ®ï¼Œæˆ‘ä»¬å¯ä»¥äº¤ä¸ªæœ‹å‹ #ifndef __COMPLEX__ // __COMPLEX__ è‡ªç”±å– #define __COMPLEX__ // __COMPLEX__ è‡ªç”±å– class complex { public: complex(double r = 0, double i = 0) : re(r), im(i) {} complex\u0026 operator+=(const complex\u0026); double real() const { return re; } double imag() const { return im; } private: double re, im; friend complex\u0026 __doapl(complex*, const complex\u0026); }; #endif // __COMPLEX__ ","date":"2023-03-16","objectID":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Bvalue/:1:0","tags":["C++"],"title":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(value)","uri":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Bvalue/"},{"categories":["C++"],"content":"classå¤– æ¥å£éƒ¨åˆ† inline complex\u0026 complex::operator += (const complex\u0026 r) inline complex\u0026 __doapl(complex* ths, const complex\u0026 r) /* æ€è€ƒ å‚æ•° / const / pass by reference / return by reference / return type / classä¹‹å¤– inline */ å®šä¹‰éƒ¨åˆ† inline complex\u0026 complex::operator += (const complex\u0026 r) { return __doapl(this, r); } inline complex\u0026 __doapl(complex* ths, const complex\u0026 r) { ths-\u003ere += r.re; ths-\u003eim += r.im; return *ths; } \"+â€ éæˆå‘˜å‡½æ•° ä¸ºä»€ä¹ˆ â€œ+â€ è¦å†™ä¸ºéæˆå‘˜å‡½æ•° å› ä¸º â€œ+â€ å…¶å®æœ‰å¾ˆå¤šæƒ…å†µ æ¯”å¦‚å¤æ•°+å¤æ•° å¤æ•°+å®æ•°ç­‰ inline complex operator + (const complex\u0026 x, const complex\u0026 y) { return complex( real(x) + real(y), imag(x) + imag(y) ); } /* æ€è€ƒ è¿”å›ç±»å‹ å‚æ•°ç±»å‹ */ ","date":"2023-03-16","objectID":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Bvalue/:2:0","tags":["C++"],"title":"ç¼–å†™å¤´æ–‡ä»¶çš„æ€è·¯æµç¨‹(value)","uri":"/c-%E7%BC%96%E5%86%99%E5%A4%B4%E6%96%87%E4%BB%B6%E7%9A%84%E6%80%9D%E8%B7%AF%E6%B5%81%E7%A8%8Bvalue/"},{"categories":["C++"],"content":"æ“ä½œç¬¦é‡è½½ !!!æœ¬æ–‡åŸºäºè¿™ä¸ªä¸€ä¸ª complexçš„ç±»å»è®²è§£ æ“ä½œç¬¦é‡è½½ class complex { public: complex(double r = 0, double i = 0) : re(r), im(i) {} complex\u0026 operator+=(const complex\u0026); double real() const { return re; } double imag() const { return im; } private: double re, im; friend complex\u0026 __doapl(complex *, const complex \u0026); }; ","date":"2023-03-16","objectID":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/:0:0","tags":["C++"],"title":"æ“ä½œç¬¦é‡è½½","uri":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/"},{"categories":["C++"],"content":"æ“ä½œç¬¦é‡è½½ ç¤ºä¾‹æ“ä½œç¬¦é‡è½½ â€œ+=â€ +=å°±æ˜¯ä¸€ä¸ªæ“ä½œç¬¦ï¼Œé‚£ä¹ˆæ“ä½œç¬¦æ˜¯æ€ä¹ˆè¢«ç¼–è¯‘å™¨çœ‹å¾…çš„ ä¸‹è¿°ä»£ç  += ä¼šç”¨åˆ°å·¦è¾¹çš„c2ä¸Šï¼Œå¦‚æœc2æœ‰å¯¹+=çš„å®šä¹‰ï¼Œå°±ä¼šè°ƒç”¨+=çš„å‡½æ•°ï¼Œæ“ä½œç¬¦æœ¬æ¥ä¹Ÿå°±æ˜¯ä¸€ä¸ªå‡½æ•° c2 += c1; æˆ‘ä»¬æ¥ç¤ºèŒƒä¸€ä¸‹é‡è½½ += è¿™ä¸ªä»£ç å°±æ˜¯é‡å†™äº†+=å‡½æ•°ï¼Œå¤šåŒ…è£…äº†ä¸€å±‚ inline complex\u0026 __doapl(complex* ths, const complex\u0026 r) { ths-\u003ere += r.re; ths-\u003eim += r.im; return *ths; // è¿”å›çš„æ˜¯ä¸€ä¸ªvalue } inline complex\u0026 complex::operator+=(const complex\u0026 r) { return __doapl(this, r); } ","date":"2023-03-16","objectID":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/:1:0","tags":["C++"],"title":"æ“ä½œç¬¦é‡è½½","uri":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/"},{"categories":["C++"],"content":"æˆå‘˜å‡½æ•° - this æˆ‘ä»¬å°†ä¸Šé¢çš„ä»£ç æ›´æ·±ä¸€å±‚çœ‹ï¼Œå…¶å®æ˜¯è¿™æ ·çš„ è¿™ä¸ªthiså°±æ˜¯æ“ä½œç¬¦å·¦è¾¹çš„-ä¹Ÿå°±æ˜¯c2ï¼Œä½†æ˜¯åœ¨æˆ‘ä»¬ä»£ç é‡Œé¢ä¸å¯ä»¥å†™å‡ºæ¥ï¼ŒçŸ¥é“ä»–çš„å­˜åœ¨å°±å¥½ é‚£ä¹ˆthiså°±ä¸€å®šåœ¨ç¬¬ä¸€ä¸ªå‚æ•°å—ï¼Ÿ å…¶å®ä¸ä¸€å®šçš„ï¼Œä½†æ˜¯ä¸ç”¨è€ƒè™‘ inline complex\u0026 complex::operator+=(this, const complex\u0026 r) { return __doapl(this, r); } ","date":"2023-03-16","objectID":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/:2:0","tags":["C++"],"title":"æ“ä½œç¬¦é‡è½½","uri":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/"},{"categories":["C++"],"content":"Return by reference è¿˜æ˜¯ä¸Šé¢çš„ä»£ç  æˆ‘ä»¬æ¥åˆ†æåˆ†æä¸€ä¸ªé—®é¢˜ *ä¸ºä»€ä¹ˆ complex *ths æ˜¯æŒ‡é’ˆçš„æ–¹å¼ä¼ è¿›æ¥çš„ï¼Œreturn çš„æ—¶å€™ ths æ˜¯è¿”å›æŒ‡é’ˆæ‰€æŒ‡å‘çš„valueï¼Œç„¶è€Œå£°æ˜è¿”å›å€¼çš„æ—¶å€™ï¼Œè¯´è¿”å›çš„æ˜¯ä¸€ä¸ªå†…å­˜åœ°å€\u0026 inline complex\u0026 __doapl(complex* ths, const complex\u0026 r) { // ... return *ths; } è¿™å…¶å®æ˜¯å…è®¸çš„ï¼Œä½ è¿”å›ä¸€ä¸ªvalueï¼Œæ¥æ”¶ç«¯æ€ä¹ˆæ¥æ”¶ï¼Œæ˜¯ä¸éœ€è¦ç®¡çš„ï¼Œæ‰€ä»¥ ä¼ é€’è€…æ— éœ€çŸ¥é“æ¥æ”¶è€…æ˜¯ä»¥referenceå½¢å¼æ¥æ”¶ ","date":"2023-03-16","objectID":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/:3:0","tags":["C++"],"title":"æ“ä½œç¬¦é‡è½½","uri":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/"},{"categories":["C++"],"content":"éæˆå‘˜å‡½æ•° ä¸€ä¸ªæ“ä½œç¬¦ä¹Ÿå¯ä»¥æœ‰å¾ˆå¤šä¸ªé‡è½½ ä¸‹é¢ä¸‰ä¸ªæ“ä½œç¬¦ + ç”±å¤æ•°å’Œå®æ•°ç»„æˆä¸‰ç§ï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸‰ç§å…¨å±€å‡½æ•° { complex c1(2, 1); complex c2; c2 = c1 + c2; c2 = c1 + 5; c2 = 7 + c1; } inline complex operator + (const complex\u0026 x, const complex\u0026 y) { return complex (real(x) + real(y), imag(x) + imag(y)); } inline complex operator + (const complex\u0026 x, double y) { return complex (real(x) + y, imag(x); } inline complex operator + (double x, const complex\u0026 y) { return complex (x + real(y), imag(y)); } ","date":"2023-03-16","objectID":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/:4:0","tags":["C++"],"title":"æ“ä½œç¬¦é‡è½½","uri":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/"},{"categories":["C++"],"content":"ä¸´æ—¶å¯¹è±¡ æˆ‘ä»¬æ¥çœ‹çœ‹ä¸Šé¢ ä¸‰ä¸ª +é‡è½½ï¼Œä»–ä»¬ç»ä¸å¯return by reference ä¸Šè¿°çš„ + å¹¶éç­‰åŒäº +=ï¼Œx å’Œ yç›¸åŠ åçš„æ•°æ®å¹¶æ²¡æœ‰åœ°æ–¹æ”¾ï¼Œæ‰€ä»¥åœ¨å‡½æ•°é‡Œä¸€å®šä¼šæ”¾åœ¨ä¸€ä¸ªä¸œè¥¿é‡Œ è¿™é‡Œå°±æ˜¯complex() conplex()ç›¸å½“äºint()éƒ½ä¼šåˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œè¿™æ ·çš„æ„æ€å°±æ˜¯è¿™ä¸ªä¸´æ—¶å¯¹è±¡ä¸‹ä¸€è¡Œå°±æŒ‚äº†ï¼Œåªæ˜¯ä¸´æ—¶çš„ä½œç”¨ ","date":"2023-03-16","objectID":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/:5:0","tags":["C++"],"title":"æ“ä½œç¬¦é‡è½½","uri":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/"},{"categories":["C++"],"content":"æ€»ç»“ constéœ€ä¸éœ€è¦ä½¿ç”¨å–å†³äºè¿™ä¸ªå€¼éœ€ä¸éœ€è¦ä¿®æ”¹ pass by reference \u0026 return by reference ä¸€åˆ‡éƒ½ä¼˜å…ˆè€ƒè™‘ referenceï¼Œå¦‚æœåƒéœ€è¦ç”¨åˆ°ä¸´æ—¶å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨return by value åŒæ—¶ä¹Ÿè¦æ³¨æ„ éœ€ä¸éœ€è¦åŠ ä¸Šconst ","date":"2023-03-16","objectID":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/:6:0","tags":["C++"],"title":"æ“ä½œç¬¦é‡è½½","uri":"/c-%E6%93%8D%E4%BD%9C%E7%AC%A6%E9%87%8D%E8%BD%BD/"},{"categories":["C++"],"content":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼ ","date":"2023-03-16","objectID":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:0:0","tags":["C++"],"title":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼","uri":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["C++"],"content":"ä¸‰ä¸ªç‰¹æ®Šå‡½æ•° class String { public: String(const char* cstr = 0); // æ„é€ å‡½æ•° String(const String \u0026str); // ä»–æ˜¯æ¥å—è‡ªå·±çš„ä¸œè¥¿ æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªæ‹·è´æ„é€  String\u0026 operator = (const String\u0026 str); // æ“ä½œç¬¦é‡è½½ =å³æ‰‹è¾¹ä¹Ÿæ˜¯è‡ªå·±çš„ä¸œè¥¿ æ‰€ä»¥è¿™æ˜¯æ‹·è´èµ‹å€¼ ~String(); // ææ„å‡½æ•° å½“è¿™ä¸ªç±»æ­»äº¡çš„æ—¶å€™ å°±ä¼šè°ƒç”¨ ææ„å‡½æ•° char* get_c_str() const { return m_data; } private: char* m_data }; ","date":"2023-03-16","objectID":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:1:0","tags":["C++"],"title":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼","uri":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["C++"],"content":"æ„é€ å‡½æ•°å’Œææ„å‡½æ•° ä»£ç æ¼”ç¤º inline String::String(const char* cstr = 0) { if (cstr) { m_data = new char[strlen(cstr)+1]; strcpy(m_data, cstr); } else { m_data = new char[1]; *m_data = '\\0'; } } // cé‡Œé¢å­—ç¬¦ä¸²æ˜¯ä»¥ '\\0' ä¸ºç»“æŸç¬¦å· è¿™æ˜¯æ„é€ å‡½æ•° inline String::~String() { delete[] m_data; } // ææ„å‡½æ•° å› ä¸ºä¸Šè¿°æ„é€ å‡½æ•° ä¸ºstråˆ†é…äº†ä¸€ä¸ªå†…å­˜ æ‰€ä»¥è¦é‡Šæ”¾å†…å­˜ è¦ä¸ç„¶ä¼šå†…å­˜æ³„æ¼ // class æœ‰æŒ‡é’ˆ å¤šåŠè¦åšåŠ¨æ€åˆ†é… æ‰€ä»¥å°±è¦åœ¨ææ„å‡½æ•° é‡Šæ”¾å†…å­˜ æ„é€ å‡½æ•°ææ„å‡½æ•°é‡Œèƒ½ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ C++åªä¼šææ„å·²ç»å®Œæˆçš„å¯¹è±¡ï¼Œå¯¹è±¡åªæœ‰å…¶æ„é€ å‡½æ•°æ‰§è¡Œå®Œæ¯•æ‰ç®—æ˜¯å®Œæˆï¼Œåœ¨æ„é€ å‡½æ•°ä¸­å‘ç”Ÿå¼‚å¸¸ï¼Œæ§åˆ¶æƒè½¬äº¤ç»™ææ„å‡½æ•°ä¹‹å¤–ã€‚å› æ­¤ï¼Œåœ¨å¯¹è±¡bçš„æ„é€ å‡½æ•°ä¸­å‘ç”Ÿå¼‚å¸¸ï¼Œå¹¶ä¸ä¼šè°ƒç”¨å¯¹è±¡bçš„ææ„å‡½æ•°ï¼Œæ‰€ä»¥ä¼šé€ æˆå†…å­˜æ³„æ¼ ç”¨ auto_ptr å¯¹è±¡æ¥å–ä»£æŒ‡é’ˆç±»æˆå‘˜ï¼Œä¾¿å¯¹æ„é€ å‡½æ•°åšäº†å¼ºåŒ–ï¼Œå…é™¤äº†æŠ›å‡ºå¼‚å¸¸æ—¶å‘ç”Ÿèµ„æºæ³„ æ¼çš„å±æœºï¼Œä¸å†éœ€è¦åœ¨ææ„å‡½æ•°ä¸­æ‰‹åŠ¨é‡Šæ”¾èµ„æº å¦‚æœæ§åˆ¶æƒåŸºäºå¼‚å¸¸çš„å› ç´ ç¦»å¼€ææ„å‡½æ•°ï¼Œè€Œæ­¤æ—¶æ­£æœ‰å¦ä¸€ä¸ªå¼‚å¸¸å¤„äºä½œç”¨çŠ¶æ€ï¼ŒC++ ä¼šè°ƒ ç”¨ terminate å‡½æ•°è®©ç¨‹åºç»“æŸ å¦‚æœå¼‚å¸¸ä»ææ„å‡½æ•°æŠ›å‡ºï¼Œè€Œä¸”æ²¡æœ‰åœ¨å½“åœ°è¿›è¡Œæ•æ‰ï¼Œé‚£ä¸ªææ„å‡½æ•°ä¾¿æ˜¯æ‰§è¡Œä¸å…¨çš„ã€‚å¦‚æœææ„å‡½æ•°æ‰§è¡Œä¸å…¨ï¼Œå°±æ˜¯æ²¡æœ‰å®Œå…¨ä»–åº”è¯¥åšçš„æ¯ä¸€ä»¶äº‹ ","date":"2023-03-16","objectID":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:2:0","tags":["C++"],"title":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼","uri":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["C++"],"content":"æ·±æ‹·è´ä¸æµ…æ‹·è´ ä»€ä¹ˆæ˜¯æµ…æ‹·è´ æ‹·è´åï¼Œä¸¤ä¸ªå¯¹è±¡æŒ‡å‘åŒä¸€ä¸ªå†…å­˜åœ°å€ï¼Œå¦‚æœä¿®æ”¹äº†å…¶ä¸€ä¸ªï¼Œå¦ä¸€ä¸ªä¹Ÿä¼šå—åˆ°å½±å“ String a(\"Hello\"); // è¿™ä¸ªæ—¶å€™ a çš„ data æŒ‡å‘äº† 'Hello\\0' çš„åœ°å€ String b(\"World\"); // è¿™ä¸ªæ—¶å€™ b çš„ data æŒ‡å‘äº† â€˜World\\0â€™ çš„åœ°å€ b = a; // è¿™ä¸ªæ—¶å€™ b å°±ä¼šæŒ‡å‘ 'Hello\\0' çš„åœ°å€ a\u0026béƒ½æŒ‡å‘äº†åŒä¸€ä¸ªåœ°å€ å¯æ˜¯ 'World\\0' è¿˜åœ¨ é€ æˆå†…å­˜æ³„æ¼ è€Œä¸”ä½ æ”¹a bå°±ä¼šå—åˆ°å½±å“ æ‰€ä»¥è¿™ç§ 'b = a' å«åšæµ…æ‹·è´ å‡ºç°ç±»çš„ç­‰å·èµ‹å€¼æ—¶ï¼Œä¼šè°ƒç”¨æ‹·â»‰å‡½æ•°ï¼Œåœ¨æœªå®šä¹‰æ˜¾ç¤ºæ‹·â»‰æ„é€ å‡½æ•°çš„æƒ…å†µä¸‹ï¼Œ ç³»ç»Ÿä¼šè°ƒ ç”¨é»˜è®¤çš„æ‹·â»‰å‡½æ•°-å³æµ…æ‹·â»‰ï¼Œå®ƒèƒ½å¤Ÿå®Œæˆæˆå‘˜çš„ä¸€ä¸€å¤åˆ¶ã€‚å½“æ•°æ®æˆå‘˜ä¸­æ²¡æœ‰æŒ‡é’ˆæ—¶ï¼Œæµ…æ‹·â»‰æ˜¯å¯è¡Œçš„ï¼Œä½†å½“æ•°æ®æˆå‘˜ä¸­æœ‰æŒ‡é’ˆæ—¶ï¼Œå¦‚æœé‡‡ç”¨ç®€å•çš„æµ…æ‹·â»‰ï¼Œåˆ™ä¸¤ç±»ä¸­çš„ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªåœ°å€ï¼Œå½“å¯¹è±¡å¿«è¦ç»“æŸæ—¶ï¼Œä¼šè°ƒç”¨ä¸¤æ¬¡ææ„å‡½æ•°ï¼Œè€Œå¯¼è‡´é‡æŒ‡é’ˆçš„é—®é¢˜ ä»€ä¹ˆæ˜¯æ·±æ‹·è´ æ‹·è´åï¼Œä¸¤ä¸ªå¯¹è±¡çš„å€¼ç›¸åŒï¼Œä½†æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå†…å­˜åœ°å€ ç®€è€Œè¨€ä¹‹ï¼Œå½“æ•°æ®æˆå‘˜ä¸­æœ‰æŒ‡é’ˆæ—¶ï¼Œå¿…éœ€è¦ç”¨æ·±æ‹·â»‰æ›´åŠ å®‰å…¨ ","date":"2023-03-16","objectID":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:3:0","tags":["C++"],"title":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼","uri":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["C++"],"content":"æ‹·è´æ„é€ å‡½æ•° ä»€ä¹ˆæ˜¯æ‹·è´æ„é€ å‡½æ•°åŠå®ç° inline String::String(const String\u0026 str) { // ä¸ºä»€ä¹ˆå«æ„é€  å› ä¸ºè¿™æ˜¯ä¸€ä¸ªæ„é€ å‡½æ•° ä¸ºä»€ä¹ˆå«æ‹·è´ å› ä¸ºä¼ å‚æ˜¯è‡ªå·± m_data = new char[strlen(str.m_data)+1]; // ç›´æ¥å–å¦ä¸€ä¸ªobjectçš„private data strcpy(m_data, str.m_data); } // è¿™ä¹Ÿæ˜¯æ·±æ‹·è´ ä»€ä¹ˆæƒ…å†µä¼šè°ƒç”¨æ‹·è´æ„é€ å‡½æ•° ä¸€ä¸ªå¯¹è±¡ä»¥å€¼ä¼ é€’ä¼ å…¥å‡½æ•°ä½“ï¼Œéœ€è¦æ‹·è´æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡å‹å…¥åˆ°æ ˆç©ºé—´ ä¸€ä¸ªå¯¹è±¡ä»¥å€¼ä¼ é€’çš„æ–¹å¼ä»å‡½æ•°è¿”å›ï¼Œéœ€è¦æ‰§è¡Œæ‹·è´æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ªä¸´æ—¶å¯¹è±¡ä½œä¸ºè¿”å›å€¼ ä¸€ä¸ªå¯¹è±¡éœ€è¦é€šè¿‡å¦ä¸€ä¸ªå¯¹è±¡è¿›è¡Œåˆå§‹åŒ– ä¸ºä»€ä¹ˆæ‹·è´æ„é€ å‡½æ•°å¿…é¡»æ˜¯pass by referenceï¼Œä¸èƒ½æ˜¯ pass by value æ˜¯ä¸ºäº†é˜²æ­¢æ­»é€’å½’ å½“ä¸€ä¸ªå¯¹è±¡éœ€è¦ä»¥å€¼æ–¹å¼è¿›è¡Œä¼ é€’æ—¶ï¼Œç¼–è¯‘å™¨ä¼šç”Ÿæˆä»£ç è°ƒç”¨å®ƒçš„æ‹·â»‰æ„é€ å‡½æ•°ç”Ÿæˆä¸€ä¸ªå‰¯æœ¬ï¼Œå¦‚æœç±» A çš„æ‹·â»‰æ„é€ å‡½æ•°çš„å‚æ•°ä¸æ˜¯å¼•ç”¨ä¼ é€’ï¼Œè€Œæ˜¯é‡‡ç”¨å€¼ä¼ é€’ï¼Œé‚£ä¹ˆå°±åˆéœ€è¦ä¸ºäº†åˆ›å»ºä¼ é€’ç»™æ‹·â»‰æ„é€ å‡½æ•°çš„å‚æ•°çš„ä¸´æ—¶å¯¹è±¡ï¼Œè€Œåˆä¸€æ¬¡è°ƒç”¨ç±» Açš„æ‹·â»‰æ„é€ å‡½æ•°ï¼Œè¿™å°±æ˜¯ä¸€ä¸ªæ­»é€’å½’ ","date":"2023-03-16","objectID":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:4:0","tags":["C++"],"title":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼","uri":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["C++"],"content":"æ‹·è´èµ‹å€¼å‡½æ•° // è¿™ä¸ªå‡½æ•°å°±æ˜¯ å¦‚æœ æœ‰ 1 a\u0026b å…ˆæŠŠ a æ¸…é”€æ¯, 2 åœ¨newä¸€ä¸ªå†…å­˜ç©ºé—´ , 3 åœ¨æŠŠ b æ‹·è´åˆ° a é‡Œé¢æ¥ inline String\u0026 String::operator = (const String\u0026 str) { if (this == \u0026str) { // æ£€æµ‹è‡ªæˆ‘èµ‹å€¼ return *this; } delete[] m_data; // 1 m_data = new char[ strlen(str.m_data)+1 ]; // 2 strcpy(m_data, str.m_data); // 3 return *this; } // ä¸€å®šè¦æ£€æµ‹è‡ªæˆ‘èµ‹å€¼ è¦ä¸ç„¶ a\u0026b åŒæ—¶æŒ‡å‘ä¸€ä¸ªå†…å­˜åœ°å€ ç„¶åæ€æ‰ä¹‹å a\u0026bå°±æŒ‡å®šä¸åˆ°å€¼ ","date":"2023-03-16","objectID":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:5:0","tags":["C++"],"title":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼","uri":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["C++"],"content":"Effective c++ Item å¯¹äºæ›´å¤šçš„ä¸‰ä¸ªç‰¹æ®Šå‡½æ•°ä¸€äº›è§„èŒƒåŠå…¶çŸ¥è¯†ç‚¹ï¼Œè¯·çœ‹ã€ŠEffective c++ Item5~Item12ã€‹ ","date":"2023-03-16","objectID":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/:6:0","tags":["C++"],"title":"æ„é€ ææ„/æ‹·è´æ„é€ /æ‹·è´èµ‹å€¼","uri":"/c-%E6%9E%84%E9%80%A0%E6%9E%90%E6%9E%84%E6%8B%B7%E8%B4%9D%E6%9E%84%E9%80%A0%E6%8B%B7%E8%B4%9D%E8%B5%8B%E5%80%BC/"},{"categories":["C++"],"content":"æ¨¡ç‰ˆ ","date":"2023-03-16","objectID":"/c-%E6%A8%A1%E7%89%88/:0:0","tags":["C++"],"title":"æ¨¡ç‰ˆ","uri":"/c-%E6%A8%A1%E7%89%88/"},{"categories":["C++"],"content":"æ¨¡æ¿ class template ç±»æ¨¡æ¿çš„ä½œç”¨å°±æ˜¯å¯å˜ç±»å‹ template\u003ctypename T\u003e class complex { public: complex(T r = 0, T i = 0) : re(r), im(i) {} complex \u0026operator+=(const complex \u0026); T real() const { return re; } T imag() const { return im; } private: T re, im; friend complex \u0026__doapl(complex *, const complex \u0026); }; complex\u003cdouble\u003e c1(2.5, 3.5); func template func template ä¹Ÿæ˜¯ç›¸å½“äº class template å¦‚æœæˆ‘ä»¬ç”¨stoneç±»å‹å»ç”Ÿæˆå¯¹è±¡ï¼Œå®å‚æ¨å¯¼ç»“æœï¼šTä¸ºstoneï¼Œäºæ˜¯è°ƒç”¨stone::operator \u003cï¼Œæ‰€ä»¥stoneå¿…é¡»å®ç°\"\u003câ€œæ–¹æ³• class stone { public: stone(int w, int h, int we) : _w(w), _h(h), _weight(we) {} bool operator \u003c (const stone\u0026 rns) const { return _weight \u003c rhs._weight; } private: int _w, _h, _weight; }; template \u003cclass T\u003e inline const T\u0026 min(const T\u0026 a, const T\u0026 b) { return b \u003c a ? b : a; } stone r1(2, 3), r2(3, 3), r3; r3 = min(r1, r2); member template æˆå‘˜æ¨¡ç‰ˆå°±æ˜¯æˆ‘ä»¬åœ¨å¤–é¢è®¾ç½®äº†T1ï¼ŒT2åï¼Œåœ¨é‡Œé¢çš„æˆå‘˜æ¨¡ç‰ˆåˆå¯ä»¥è®©æˆ‘ä»¬åœ¨è®¾ç½®ä¸€ä¸ªU1ï¼ŒU2 template \u003cclass T1, class T2\u003e struct pair { typedef T1 first_type; typedef T2 second_type; T1 first; T2 second; pair() : first(T1()), second(T2()) { } pair()(const T1\u0026 a, const T2\u0026 b) : first(a), second(b) { } template \u003cclass U1, class U2\u003e pair(const pair\u003cU1, U2\u003e\u0026 p) : first(p.first), second(p.second) { } }; æ˜¯ä¸æ˜¯æœ‰ç‚¹å¬ä¸å¤ªæ‡‚ï¼Œæˆ‘ä»¬è¿™ä¹ˆå»æƒ³ Base1 é±¼ç±» Dervied1 é²«é±¼ / Base2 é¸Ÿç±» Dervied2 éº»é›€ æˆ‘ä»¬æœ‰è¿™4ä¸ªç±» å¯¹åº”ç€ç»§æ‰¿å…³ç³» pair\u003cBase1, Base2\u003ep2\u003cpair\u003cDervied1, Dervied2\u003e()\u003e; æŠŠä¸€ä¸ªç”±é²«é±¼å’Œéº»é›€ç»„æˆçš„pair æ”¾è¿›(æ‹·è´åˆ°)ä¸€ä¸ªç”±é±¼ç±»å’Œé¸Ÿç±»æ„æˆçš„pairä¸­ å¯ä»¥å— åä¹‹ å¯ä»¥å˜›* æ­£ç€å½“ç„¶å¯ä»¥ï¼Œåä¹‹ï¼Œé€»è¾‘ä¸Šè¯´ä¸é€šï¼Œå› ä¸º é¸Ÿç±» \u003e éº»é›€ï¼Œä¸ºäº†æ˜¾ç¤ºè¿™ç§é€»è¾‘ï¼Œæˆå‘˜æ¨¡æ¿å°±å› æ­¤è€Œæ¥ ","date":"2023-03-16","objectID":"/c-%E6%A8%A1%E7%89%88/:1:0","tags":["C++"],"title":"æ¨¡ç‰ˆ","uri":"/c-%E6%A8%A1%E7%89%88/"},{"categories":["C++"],"content":"æ¨¡æ¿ç‰¹åŒ– TODO: ","date":"2023-03-16","objectID":"/c-%E6%A8%A1%E7%89%88/:2:0","tags":["C++"],"title":"æ¨¡ç‰ˆ","uri":"/c-%E6%A8%A1%E7%89%88/"},{"categories":["C++"],"content":"æ¨¡ç‰ˆåç‰¹åŒ– ä¸ªæ•°ä¸Šçš„å template \u003ctypename T, typename Alloc=...\u003e // Alloc åˆ†é…å™¨ class vector { ... }; // å¦‚æœç¬¬ä¸€ä¸ªtypename ä¸€ç›´ä¸ºbool çš„è¯ ä¸ºäº†èŠ‚çœç©ºé—´ æˆ‘ä»¬å¯ä»¥è¿›è¡Œç»‘å®šä¼˜åŒ– template \u003ctypename Alloc=....\u003e // Alloc åˆ†é…å™¨ class vector\u003cbool, Alloc\u003e { ... }; èŒƒå›´ä¸Šçš„å template \u003ctypename T\u003e class C { ... }; template \u003ctypename T\u003e class C\u003cT*\u003e { ... }; // è¿™æ ·çš„æ„æ€å°±æ˜¯æˆ‘è¦æ±‚ç¼–è¯‘å™¨ å¦‚æœæ˜¯æŒ‡é’ˆçš„T å°±èµ°è¿™ä¸ª ä¸æ˜¯å°±èµ°ä¸Šæ–¹ ","date":"2023-03-16","objectID":"/c-%E6%A8%A1%E7%89%88/:3:0","tags":["C++"],"title":"æ¨¡ç‰ˆ","uri":"/c-%E6%A8%A1%E7%89%88/"},{"categories":["C++"],"content":"æ¨¡æ¿æ¨¡æ¿å‚æ•° TODO: ","date":"2023-03-16","objectID":"/c-%E6%A8%A1%E7%89%88/:4:0","tags":["C++"],"title":"æ¨¡ç‰ˆ","uri":"/c-%E6%A8%A1%E7%89%88/"},{"categories":["C++"],"content":"æ¨¡æ¿çš„å¯å˜é•¿å‚æ•° // å°±æ˜¯python å’Œ golang çš„å¯å˜é•¿å‚æ•° template \u003ctypename T, typename... Types\u003e void print (const T\u0026 firstArg, const Types\u0026.. args) { cout \u003c\u003c firstArg \u003c\u003c endl; print(args...); } ","date":"2023-03-16","objectID":"/c-%E6%A8%A1%E7%89%88/:5:0","tags":["C++"],"title":"æ¨¡ç‰ˆ","uri":"/c-%E6%A8%A1%E7%89%88/"},{"categories":["C++"],"content":"è™šå‡½æ•° ","date":"2023-03-16","objectID":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/:0:0","tags":["C++"],"title":"è™šå‡½æ•°","uri":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"è™šå‡½æ•° è™šå‡½æ•°çš„ç§ç±» non-virtualï¼š ä½ ä¸å¸Œæœ›æ´¾ç”Ÿç±»é‡æ–°å®šä¹‰ virtualï¼šä½ å¸Œæœ›æ´¾ç”Ÿç±»é‡æ–°å®šä¹‰ï¼Œä¸”ä»–æœ‰é»˜è®¤å®šä¹‰ pure virtualï¼šä½ å¸Œæœ›æ´¾ç”Ÿç±»ä¸€å®šè¦é‡æ–°å®šä¹‰ï¼Œä½ å¯¹ä»–æ²¡æœ‰é»˜è®¤å®šä¹‰ class Shape { public: virtual void draw() const = 0; // pure virtual virtual void error(const std::string \u0026msg); // impure virtual int objectID() const; // non-virtual }; ","date":"2023-03-16","objectID":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/:1:0","tags":["C++"],"title":"è™šå‡½æ•°","uri":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"è™šå‡½æ•°çš„å®ç°åŸç† è™šè¡¨ä¸è™šæŒ‡é’ˆ æˆ‘ä»¬å…ˆæŠŠä¸‹è¿°ä»£ç æ‰«ä¸€éï¼Œå¹¶ä¸”æ¥çœ‹çœ‹å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æœ€å·¦è¾¹çš„è¡¨ ä¸Šé¢è®°å½•ç€ ç»§æ‰¿çš„çˆ¶ç±»å’Œ è‡ªå·±çš„æ•°æ®ï¼Œä½†æ˜¯é™¤äº†è¿™äº›ä¹‹å¤–ï¼Œæ˜¯ä¸æ˜¯è¿˜æœ‰ä¸€ä¸ªè®°å½•ç€å†…å­˜åœ°å€çš„ï¼Œè¿™ä¸ªå°±æ˜¯è™šæŒ‡é’ˆï¼ˆvtprï¼‰è¿™ä¸ªè™šæŒ‡é’ˆæŒ‡å‘ç€ä¸€å¼ è™šè¡¨ï¼ˆvtblï¼‰ class A { pubilc: virtual void vfunc1(); virtual void vfunc2(); void func1(); void func2(); private: int m_data1, m_data2; }; class B : public A { pubilc: virtual void vfunc1(); void func2(); private: int m_data3; }; class C : public B { pubilc: virtual void vfunc1(); void func2(); private: int m_data1, m_data4; }; c++å¯¹ä¸€ä¸ªè™šå‡½æ•°è¿›è¡Œè°ƒç”¨çš„è¿‡ç¨‹ ä»–é¦–å…ˆä¼šè€ƒè™‘æ˜¯é™æ€ç»‘å®šè¿˜æ˜¯åŠ¨æ€ç»‘å®š é™æ€ç»‘å®š å°±æ˜¯ call xxx call(æ±‡ç¼–è¯­è¨€çš„ä¸€ä¸ªåŠ¨ä½œ) xxx(addr) å¦‚æœæ˜¯æ»¡è¶³ä¸‰ä¸ªæ¡ä»¶å°±ä¼šåŠ¨æ€ç»‘å®š é€šè¿‡æŒ‡é’ˆæ¥è°ƒç”¨ æŒ‡é’ˆæ»¡è¶³å‘ä¸Šè½¬å‹ è°ƒç”¨çš„æ˜¯è™šå‡½æ•° åªè¦æ»¡è¶³è¿™ä¸‰ä¸ªæ¡ä»¶ å°±ä¼šå˜æˆ (*(p-\u003evptr)[n])(p); æˆ–è€… (*p-\u003evptr[n] )(p); ä¸ºä»€ä¹ˆå«åŠ¨æ€ç»‘å®šï¼Œå› ä¸ºè¦çœ‹\"p\"æ˜¯ä»€ä¹ˆ ","date":"2023-03-16","objectID":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/:2:0","tags":["C++"],"title":"è™šå‡½æ•°","uri":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"è™šå‡½æ•°çš„å¦™ç”¨ é€šè¿‡è™šæŒ‡é’ˆæˆ‘ä»¬å¯ä»¥å®ç°å¤šæ€ æ¯”å¦‚ ä¸€ä¸ªlist éœ€è¦æ”¾å¤šä¸ªä¸åŒå¤§å°çš„ æ¯”å¦‚ çŸ©å½¢ åœ†å½¢ é•¿æ–¹å½¢ å„ç§çš„ å°±å¯ä»¥ç›´æ¥æ”¾çˆ¶ç±»A çš„æŒ‡é’ˆ æŒ‡å‘ä¸åŒå¤§å°çš„ å…·ä½“å›¾å½¢ å› ä¸ºå¯¹äºæŒ‡é’ˆæ¥è¯´ éƒ½æ˜¯4ä¸ªbyte list\u003cA*\u003e myList; ","date":"2023-03-16","objectID":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/:3:0","tags":["C++"],"title":"è™šå‡½æ•°","uri":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"è™šå‡½æ•°çš„æ³¨æ„ç‚¹ ææ„å‡½æ•°è¦å†™æˆè™šå‡½æ•° æ˜¯ä¸ºäº†é™ä½å†…å­˜æ³„æ¼çš„å¯èƒ½æ€§ ä¸€ä¸ªåŸºç±»çš„æŒ‡é’ˆæŒ‡å‘ä¸€ä¸ªæ´¾ç”Ÿç±»çš„å¯¹è±¡ï¼Œåœ¨ä½¿ç”¨å®Œæ¯•å‡†å¤‡é”€æ¯æ—¶ï¼Œå¦‚æœåŸºç±»çš„ææ„å‡½æ•°æ²¡æœ‰å®šä¹‰æˆè™šå‡½æ•°ï¼Œé‚£ ä¹ˆç¼–è¯‘å™¨æ ¹æ®æŒ‡ é’ˆç±»å‹å°±ä¼šè®¤ä¸ºå½“å‰å¯¹è±¡çš„ç±»å‹æ˜¯åŸºç±»ï¼Œè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œä»…æ‰§è¡ŒåŸºç±»çš„ææ„ï¼Œæ‰€ä»¥é€ æˆå†…å­˜æ³„æ¼ æ„é€ å‡½æ•°ä¸å†™æˆè™šå‡½æ•° æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œæ˜¯éœ€è¦çŸ¥é“å¯¹è±¡çš„å®Œæ•´ä¿¡æ¯çš„ã€‚ç‰¹åˆ«æ˜¯è¦çŸ¥é“å¯¹è±¡çš„å…·ä½“ç±»å‹ï¼Œè€Œè™šå‡½æ•°åªéœ€è¦çŸ¥é“å‡½æ•°æ¥å£ï¼Œè€Œä¸éœ€è¦çŸ¥é“å…·ä½“ç±»å‹ï¼Œæ‰€ä»¥æ„é€ å‡½æ•°ä¸åº”è¯¥è¢«å®šä¹‰ä¸ºè™šå‡½æ•° ä»ç›®å‰ç¼–è¯‘å™¨å®ç°è™šå‡½æ•°è¿›è¡Œå¤šæ€çš„æ–¹å¼æ¥çœ‹ï¼Œè™šå‡½æ•°çš„è°ƒç”¨æ˜¯é€šè¿‡å®ä¾‹åŒ–ä¹‹åå¯¹è±¡ çš„è™šå‡½æ•°è¡¨æŒ‡é’ˆæ¥æ‰¾åˆ°è™šå‡½æ•°çš„åœ°å€è¿›è¡Œè°ƒç”¨çš„ï¼Œå¦‚æœè¯´æ„é€ å‡½æ•°æ˜¯è™šçš„ï¼Œé‚£ä¹ˆè™šå‡½æ•°è¡¨ æŒ‡é’ˆåˆ™æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ— æ³•æ‰¾åˆ°å¯¹åº”çš„è™šå‡½æ•°è¡¨æ¥è°ƒç”¨è™šå‡½æ•°ï¼Œé‚£ä¹ˆè¿™ä¸ªè°ƒç”¨å®é™…ä¸Šä¹Ÿæ˜¯è¿ åäº†å…ˆå®ä¾‹åŒ–åè°ƒç”¨çš„å‡†åˆ™ æ„é€ å‡½æ•°å’Œææ„å‡½æ•°ä¸­ä¸è¦è°ƒç”¨è™šå‡½æ•° ä¸¾ä¾‹æ¥è¯´ï¼Œæœ‰ä¸€ä¸ªåŠ¨ç‰©çš„åŸºç±»ï¼ŒåŸºç±»ä¸­å®šä¹‰äº†ä¸€ä¸ªåŠ¨ç‰©æœ¬èº«è¡Œä¸ºçš„è™šå‡½æ•° action_type()ï¼Œ åœ¨åŸºç±»çš„æ„é€ å‡½æ•°ä¸­è°ƒç”¨äº†è¿™ä¸ªè™šå‡½æ•° æ´¾ç”Ÿç±»ä¸­é‡å†™äº†è¿™ä¸ªè™šå‡½æ•°ï¼Œæˆ‘ä»¬æœŸæœ›ç€æ ¹æ®å¯¹è±¡çš„çœŸå®ç±»å‹ä¸åŒï¼Œè€Œè°ƒç”¨å„è‡ªå®ç°çš„è™šå‡½ æ•°ï¼Œä½†å®é™…ä¸Šå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œé¦–å…ˆä¼šåˆ›å»ºæ´¾ç”Ÿç±»çš„åŸºç±»éƒ¨åˆ†ï¼Œæ‰§è¡ŒåŸºç±»çš„æ„é€  å‡½æ•°ï¼Œæ­¤æ—¶ï¼Œæ´¾ç”Ÿç±»çš„è‡ªèº«éƒ¨åˆ†è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œå¯¹äºè¿™ç§è¿˜æ²¡æœ‰åˆå§‹åŒ–çš„ä¸œâ»„ï¼ŒC++é€‰æ‹©å½“ å®ƒä»¬è¿˜ä¸å­˜åœ¨ä½œä¸ºä¸€ç§å®‰å…¨çš„æ–¹æ³• æ´¾ç”Ÿç±»ä¸­é‡å†™äº†è¿™ä¸ªè™šå‡½æ•°ï¼Œæˆ‘ä»¬æœŸæœ›ç€æ ¹æ®å¯¹è±¡çš„çœŸå®ç±»å‹ä¸åŒï¼Œè€Œè°ƒç”¨å„è‡ªå®ç°çš„è™šå‡½ æ•°ï¼Œä½†å®é™…ä¸Šå½“æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ´¾ç”Ÿç±»å¯¹è±¡æ—¶ï¼Œé¦–å…ˆä¼šåˆ›å»ºæ´¾ç”Ÿç±»çš„åŸºç±»éƒ¨åˆ†ï¼Œæ‰§è¡ŒåŸºç±»çš„æ„é€  å‡½æ•°ï¼Œæ­¤æ—¶ï¼Œæ´¾ç”Ÿç±»çš„è‡ªèº«éƒ¨åˆ†è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ï¼Œå¯¹äºè¿™ç§è¿˜æ²¡æœ‰åˆå§‹åŒ–çš„ä¸œâ»„ï¼ŒC++é€‰æ‹©å½“ å®ƒä»¬è¿˜ä¸å­˜åœ¨ä½œä¸ºä¸€ç§å®‰å…¨çš„æ–¹æ³• åœ¨ææ„å‡½æ•°ä¸­ä¹Ÿæ˜¯åŒç†ï¼Œæ´¾ç”Ÿç±»æ‰§è¡Œäº†ææ„å‡½æ•°åï¼Œæ´¾ç”Ÿç±»çš„è‡ªèº«æˆå‘˜å‘ˆç°æœªå®šä¹‰çš„çŠ¶æ€ï¼Œé‚£ ä¹ˆåœ¨æ‰§è¡ŒåŸºç±»çš„ææ„å‡½æ•°ä¸­æ˜¯ä¸å¯èƒ½è°ƒç”¨åˆ°æ´¾ç”Ÿç±»é‡å†™çš„æ–¹æ³•çš„ å“ªäº›å‡½æ•°ä¸èƒ½å†™æˆè™šå‡½æ•° æ„é€ å‡½æ•°ï¼š ä¸Šè¿°å·²è¯´æ˜ å†…è”å‡½æ•°ï¼š å†…è”å‡½æ•°è¡¨ç¤ºåœ¨ç¼–è¯‘é˜¶æ®µè¿›è¡Œå‡½æ•°ä½“çš„æ›¿æ¢æ“ä½œï¼Œè€Œè™šå‡½æ•°æ„å‘³ç€åœ¨è¿è¡ŒæœŸé—´è¿›è¡Œ ç±»å‹ç¡®å®šï¼Œæ‰€ä»¥å†…è”å‡½æ•°ä¸èƒ½æ˜¯è™šå‡½æ•° é™æ€å‡½æ•°ï¼š é™æ€å‡½æ•°ä¸å±äºå¯¹è±¡å±äºç±»ï¼Œé™æ€æˆå‘˜å‡½æ•°æ²¡æœ‰thisæŒ‡é’ˆï¼Œå› æ­¤é™æ€å‡½æ•°è®¾ç½®ä¸ºè™š å‡½æ•°æ²¡æœ‰ä»»ä½•æ„ä¹‰ å‹å…ƒå‡½æ•°ï¼š å‹å…ƒå‡½æ•°ä¸å±äºç±»çš„æˆå‘˜å‡½æ•°ï¼Œä¸èƒ½è¢«ç»§æ‰¿ã€‚å¯¹äºæ²¡æœ‰ç»§æ‰¿ç‰¹æ€§çš„å‡½æ•°æ²¡æœ‰è™šå‡½æ•° çš„è¯´æ³• æ™®é€šå‡½æ•°ï¼š æ™®é€šå‡½æ•°ä¸å±äºç±»çš„æˆå‘˜å‡½æ•°ï¼Œä¸å…·æœ‰ç»§æ‰¿ç‰¹æ€§ï¼Œå› æ­¤æ™®é€šå‡½æ•°æ²¡æœ‰è™šå‡½æ•° ","date":"2023-03-16","objectID":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/:4:0","tags":["C++"],"title":"è™šå‡½æ•°","uri":"/c-%E8%99%9A%E5%87%BD%E6%95%B0/"},{"categories":["C++"],"content":"ç»„åˆä¸ç»§æ‰¿ ","date":"2023-03-16","objectID":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/:0:0","tags":["C++"],"title":"ç»„åˆä¸ç»§æ‰¿","uri":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/"},{"categories":["C++"],"content":"Composition ç»„åˆ ä»€ä¹ˆæ˜¯ç»„åˆåŠå®ç° ç»„åˆå°±æ˜¯ä¸€ä¸ªç±»é‡Œé¢ç”¨äº†å¦ä¸€ä¸ªç±»ï¼Œå¹¶ä¸”å¯ä»¥ç”¨å¦ä¸€ä¸ªç±»çš„æ–¹æ³• template \u003cclass T, class Sequence = deque\u003cT\u003e\u003e class queue { ... protected: Sequence c; // åº•å±‚å®¹å™¨ public: // ä»¥ä¸‹å®Œå…¨åˆ©ç”¨ c çš„æ“ä½œå‡½æ•°å®Œæˆ bool empty() const { return c.empty(); } size_type size() const { retiurn c.size(); } reference front() { return c.front(); } // deque æ˜¯ä¸¤ç«¯å¯è¿›å‡º queue æ˜¯å…ˆè¿›å…ˆå‡º void push(const value_type \u0026x) { c.push_back(x); } void pop() { c.pop_front(); } } ç»„åˆå…¶å®æ˜¯ä¸€ä¸ªæœ€å®¹æ˜“è¢«å¿½è§†çš„ä¸œè¥¿ï¼Œè®¾è®¡æ¨¡å¼çš„æ¡¥æ¨¡å¼è·Ÿè£…é¥°æ¨¡å¼ç»„åˆæ˜¯ä¸€ä¸ªæœ€é‡è¦çš„æ€è·¯ ç»„åˆä¸‹çš„æ„é€ å’Œææ„ æ¯”å¦‚ Container ç±»é‡Œé¢è°ƒç”¨äº† Component Containerçš„æ„é€ å‡½æ•°é¦–å…ˆè°ƒç”¨Componentçš„defaultæ„é€ å‡½æ•°ç„¶åæ‰æ‰§è¡Œè‡ªå·±ï¼ˆä»å†…åˆ°å¤–ï¼‰ Containerçš„ææ„å‡½æ•°é¦–å…ˆæ‰§è¡Œè‡ªå·± ç„¶åæ‰è°ƒç”¨Componentçš„ææ„å‡½æ•°ï¼ˆä»å¤–åˆ°å†…ï¼‰ ","date":"2023-03-16","objectID":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/:1:0","tags":["C++"],"title":"ç»„åˆä¸ç»§æ‰¿","uri":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/"},{"categories":["C++"],"content":"Inheritance ç»§æ‰¿ ä»€ä¹ˆæ˜¯ç»§æ‰¿ æ‰€è°“çš„ç»§æ‰¿å°±æ˜¯ä¸€ä¸ªç±»ç»§æ‰¿äº†å¦ä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿™ä¸ªæ–°çš„ç±»åŒ…å«äº†ä¸Šä¸€ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•ï¼Œè¢«ç§°ä¸ºå­ç±»æˆ–è€…æ´¾ç”Ÿç±»ï¼Œè¢«ç»§æ‰¿çš„ç±»ç§°ä¸ºçˆ¶ç±»æˆ–è€…åŸºç±» å­ç±»æ‹¥æœ‰çˆ¶ç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œå­ç±»å¯ä»¥æ‹¥æœ‰çˆ¶ç±»æ²¡æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼Œå­ç±»å¯¹è±¡å¯ä»¥å½“åšçˆ¶ç±»å¯¹è±¡ä½¿ç”¨ struct _List_node_base { _List_node_base* _M_next; _List_node_base* _M_prev; }; template\u003ctypename _Tp\u003e struct _List_node : public _List_node_base { _Tp _m_data; }; // çˆ¶ç±»çš„æ•°æ® å­ç±»éƒ½å¯ä»¥ç»§æ‰¿ä¸‹æ¥ ç»§æ‰¿ä¸‹çš„æ„é€ å’Œææ„ Base: çˆ¶ç±» / Derived: æ´¾ç”Ÿç±» Derived çš„æ„é€ å‡½æ•°é¦–å…ˆè°ƒç”¨Baseçš„defaultæ„é€ å‡½æ•° ç„¶åæ‰æ‰§è¡Œè‡ªå·±ï¼ˆä»å†…åˆ°å¤–ï¼‰ Derived çš„ææ„å‡½æ•°é¦–å…ˆæ‰§è¡Œè‡ªå·±, ç„¶åæ‰è°ƒç”¨Baseçš„ææ„å‡½æ•°ï¼ˆä»å¤–åˆ°å†…ï¼‰ æ³¨æ„: base class çš„ dtor å¿…é¡»æ˜¯virtual å¦åˆ™ä¼šå‡ºç° underfined behavior ","date":"2023-03-16","objectID":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/:2:0","tags":["C++"],"title":"ç»„åˆä¸ç»§æ‰¿","uri":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/"},{"categories":["C++"],"content":"ç»„åˆ\u0026ç»§æ‰¿çš„æ„é€ å’Œææ„ Base: çˆ¶ç±» / Derived: æ´¾ç”Ÿç±» Derived çš„æ„é€ å‡½æ•° é¦–å…ˆè°ƒç”¨Baseçš„defaultæ„é€ å‡½æ•°ï¼Œç„¶åè°ƒç”¨Componentçš„defaultæ„é€ å‡½æ•°ï¼Œç„¶åæ‰æ‰§è¡Œè‡ªå·± Derived çš„ææ„å‡½æ•°é¦–å…ˆæ‰§è¡Œè‡ªå·±ï¼Œç„¶åè°ƒç”¨Componentçš„ææ„å‡½æ•°ï¼Œç„¶åè°ƒç”¨Baseçš„ææ„å‡½æ•° ","date":"2023-03-16","objectID":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/:3:0","tags":["C++"],"title":"ç»„åˆä¸ç»§æ‰¿","uri":"/c-%E7%BB%84%E5%90%88%E4%B8%8E%E7%BB%A7%E6%89%BF/"},{"categories":["C++"],"content":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨ ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:0:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["C++"],"content":"å‰è¨€ æ­¤ç¯‡åšå®¢ä¼šæŒ‰ç…§ä¸€ä¸ªé€»è¾‘æ¨å¯¼ å¸¦ä½ ä»¬åŒºåˆ†åˆ°åº•ä»€ä¹ˆæ˜¯ å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨ ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:1:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["C++"],"content":"é€»è¾‘æ¨å¯¼1 æˆ‘ä»¬æ¥çœ‹è¿™ä¸€è¡Œç®€å•çš„ä»£ç  int i = 10; i åœ¨å·¦è¾¹ -\u003e å·¦å€¼ / 10 åœ¨å³è¾¹ -\u003e å³å€¼ è¿™å¥è¯ï¼Œåœ¨è¿™è¡Œä»£ç æ˜¯é€‚ç”¨çš„ï¼Œä½†æ˜¯ï¼è¿™å¥è¯ä¸å‡†ç¡® æˆ‘ä»¬çœ‹ i åœ¨å†…å­˜ä¸­æ˜¯æœ‰ä½ç½®çš„å®é™…å˜é‡ / è€Œ 10 æ²¡æœ‰å­˜å‚¨åœ°å€ï¼Œä¹Ÿå°±æ˜¯åœ¨å†…å­˜ä¸­æ˜¯æ²¡æœ‰èŒä½çš„ æ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è¯´ 10 = i;ï¼Œå› ä¸º10æ˜¯æ²¡æœ‰ä½ç½®çš„ï¼Œä¸èƒ½å­˜å‚¨æ•°æ® ä½†æ˜¯ i æ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦ä¸€ä¸ªå˜é‡a ç­‰äº i int a = i; è¿™å°±æ˜¯ä¸ºä»€ä¹ˆè¯´ â€œi åœ¨å·¦è¾¹-\u003eå·¦å€¼ / 10 åœ¨å³è¾¹-\u003eå³å€¼â€ è¿™å¥è¯æ˜¯ä¸å‡†ç¡®çš„ ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:2:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["C++"],"content":"é€»è¾‘æ¨å¯¼2 ç°åœ¨æˆ‘ä»¬æ¥åŠ ä¸€ä¸ªå‡½æ•° int GetValue() { return 10; } éšåè°ƒç”¨è¿™ä¸ªå‡½æ•° int i = GetValue(); åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒGetValueè¿”å›äº†ä¸€ä¸ªä¸´æ—¶å€¼ï¼Œä¹Ÿå°±æ˜¯å³å€¼ï¼Œç„¶åå°†è¿™ä¸ªå³å€¼ä¿å­˜åˆ°å·¦å€¼ å½“ç„¶å› ä¸ºè¿™æ˜¯ä¸€ä¸ªå³å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯è¿™ç»™è¿™ä¸ªå³å€¼èµ‹å€¼ï¼Œé‚£ä¹ˆå°±ä¼šå¤±è´¥ GetValue() = 10; // Error!!! æˆ‘ä»¬åœ¨è¯•ç€ä¿®æ”¹ä¸€ä¸‹ï¼Œå¦‚æœå°†å‡½æ•°è¿”å›å€¼æ”¹æˆè¿”å›å·¦å€¼ï¼Œé‚£å°±å˜å¾—å¾ˆæœ‰è¶£äº† int\u0026 GetValue() { } å°†\"int\"åŠ ä¸Š\"\u0026â€œå°±å˜æˆäº†å·¦å€¼å¼•ç”¨ è¿™æ—¶å€™éœ€è¦ä¸ºæˆ‘çš„å€¼æä¾›æŸç§å­˜å‚¨ç©ºé—´ æ¯”å¦‚ä¸€ä¸ªé™æ€intï¼Œç„¶åè¿”å›ä»– int\u0026 GetValue() { static int value = 10; return value; } int main() { int i = GetValue(); GetValue() = 10; // true! æˆ‘å°±å¯ä»¥ç»™ä»–èµ‹å€¼ï¼Œè¿™ä¸ªè¡¨è¾¾å¼ä¹Ÿæ²¡æœ‰å•¥é—®é¢˜äº†ï¼Œè¿™å°±æ˜¯å·¦å€¼å¼•ç”¨ return 0; } ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:3:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["C++"],"content":"é€»è¾‘æ¨å¯¼3 æˆ‘ä»¬å†å†å†å±•å¼€çœ‹ä¸€ä¸‹ï¼Œç°åœ¨å†åŠ äº†ä¸€ä¸ªSetValue() void SetValue(int value) { } int main() { int i = value; SetValue(i); // true! SetValue(10); // true } å½“å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼ å·¦å€¼æ˜¯å¯ä»¥çš„ï¼Œä¼ å³å€¼ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œå› ä¸ºè¿™ä¸ªå³å€¼ä¼šè¢«ç”¨æ¥åˆ›å»ºä¸€ä¸ªå·¦å€¼ So? æˆ‘ä»¬å¯ä»¥é©¬ä¸Šçœ‹å‡ºï¼Œå“ªä¸ªå˜é‡æ˜¯ä¸´æ—¶çš„ï¼Œå“ªä¸ªä¸æ˜¯ï¼Œè¿™ä¸ªè§„åˆ™å°±æ˜¯ä½ ä¸èƒ½å°†å³å€¼èµ‹ç»™å·¦å€¼å¼•ç”¨ æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“çš„å»æ£€æŸ¥è¿™ä¸ªï¼Œå¦‚æœæˆ‘åœ¨ int åŠ ä¸€ä¸ª \u0026ï¼Œç°åœ¨æˆ‘åœ¨å–ä¸€ä¸ª referebce to intï¼Œè¿™æ˜¯ä¸€ä¸ªå·¦å€¼å¼•ç”¨ï¼ŒSetValue(10)é©¬ä¸Šè¿™ä¸ªå°±ä¼šerror å› ä¸ºéconstå¼•ç”¨çš„åˆå§‹å€¼å¿…é¡»æ˜¯å·¦å€¼ æ‰€ä»¥ const int\u0026 i = 10; è¿™ä¸ªæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è§„åˆ™ å®é™…æƒ…å†µå°±æ˜¯ ç¼–è¯‘å™¨å¯èƒ½ä¼šç”¨ä½ çš„å­˜å‚¨åˆ›å»ºä¸€ä¸ªä¸´æ—¶å˜é‡ï¼Œç„¶åèµ‹å€¼ç»™é‚£ä¸ªå¼•ç”¨ const int\u0026 i = 10; ===\u003e int temp = 10; const int\u0026 a = temp; æ‰€ä»¥å®é™…ä¸Š è¿˜æ˜¯ä¸å¯é¿å…çš„åˆ›å»ºäº†ä¸€ä¸ªå·¦å€¼ ä½†æ˜¯ä¹ŸåŒæ—¶æ”¯æŒäº†å·¦å€¼å³å€¼ ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:4:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["C++"],"content":"é¢˜ç›® å¥½ï¼ è®²åˆ°äº†è¿™é‡Œ æ¥å‡ºé“é¢˜ç›® æ¥çœ‹çœ‹ä½ ä»¬åˆ°åº•æ‡‚å¾—äº†æ€ä¹ˆåŒºåˆ†å·¦å³å€¼ é¢˜ç›®: è¯·æ‰¾å‡º æ‰€æœ‰çš„å·¦å€¼ å’Œ æ‰€æœ‰çš„å³å€¼! int main() { std::string firstName = \"lin\"; std::string secondName = \"ting\"; std::string fullName = firstName + secondName; } ç­”æ¡ˆ /* å·¦å€¼: firstName/secondName/fullName å³å€¼: \"lin\"/\"ting\"/firstName + secondName \"firstName + secondName\" ä¸ºä»€ä¹ˆæ˜¯å³å€¼ å› ä¸º ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸åŠ æ˜¯ä¸€ä¸ªä¸´æ—¶å˜é‡ æ‰€ä»¥ä»–æ˜¯ä¸´æ—¶å€¼ ä¹Ÿå°±æ˜¯å³å€¼ */ ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:5:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["C++"],"content":"é€»è¾‘æ¨å¯¼4 å¥½ æˆ‘ä»¬å†æ¬¡è¿›è¡Œæ‹“å±• void PrintName(std::string\u0026 name) { std::cout \u003c\u003c name \u003c\u003c std::endl; } int main() { std::string firstName = \"lin\"; std::string secondName = \"ting\"; std::string fullName = firstName + secondName; PrintName(firstName); // true!! PrintName(secondName); // true!! PrintName(firstName + secondName); // error!! å› ä¸ºä»–æ˜¯ä¸€ä¸ªå³å€¼ } è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä¼šçœ‹åˆ°å¾ˆå¤šç”¨c++å†™çš„å¸¸é‡å¼•ç”¨ å› ä¸ºä»–æ”¯æŒå·¦å³å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ç§æ–¹æ³•æ¥æ£€æµ‹å“ªäº›æ˜¯å·¦å€¼ å“ªäº›æ˜¯å³å€¼ é‚£æˆ‘ä»¬æœ‰æ²¡æœ‰åŠæ³•å†™ä¸€ä¸ªå‡½æ•°ï¼Œåªæ¥å—ä¸´æ—¶å¯¹è±¡ï¼Œè‚¯å®šæ˜¯æœ‰çš„ï¼Œé‚£å°±æ˜¯å³å€¼å¼•ç”¨ å³å€¼å¼•ç”¨è·Ÿå·¦å€¼å¼•ç”¨å·®ä¸å¤šï¼Œåªä¸è¿‡å¤šäº†ä¸€ä¸ªâ€\u0026â€œç¬¦å· void PrintName(std::string\u0026\u0026 name) { std::cout \u003c\u003c name \u003c\u003c std::endl; } int main() { std::string firstName = \"lin\"; std::string secondName = \"ting\"; std::string fullName = firstName + secondName; PrintName(firstName); // error!! å³å€¼ä¸èƒ½ç»‘å®šåˆ°å·¦å€¼ PrintName(firstName + secondName); // true!! } è¿™å°±è¯´å¾—é€šäº†ï¼è¿™å¾ˆcooooolï¼Œå› ä¸ºè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥å†™å‡½æ•°é‡è½½ï¼Œä»–åªæ¥å—ä¸´æ—¶å¯¹è±¡ void PrintName(const std::string\u0026 name) { std::cout \u003c\u003c name \u003c\u003c std::endl; } void PrintName(std::string\u0026\u0026 name) { std::cout \u003c\u003c name \u003c\u003c std::endl; } int main() { std::string firstName = \"lin\"; std::string secondName = \"ting\"; std::string fullName = firstName + secondName; PrintName(firstName); // true!! PrintName(firstName + secondName); // true!! } é‚£ä¹ˆä»–æœ‰å•¥ä½œç”¨å‘¢ ä½œç”¨éå¸¸å¤§ å°¤å…¶æ˜¯åœ¨ç§»åŠ¨è¯­ä¹‰æ–¹é¢ å½“ç„¶ æˆ‘è¿™é‡Œä¸ä¼šè®²è¿™ä¸ª è¿™é‡Œä»£ç çš„ä¸»è¦ä¼˜åŠ¿æ˜¯ä¼˜åŒ–ï¼Œå¦‚æœæˆ‘ä»¬ä¼ å…¥çš„æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±ä¸éœ€è¦æ‹…å¿ƒä»–ä»¬æ˜¯å¦æ´»ç€ æ˜¯å¦å®Œæ•´ æ˜¯å¦æ‹·è´ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•çš„å·ä»–çš„èµ„æº ç»™åˆ°ç‰¹å®šå¯¹è±¡ æˆ–è€…å…¶ä»–åœ°æ–¹ä½¿ç”¨å®ƒä»¬ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“ä»–æ˜¯æš‚æ—¶çš„ ä»–ä¸ä¼šå­˜åœ¨å¾ˆé•¿æ—¶é—´ï¼Œ è€Œå¦‚æœä½ ä¼ å…¥çš„ä¸æ˜¯å³å€¼ï¼Œé™¤äº†ä»–æ˜¯constä¹‹å¤– ä½ ä¸èƒ½ä»è¿™ä¸ªå·¦å€¼ä¸­çªƒå–ä»»ä½•ä¸œè¥¿ï¼Œå› ä¸ºä»–å¯èƒ½ä¼šåœ¨å¾ˆå¤šå‡½æ•°ä¸­ä½¿ç”¨ ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:6:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["C++"],"content":"æ€»ç»“ å·¦å€¼æ˜¯æœ‰æŸç§å­˜å‚¨æ”¯æŒçš„å˜é‡ å³å€¼æ˜¯ä¸´æ—¶å€¼ å·¦å€¼å¼•ç”¨ä»…ä»…æ¥å—å·¦å€¼ é™¤äº†const å³å€¼å¼•ç”¨ä»…ä»…æ¥å—å³å€¼ ","date":"2023-03-16","objectID":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/:7:0","tags":["C++"],"title":"å·¦å€¼/å³å€¼/å·¦å€¼å¼•ç”¨/å³å€¼å¼•ç”¨","uri":"/c-%E5%B7%A6%E5%80%BC%E5%8F%B3%E5%80%BC%E5%B7%A6%E5%80%BC%E5%BC%95%E7%94%A8%E5%8F%B3%E5%80%BC%E5%BC%95%E7%94%A8/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:0:0","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"å‰è¨€ å…¶å®ã€ŠEffective C++ Item13ã€‹å·²ç»è¿‡æ—¶äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥åœ¨ã€ŠEffective Modern c++ Item18~Item22ã€‹æ¡æ¬¾ä¸­å»ç†è§£æ™ºèƒ½æŒ‡é’ˆ æˆ‘ä»¬ä¸çˆ±è£¸æŒ‡é’ˆçš„åŸå›  è£¸æŒ‡é’ˆçš„å£°æ˜æ²¡åŠæ³•å‘Šè¯‰æˆ‘ä»¬å®ƒæŒ‡å‘çš„æ˜¯å•ä¸ªå¯¹è±¡è¿˜æ˜¯æ•°ç»„ æ²¡åŠæ³•çŸ¥é“ç”¨å®Œè¿™ä¸ªè£¸æŒ‡é’ˆåè¦ä¸è¦é”€æ¯å®ƒæŒ‡å‘çš„å¯¹è±¡ æ²¡åŠæ³•çŸ¥é“æ€ä¹ˆé”€æ¯è¿™ä¸ªè£¸æŒ‡é’ˆï¼Œæ˜¯ç”¨operator deleteè¿˜æ˜¯ä»€ä¹ˆå…¶å®ƒè‡ªå®šä¹‰çš„é€”å¾„ å‚ç…§åŸå› 1ï¼Œæ²¡åŠæ³•çŸ¥é“è¯¥ç”¨deleteè¿˜æ˜¯delete[]ï¼Œå¦‚æœç”¨é”™äº†ï¼Œç»“æœæœªå®šä¹‰ å¾ˆéš¾ä¿è¯è°ƒç”¨è·¯å¾„ä¸Šæ°å¥½é”€æ¯è¿™ä¸ªæŒ‡é’ˆä¸€æ¬¡ï¼Œå¯èƒ½å†…å­˜æ³„éœ²ï¼Œä¹Ÿå¯èƒ½double free é€šå¸¸æ²¡åŠæ³•çŸ¥é“è£¸æŒ‡é’ˆæ˜¯å¦æ˜¯ç©ºæ‚¬æŒ‡é’ˆï¼Œå³æ˜¯å¦æŒ‡å‘å·²é”€æ¯çš„å¯¹è±¡ æ™ºèƒ½æŒ‡é’ˆçš„ä½œç”¨ æ™ºèƒ½æŒ‡é’ˆå°±æ˜¯æ¥è§£è¿™äº›é—®é¢˜çš„ï¼Œå®ƒä»¬ç”¨èµ·æ¥åƒè£¸æŒ‡é’ˆï¼Œä½†èƒ½é¿å…ä»¥ä¸Šçš„å¾ˆå¤šé™·é˜± C++11ä¸­æœ‰4ç§æ™ºèƒ½æŒ‡é’ˆï¼šstd::auto_ptrã€std::unique_ptrã€std::shared_ptrã€std::weak_ptr å…¶ä¸­std::auto_ptrå·²ç»è¿‡æ—¶äº†ï¼ŒC++11ä¸­å¯ä»¥è¢«std::unique_ptrå–ä»£äº† æ­£å¼çœ‹æœ¬åšå®¢ä¹‹å‰ï¼Œéœ€è¦å»å¼„æ‡‚\"PImpl\" å…·ä½“å…³äºPImplæ˜¯ä»€ä¹ˆï¼Œå¯ä»¥æŸ¥çœ‹æˆ‘è¿™ä¸ªåšå®¢ã€ŠPImplã€‹ è¿˜æœ‰å¦‚æœå‰è¨€éƒ½æ²¡å¥½å¥½çœ‹ï¼Œå¯¼è‡´Item22ä¸çŸ¥é“PImplæ˜¯å•¥ï¼Œè¿™æ—¶å€™ä½ æ˜¯ä¸æ˜¯åº”è¯¥è¦è´¨ç–‘ä¸€ä¸‹è‡ªå·±ï¼Œå­¦ä¹ æ˜¯ä¸æ˜¯å¤ªæµ®èºäº†? ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:1:0","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"æ¡æ¬¾18 å¯¹äºå æœ‰æ€§èµ„æºä½¿ç”¨unique_ptr std::unique_ptrçš„ç‰¹ç‚¹ é»˜è®¤æƒ…å†µä¸‹ï¼Œstd::unique_pträ¸è£¸æŒ‡é’ˆä¸€æ ·å¤§ï¼Œä¸”å¯¹äºç»å¤§å¤šæ•°æ“ä½œæ¥è¯´ï¼ˆåŒ…æ‹¬è§£å¼•ç”¨ï¼‰ï¼Œä»–ä»¬ç¼–è¯‘åçš„æŒ‡ä»¤éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œæ‰€æœ‰è£¸æŒ‡é’ˆçš„ç©ºé—´å’Œæ€§èƒ½å¼€é”€èƒ½æ»¡è¶³è¦æ±‚çš„åœºæ™¯ï¼Œstd::unique_pträ¸€æ ·èƒ½æ»¡è¶³ std::unique_pträ½“ç°äº†æ˜¾å¼æ‰€æœ‰æƒçš„è¯­ä¹‰ éç©ºçš„std::unique_ptræ€»æ˜¯æ‹¥æœ‰ä»–æŒ‡å‘çš„å¯¹è±¡ ç§»åŠ¨ä¸€ä¸ªstd::unique_ptrï¼Œæ‰€æœ‰æƒä¼šä»æºæŒ‡é’ˆè½¬ç§»åˆ°ç›®çš„æŒ‡é’ˆï¼ˆä¹‹åæºæŒ‡é’ˆä¼šè®¾ç½®ä¸ºç©ºæŒ‡é’ˆï¼‰ æ‹·è´std::unique_ptræ˜¯ä¸å…è®¸çš„ï¼Œå› ä¸ºå¦‚æœä½ å¯ä»¥æ‹·è´å®ƒï¼Œé‚£ä¹ˆå°±æœ‰ä¸¤ä¸ªstd::unique_ptræŒ‡å‘ç›¸åŒçš„èµ„æºï¼Œæ¯ä¸€ä¸ªéƒ½è®¤ä¸ºå®ƒæ‹¥æœ‰ï¼ˆå’Œè´Ÿè´£é”€æ¯ï¼‰é‚£ä»½èµ„æº å› æ­¤std::unique_ptræ˜¯åªå¯ç§»åŠ¨ç±»å‹ å½“é”€æ¯çš„æ—¶å€™ï¼Œä¸€ä¸ªéç©ºçš„std::unique_pträ¼šé”€æ¯å®ƒçš„èµ„æº é»˜è®¤æƒ…å†µä¸‹ï¼Œèµ„æºé”€æ¯æ˜¯é€šè¿‡å¯¹std::unique_ptrå†…çš„åŸç”ŸæŒ‡é’ˆä½¿ç”¨deleteæ¥å®Œæˆçš„ ä¸€ä¸ªä¾‹å­æ˜¯å·¥å‚å‡½æ•°ã€‚å‡è®¾æœ‰ä¸€ä¸ªåŸºç±»å’Œä¸‰ä¸ªæ´¾ç”Ÿç±»ï¼Œé€šè¿‡ä¸€ä¸ªå·¥å‚å‡½æ•°æ¥è¿”å›æŸä¸ªæ´¾ç”Ÿç±»çš„std::unique_ptrï¼Œè¿™æ ·è°ƒç”¨æ–¹å°±ä¸éœ€è¦è´¹å¿ƒä»€ä¹ˆæ—¶å€™é”€æ¯è¿”å›çš„å¯¹è±¡äº†ï¼šstd::unique_pträ¼šè´Ÿè´£è¿™ä»¶äº‹ã€‚ class Investment {...}; class Stock: public Investment {...}; class Bond: public Investment {...}; class RealEstate: public Investment {...}; template \u003ctypename... Ts\u003e std::unique_ptr\u003cInvestment\u003e makeInvestment(Ts\u0026\u0026... params); auto pInvestment = makeInvestment(args); // æ³¨æ„è¿™é‡Œå®é™…ä¸Šæœ‰ä¸ªæ‰€æœ‰æƒçš„è½¬ç§»ï¼šå·¥å‚å‡½æ•°é€šè¿‡std::unique_ptrå°†Investmentå¯¹è±¡çš„æ‰€æœ‰æƒè½¬ç§»ç»™äº†è°ƒç”¨è€… std::unique_ptrå¯ä»¥ä¼ å…¥è‡ªå®šä¹‰çš„é”€æ¯å™¨ åœ¨æ„é€ std::unique_ptræ—¶ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªè‡ªå®šä¹‰çš„é”€æ¯å™¨ï¼Œå®ƒä¼šåœ¨std::unique_ptrææ„æ—¶è¢«è°ƒç”¨ï¼Œæ¥é”€æ¯å¯¹åº”çš„èµ„æº æ¯”å¦‚æˆ‘ä»¬å¯èƒ½ä¸æƒ³åªæ˜¯delete objï¼Œè¿˜æƒ³è¾“å‡ºä¸€æ¡æ—¥å¿— auto delInvmt = [](Investment* pInvestment) { makeLogEntry(pInvestment); // make log delete pInvestment; // delete obj }; template \u003ctypename... Ts\u003e std::unique_ptr\u003cInvestment, decltype(delInvmt)\u003e makeInvestment(Ts\u0026\u0026... params) { std::unique_ptr\u003cInvestment, decltype(delInvmt)\u003e pInv(nullptr, delInvmt); if (...) { pInv.reset(new Stock(std::forward\u003cTs\u003e(params)...)); } ... return pInv; } ä»è°ƒç”¨è€…çš„è§’åº¦ï¼Œä½ å¯ä»¥æ”¾å¿ƒçš„å¤„ç†std::unique_ptrï¼Œä½ å¯ä»¥ç›¸ä¿¡åœ¨è°ƒç”¨è¿‡ç¨‹ä¸­èµ„æºåªä¼šé”€æ¯ä¸€æ¬¡ï¼Œä¸”æŒ‰æ°å½“çš„æ–¹å¼é”€æ¯ã€‚ç†è§£ä»¥ä¸‹å‡ ç‚¹èƒ½å¸®åŠ©ä½ ç†è§£è¿™ç§å®ç°æœ‰å¤šæ¼‚äº® delInvmtæ˜¯è‡ªå®šä¹‰çš„é”€æ¯å™¨ï¼Œåœ¨std::unique_ptrææ„æ—¶ï¼Œè‡ªå®šä¹‰çš„é”€æ¯å™¨ä¼šæ¥å®Œæˆé‡Šæ”¾èµ„æºå¿…éœ€çš„æ“ä½œã€‚è¿™é‡Œç”¨lambdaè¡¨è¾¾å¼æ¥å®ç°delInvmtï¼Œä¸ä»…æ›´æ–¹ä¾¿ï¼Œæ€§èƒ½è¿˜æ›´å¥½ è‡ªå®šä¹‰çš„é”€æ¯å™¨çš„ç±»å‹å¿…é¡»ä¸std::unique_ptrçš„ç¬¬äºŒä¸ªæ¨¡æ¿å‚æ•°ç›¸åŒï¼Œå› æ­¤æˆ‘ä»¬è¦ç”¨decltype(delInvmt)æ¥å£°æ˜std::unique_ptr makeInvestmentçš„åŸºæœ¬ç­–ç•¥æ˜¯åˆ›å»ºä¸€ä¸ªç©ºçš„std::unique_ptrï¼Œå†ä»¤å®ƒæŒ‡å‘åˆé€‚çš„ç±»å‹ï¼Œå†è¿”å›ã€‚å…¶ä¸­æˆ‘ä»¬æŠŠdelInvmtä½œä¸ºç¬¬äºŒä¸ªæ„é€ å‚æ•°ä¼ ç»™std::unique_ptrï¼Œä»è€Œå°†é”€æ¯å™¨ä¸pInvå…³è”èµ·æ¥ æ— æ³•å°†è£¸æŒ‡é’ˆéšå¼è½¬æ¢ä¸ºstd::unique_ptrï¼Œéœ€è¦ç”¨resetæ¥ä¿®æ”¹std::unique_ptræŒæœ‰çš„è£¸æŒ‡é’ˆ æˆ‘ä»¬åœ¨åˆ›å»ºå…·ä½“çš„å¯¹è±¡æ—¶ï¼Œä½¿ç”¨äº†std::forwardå°†makeInvestmentçš„æ‰€æœ‰å‚æ•°å®Œç¾è½¬å‘ç»™å¯¹åº”çš„æ„é€ å‡½æ•° æ³¨æ„delInvmtçš„å‚æ•°æ˜¯Investment*ï¼Œè€Œå®ƒçš„å®é™…ç±»å‹å¯èƒ½æ˜¯æ´¾ç”Ÿç±»ï¼Œå› æ­¤éœ€è¦åŸºç±»Investmentæœ‰ä¸€ä¸ªè™šçš„ææ„å‡½æ•° class Investment { public: ... virtual ~Investment(); ... }; å‰æ–‡æˆ‘ä»¬è¯´è¿‡åœ¨ä¸æä¾›è‡ªå®šä¹‰çš„é”€æ¯å™¨æ—¶ï¼Œstd::unique_ptrçš„å¤§å°ä¸è£¸æŒ‡é’ˆç›¸åŒã€‚ä½†åœ¨æœ‰äº†è‡ªå®šä¹‰çš„é”€æ¯å™¨åï¼Œè¿™ä¸ªå‡è®¾ä¸æˆç«‹äº†ã€‚é”€æ¯å™¨çš„å¤§å°å–å†³äºå®ƒå†…éƒ¨ä¿å­˜äº†å¤šå°‘çŠ¶æ€ã€‚å¯¹äºæ— çŠ¶æ€çš„å‡½æ•°å¯¹è±¡ï¼ˆä¾‹å¦‚æ•è·åˆ—è¡¨ä¸ºç©ºçš„lambdaè¡¨è¾¾å¼ï¼‰ï¼Œé”€æ¯å™¨å®é™…ä¸å ç”¨ä»»ä½•ç©ºé—´ï¼Œè¿™å°±æ„å‘³ç€å½“ä½ éœ€è¦ä¸€ä¸ªæ— çŠ¶æ€çš„é”€æ¯å™¨æ—¶ï¼Œåœ¨lambdaè¡¨è¾¾å¼å’Œå‡½æ•°é—´åšé€‰æ‹©ï¼Œlambdaè¡¨è¾¾å¼æ›´å¥½ auto delInvmt1 = [](Investment* pInvestment) { ... }; template \u003ctypename... Ts\u003e std::unique_ptr\u003cInvestment, decltype(delInvmt1)\u003e makeInvestment(Ts\u0026\u0026... args); // return type has size of Investment* void delInvmt2(Investment* pInvestment) { ... } template \u003ctypename... Ts\u003e std::unique_ptr\u003cInvestment, void(*)(Investment*)\u003e makeInvestment(Ts\u0026\u0026... args); // return type has size of Investment* // plus at least size of function pointer std::unique_ptrå¦ä¸€ä¸ªå¹¿æ³›åº”ç”¨çš„åœºæ™¯æ˜¯pImplæ¨¡å¼ std::unique_ptrçš„ä¸¤ç§å½¢å¼åˆ†åˆ«æ˜¯std::unique_ptr\u003cT\u003eå’Œstd::unique_ptr\u003cT[]\u003eï¼Œå…¶ä¸­å‰è€…æ²¡æœ‰å®šä¹‰operator[]ï¼Œåè€…åœ¨é»˜è®¤ææ„æ—¶ä¼šè°ƒç”¨delete[]ï¼Œä¸”æ²¡æœ‰å®šä¹‰operator*å’Œoperator-\u003eã€‚ä½†åœ¨ç”¨åˆ°std::unique_ptr\u003cT[]\u003eçš„åœ°æ–¹ï¼Œä½ å¯èƒ½éœ€è¦æƒ³ä¸€ä¸‹æ˜¯ä¸æ˜¯std::vectorã€std::arrayã€std::stringæ›´åˆé€‚ã€‚å”¯ä¸€ä¸€ä¸ªç”¨std::unique_ptr\u003cT[]\u003eæ›´å¥½çš„åœºåˆå°±æ˜¯å½“ä½ éœ€è¦ä¸C APIäº¤äº’æ—¶ std::unique_ptrå¦ä¸€ä¸ªå¸å¼•äººçš„åœ°æ–¹åœ¨äºï¼Œå®ƒå¯ä»¥ä½œä¸ºstd::shared_ptrçš„æ„é€ å‚æ•°ï¼Œå› æ­¤ä¸Šé¢çš„å·¥å‚å‡½æ•°è¿”å›std::unique_ptrå°±å†æ­£ç¡®ä¸è¿‡äº†ï¼šè°ƒç”¨è€…å¯ä»¥æ ¹æ®è‡ªå·±å¯¹æ‰€æœ‰æƒçš„éœ€æ±‚æ¥å†³å®šç”¨std::unique_ptrè¿˜æ˜¯std::shared_ptrï¼Œåæ­£éƒ½æ”¯æŒ åœ¨C++11ä¸­ï¼Œstd::unique_ptræ˜¯è¡¨è¾¾ç‹¬å æ‰€æœ‰æƒçš„æ–¹å¼ï¼Œä½†å®ƒæœ€å¸å¼•äººçš„ä¸€ä¸ªç‰¹æ€§æ˜¯å®ƒèƒ½å³ç®€å•åˆé«˜æ•ˆåœ°è½¬åŒ–ä¸ºstd::shared_ptr std::shared_ptr\u003cInvestment\u003e sp = // æŠŠ std::unique_ptrè½¬æ¢ä¸º makeInvestment(argument); // std::shared_ptr è¿™æ˜¯ä¸ºä»€ä¹ˆstd::unique_ptrå¦‚æ­¤é€‚åˆåšå·¥å‚å‡½æ•°çš„å…³é”®åŸå› ï¼Œå·¥å‚å‡½æ•°ä¸ä¼šçŸ¥é“ï¼šç‹¬å æ‰€æœ‰æƒè¯­ä¹‰å’Œå…±äº«æ‰€æœ‰æƒè¯­ä¹‰å“ªä¸ªæ›´é€‚åˆè°ƒç”¨è€…ã€‚é€šè¿‡è¿”å›ä¸€ä¸ªstd::unique_ptrï¼Œå·¥å‚æä¾›ç»™è°ƒç”¨è€…çš„æ˜¯æœ€é«˜æ•ˆçš„æ™ºèƒ½æŒ‡é’ˆï¼Œä½†å®ƒä¸å¦¨ç¢è°ƒç”¨è€…ç”¨std::shared_ptræ¥æ›¿æ¢å®ƒ ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:2:0","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"Summary std::unique_ptræ˜¯ä¸€ä¸ªå…·æœ‰å¼€é”€å°ï¼Œé€Ÿåº¦å¿«ï¼Œåªå¯ç§»åŠ¨çš„æ™ºèƒ½æŒ‡é’ˆï¼Œä½¿ç”¨ç‹¬å æ‰€æœ‰æƒè¯­ä¹‰ç®¡ç†èµ„æº é»˜è®¤æƒ…å†µä¸‹ï¼Œé‡Šæ”¾èµ„æºç”±deleteæ¥å®Œæˆï¼Œä¹Ÿå¯ä»¥æŒ‡å®šè‡ªå®šä¹‰çš„ææ„å‡½æ•°æ¥æ›¿ä»£ï¼Œä½†æ˜¯å…·æœ‰ä¸°å¯ŒçŠ¶æ€çš„deleterså’Œä»¥å‡½æ•°æŒ‡é’ˆä½œä¸ºdeleterså¢å¤§äº†std::unique_ptrçš„å­˜å‚¨å¼€é”€ å¾ˆå®¹æ˜“å°†ä¸€ä¸ªstd::unique_ptrè½¬åŒ–ä¸ºstd::shared_ptr ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:2:1","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"æ¡æ¬¾19 éœ€è¦å…±äº«æ‰€æœ‰æƒçš„èµ„æºç®¡ç†ï¼Œç”¨shared_ptr ä»€ä¹ˆæ˜¯std::shared_ptr ä½¿ç”¨std::shared_ptrç®¡ç†çš„å¯¹è±¡çš„æ‰€æœ‰æƒæ˜¯å…±äº«çš„ï¼Œæ²¡æœ‰å“ªä¸ªstd::shared_ptrç‰¹åˆ«æ‹¥æœ‰è¿™ä¸ªå¯¹è±¡ï¼Œè€Œæ˜¯æœ€åä¸€ä¸ªstd::shared_ptrææ„æ—¶ï¼Œé”€æ¯è¿™ä¸ªå¯¹è±¡ ä¸åƒåœ¾å›æ”¶ç±»ä¼¼ï¼Œè°ƒç”¨è€…ä¸éœ€è¦æ‰‹åŠ¨ç®¡ç†std::shared_ptrç®¡ç†çš„å¯¹è±¡ ä¸ææ„å‡½æ•°ç±»ä¼¼ï¼Œå¯¹è±¡çš„ææ„æ—¶é—´æ˜¯ç¡®å®šçš„ std::shared_ptrçš„ç‰¹ç‚¹ std::shared_ptrå†…éƒ¨æœ‰å¼•ç”¨è®¡æ•°ï¼Œè¢«å¤åˆ¶æ—¶ï¼Œå¼•ç”¨è®¡æ•°+1ï¼Œæœ‰std::shared_ptrææ„æ—¶ï¼Œå¼•ç”¨è®¡æ•°-1ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸º0æ—¶ï¼Œææ„æŒæœ‰çš„å¯¹è±¡ å¼•ç”¨è®¡æ•°çš„å­˜åœ¨æœ‰ä»¥ä¸‹æ€§èƒ½å½±å“ *std::shared_ptrçš„å¤§å°æ˜¯è£¸æŒ‡é’ˆçš„ä¸¤å€ï¼šä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘æŒæœ‰çš„å¯¹è±¡ï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘å¼•ç”¨è®¡æ•°ã€‚* å¼•ç”¨è®¡æ•°ä½¿ç”¨çš„å†…å­˜å¿…é¡»åŠ¨æ€åˆ†é…ï¼ŒåŸå› æ˜¯std::shared_ptrçš„å¼•ç”¨è®¡æ•°æ˜¯éä¾µå…¥å¼çš„ï¼Œå¿…é¡»è¦ç‹¬ç«‹åœ¨å¯¹è±¡å¤–é¢ã€‚ç”¨std::make_sharedèƒ½é¿å…è¿™æ¬¡å•ç‹¬çš„å†…å­˜åˆ†é… å¼•ç”¨è®¡æ•°çš„åŠ å‡å¿…é¡»æ˜¯åŸå­çš„ï¼Œå› æ­¤ä½ å¿…é¡»å‡è®¾è¯»å†™å¼•ç”¨è®¡æ•°æ˜¯æœ‰æˆæœ¬çš„ æ³¨æ„ï¼Œä¸æ˜¯æ‰€æœ‰std::shared_ptrçš„æ„é€ éƒ½ä¼šå¢åŠ å¼•ç”¨è®¡æ•°ï¼Œç§»åŠ¨æ„é€ å°±ä¸ä¼šã€‚å› æ­¤ç§»åŠ¨æ„é€ ä¸€ä¸ªstd::shared_ptrè¦æ¯”å¤åˆ¶ä¸€ä¸ªæ›´å¿« ä¸std::unique_ptrç±»ä¼¼ï¼Œstd::shared_ptrçš„é»˜è®¤é”€æ¯åŠ¨ä½œä¹Ÿæ˜¯deleteï¼Œä¸”ä¹Ÿå¯ä»¥æ¥å—è‡ªå®šä¹‰çš„é”€æ¯å™¨ ä½†ä¸std::unique_pträ¸åŒçš„æ˜¯ï¼Œstd::shared_ptrçš„é”€æ¯å™¨ç±»å‹ä¸å¿…ä½œä¸ºå®ƒçš„æ¨¡æ¿å‚æ•°ä¹‹ä¸€ auto loggingDel = [](Widget* pw) { makeLogEntry(pw); delete pw; }; std::unique_ptr\u003cWidget, decltype(loggingDel)\u003e upw(new Widget, loggingDel); std::shared_ptr\u003cWidget\u003e spw(new Widget, loggingDel); å› æ­¤std::shared_ptrè¦æ¯”std::unique_pträ½¿ç”¨æ›´çµæ´»ï¼Œæ¯”å¦‚ä¸åŒé”€æ¯å™¨çš„std::shared_ptrå¯ä»¥æ”¾åˆ°åŒä¸€ä¸ªå®¹å™¨ä¸­ï¼Œè€Œstd::unique_ptråˆ™ä¸å¯ä»¥ å¦å¤–ï¼Œä¸åŒçš„é”€æ¯å™¨ä¸ä¼šæ”¹å˜std::shared_ptrçš„å¤§å°ã€‚std::shared_ptrå†…éƒ¨éœ€è¦ä¸ºå¼•ç”¨è®¡æ•°å•ç‹¬å¼€è¾Ÿä¸€å—å†…å­˜ï¼Œé‚£ä¹ˆè¿™å—å†…å­˜ä¸­å†æ”¾ä¸€ä¸ªé”€æ¯å™¨ä¹Ÿæ²¡ä»€ä¹ˆé¢å¤–å¼€é”€ã€‚å®é™…ä¸Šè¿™å—å†…å­˜è¢«ç§°ä¸ºâ€æ§åˆ¶å—â€ï¼Œå®ƒé‡Œé¢åŒ…å«ä»¥ä¸‹å…ƒç´  å¼•ç”¨è®¡æ•° å¼±å¼•ç”¨è®¡æ•° å…¶å®ƒæ•°æ®ï¼ŒåŒ…æ‹¬ è‡ªå®šä¹‰é”€æ¯å™¨ å†…å­˜åˆ†é…å™¨ ç­‰ç­‰ æ§åˆ¶å—çš„åˆ›å»ºè§„åˆ™ä¸º std::make_sharedæ€»ä¼šåˆ›å»ºä¸€ä¸ªæ§åˆ¶å— é€šè¿‡ä¸€ä¸ªç‹¬äº«æ‰€æœ‰æƒçš„æŒ‡é’ˆï¼ˆå¦‚std::unique_ptræˆ–std::auto_ptrï¼‰åˆ›å»ºå‡ºçš„std::shared_ptræ€»ä¼šåˆ›å»ºä¸€ä¸ªæ§åˆ¶å— é€šè¿‡è£¸æŒ‡é’ˆåˆ›å»ºçš„std::shared_pträ¼šåˆ›å»ºæ§åˆ¶å— ä¸€ä¸ªæ¨è®ºå°±æ˜¯ï¼šé€šè¿‡ä¸€ä¸ªè£¸æŒ‡é’ˆåˆ›å»ºä¸¤ä¸ªstd::shared_ptrï¼Œä¼šåˆ›å»ºä¸¤ä¸ªæ§åˆ¶å—ï¼Œè¿›è€Œå¯¼è‡´è¿™ä¸ªè£¸æŒ‡é’ˆä¼šè¢«ææ„ä¸¤æ¬¡ ä»ä¸­æˆ‘ä»¬å¯ä»¥å¾—åˆ°ä¸¤ä¸ªæ•™è®­ ä¸è¦ç›´æ¥ç”¨è£¸æŒ‡é’ˆæ„é€ std::shared_ptrï¼Œå°½é‡ç”¨std::make_sharedã€‚å½“ç„¶åœ¨éœ€è¦è‡ªå®šä¹‰çš„é”€æ¯å™¨æ—¶ä¸èƒ½ç”¨std::make_shared éè¦ç”¨è£¸æŒ‡é’ˆæ„é€ std::shared_ptrçš„è¯ï¼Œå°½é‡ç›´æ¥newï¼Œä¸è¦ä¼ å…¥å·²æœ‰çš„è£¸æŒ‡é’ˆå˜é‡ æ§åˆ¶å—ä¼šå¸¦æ¥å“ªäº›å¼€é”€å‘¢ï¼Ÿä¸€ä¸ªæ§åˆ¶å—é€šå¸¸åªæœ‰å‡ ä¸ªwordå¤§ï¼Œä½†å…¶ä¸­ä¼šç”¨åˆ°ç»§æ‰¿ï¼Œç”šè‡³è¿˜æœ‰è™šå‡½æ•°ã€‚è¿™ä¹Ÿæ„å‘³ç€ä½¿ç”¨std::shared_pträ¹Ÿä¼šæœ‰è°ƒç”¨è™šå‡½æ•°çš„å¼€é”€ ä½†é€šå¸¸æ¥è¯´std::shared_ptrçš„é¢å¤–å¼€é”€æ˜¯å¾ˆå°çš„ã€‚å¯¹äºstd::make_sharedåˆ›å»ºçš„std::shared_ptrï¼Œå®ƒçš„æ§åˆ¶å—åªæœ‰3ä¸ªwordå¤§ï¼Œä¸”å†…å­˜åˆ†é…ä¸Šæ— é¢å¤–æˆæœ¬ã€‚è§£å¼•ç”¨ä¸€ä¸ªstd::shared_pträ¹Ÿä¸ä¼šæ¯”è§£å¼•ç”¨ä¸€ä¸ªè£¸æŒ‡é’ˆå¼€é”€å¤§ã€‚æ“ä½œå¼•ç”¨è®¡æ•°ä¼šå¸¦æ¥ä¸€ä¸¤æ¬¡åŸå­æ“ä½œçš„å¼€é”€ï¼Œä½†é€šå¸¸ä¹Ÿä¸å¤§ std::shared_ptrçš„ä¸€ä¸ªç¼ºç‚¹æ˜¯å®ƒä¸æ”¯æŒæ•°ç»„ï¼Œä½†åœ¨C++11å·²ç»æä¾›äº†std::arrayã€std::vectorã€std::stringè¿™äº›å®¹å™¨ç±»çš„å‰æä¸‹ï¼Œè¿˜è¦ç”¨std::shared_ptrå»ç®¡ç†ä¸€ä¸ªæ•°ç»„ï¼Œæœ¬èº«å°±æ˜¯ä¸å¥½è®¾è®¡çš„ä¿¡å· ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:3:0","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"Summary std::shared_pträ¸ºäº†ç®¡ç†ä»»æ„èµ„æºçš„å…±äº«å¼å†…å­˜ç®¡ç†ï¼Œæä¾›äº†è‡ªåŠ¨åƒåœ¾å›æ”¶çš„ä¾¿åˆ© std::shared_ptræ˜¯åŸç”ŸæŒ‡é’ˆçš„ä¸¤å€å¤§å°ï¼Œå› ä¸ºä»–ä»¬å†…éƒ¨é™¤äº†åŒ…å«ä¸€ä¸ªåŸç”ŸæŒ‡é’ˆä»¥å¤–ï¼Œè¿˜åŒ…å«äº†ä¸€ä¸ªå¼•ç”¨è®¡æ•° std::shared_ptr æ˜¯ std::unique_ptr çš„ä¸¤å€å¤§ï¼Œé™¤äº†æ§åˆ¶å—ï¼Œè¿˜æœ‰éœ€è¦åŸå­å¼•ç”¨è®¡æ•°æ“ä½œå¼•èµ·çš„å¼€é”€ é¿å…ä»åŸç”ŸæŒ‡é’ˆç±»å‹å˜é‡åˆ›å»º std::shared_ptr å¼•ç”¨è®¡æ•°çš„å†…å­˜å¿…é¡»è¢«åŠ¨æ€åˆ†é…ï¼Œå½“ç„¶ç”¨make_sharedæ¥åˆ›å»ºshared_pträ¼šé¿å…åŠ¨æ€å†…å­˜çš„å¼€é”€ å¼•ç”¨è®¡æ•°çš„é€’å¢å’Œé€’å‡å¿…é¡»æ˜¯åŸå­æ“ä½œ èµ„æºçš„é»˜è®¤ææ„ä¸€èˆ¬é€šè¿‡deleteæ¥è¿›è¡Œï¼Œä½†æ˜¯è‡ªå®šä¹‰çš„deleterä¹Ÿæ˜¯æ”¯æŒçš„ã€‚deleterçš„ç±»å‹å¯¹äº std::shared_ptr çš„ç±»å‹ä¸ä¼šäº§ç”Ÿå½±å“ ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:3:1","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"æ¡æ¬¾20 åœ¨éœ€è¦å…±äº«è¯­ä¹‰ä¸”å¯èƒ½ç©ºæ‚¬çš„åœ°æ–¹ç”¨weak_ptr æœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦ä¸€ç§ç±»ä¼¼std::shared_ptrï¼Œä½†åˆä¸å‚ä¸è¿™ä¸ªå…±äº«å¯¹è±¡çš„æ‰€æœ‰æƒçš„æ™ºèƒ½æŒ‡é’ˆã€‚è¿™æ ·å®ƒå°±éœ€è¦èƒ½çŸ¥é“å…±äº«å¯¹è±¡æ˜¯å¦å·²ç»é”€æ¯äº†ã€‚è¿™å°±æ˜¯`std::weak_ptr`` ``std::weak_pträ¸æ˜¯å•ç‹¬å­˜åœ¨çš„ï¼Œå®ƒä¸èƒ½è§£å¼•ç”¨ï¼Œä¹Ÿä¸èƒ½æ£€æµ‹æ˜¯å¦ä¸ºç©ºï¼Œå®ƒå°±æ˜¯é…åˆstd::shared_ptr`ä½¿ç”¨çš„ é€šå¸¸std::weak_ptréƒ½æ˜¯é€šè¿‡std::shared_ptræ„é€ çš„ï¼Œä½†å®ƒä¸ä¼šå½±å“std::shared_ptrçš„å¼•ç”¨è®¡æ•° auto spw = std::make_shared\u003cWidget\u003e(); // ref count is 1 ... std::weap_ptr\u003cWidget\u003e wpw(spw); // ref count remains 1 ... spw = nullptr; å¯ä»¥ç”¨expired()æ¥æ£€æµ‹std::weak_ptræŒ‡å‘çš„å¯¹è±¡æ˜¯å¦æœ‰æ•ˆ if (wpw.expired()) ... å¦ä¸€ä¸ªå¸¸ç”¨çš„æ“ä½œæ˜¯lock()ï¼Œå®ƒèƒ½åŸå­åœ°æ£€æµ‹å¯¹è±¡æ˜¯å¦æœ‰æ•ˆï¼Œä»¥åŠè¿”å›è¿™ä¸ªå¯¹è±¡çš„std::shared_ptr std::shared_ptr\u003cWidget\u003e spw = wpw.lock(); // if wpw's expired, spw is null ä¸ä¹‹ç±»ä¼¼çš„æ“ä½œæ˜¯ç”¨std::weak_ptræ„é€ ä¸€ä¸ªstd::shared_ptr std::shared_ptr\u003cWidget\u003e spw(wpw); åŒºåˆ«åœ¨äºï¼Œå¦‚æœwpwå·²ç»å¤±æ•ˆäº†ï¼Œè¿™æ¬¡æ„é€ ä¼šæŠ›std::bad_weak_ptrçš„å¼‚å¸¸ ä¸‹é¢æˆ‘ä»¬ç”¨å‡ ä¸ªä¾‹å­æ¥è¯´æ˜std::weak_ptrçš„å¿…è¦æ€§ æƒ³è±¡æˆ‘ä»¬è¦å®ç°ä¸€ä¸ªcacheï¼Œå¸Œæœ›å…¶ä¸­çš„å…ƒç´ åœ¨æ— äººä½¿ç”¨åè¢«é”€æ¯ã€‚è¿™é‡Œæˆ‘ä»¬ç”¨std::unique_ptrå¹¶ä¸åˆé€‚ï¼Œå› ä¸ºcacheå¤©ç„¶éœ€è¦å…±äº«çš„è¯­ä¹‰ã€‚è¿™æ ·æ¯ä¸ªè°ƒç”¨è€…éƒ½å¯ä»¥è·å¾—ä¸€ä¸ªcacheä¸­å…ƒç´ çš„std::shared_ptrï¼Œå®ƒçš„ç”Ÿå‘½æœŸç”±è°ƒç”¨è€…æ§åˆ¶ã€‚cacheå†…è¿˜éœ€è¦ä¿å­˜ä¸€ä»½å…ƒç´ çš„æŒ‡é’ˆï¼Œä¸”æœ‰èƒ½åŠ›æ£€æµ‹å®ƒæ˜¯ä¸æ˜¯å¤±æ•ˆäº†ã€‚è¿™é‡Œæˆ‘ä»¬éœ€è¦çš„å°±æ˜¯std::weak_ptr std::shared_ptr\u003cconst Widget\u003e fastLoadWidget(WidgetID id) { static std::unordered_map\u003cWidgetID, std::weak_ptr\u003cconst Widget\u003e\u003e cache; auto objPtr = cache[id].lock(); if (!objPtr) { objPtr = loadWidget(id); cache[id] = objPtr; } return objPtr; } // è¯·ä¸ç”¨åœ¨æ„ä¸Šé¢çš„staticï¼Œè¿™åªæ˜¯ä¸ªç¤ºæ„ ç¬¬äºŒä¸ªä¾‹å­æ˜¯è®¾è®¡æ¨¡å¼ä¸­çš„â€œè§‚å¯Ÿè€…æ¨¡å¼â€ã€‚å®ƒçš„ä¸€ç§å…¸å‹å®ç°æ˜¯æ¯ä¸ªä¸»é¢˜å¯¹è±¡æŒæœ‰ä¸€ç»„è§‚å¯Ÿè€…çš„æŒ‡é’ˆï¼Œæ¯å½“ä¸»é¢˜å¯¹è±¡æœ‰çŠ¶æ€å˜åŒ–æ—¶ä¾æ¬¡é€šçŸ¥æ¯ä¸ªè§‚å¯Ÿè€…ã€‚è¿™é‡Œä¸»é¢˜å¯¹è±¡ä¸éœ€è¦æ§åˆ¶è§‚å¯Ÿè€…çš„ç”Ÿå‘½æœŸï¼Œä½†éœ€è¦çŸ¥é“è§‚å¯Ÿè€…çš„æŒ‡é’ˆæ˜¯å¦è¿˜æœ‰æ•ˆã€‚ç”¨std::weak_ptrå°±å¯ä»¥éå¸¸è‡ªç„¶çš„å®ç°å‡ºè¿™æ ·çš„ç‰¹æ€§ ç¬¬ä¸‰ä¸ªä¾‹å­æ˜¯ï¼Œå½“Aå’ŒCéƒ½æŒæœ‰Bçš„std::shared_ptræ—¶ï¼Œå¦‚æœBä¹Ÿéœ€è¦æŒæœ‰Açš„æŸç§æŒ‡é’ˆï¼Œè¯¥æŒæœ‰ä»€ä¹ˆï¼Ÿ è£¸æŒ‡é’ˆï¼šå¦‚æœAææ„äº†ï¼Œä½†Cè¿˜åœ¨ï¼ŒBä¹Ÿå°±è¿˜åœ¨ï¼Œæ­¤æ—¶BæŒæœ‰çš„Açš„è£¸æŒ‡é’ˆå°±æˆäº†ç©ºæ‚¬æŒ‡é’ˆï¼Œä¸å¥½ std::shared_ptrï¼šè¿™æ ·Aä¸Bå°±å½¢æˆäº†å¾ªç¯ä¾èµ–ï¼Œæ°¸è¿œä¸å¯èƒ½ææ„äº† std::weak_ptrï¼šå”¯ä¸€çš„å¥½é€‰æ‹© ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨std::weak_ptræ¥è§£std::shared_ptrå¯èƒ½é€ æˆçš„å¾ªç¯ä¾èµ–ï¼Œè¿™ç§ç‰¹æ€§æœ¬èº«å¹¶æ²¡æœ‰ä»·å€¼ã€‚è®¾è®¡è‰¯å¥½çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚æ ‘ï¼Œçˆ¶èŠ‚ç‚¹æ§åˆ¶å­èŠ‚ç‚¹çš„ç”Ÿå‘½æœŸï¼Œä½†å­èŠ‚ç‚¹ä¹Ÿéœ€è¦æŒæœ‰çˆ¶èŠ‚ç‚¹çš„æŒ‡é’ˆï¼Œè¿™é‡Œæœ€å¥½çš„æ–¹æ¡ˆæ˜¯çˆ¶èŠ‚ç‚¹ç”¨std::unique_ptræ¥æŒæœ‰å­èŠ‚ç‚¹ï¼Œè€Œå­èŠ‚ç‚¹ç›´æ¥æŒæœ‰çˆ¶èŠ‚ç‚¹çš„è£¸æŒ‡é’ˆã€‚å³ï¼Œä¸¥æ ¼å±‚æ¬¡ç»“æ„ï¼Œæ˜ç¡®ç”Ÿå‘½æœŸçš„åœºæ™¯ï¼Œä¸éœ€è¦ä½¿ç”¨std::weak_ptrã€‚std::weak_ptrçš„ä»·å€¼åœ¨äºï¼šåœ¨ç”Ÿå‘½æœŸä¸æ˜ç¡®çš„åœºæ™¯ï¼Œå¯ä»¥çŸ¥é“å¯¹è±¡æ˜¯å¦è¿˜æœ‰æ•ˆ åœ¨æ•ˆç‡æ–¹é¢ï¼Œstd::weak_ptrçš„å¤§å°ä¸std::shared_ptræ˜¯ç›¸åŒçš„ï¼Œå®ƒä»¬ä½¿ç”¨ç›¸åŒçš„æ§åˆ¶å—ï¼ŒåŒºåˆ«åœ¨äºstd::weak_pträ¸ä¼šå½±å“æ§åˆ¶å—ä¸­çš„å¼•ç”¨è®¡æ•°ï¼Œåªä¼šå½±å“å…¶ä¸­çš„å¼±å¼•ç”¨è®¡æ•° ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:4:0","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"Summary std::weak_ptr ç”¨æ¥æ¨¡ä»¿ç±»ä¼¼std::shared_ptrçš„å¯æ‚¬æŒ‚æŒ‡é’ˆ æ½œåœ¨çš„ä½¿ç”¨ std::weak_ptrçš„åœºæ™¯åŒ…æ‹¬ç¼“å­˜ï¼Œè§‚å¯Ÿè€…åˆ—è¡¨ï¼Œä»¥åŠé˜»æ­¢ std::shared_ptr å½¢æˆçš„ç¯ ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:4:1","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"æ¡æ¬¾21 ä¼˜å…ˆç”¨make_uniqueå’Œmake_sharedè€Œä¸æ˜¯ç›´æ¥new å‰è¨€ å…ˆåšä¸€ä¸‹ä»‹ç»ï¼Œstd::make_sharedæ˜¯åœ¨C++11ä¸­å¢åŠ çš„ï¼Œä½†std::make_uniqueå´æ˜¯åœ¨C++14ä¸­å¢åŠ çš„ã€‚å¦‚æœä½ æƒ³åœ¨C++11ä¸­å°±ç”¨ä¸Šstd::make_uniqueï¼Œè‡ªå·±å†™ä¸€ä¸ªç®€å•ç‰ˆçš„ä¹Ÿä¸éš¾ template \u003ctypename T, typename... Ts\u003e std::unique_ptr\u003cT\u003e make_unique(Ts\u0026\u0026... params) { return std::unique_ptr\u003cT\u003e(new T(std::forward\u003cTs\u003e(params)...)); } è¿™ä¸ªç‰ˆæœ¬ä¸æ”¯æŒæ•°ç»„ï¼Œä¸æ”¯æŒè‡ªå®šä¹‰çš„é”€æ¯å™¨ï¼Œä½†è¿™äº›éƒ½ä¸é‡è¦ï¼Œå®ƒè¶³å¤Ÿç”¨äº†ã€‚ä½†è¦è®°ä½çš„æ˜¯ï¼Œä¸è¦æŠŠå®ƒæ”¾åˆ°namespace stdä¸‹é¢ ä¼˜å…ˆç”¨è¿™ä¸¤ä¸ªmakeçš„å¥½å¤„ è¿™ä¸¤ä¸ªmakeå‡½æ•°çš„åŠŸèƒ½å°±ä¸è§£é‡Šäº†ï¼Œå’Œå®ƒä»¬ç±»ä¼¼çš„è¿˜æœ‰ä¸€ä¸ªstd::allocate_shared auto upw1(std::make_unique\u003cWidget\u003e()); std::unique_ptr\u003cWidget\u003e upw2(new Widget); auto spw1(std::make_shared\u003cWidget\u003e()); std::shared_ptr\u003cWidget\u003e spw2(new Widget); ä¸Šé¢è¿™ä¸ªä¾‹å­è¯´æ˜äº†ç”¨makeå‡½æ•°çš„ç¬¬ä¸€ä¸ªå¥½å¤„ï¼šä¸éœ€è¦é‡å¤å†™ä¸€éç±»å‹ã€‚æ‰€æœ‰ç¨‹åºå‘˜éƒ½çŸ¥é“ï¼šä¸è¦é‡å¤ä»£ç ã€‚ä»£ç è¶Šå°‘ï¼Œbugè¶Šå°‘ å¼‚å¸¸å®‰å…¨æ€§ã€‚æƒ³è±¡æˆ‘ä»¬æœ‰ä¸¤ä¸ªå‡½æ•° void processWidget(std::shared_ptr\u003cWidget\u003e spw, int priority); int computePriority(); è°ƒç”¨ä»£ç å¾ˆå¯èƒ½é•¿æˆè¿™ä¸ªæ ·å­ processWidget(std::shared_ptr\u003cWidget\u003e(new Widget), computePriority()); // potential resource leak! ä¸Šé¢è¿™è¡Œä»£ç æœ‰å†…å­˜æ³„æ¼çš„é£é™©ï¼Œä¸ºä»€ä¹ˆï¼Ÿæ ¹æ®C++æ ‡å‡†ï¼Œåœ¨processWidgetçš„å‚æ•°æ±‚å€¼è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬åªèƒ½ç¡®å®šä¸‹é¢å‡ ç‚¹ï¼š new Widgetä¸€å®šä¼šæ‰§è¡Œï¼Œå³ä¸€å®šä¼šæœ‰ä¸€ä¸ªWidgetå¯¹è±¡åœ¨å †ä¸Šè¢«åˆ›å»ºã€‚ std::shared_ptr\u003cWidget\u003eçš„æ„é€ å‡½æ•°ä¸€å®šä¼šæ‰§è¡Œã€‚ computePriorityä¸€å®šä¼šæ‰§è¡Œã€‚ new Widgetçš„ç»“æœæ˜¯std::shared_ptr\u003cWidget\u003eæ„é€ å‡½æ•°çš„å‚æ•°ï¼Œå› æ­¤å‰è€…ä¸€å®šæ—©äºåè€…æ‰§è¡Œã€‚é™¤æ­¤ä¹‹å¤–ï¼Œç¼–è¯‘å™¨ä¸ä¿è¯å…¶å®ƒæ“ä½œçš„é¡ºåºï¼Œå³æœ‰å¯èƒ½æ‰§è¡Œé¡ºåºä¸ºï¼š new Widget æ‰§è¡ŒcomputePriority æ„é€ std::shared_ptr\u003cWidget\u003e å¦‚æœç¬¬2æ­¥æŠ›å¼‚å¸¸ï¼Œç¬¬1æ­¥åˆ›å»ºçš„å¯¹è±¡è¿˜æ²¡æœ‰è¢«std::shared_ptr\u003cWidget\u003eç®¡ç†ï¼Œå°±ä¼šå‘ç”Ÿå†…å­˜æ³„æ¼ã€‚ å¦‚æœè¿™é‡Œæˆ‘ä»¬ç”¨std::make_sharedï¼Œå°±èƒ½ä¿è¯new Widgetå’Œstd::shared_ptr\u003cWidget\u003eæ˜¯ä¸€èµ·å®Œæˆçš„ï¼Œä¸­é—´ä¸ä¼šæœ‰å…¶å®ƒæ“ä½œæ’è¿›æ¥ï¼Œå³ä¸ä¼šæœ‰ä¸å—æ™ºèƒ½æŒ‡é’ˆä¿æŠ¤çš„è£¸æŒ‡é’ˆå‡ºç°ï¼š processWidget(std::make_shared\u003cWidget\u003e(), computePriority()); // no potential resource leak æ›´é«˜æ•ˆ std:shared_ptr\u003cWidget\u003e spw(new Widget); è¿™è¡Œä»£ç ä¸­ï¼Œæˆ‘ä»¬ä»¥ä¸ºåªæœ‰ä¸€æ¬¡å†…å­˜åˆ†é…ï¼Œå®é™…å‘ç”Ÿäº†ä¸¤æ¬¡ï¼Œç¬¬äºŒæ¬¡æ˜¯åœ¨åˆ†é…std::shared_ptræ§åˆ¶å—ã€‚å¦‚æœç”¨std::make_sharedï¼Œå®ƒä¼šæŠŠWidgetå¯¹è±¡å’Œæ§åˆ¶å—åˆå¹¶ä¸ºä¸€æ¬¡å†…å­˜åˆ†é… ä½†æ˜¯makeå‡½æ•°ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ã€‚ ç¬¬ä¸€ä¸ªç¼ºç‚¹ï¼šæ— æ³•ä¼ å…¥è‡ªå®šä¹‰çš„é”€æ¯å™¨ã€‚ ç¬¬äºŒä¸ªç¼ºç‚¹ï¼šmakeå‡½æ•°åˆå§‹åŒ–æ—¶ä½¿ç”¨äº†æ‹¬å·åˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯èŠ±æ‹¬å·åˆå§‹åŒ–ï¼Œæ¯”å¦‚std::make_unique\u003cstd::vector\u003cint\u003e\u003e(10, 20)åˆ›å»ºäº†ä¸€ä¸ªæœ‰ç€20ä¸ªå€¼ä¸º10çš„å…ƒç´ çš„vectorï¼Œè€Œä¸æ˜¯åˆ›å»ºäº†{10, 20}è¿™ä¹ˆä¸¤ä¸ªå…ƒç´ çš„vector(å‚è§Item7)ã€‚ ç¬¬ä¸‰ä¸ªç¼ºç‚¹ï¼šå¯¹è±¡å’Œæ§åˆ¶å—åˆ†é…åœ¨ä¸€å—å†…å­˜ä¸Šï¼Œå‡å°‘äº†å†…å­˜åˆ†é…çš„æ¬¡æ•°ï¼Œä½†ä¹Ÿå¯¼è‡´å¯¹è±¡å’Œæ§åˆ¶å—å ç”¨çš„å†…å­˜ä¹Ÿè¦ä¸€æ¬¡å›æ”¶æ‰ã€‚å³ï¼Œå¦‚æœè¿˜æœ‰std::weak_ptrå­˜åœ¨ï¼Œæ§åˆ¶å—å°±è¦åœ¨ï¼Œå¯¹è±¡å ç”¨çš„å†…å­˜ä¹Ÿæ²¡åŠæ³•å›æ”¶ã€‚å¦‚æœå¯¹è±¡æ¯”è¾ƒå¤§ï¼Œä¸”std::weak_ptråœ¨å¯¹è±¡ææ„åè¿˜å¯èƒ½é•¿æœŸå­˜åœ¨ï¼Œé‚£ä¹ˆè¿™ç§å¼€é”€æ˜¯ä¸å¯å¿½è§†çš„ã€‚ å¦‚æœæˆ‘ä»¬å› ä¸ºå‰é¢è¿™ä¸‰ä¸ªç¼ºç‚¹è€Œä¸èƒ½ä½¿ç”¨std::make_sharedï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦ä¿è¯ï¼Œæ™ºèƒ½æŒ‡é’ˆçš„æ„é€ ä¸€å®šè¦å•ç‹¬ä¸€ä¸ªè¯­å¥ã€‚å›åˆ°ä¹‹å‰processWidgetçš„ä¾‹å­ä¸­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸ªè‡ªå®šä¹‰çš„é”€æ¯å™¨void cusDel(Widget* ptr);ï¼Œå› æ­¤ä¸èƒ½ä½¿ç”¨std::make_sharedï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦è¿™ä¹ˆå†™æ¥ä¿è¯å¼‚å¸¸å®‰å…¨æ€§ï¼š std::shared_ptr\u003cWidget\u003e spw(new Widget, cusDel); processWidget(spw, computePriority()); ä½†è¿™ä¹ˆå†™è¿˜ä¸å¤Ÿé«˜æ•ˆï¼Œè¿™é‡Œæˆ‘ä»¬æ˜ç¡®çŸ¥é“spwå°±æ˜¯ç»™processWidgetç”¨çš„ï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨std::moveï¼Œå°†å…¶è½¬ä¸ºå³å€¼ï¼Œæ¥é¿å…å¯¹å¼•ç”¨è®¡æ•°çš„ä¿®æ”¹ï¼š std::shared_ptr\u003cWidget\u003e spw(new Widget, cusDel); processWidget(std::move(spw), computePriority()); ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:5:0","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"Summary å’Œç›´æ¥ä½¿ç”¨newç›¸æ¯”ï¼Œä½¿ç”¨makeå‡½æ•°å‡å°‘äº†ä»£ç çš„é‡å¤é‡ï¼Œæå‡äº†å¼‚å¸¸å®‰å…¨åº¦ï¼Œå¹¶ä¸”ï¼Œå¯¹äºstd::make_sharedä»¥åŠstd::allocate_sharedæ¥è¯´ï¼Œäº§ç”Ÿçš„ä»£ç æ›´åŠ ç®€æ´å¿«é€Ÿ ä¹Ÿä¼šå­˜åœ¨ä½¿ç”¨makeå‡½æ•°ä¸åˆé€‚çš„åœºæ™¯ï¼šåŒ…å«æŒ‡å®šè‡ªå®šä¹‰çš„deleter,ä»¥åŠä¼ é€’å¤§æ‹¬å·initializerçš„éœ€è¦ å¯¹äºstd::shared_ptræ¥è¯´ï¼Œä½¿ç”¨makeå‡½æ•°çš„é¢å¤–çš„ä¸ä½¿ç”¨åœºæ™¯è¿˜åŒ…å« å¸¦æœ‰è‡ªå®šä¹‰å†…å­˜ç®¡ç†çš„class å†…å­˜éå¸¸ç´§ä¿çš„ç³»ç»Ÿï¼Œéå¸¸å¤§çš„å¯¹è±¡ä»¥åŠæ¯”å¯¹åº”çš„std::shared_ptræ´»çš„è¿˜è¦é•¿çš„std::weak_ptr ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:5:1","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["Effective Modern C++ æ¡æ¬¾"],"content":"æ¡æ¬¾22 åœ¨ç”¨åˆ°PImplæƒ¯ç”¨æ³•æ—¶ï¼Œåœ¨å®ç°æ–‡ä»¶ä¸­å®šä¹‰ç‰¹æ®Šæˆå‘˜å‡½æ•° æˆ‘ä»¬ç»å¸¸ç”¨åä¸ºPImplçš„æ–¹æ³•æ¥å®ç°æ¥å£ä¸å®ç°åˆ†ç¦»ï¼Œè¿›è€Œå¤§å¤§é™ä½ç¨‹åºæ„å»ºçš„æ—¶é—´ PImplæ˜¯æŒ‡æŠŠç±»Aä¸­çš„æ‰€æœ‰æ•°æ®æˆå‘˜éƒ½ç§»åˆ°ä¸€ä¸ªimplç±»ä¸­ï¼ŒAä¸­åªç•™ä¸‹ä¸€ä¸ªimplç±»å‹çš„æŒ‡é’ˆ ä¸¾ä¸€ä¸ªä¾‹å­ class Widget { public: Widget(); ... private: std::string name; std::vector\u003cdouble\u003e data; Gadget g1, g2, g3; // Gadget is some user-defined type }; Widgetçš„æ•°æ®æˆå‘˜çš„ç±»å‹ä¸ºstd::stringã€std::vector\u003cdouble\u003eã€Gadgetï¼Œè¿™æ ·å°±è‡³å°‘è¦includeä¸‰ä¸ªå¤´æ–‡ä»¶ï¼Œè¿™ä¹Ÿæ„å‘³ç€æ¯ä¸ªéœ€è¦includeäº†è¿™ä¸ªåŒ…å«Widgetå®šä¹‰çš„å¤´æ–‡ä»¶çš„åœ°æ–¹ï¼Œéƒ½è¢«åŠ¨å¼•å…¥äº†ä¸‰ä¸ªå¤´æ–‡ä»¶ã€‚å¦‚æœæœ‰ä¸€å¤©æˆ‘ä»¬ä¿®æ”¹äº†Widgetçš„å®ç°ï¼Œæ¯”å¦‚å¢åŠ æˆ–åˆ é™¤äº†ä¸€ä¸ªæˆå‘˜ï¼Œå³ä½¿å®ƒä»¬éƒ½æ˜¯privateçš„ï¼Œå³ä½¿æ¥å£å®Œå…¨æ²¡æœ‰å˜åŒ–ï¼Œæ‰€æœ‰includeå®ƒçš„ç”¨æˆ·æ–‡ä»¶éƒ½è¦é‡æ–°ç¼–è¯‘ã€‚æˆ‘ä»¬ä¸æƒ³æ±¡æŸ“ç”¨æˆ·æ–‡ä»¶ï¼Œä¹Ÿä¸æƒ³ç”¨æˆ·æ–‡ä»¶å› ä¸ºæˆ‘ä»¬çš„å®ç°ä¿®æ”¹è€Œé‡æ–°ç¼–è¯‘ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨PImpl class Widget { public: Widget(); ~Widget(); ... private: struct Impl; Impl* pImpl; }; æ³¨æ„è¿™é‡Œå‡ºç°çš„Implç±»å‹åªæ˜¯å£°æ˜ï¼Œæ²¡æœ‰å®šä¹‰ï¼Œç§°ä¸ºâ€œä¸å®Œæ•´ç±»å‹â€ï¼Œè¿™æ ·çš„ç±»å‹åªæ”¯æŒå¾ˆå°‘çš„æ“ä½œï¼Œå…¶ä¸­åŒ…æ‹¬äº†æˆ‘ä»¬éœ€è¦çš„ï¼šå£°æ˜ä¸€ä¸ªä¸å®Œæ•´ç±»å‹çš„æŒ‡é’ˆ å¯¹åº”çš„å®ç°æ–‡ä»¶å†…å®¹ä¸º struct Widget::Impl { std::string name; std::vector\u003cdouble\u003e data; Gadget g1, g2, g3; }; Widget::Widget() : pImpl(new Impl) {} Widget::~Widget() { delete pImpl; } æœ‰äº†æ™ºèƒ½æŒ‡é’ˆåï¼Œæˆ‘ä»¬è§‰å¾—ç›´æ¥newå’Œdeleteä¸å¥½ï¼Œéœ€è¦ç”¨std::unique_ptr class Widget { public: Widget(); ... private: struct Impl std::unique_ptr\u003cImpl\u003e pImpl; }; å› ä¸ºä¸éœ€è¦æ‰‹åŠ¨çš„deleteï¼Œæˆ‘ä»¬æ²¡æœ‰è‡ªå·±å®ç°Widgetçš„ææ„å‡½æ•° çœ‹èµ·æ¥éƒ½å¾ˆç¾å¥½ï¼Œç¼–è¯‘ä¹Ÿæ²¡é—®é¢˜ï¼Œä½†åœ¨ç”¨æˆ·è¦ç”¨æ—¶ï¼Œå‡ºäº‹äº† Widget w; // error!!! ç©¶å…¶åŸå› ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬æ²¡æœ‰ç»™Widgetå®ç°è‡ªå®šä¹‰çš„ææ„å‡½æ•°ï¼Œå› æ­¤ç¼–è¯‘å™¨ä¸ºWidgetå‡†å¤‡äº†ä¸€ä¸ªã€‚è¿™ä¸ªææ„å‡½æ•°ä¼šè¢«æ”¾åˆ°Widgetçš„å®šä¹‰ä½“å†…ï¼Œé»˜è®¤æ˜¯å†…è”çš„ï¼Œå› æ­¤ä¼šæœ‰ä¸€ä»½å®ç°åœ¨ç”¨æˆ·æ–‡ä»¶ä¸­ã€‚~Widgetä¸­åªåšä¸€ä»¶äº‹ï¼šææ„pImplï¼Œå³ææ„ä¸€ä¸ªstd::unique_ptr\u003cImpl\u003eã€‚æ³¨æ„ï¼Œæˆ‘ä»¬éšè—äº†Implçš„å®ç°ï¼Œåœ¨ææ„std::unique_ptr\u003cImpl\u003eæ—¶ç¼–è¯‘å™¨å‘ç°Implè¿˜æ˜¯ä¸ªä¸å®Œæ•´ç±»å‹ï¼Œæ­¤æ—¶å¯¹å®ƒè°ƒç”¨deleteæ˜¯å±é™©çš„ï¼Œå› æ­¤ç¼–è¯‘å™¨ç”¨static_castç¦æ­¢äº†è¿™ç§è¡Œä¸º è§£å†³æ–¹æ¡ˆå¾ˆç®€å•ï¼šè‡ªå·±å®ç°Widgetçš„ææ„å‡½æ•° // widget.h class Widget { public: Widget(); ~Widget(); ... private: struct Impl std::unique_ptr\u003cImpl\u003e pImpl; }; // widget.cpp ... Widget::Widget() : pImpl(std::make_unique\u003cImpl\u003e()) {} Widget::~Widget() {} å‚è€ƒæ¡æ¬¾17ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯å°†ææ„å‡½æ•°å®šä¹‰ä¸º= default Widget::~Widget() = default; æ ¹æ®æ¡æ¬¾17ï¼Œè‡ªå®šä¹‰çš„ææ„å‡½æ•°ä¼šé˜»æ­¢ç¼–è¯‘å™¨ç”Ÿæˆç§»åŠ¨æ„é€ å‡½æ•°å’Œç§»åŠ¨èµ‹å€¼å‡½æ•°ï¼Œå› æ­¤å¦‚æœä½ æƒ³è¦Widgetæœ‰ç§»åŠ¨çš„èƒ½åŠ›ï¼Œå°±è¦è‡ªå·±å®ç° class Widget { public: Widget(); ~Widget(); Widget(Widget\u0026\u0026 rhs) = default; // right idea, wrong code! Widget\u0026 operator=(Widget\u0026\u0026 rhs) = default; ... }; æ³¨æ„ä¸è¦åœ¨è¿™äº›ç‰¹æ®Šæˆå‘˜å‡½æ•°çš„å£°æ˜åé¢åŠ = defaultï¼Œè¿™æ ·ä¼šé‡å¤ä¸Šé¢ææ„å‡½æ•°çš„é—®é¢˜ï¼šä¼šè¢«å†…è”ï¼Œå› æ­¤åœ¨ç”¨æˆ·ä»£ç ä¸­æœ‰ä¸€ä»½å®ç°ï¼Œé‡åˆ°ä¸å®Œæ•´ç±»å‹ï¼Œgame overã€‚æˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨.cppä¸­å°†å®ƒä»¬çš„å®ç°å®šä¹‰ä¸º= default æ¥ä¸‹æ¥å°±æ˜¯å¤åˆ¶æ„é€ å‡½æ•°å’Œå¤åˆ¶èµ‹å€¼å‡½æ•°äº†ã€‚æˆ‘ä»¬ç”¨std::unique_ptræ˜¯ä¸ºäº†æ›´å¥½çš„å®ç°PImplæ–¹æ³•ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†Widgetæ— æ³•è‡ªåŠ¨ç”Ÿæˆå¤åˆ¶å‡½æ•°ï¼ˆstd::unique_pträ¸æ”¯æŒï¼‰ï¼Œä½†è¿™å¹¶ä¸æ„å‘³ç€Widgetå°±ä¸èƒ½æ”¯æŒå¤åˆ¶äº†ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è‡ªå·±å®šä¹‰ä¸¤ä¸ªå¤åˆ¶å‡½æ•° // widget.h class Widget { public: ... Widget(const Widget\u0026 rhs); Widget\u0026 operator=(const Widget\u0026 rhs); ... }; // widget.cpp Widget::Widget(const Widget\u0026 rhs) : pImpl(nullptr) { if (rhs.pImpl) { pImpl = std::make_unique\u003cImpl\u003e(*rhs.pImpl); } } Widget\u0026 Widget::operator=(const Widget\u0026 rhs) { if (!rhs.pImpl) { pImpl.reset(); } else if (!pImpl) { pImpl = std::make_unique\u003cImpl\u003e(*rhs.pImpl); } else { *pImpl = *rhs.pImpl; } } æœ‰æ„æ€çš„æ˜¯ï¼Œå¦‚æœä½ æŠŠpImplçš„ç±»å‹æ”¹ä¸ºstd::shared_ptr\u003cImpl\u003eï¼Œä½ ä¼šå‘ç°ä¸Šé¢æ‰€æœ‰è¿™äº›æ³¨æ„äº‹é¡¹ï¼Œéƒ½ä¸è§äº†ã€‚ä½ ä¸éœ€è¦æ‰‹åŠ¨å®ç°ææ„å‡½æ•°ã€ç§»åŠ¨å‡½æ•°ã€æ„é€ å‡½æ•°ï¼Œç¨‹åºç¼–è¯‘ä»ç„¶æ˜¯å¥½çš„ã€‚ è¿™ç§å·®å¼‚æ¥è‡ªäºstd::unique_ptrå’Œstd::shared_ptrå¯¹è‡ªå®šä¹‰é”€æ¯å™¨çš„æ”¯æŒæ–¹å¼ä¸åŒã€‚std::unique_ptrçš„ç›®æ ‡æ˜¯ä»ä½“ç§¯åˆ°æ€§èƒ½ä¸Šå°½å¯èƒ½ä¸è£¸æŒ‡é’ˆç›¸åŒï¼Œå› æ­¤å®ƒå°†é”€æ¯å™¨ç±»å‹ä½œä¸ºæ¨¡æ¿å‚æ•°çš„ä¸€éƒ¨åˆ†ï¼Œè¿™æ ·å®ç°èµ·æ¥æ›´é«˜æ•ˆï¼Œä»£ä»·æ˜¯å„ç§ç‰¹æ®Šå‡½æ•°åœ¨ç¼–è¯‘æ—¶å°±è¦çŸ¥é“å…ƒç´ çš„å®Œæ•´ç±»å‹ã€‚è€Œstd::shared_ptræ²¡æœ‰è¿™ç§æ€§èƒ½ä¸Šçš„è¦æ±‚ï¼Œå› æ­¤å®ƒçš„é”€æ¯å™¨ä¸æ˜¯æ¨¡æ¿å‚æ•°çš„ä¸€éƒ¨åˆ†ï¼Œæ€§èƒ½ä¼šæœ‰ä¸€ç‚¹ç‚¹å½±å“ï¼Œä½†å¥½å¤„æ˜¯ä¸éœ€è¦åœ¨ç¼–è¯‘ç‰¹æ®Šå‡½æ•°æ—¶çŸ¥é“å…ƒç´ çš„å®Œæ•´ç±»å‹ std::shared_ptråœ¨æ„é€ æ—¶å°±æŠŠé”€æ¯å™¨ä¿å­˜åœ¨äº†æ§åˆ¶å—ä¸­ï¼Œä¹‹åå³ä½¿ä¼ é€’åˆ°äº†ä¸çŸ¥é“å…ƒç´ å®Œæ•´ç±»å‹çš„åœ°æ–¹ï¼Œå®ƒä»ç„¶èƒ½è°ƒç”¨æ­£ç¡®çš„é”€æ¯å™¨æ¥é”€æ¯å…ƒç´ æŒ‡é’ˆã€‚è€Œstd::unique_ptræ˜¯ä¾é æ¨¡æ¿å‚æ•°æä¾›çš„ç±»å‹ä¿¡æ¯æ¥è¿›è¡Œé”€æ¯ï¼Œå› æ­¤å¿…é¡»è¦çŸ¥é“å…ƒç´ çš„å®Œæ•´ç±»å‹ ","date":"2023-03-13","objectID":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/:6:0","tags":["Effective Modern C++ æ¡æ¬¾"],"title":"æ¡æ¬¾18~22 æ™ºèƒ½æŒ‡é’ˆ","uri":"/effective-modern-c-%E6%9D%A1%E6%AC%BE18-22/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"RTTI","date":"2023-03-11","objectID":"/%E7%BC%98%E8%B5%B7-rtti/","tags":["RTTI"],"title":"RTTI","uri":"/%E7%BC%98%E8%B5%B7-rtti/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"c++ RTTI ","date":"2023-03-11","objectID":"/%E7%BC%98%E8%B5%B7-rtti/:0:0","tags":["RTTI"],"title":"RTTI","uri":"/%E7%BC%98%E8%B5%B7-rtti/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"ä»€ä¹ˆæ˜¯RTTI RTTIæ˜¯â€Runtime Type Informationâ€çš„ç¼©å†™ï¼Œæ„æ€æ˜¯è¿è¡Œæ—¶ç±»å‹ä¿¡æ¯ï¼Œå®ƒæä¾›äº†è¿è¡Œæ—¶ç¡®å®šå¯¹è±¡ç±»å‹çš„æ–¹æ³• ","date":"2023-03-11","objectID":"/%E7%BC%98%E8%B5%B7-rtti/:1:0","tags":["RTTI"],"title":"RTTI","uri":"/%E7%BC%98%E8%B5%B7-rtti/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"typeid å¯¹äºc++çš„å†…ç½®æ•°æ®ç±»å‹ä»¥åŠè‡ªå·±åˆ›å»ºçš„ç±»å¯¹è±¡ï¼Œtypeidå¯ä»¥æ–¹ä¾¿çš„è¾“å‡ºä»–ä»¬çš„æ•°æ®ç±»å‹ ä½¿ç”¨è¿™ä¸ªè¿ç®—ç¬¦ï¼Œä¼šè¿”å›ä¸€ä¸ª type_info å¯¹è±¡çš„å¼•ç”¨ï¼Œè¿™ä¸ªå¯¹è±¡çš„ç»“æ„å¤§è‡´å¦‚ä¸‹ class type_info { // data public: virtual ~type_info(); // is polymorphic bool operator==(const type_info\u0026) const noexcept; // can be compared bool operator!=(const type_info\u0026) const noexcept; bool before(const type_info\u0026) const noexcept; // ordering size_t hash_code() const noexcept; // for use by unordered_map and the like const char* name() const noexcept; // name of type type_info(const type_info\u0026) = delete; // prevent copying type_info\u0026 operator=(const type_info\u0026) = delete; // prevent copying }; è¿™ä¸ªå¯¹è±¡åŒ…å«äº†ä¸€ä¸ªå¯¹è±¡çš„ç±»å‹ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯c++ä¸­çš„ RTTI æœ‰è¶£çš„æ˜¯ï¼Œå½“typeidä½œç”¨äºæŒ‡é’ˆæ—¶ï¼Œä¼šè¿”å›æŒ‡é’ˆè‡ªèº«çš„ç±»å‹ï¼Œä½†å½“ä½œç”¨äºæ´¾ç”Ÿç±»ï¼ˆæœ‰è™šå‡½æ•°ï¼‰çš„å¯¹è±¡æˆ–å¼•ç”¨æ—¶ï¼Œåˆ™ä¼šè¿”å›è¿™ä¸ªå¯¹è±¡å®é™…çš„ç±»å‹ ä¸‹é¢æ˜¯æµ‹è¯•ä»£ç  ç°åœ¨æœ‰åŸºç±»SceneEntry å’Œæ´¾ç”Ÿç±»SceneUser class SceneEntry { public: SceneEntry(unsigned long long id, const std::string\u0026 name); virtual ~SceneEntry() = default; }; class SceneUser : public SceneEntry { public: SceneUser(unsigned long long id, const std::string\u0026 name); virtual ~SceneUser() = default; }; ... int main() { SceneEntry* entry = new SceneUser(1, \"xiaoming\"); SceneUser user(1,\"\"); SceneEntry\u0026 entry2 = user; std::cout \u003c\u003c typeid(entry).name() \u003c\u003c std::endl; std::cout \u003c\u003c typeid(*entry).name() \u003c\u003c std::endl; std::cout \u003c\u003c typeid(entry2).name() \u003c\u003c std::endl; return 0; } ä»¥ä¸Šä»£ç å¯ä»¥å¾—åˆ°ä»¥ä¸‹è¾“å‡º \u003e ./test P10SceneEntry 9SceneUser 9SceneUser å¯ä»¥çœ‹åˆ°å¯¹äºæŒ‡é’ˆç±»å‹ï¼Œä»–è¿”å›çš„å°±æ˜¯æŒ‡é’ˆå£°æ˜æ—¶çš„ç±»å‹ï¼Œä¸Šé¢çš„På°±è¡¨ç¤ºæŒ‡é’ˆï¼Œè€Œå¼•ç”¨å’Œç±»è¿”å›çš„åˆ™æ˜¯ä»–ä»¬å®é™…å¯¹åº”çš„æ´¾ç”Ÿç±»ã€‚ä¸è¿‡è¿™ç§è·å–å®é™…æ´¾ç”Ÿç±»æ—¶ä¾èµ–çš„æ—¶è™šå‡½æ•°è¡¨ï¼Œå› æ­¤æ²¡æœ‰è™šå‡½æ•°çš„æ—¶å€™ä¹Ÿå°±æ— ä»çŸ¥æ™“äº† å½“å»æ‰è™šå‡½æ•°ä»¥åï¼Œè¾“å‡ºå°±å˜ä¸ºäº† P10SceneEntry 10SceneEntry 10SceneEntry æœ€ç»ˆè¾“å‡ºçš„éƒ½æ˜¯åŸºç±» ","date":"2023-03-11","objectID":"/%E7%BC%98%E8%B5%B7-rtti/:2:0","tags":["RTTI"],"title":"RTTI","uri":"/%E7%BC%98%E8%B5%B7-rtti/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"dynamic_cast dynamic_caståŸç† é€šè¿‡äº†è§£type_infoï¼Œä¹Ÿå°±åŸºæœ¬çŸ¥é“dynamic_castçš„åŸç†äº†ï¼Œå…¶å®ä»–å°±æ˜¯åˆ©ç”¨RTTIå»åˆ¤æ–­ä¸€ä¸ªæŒ‡é’ˆæ‰€æŒ‡çš„ç±»å®é™…æ˜¯ä»€ä¹ˆçš„ï¼Œä¸è¿‡è¿™ä¹Ÿä¾èµ–äºè™šå‡½æ•°è¡¨ï¼Œæ‰€ä»¥å½“ä½ dunamic_castä¸€ä¸ªæ²¡æœ‰è™šå‡½æ•°ç±»çš„æ—¶å€™å°±ä¼šæŠ¥é”™ï¼Œä½†æ˜¯static_castå¹¶ä¸ä¼šå“¦~ error: 'SceneEntry' is not polymorphic ","date":"2023-03-11","objectID":"/%E7%BC%98%E8%B5%B7-rtti/:3:0","tags":["RTTI"],"title":"RTTI","uri":"/%E7%BC%98%E8%B5%B7-rtti/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"RTTIåŸç† æ‰€ä»¥æœ€ç»ˆï¼Œè¦ç ”ç©¶ typeid å’Œ dynamic_cast è¿™ä¸¤ä¸ªè¿ç®—ç¬¦çš„åŸç†ï¼Œæœ¬è´¨å…¶å®æ˜¯ç ”ç©¶ RTTI çš„åŸç† æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»¥ä¸‹ä»£ç æ¥è¿›è¡Œè¯•éªŒ class X { public: X() { mX = 101; } virtual void vfunc() { cout \u003c\u003c \"X::vfunc()\" \u003c\u003c endl; } private: int mX; }; class XX : public X { public: XX(): X() { mXX = 1001; } virtual void vfunc() { cout \u003c\u003c \"XX::vfunc()\" \u003c\u003c endl; } private: int mXX; }; é¦–å…ˆå®šä¹‰ä¸¤ä¸ªæœ‰ç»§æ‰¿å…³ç³»çš„ç±»ï¼Œå¹¶ä¸”å®šä¹‰ä¸€ä¸ªè™šå‡½æ•°ï¼Œç„¶åé€šè¿‡ä»¥ä¸‹ä»£ç æ¥éªŒè¯ä¸€ä¸ªå¯¹è±¡çš„å¸ƒå±€ typedef void (*FuncPtr)(); int main() { XX xx; FuncPtr func; char* p = (char*)\u0026xx;// æ­¤å¤„å£°æ˜ä¸º char * çš„åŸå› ä¸»è¦æ˜¯ä¸ºäº† + sizeof (xx) æ—¶åŠ å¯¹åº” n ä¸ªå­—èŠ‚ï¼Œä»è€Œæ–¹ä¾¿è·å– n ä¸ªå­—èŠ‚åçš„åœ°å€ // è·å¾—è™šå‡½æ•°è¡¨çš„åœ°å€ void** vtbl = (void**)*(void**)p; // æ­¤å¤„å£°æ˜æˆäºŒçº§æŒ‡é’ˆä¹Ÿæ˜¯ä¸ºäº†åœ¨ä¸‹é¢ [] è¿ç®—æ—¶æŒ‰æŒ‡é’ˆçš„æ­¥é•¿å– // è¾“å‡ºè™šå‡½æ•°è¡¨çš„åœ°å€ï¼Œå³ vptr çš„å€¼ cout \u003c\u003c vtbl \u003c\u003c endl; // è·å¾— type_info å¯¹è±¡çš„æŒ‡é’ˆï¼Œå¹¶è°ƒç”¨å…¶ name æˆå‘˜å‡½æ•° cout \u003c\u003c \"\\t[-1]: \" \u003c\u003c (vtbl[-1]) \u003c\u003c \" -\u003e \" \u003c\u003c ((type_info*)(vtbl[-1]))-\u003ename() \u003c\u003c endl; // è°ƒç”¨ç¬¬ä¸€ä¸ª virtual å‡½æ•° cout \u003c\u003c \"\\t[0]: \" \u003c\u003c vtbl[0] \u003c\u003c \" -\u003e \"; func = (FuncPtr)vtbl[0]; func(); // è¾“å‡ºåŸºç±»çš„æˆå‘˜å˜é‡çš„å€¼ p += sizeof(int**); cout \u003c\u003c *(int*)p \u003c\u003c endl; // è¾“å‡ºæ´¾ç”Ÿç±»çš„æˆå‘˜å˜é‡çš„å€¼ p += sizeof(int); cout \u003c\u003c *(int*)p \u003c\u003c endl; return 0; } è¿è¡Œå¾—åˆ°ä»¥ä¸‹è¾“å‡º \u003e ./classStructTest 0x105127110 [-1]: 0x105127130 -\u003e 2XX [0]: 0x1051261d0 -\u003e XX::vfunc() 101 1001 ç”±æ­¤å¯ä»¥å¾—åˆ° c++ ä¸­çš„ä¸€ä¸ªåŒ…å«è™šå‡½æ•°çš„ XX å¯¹è±¡çš„å¤§è‡´å¸ƒå±€ï¼š ä¸€ä¸ªå¯¹è±¡çš„å†…å­˜ç¬¬ä¸€æ®µä¼šä¿å­˜ä¸€ä¸ªç±»çš„è™šå‡½æ•°è¡¨çš„æŒ‡é’ˆï¼ŒæŒ‡é’ˆæŒ‡å‘äº†è™šå‡½æ•°è¡¨ï¼Œå³ä¸€ä¸ªå‡½æ•°æŒ‡é’ˆæ•°ç»„ï¼Œè€Œåœ¨è¿™ä¸ªè™šå‡½æ•°è¡¨æŒ‡é’ˆæŒ‡å‘çš„åœ°å€å‰ä¸€ä¸ªä½ç½®ä¿å­˜äº†ä¸€ä¸ª type_info çš„æŒ‡é’ˆã€‚è€Œè™šå‡½æ•°è¡¨æŒ‡é’ˆåé¢è·Ÿç€çš„åˆ†åˆ«æ˜¯çˆ¶ç±»çš„æˆå‘˜å˜é‡å’Œè‡ªèº«çš„æˆå‘˜å˜é‡ã€‚ ä½†å½“æˆ‘ä»¬æŠŠè™šå‡½æ•°å»æ‰ä»¥åï¼Œå†è¿è¡Œä»£ç å°±ä¼šæŠ¥é”™ï¼š å› æ­¤è¿™ç§æ²¡æœ‰å¤šæ€æ€§è´¨çš„ç±»å†…å­˜ç»“æ„æ˜¯ä¸åŒçš„ã€‚è¿™ç§ç±»çš„ RTTI ä¿¡æ¯åœ¨ç¼–è¯‘åä¾¿å¯ä»¥ç¡®å®šï¼Œæ‰€ä»¥çŒœæƒ³å¯èƒ½ç¼–è¯‘æ—¶å°±å¸¦å…¥åœ°å€äº†ï¼ˆä¸è¿‡æ²¡æŸ¥åˆ°ç›¸å…³èµ„æ–™ï¼Œå¾…è€ƒè¯ï¼‰ã€‚å› æ­¤ä¸éœ€è¦åŠ¨æ€çš„é€šè¿‡ç±»çš„è™šå‡½æ•°è¡¨ä¸­çš„ type_info å»ç¡®å®š ","date":"2023-03-11","objectID":"/%E7%BC%98%E8%B5%B7-rtti/:4:0","tags":["RTTI"],"title":"RTTI","uri":"/%E7%BC%98%E8%B5%B7-rtti/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"Summary é€šè¿‡ RTTI å¯ä»¥è®© c++ åœ¨è¿è¡Œæ—¶å»ç¡®å®šä¸€ä¸ªå¯¹è±¡çš„å®é™…ç±»å‹ï¼Œä»è€Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ dynamic_cast å»æ­£ç¡®åœ°è½¬æ¢ã€‚çœ‹åˆ°å¤§ä½¬ä»£ç ç”¨äº†è¿™ä¹ˆå¤šæŒ‡é’ˆçš„è½¬æ¢ï¼Œè¶Šæ¥è¶Šè§‰å¾—å®ƒæ˜¯ä¸ªå¾ˆè‡ªç”±çš„è¯­è¨€ï¼Œå®ƒåº”è¯¥æ˜¯é«˜çº§è¯­è¨€ä¸­æœ€æ¥è¿‘åº•å±‚ï¼Œæœ€å®¹æ˜“æ“ä½œå†…å­˜çš„è¯­è¨€äº†ï¼Œä¸è¿‡è¿™ä¹Ÿå¯¹ä½¿ç”¨è€…æœ‰è¾ƒé«˜çš„è¦æ±‚ï¼Œå­¦ä¹ ä¹‹è·¯æ¼«æ¼«å‘€ï½ ","date":"2023-03-11","objectID":"/%E7%BC%98%E8%B5%B7-rtti/:5:0","tags":["RTTI"],"title":"RTTI","uri":"/%E7%BC%98%E8%B5%B7-rtti/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:0:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾41 éšå¼æ¥å£å’Œç¼–è¯‘å™¨å¤šæ€ ä»€ä¹ˆæ˜¯æ˜¾å¼æ¥å£å’Œè¿è¡ŒæœŸå¤šæ€ åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸–ç•Œé‡Œæ€»æ˜¯ä»¥æ˜¾å¼æ¥å£å’Œè¿è¡ŒæœŸå¤šæ€è§£å†³é—®é¢˜ï¼Œä¸¾ä¸ªä¾‹å­ // æ— æ„ä¹‰çš„ç±» class Widget{ public: Widget(); virtual Widget(); virtual std::size_t size() const; virtual void normalize(); void swap(Widget\u0026 other); } // æ— æ„ä¹‰çš„å‡½æ•° void doProcessing(Widget\u0026 w){ if(w.size()\u003e10 \u0026\u0026 w!= somNastyWidget){ Widget temp(w); temp.normalize(); temp.swap(w); } } åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå¯çŸ¥ ç”±äºwçš„ç±»å‹è¢«å£°æ˜ä¸ºWidgetï¼Œæ‰€ä»¥wå¿…é¡»æ”¯æŒWidgetæ¥å£ã€‚æˆ‘ä»¬å¯ä»¥åœ¨æºç ä¸­æ‰¾å‡ºè¿™ä¸ªæ¥å£ï¼Œçœ‹çœ‹å®ƒæ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ‰€ä»¥æˆ‘ä»¬ç§°æ­¤ä¸ºä¸€ä¸ªæ˜¾å¼æ¥å£ï¼Œä¹Ÿå°±æ˜¯ä»–åœ¨æºç ä¸­æ˜ç¡®å¯è§ ç”±äºWidgetçš„æŸäº›æˆå‘˜æ˜¯ virtualï¼Œwå¯¹é‚£äº›å‡½æ•°çš„è°ƒç”¨å°†è¡¨ç°å‡ºè¿è¡Œæ—¶å¤šæ€ï¼Œä¹Ÿå°±æ˜¯è¯´å°†äºè¿è¡ŒæœŸæ ¹æ®wçš„åŠ¨æ€ç±»å‹ï¼ˆæ¡æ¬¾37ï¼‰å†³å®šç©¶ç«Ÿè°ƒç”¨å“ªä¸€ä¸ªå‡½æ•° TemplateåŠæ³›å‹ç¼–ç¨‹ TemplateåŠæ³›å‹ç¼–ç¨‹ä¸é¢å‘å¯¹è±¡æœ‰æ ¹æœ¬ä¸åŒã€‚implicit interface å’Œ compile-time polymorphismç§»åˆ°å‰å¤´ã€‚ è¿˜æ˜¯ç”¨ä¸Šä¸€ä¸ªä¾‹å­ï¼Œä¸€æ¢ç©¶ç«Ÿï¼Œæˆ‘ä»¬å°†doProcessingå‡½æ•°å˜æˆfunction templateæ—¶çœ‹çœ‹å‘ç”Ÿå’©äº‹ template\u003ctypename T\u003e void doProcessing\u003cT\u0026 w\u003e { if (w.size() \u003e 10 \u0026\u0026 w != someNastyWidget) { T temp(w); temp.normalize(); temp.swap(w); } } è¿™é‡Œçš„doProcessingå†…çš„çš„wæ˜¯å¦‚ä½•æ“ä½œçš„å‘¢ wå¿…é¡»æ”¯æŒçš„å“ªä¸€ç§æ¥å£ï¼Œç”±templateä¸­æ‰§è¡Œäºwèº«ä¸Šçš„æ“ä½œæ¥å†³å®š æœ¬ä¾‹wçš„ç±»å‹Tå¿…é¡»æ”¯æŒsizeï¼Œnormalizeå’Œswapæˆå‘˜å‡½æ•°ï¼Œcopyæ„é€ å‡½æ•°ã€ä¸ç­‰æ¯”è¾ƒ!=ï¼Œå¹¶éå®Œå…¨æ­£ç¡®ã€‚è¿™ä¸€ç»„è¡¨è¾¾å¼ä¾¿æ˜¯Tå¿…é¡»æ”¯æŒçš„ä¸€ç»„éšå¼æ¥å£ å‡¡è®¾è®¡wçš„ä»»ä½•å‡½æ•°è°ƒç”¨ï¼Œä¾‹å¦‚operator\u003eå’Œoperator!=ï¼Œæœ‰å¯èƒ½é€ æˆtemplateå…·ç°åŒ–ï¼Œæ˜¯è¿™äº›è°ƒç”¨å¾—ä»¥æˆåŠŸã€‚è¿™æ ·çš„å…·ç°è¡Œä¸ºå‘ç”Ÿåœ¨ç¼–è¯‘å™¨ã€‚â€œä»¥ä¸åŒçš„templateå‚æ•°å…·ç°åŒ–ä¼šå¯¼è‡´è°ƒç”¨ä¸åŒçš„å‡½æ•°ï¼Œè¿™ä¾¿æ˜¯æ‰€è°“çš„ç¼–è¯‘å™¨å¤šæ€â€ ç°åœ¨æˆ‘ä»¬å†æ¥ç»†çœ‹ä¸‹è¿°ä»£ç  template\u003ctypename T\u003e void doProcessing(T\u0026 w) { if (w.size() \u003e 10 \u0026\u0026 w != someNastyWidget) { ... } } T(wçš„type)çš„éšå¼æ¥å£çœ‹æ¥å¥½åƒæœ‰è¿™äº›çº¦æŸ å¿…é¡»æä¾›ä¸€ä¸ªåä¸ºsizeçš„æˆå‘˜å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´ä½“å€¼ å¿…é¡»æ”¯æŒä¸€ä¸ªoperator!=å‡½æ•°ï¼Œç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªTå¯¹è±¡ çœŸè¦æ„Ÿè°¢æ“ä½œç¬¦é‡è½½å¸¦æ¥çš„å¯èƒ½æ€§ï¼Œè¿™ä¸¤ä¸ªçº¦æŸéƒ½ä¸éœ€è¦æ»¡è¶³ æ˜¯çš„ï¼ŒTå¿…é¡»æ”¯æŒsizeæˆå‘˜å‡½æ•°ï¼Œç„¶è€Œè¿™ä¸ªå‡½æ•°ä¹Ÿå¯èƒ½ä»base classç»§æ‰¿è€Œå¾—ã€‚è¿™ä¸ªæˆå‘˜å‡½æ•°ä¸éœ€è¦è¿”å›ä¸€ä¸ªæ•´æ•°å€¼ï¼Œç”šè‡³ä¸éœ€è¦è¿”å›ä¸€ä¸ªæ•°å€¼ç±»å‹ã€‚å°±æ­¤è€Œè¨€ï¼Œä»–ç”šè‡³ä¸éœ€è¦è¿”å›ä¸€ä¸ªå®šä¹‰æœ‰operator\u003eçš„ç±»å‹ï¼Œä»–å”¯ä¸€éœ€è¦åšçš„å°±æ˜¯è¿”å›ä¸€ä¸ªç±»å‹ä¸ºxçš„å¯¹è±¡ï¼Œè€Œxå¯¹è±¡åŠ ä¸Šä¸€ä¸ªint(10çš„ç±»å‹)å¿…é¡»èƒ½å¤Ÿè°ƒç”¨ä¸€ä¸ªoperator\u003eã€‚è¿™ä¸ªoperator\u003eä¸éœ€è¦éå¾—å–å¾—ä¸€ä¸ªç±»å‹ä¸ºxçš„å‚æ•°ä¸å¯ï¼Œå› ä¸ºä»–å¯ä»¥å–å¾—ç±»å‹Yçš„å‚æ•°ï¼Œåªè¦å­˜åœ¨ä¸€ä¸ªéšå¼è½¬æ¢èƒ½å¤Ÿå°†ç±»å‹xè½¬æ¢ä¸ºç±»å‹yçš„å¯¹è±¡ åŠ è¯¸äºtemplateå‚æ•°èº«ä¸Šçš„éšå¼æ¥å£ï¼Œå°±åƒåŠ è¯¸äºclasså¯¹è±¡èº«ä¸Šçš„æ˜¾å¼æ¥å£ä¸€æ ·çœŸå®ï¼Œè€Œä¸”ä¸¤è€…éƒ½åœ¨ç¼–è¯‘æœŸå®Œæˆæ£€æŸ¥ã€‚å°±åƒä½ æ— æ³•ä»¥ä¸€ç§\"ä¸classæä¾›ä¹‹æ˜¾å¼æ¥å£æ¥å£çŸ›ç›¾\"çš„æ–¹å¼æ¥ä½¿ç”¨å¯¹è±¡ï¼ˆä»£ç æ— æ³•é€šè¿‡ç¼–è¯‘ï¼‰ï¼Œä½ ä¹Ÿæ— æ³•åœ¨templateä¸­ä½¿ç”¨\"ä¸æ”¯æŒtemplateæ‰€è¦æ±‚ä¹‹éšå¼æ¥å£\"çš„å¯¹è±¡ï¼ˆä»£ç ä¸€æ ·æ— æ³•é€šè¿‡ç¼–è¯‘ï¼‰ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:1:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"Summary classes å’Œ templateéƒ½æ”¯æŒæ¥å£å’Œå¤šæ€ å¯¹äºclassesè€Œè¨€æ¥å£æ˜¯æ˜¾å¼çš„ï¼Œä»¥å‡½æ•°ç­¾åä¸ºä¸­å¿ƒï¼Œå¤šæ€åˆ™æ˜¯é€šè¿‡virtual functionå‘ç”Ÿäºè¿è¡ŒæœŸ å¯¹templateå‚æ•°è€Œè¨€ï¼Œæ¥å£æ˜¯éšå¼çš„ï¼ŒåŸºäºæœ‰æ•ˆè¡¨è¾¾å¼ï¼Œå¤šæ€åˆ™æ˜¯é€šè¿‡templateå…·ç°åŒ–å’Œå‡½æ•°é‡è½½è§£æå‘ç”Ÿäºç¼–è¯‘æœŸ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:1:1","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾42 äº†è§£typename æˆ‘ä»¬çœ‹ä»¥ä¸‹ä»£ç  template\u003ctypename C\u003e void print2nd(const C\u0026 container) { if (container.size() \u003e= 2) { C::const_iterator iter(container.begin()); ... } } ç°åœ¨åº”è¯¥å¾ˆæ¸…æ¥šä¸ºä»€ä¹ˆè¿™ä¸æ˜¯æœ‰æ•ˆçš„c++ä»£ç äº†å§ã€‚iterå£°æ˜å¼åªæœ‰åœ¨C::const_iteratoræ˜¯ä¸ªç±»å‹æ—¶æ‰åˆç†ï¼Œä½†æˆ‘ä»¬å¹¶æ²¡æœ‰å‘Šè¯‰c++è¯´ä»–æ˜¯ï¼Œäºæ˜¯c++å‡è®¾ä»–ä¸æ˜¯ è‹¥è¦çŸ«æ­£è¿™ä¸ªï¼Œæˆ‘ä»¬å¿…é¡»å‘Šè¯‰c++è¯´C::const_iteratoræ˜¯ä¸ªç±»å‹ã€‚åªè¦ç´§ä¸´å®ƒä¹‹å‰æ”¾ç½®å…³é”®å­—typenameå³å¯ template\u003ctypename C\u003e void print2nd(const C\u0026 container) { if (container.size() \u003e= 2) { typename C::const_iterator iter(container.begin()); ... } } å†æ¬¡å¼ºè°ƒä¸€ä¸‹ï¼Œä»»ä½•æ—¶å€™å½“ä½ æƒ³è¦åœ¨templateä¸­æŒ‡ä¸€ä¸ªåµŒå¥—ä»å±ç±»å‹åç§°ï¼Œå°±å¿…é¡»åœ¨ç´§ä¸´å®ƒçš„å‰ä¸€ä¸ªä½ç½®æ”¾ä¸Šå…³é”®å­—typename typenameçŸ¥è¯†ç”¨æ¥è¨€æ˜åµŒå¥—ä»å±ç±»å‹åç§°ï¼Œå…¶ä»–åç§°ä¸è¯¥æœ‰ä»–çš„å­˜åœ¨ã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªfunction templateï¼Œæ¥æ”¶ä¸€ä¸ªå®¹å™¨å’Œä¸€ä¸ªæŒ‡å‘è¯¥å®¹å™¨çš„è¿­ä»£å™¨ template\u003ctypename C\u003e // å…è®¸ä½¿ç”¨ \"typename\" (æˆ– class) void f(const C\u0026 container, // ä¸å…è®¸ä½¿ç”¨ \"typename\" typename C::iterator iter); // ä¸€å®šè¦ä½¿ç”¨ typename ä¸Šè¿°çš„cå¹¶ä¸æ˜¯åµŒå¥—ä»å±ç±»å‹åç§°ï¼ˆä»–å¹¶éåµŒå¥—äºä»»ä½• å–å†³äºtemplateå‚æ•° çš„ä¸œè¥¿å†…ï¼‰ï¼Œæ‰€ä»¥å£°æ˜containeræ—¶å¹¶ä¸éœ€è¦ä»¥typenameä¸ºå‰å¯¼ï¼Œä½†C::iteratoræ˜¯ä¸ªåµŒå¥—ä»å±ç±»å‹åç§°ï¼Œæ‰€ä»¥å¿…é¡»ä»¥typenameä¸ºè¾…å¯¼ typenameå¿…é¡»ä½œä¸ºåµŒå¥—ä»å±ç±»å‹åç§°çš„å‰ç¼€è¯ï¼Œè¿™ä¸€è§„åˆ™çš„ä¾‹å¤–æ˜¯ï¼Œtypenameä¸å¯ä»¥å‡ºç°åœ¨ base classed listå†…çš„åµŒå¥—ä»å±ç±»å‹åç§°ä¹‹å‰ï¼Œä¹Ÿä¸å¯åœ¨ member initialization listï¼ˆæˆå‘˜åˆå§‹åˆ—ï¼‰ä¸­ä½œä¸º base class ä¿®é¥°ç¬¦ã€‚ä¾‹å¦‚ template\u003ctypename T\u003e class Derived : public Base\u003cT\u003e::Nested { // base class listä¸­ä¸å…è®¸ typename public: explicit Dervied(int x) : Base\u003cT\u003e::Nested(x) { // mem.init.listä¸­ ä¸å…è®¸ typename typename Base\u003cT\u003e::Nested temp; // ä¸å†ä¸Šè¿°çš„ä¸¤ä¸ªç‰¹æ®Šæƒ…å†µå†…ï¼Œä½œä¸ºä¸€ä¸ª base class ä¿®é¥°ç¬¦ éœ€åŠ ä¸Š typename } } ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:2:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"Summary å£°æ˜ template å‚æ•°æ—¶ï¼Œå‰ç¼€å…³é”®å­— class å’Œ typename å¯äº’æ¢ è¯·ä½¿ç”¨å…³é”®å­— typename æ ‡è¯†åµŒå¥—ä»å±ç±»å‹åç§°ï¼Œä½†ä¸å¾—åœ¨ åŸºç±»åˆ— æˆ–è€… æˆå‘˜åˆå§‹åˆ— å†…ä»¥ä»–ä½œä¸º base class ä¿®é¥°ç¬¦ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:2:1","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾43 è°ƒç”¨åŸºç±»æ¨¡æ¿æˆå‘˜ æ¨¡æ¿ä¸­ï¼Œæ´¾ç”Ÿç±»ä¸å¯è°ƒç”¨æ¨¡æ¿åŸºç±»çš„æˆå‘˜å‡½æ•° åœ¨æ¨¡æ¿ç±»ä¸­ï¼Œå¦‚æœä¸€ä¸ªæ´¾ç”Ÿç±»åœ¨å…¶æ–¹æ³•ä¸­è°ƒç”¨äº†åŸºç±»çš„æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™æ®µä»£ç å¯èƒ½æ— æ³•ç¼–è¯‘é€šè¿‡ å¤‡æ³¨ï¼ˆé‡ç‚¹ï¼‰ï¼š â€‹ è¿™ä¸€ç°è±¡æ˜¯ä¸ç¼–è¯‘å™¨æœ‰å…³çš„ï¼ŒEffective C++çš„ä½œè€…ç¼–è¯‘çš„æ—¶å€™å‡ºé”™ï¼Œæœ¬äººä½¿ç”¨VSç¼–è¯‘çš„æ—¶å€™æ²¡æœ‰å‡ºé”™ï¼Œå› æ­¤è¿™ä¸ªé—®é¢˜æ˜¯ä¸ç¼–è¯‘å™¨æœ‰å…³ å‡è®¾ç°åœ¨æœ‰è¿™æ ·ä¸€ä¸ªç±»ä½“ç³»ï¼š æˆ‘ä»¬æœ‰è‹¥å¹²å…¬å¸ç±»ï¼Œå…¶åŒ…å«ä¸¤ä¸ªæˆå‘˜å‡½æ•°å¯ä»¥ç”¨æ¥å°†ä¿¡æ¯å‘é€åˆ°å…¬å¸ï¼ˆä¸€ä¸ªä¸ºå‘é€åŠ å¯†ä¿¡æ¯ï¼Œä¸€ä¸ªä¸ºå‘é€ä¸åŠ å¯†ä¿¡æ¯ï¼‰ æœ‰ä¸€ä¸ªMsgSenderç±»ï¼Œå…¶ä¸­æœ‰ä¸¤ä¸ªæˆå‘˜å‡½æ•°ï¼Œå‡½æ•°ä¸­å¯ä»¥å®šä¹‰è‹¥å¹²å…¬å¸ï¼Œç„¶åè°ƒç”¨å…¬å¸çš„æˆå‘˜æ–¹æ³•å‘å…¬å¸å‘é€ä¿¡æ¯ æœ‰ä¸€ä¸ªMsgInfoç±»ï¼Œç”¨æ¥å°è£…æ¶ˆæ¯ï¼ˆè¿™ä¸ªç±»ä¸é‡è¦ï¼‰ //å…¬å¸ç±» class CompanyA { public: void sendCleartext(const std::string\u0026 msg); //å‘å…¬å¸å‘é€æœªåŠ å¯†ä¿¡æ¯ void sendEncrypted(const std::string\u0026 msg); //å‘å…¬å¸å‘é€åŠ å¯†ä¿¡æ¯ }; class MsgInfo {}; //å°è£…ä¿¡æ¯çš„ç±» //å‘é€ä¿¡æ¯ç±» template\u003ctypename Company\u003e class MsgSender { public: //åœ¨å…¶ä¸­å®šä¹‰å…¬å¸Aï¼Œå¹¶è°ƒç”¨å…¬å¸Açš„sendCleartext()å‡½æ•°å‘å…¬å¸Aå‘é€ä¿¡æ¯ void sendClear(const MsgInfo\u0026 info) { std::string msg; CompanyA a; a.sendCleartext(msg); } //åŒä¸Šï¼Œåªæ˜¯å‘é€åŠ å¯†ä¿¡æ¯ void sendSecret(const MsgInfo\u0026 info) { std::string msg; CompanyA a; a.sendEncrypted(msg); } }; ç°åœ¨æˆ‘ä»¬ä¸ºMsgSenderç±»æ·»åŠ äº†ä¸€ä¸ªæ´¾ç”Ÿç±»ï¼Œæˆ‘ä»¬å¸Œæœ›æ¯æ¬¡åœ¨å‘é€ä¿¡æ¯çš„æ—¶å€™è®°å½•ä¸€ä¸‹æ—¥å¿—ã€‚å› æ­¤å®šä¹‰å¦‚ä¸‹ï¼š template\u003ctypename Company\u003e class LoggingMsgSender:public MsgSender\u003cCompany\u003e{ public: void sendClearMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— sendClear(info); //è°ƒç”¨åŸºç±»çš„æ–¹æ³•å‘é€æ¶ˆæ¯ï¼Œè¿™æ®µä»£ç å¯èƒ½æ— æ³•ç¼–è¯‘é€šè¿‡ //è®°å½•ä¸€ä¸‹æ—¥å¿— } void sendSecretMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— sendSecret(msg); //è°ƒç”¨åŸºç±»çš„æ–¹æ³•å‘é€æ¶ˆæ¯ï¼Œè¿™æ®µä»£ç å¯èƒ½æ— æ³•ç¼–è¯‘é€šè¿‡ //è®°å½•ä¸€ä¸‹æ—¥å¿— } }; ä¸Šé¢ä»£ç å¯¹äºæŸäº›ç¼–è¯‘å™¨ä¼šå‡ºé”™çš„åŸå› åœ¨äºï¼š ç¼–è¯‘æœŸå‡ºé”™ï¼šå½“ç±»é‡åˆ°LoggingMsgSenderç±»æ¨¡æ¿å®šä¹‰å¼æ—¶ï¼Œå…¶å¹¶ä¸çŸ¥é“LoggingMsgSenderç»§æ‰¿çš„classå±äºä»€ä¹ˆç±»å‹ï¼Œå› ä¸ºè¿˜æ²¡æœ‰å…·ä½“è¢«å®ä¾‹åŒ– å› æ­¤åœ¨ç¼–è¯‘åˆ°LoggingMsgSenderçš„æˆå‘˜å‡½æ•°æ—¶ï¼Œå…¶å¹¶ä¸çŸ¥é“å…¶åŸºç±»æ˜¯å¦æœ‰ä¸€ä¸ªsendClear()å‡½æ•°* è§£å†³ä¸Šé¢é”™è¯¯çš„3ç§æ–¹æ³• ä½¿ç”¨thisæŒ‡é’ˆï¼šä½¿ç”¨thisæŒ‡é’ˆè°ƒç”¨è¿™äº›å‡½æ•°ï¼Œå®ç°å…ˆå‘Šè¯‰ç¼–è¯‘å™¨è¿™äº›å‡½æ•°æ˜¯å±äºè‡ªèº«ç±»çš„ï¼ˆåœ¨ç¼–è¯‘ä¹‹åå®ƒä»¬ä¼šä»åŸºç±»ä¸­ç»§æ‰¿è€Œæ¥ï¼‰ template\u003ctypename Company\u003e class LoggingMsgSender:public MsgSender\u003cCompany\u003e{ public: void sendClearMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— this-\u003esendClear(info); //è®°å½•ä¸€ä¸‹æ—¥å¿— } void sendSecretMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— this-\u003esendSecret(info); //è®°å½•ä¸€ä¸‹æ—¥å¿— } }; ä½¿ç”¨usingå£°æ˜å¼ æ³¨æ„è¿™ç§usingå£°æ˜å¼ä¸éæ¨¡æ¿ç±»çš„ä¸åŒ åœ¨éæ¨¡æ¿ç±»ä¸­ï¼Œä½¿ç”¨usingæ˜¯ä¸ºäº†é˜²æ­¢æ´¾ç”Ÿç±»éšè—ç»§æ‰¿çš„æ–¹æ³•ï¼Œè€Œä½¿åŸºç±»ä¸­çš„æ–¹æ³•åœ¨æ´¾ç”Ÿç±»ä¸­å¯è§ åœ¨æ¨¡æ¿ç±»ä¸­ï¼Œä½¿ç”¨usingæ˜¯ä¸ºäº†è®©ç¼–è¯‘å™¨å»åŸºç±»ä¸­æŸ¥æ‰¾è¿™ä¸ªå‡½æ•° template\u003ctypename Company\u003e class LoggingMsgSender:public MsgSender\u003cCompany\u003e{ public: using MsgSender\u003cCompany\u003e::sendClearMsg; using MsgSender\u003cCompany\u003e::sendSecretMsg; void sendClearMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— sendClear(info); //è®°å½•ä¸€ä¸‹æ—¥å¿— } void sendSecretMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— sendSecret(info); //è®°å½•ä¸€ä¸‹æ—¥å¿— } }; æ˜ç¡®æŒ‡å‡ºè¢«è°ƒç”¨çš„å‡½æ•°ä½äºbase classä¸­ è¿™ç§æ–¹æ³•ä¸å¤ªå»ºè®®ï¼Œå› ä¸ºï¼šè¢«è°ƒç”¨çš„å‡½æ•°å¯èƒ½æ˜¯virtualå‡½æ•°ï¼Œè¿™ç§ä¿®é¥°ç¬¦ä¼šå…³é—­â€œvirtualç»‘å®šè¡Œä¸ºâ€ template\u003ctypename Company\u003e class LoggingMsgSender:public MsgSender\u003cCompany\u003e{ public: void sendClearMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— sgSender\u003cCompany\u003e::sendClear(info); //è®°å½•ä¸€ä¸‹æ—¥å¿— } void sendSecretMsg(const MsgInfo\u0026 info) { //è®°å½•ä¸€ä¸‹æ—¥å¿— sgSender\u003cCompany\u003e::sendSecret(info); //è®°å½•ä¸€ä¸‹æ—¥å¿— } }; ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:3:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"Summary å½“ä¸€ä¸ªç±»çš„åŸºç±»åŒ…å«æ¨¡æ¿å‚æ•°æ—¶ï¼Œéœ€è¦é€šè¿‡this-\u003eçš„æ–¹å¼è°ƒç”¨åŸºç±»å†…çš„å‡½æ•°ï¼Œä¾‹å¦‚ class F: public S\u003cC\u003eï¼Œåœ¨Fä¸­çš„æˆå‘˜å‡½æ•°ä¸­è°ƒç”¨Sä¸­çš„æˆå‘˜å‡½æ•°this-\u003etest()ï¼Œè€Œç›´æ¥å†™test()æ— æ³•é€šè¿‡ç¼–è¯‘ï¼ŒåŸå› æ˜¯å› ä¸ºCæ˜¯ä¸ªæ¨¡æ¿æ²¡æœ‰åŠæ³•ç¡®å®šç±»Sçš„å…·ä½“é•¿ç›¸ï¼Œæˆ–è€…è¯´æ— æ³•ç¡®å®šSä¸­ä¸€å®šæœ‰testå‡½æ•°ï¼Œå³ä½¿ä½ å†™çš„æ‰€æœ‰Céƒ½åŒ…å«testå‡½æ•°ï¼Œä½†æ˜¯åœ¨ç¼–è¯‘å™¨çœ‹æ¥å®ƒæ˜¯ä¸ç¡®å®šè¿™ä¸ªé—®é¢˜çš„ï¼Œå› æ­¤æ— æ³•é€šè¿‡ç¼–è¯‘ è§£å†³åŠæ³•æ˜¯ï¼š ä½¿ç”¨this-\u003etestï¼Œè¿™æ ·åšå‘Šè¯‰ç¼–è¯‘å™¨å‡è®¾è¿™ä¸ªtestå·²ç»è¢«ç»§æ‰¿äº† ä½¿ç”¨usingå£°æ˜å¼ï¼šusing S\u003cC\u003e::testå‘Šè¯‰ç¼–è¯‘æœŸè¿™ä¸ªtestä½äºSå†…ã€‚ç›¸å½“äºå¿…é¡»æ‰‹åŠ¨é€šçŸ¥ç¼–è¯‘å™¨è¿™ä¸ªå‡½æ•°æ˜¯å­˜åœ¨çš„ ç›´æ¥æŒ‡æ˜ ä½†æ˜¯ä¸æ¨è å› ä¸ºä¸§å¤±å¤šæ€ç‰¹æ€§ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:3:1","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾44 å°†ä¸å‚æ•°æ— å…³çš„ä»£ç æŠ½ç¦»template Templatesèƒ½å¤ŸèŠ‚çœæ—¶é—´å’Œé¿å…ä»£ç åå¤ã€‚å¯¹äºç›¸ä¼¼çš„classesæˆ–functionsã€‚èƒ½å¤Ÿå†™ä¸€ä¸ªclass templateæˆ–function templateï¼Œè®©ç¼–è¯‘å™¨æ¥åšå‰©ä½™çš„äº‹ã€‚è¿™æ ·åšï¼Œæœ‰æ—¶å€™ä¼šå¯¼è‡´ä»£ç è†¨èƒ€ï¼ˆcode bloatï¼‰ï¼šå…¶äºŒè¿›åˆ¶ç å¸¦ç€åå¤ï¼ˆæˆ–å·®ç‚¹å„¿åå¤ï¼‰çš„ä»£ç ã€æ•°æ®ã€‚æˆ–è€…ä¸¤è€…ã€‚ ä½†è¿™æ—¶å€™æºä»£ç çœ‹èµ·æ¥å¯èƒ½éå¸¸æ•´é½ã€‚ å…ˆæ¥å­¦ä¹ ä¸€ä¸ªåè¯ï¼šå…±æ€§ä¸å˜æ€§åˆ†æï¼ˆcommonality and variability analysisï¼‰ã€‚ è¿˜æ˜¯æ¯”è¾ƒå®¹æ˜“ç†è§£çš„ã€‚æ¯”å¦‚ï¼Œä½ åœ¨ç¼–å†™å‡ ä¸ªå‡½æ•°ï¼Œä¼šç”¨åˆ°åŒæ ·ä½œç”¨çš„ä»£ç ã€‚è¿™æ—¶å€™ä½ å¾€å¾€å°†åŒæ ·ä»£ç æ¬åˆ°ä¸€ä¸ªæ–°å‡½æ•°ä¸­ã€‚ç»™å…¶å®ƒå‡ ä¸ªå‡½æ•°è°ƒç”¨ã€‚åŒç†ï¼Œå‡è®¾ç¼–å†™æŸä¸ªclassã€‚å½“ä¸­æŸäº›éƒ¨åˆ†å’Œå¦å¤–å‡ ä¸ªclassåŒæ ·ï¼Œè¿™æ—¶å€™ä½ ä¸ä¼šåå¤ç¼–å†™è¿™äº›åŒæ ·éƒ¨åˆ†ï¼Œä»…ä»…éœ€æŠŠå…±åŒéƒ¨åˆ†æ¬åˆ°æ–°classä¸­å»å°±å¯ä»¥ï¼Œå»ä½¿ç”¨ç»§æ‰¿æˆ–å¤åˆï¼ˆItem32 Item38 Item39ï¼‰ï¼Œè®©åŸå…ˆçš„classeså–ç”¨è¿™äº›å…±åŒç‰¹æ€§ï¼ŒåŸclassesçš„äº’å¼‚éƒ¨åˆ†ï¼ˆå˜å¼‚éƒ¨åˆ†ï¼‰ä»ç„¶ç•™åœ¨åŸä½ç½®ä¸åŠ¨ã€‚ ç¼–å†™templatesæ—¶ï¼Œä¹Ÿè¦åšåŒæ ·åˆ†æï¼Œé¿å…åå¤ã€‚non-templateä»£ç ä¸­åå¤ååˆ†æ˜ç™½ï¼šä½ èƒ½å¤Ÿçœ‹åˆ°ä¸¤ä¸ªå‡½æ•°æˆ–classesä¹‹é—´æœ‰æ‰€åå¤ã€‚å¯æ˜¯åœ¨templateä»£ç ä¸­ï¼Œåå¤æ˜¯éšæ™¦çš„ã€‚ç”±äºä»…ä»…æœ‰ä¸€ä»½templateæºä»£ç ã€‚ æ¯”å¦‚ã€‚ä½ æ‰“ç®—åœ¨ä¸ºå°ºå¯¸å›ºå®šçš„æ­£æ–¹çŸ©é˜µç¼–å†™ä¸€ä¸ªtemplateï¼Œè¯¥çŸ©é˜µæœ‰ä¸ªæ”¯æŒé€†çŸ©é˜µè¿ç®—çš„å‡½æ•° template\u003ctypename T, std::size_t n\u003e // Tä¸ºæ•°æ®ç±»å‹ã€‚nä¸ºçŸ©é˜µå¤§å° class SquareMatrix{ public: â€¦â€¦ void invert();// æ±‚é€†è¿ç®— }; SquareMatrix\u003cdouble,5\u003e sm1; sm1.invert(); // è°ƒç”¨SquareMatrix\u003cdouble,5\u003e::invert SquareMatrix\u003cdouble,10\u003e sm2; sm2.invert(); // è°ƒç”¨SquareMatrix\u003cdouble,10\u003e::invert ä¸Šé¢ä¼šè¯¦ç»†åŒ–ä¸¤ä»½invertã€‚ è¿™ä¸¤ä»½å‡½æ•°å·®ç‚¹å„¿å…¨ç„¶åŒæ ·ï¼ˆé™¤äº†ä¸€ä¸ªæ“ä½œ55çŸ©é˜µã€‚ä¸€ä¸ªæ“ä½œ1010ï¼‰ã€‚è¿™å°±æ˜¯ä»£ç è†¨èƒ€çš„ä¸€ä¸ªå…¸å‹æ ·ä¾‹ã€‚ ä¸Šé¢ä¸¤ä¸ªå‡½æ•°é™¤äº†æ“ä½œçŸ©é˜µå¤§å°ä¸åŒå¤–ã€‚å…¶å®ƒåŒæ ·ã€‚è¿™æ—¶èƒ½å¤Ÿä¸ºå…¶å»ºç«‹ä¸€ä¸ªå¸¦æ•°å€¼çš„å‡½æ•°ï¼Œè€Œä¸æ˜¯åå¤ä»£ç ã€‚äºæ˜¯æœ‰äº†å¯¹SquareMatrixçš„ç¬¬ä¸€ä»½æ”¹åŠ¨ template\u003ctypename T\u003e class SquareMatrixBase{ protected: void invert(std::size_t matrixSize); â€¦â€¦ }; template\u003ctypename T, std::size_t n\u003e class SquareMatrix : private SquareMatrixBase\u003cT\u003e{ private: using SquareMatrixBase\u003cT\u003e::invert(); // ç¼–ç é®æ©baseä¸­çš„invertï¼Œæ¡æ¬¾33æœ‰è¯´åˆ° public: â€¦â€¦ void invert() { // æ±‚é€†è¿ç®— this-\u003einvsert(n); // ç¨åè§£é‡Šä¸ºä»€ä¹ˆç”¨this } }; SquareMatrixBase::invertä»…ä»…æ˜¯ä¼å›¾é¿å…derived classesä»£ç åå¤ï¼Œæ‰€ä»¥å®ƒä»¥protectedæ›¿æ¢publicã€‚è¿™ä¸ªå‡½æ•°ä½¿ç”¨this-\u003eï¼Œç”±äºæ¨¡æ¿åŒ–åŸºç±»å†…çš„å‡½æ•°åç§°ä¼šè¢«derived classesæ©ç›–ï¼ˆæ¡æ¬¾43ï¼‰ æ³¨æ„ï¼ŒSquareMatrixBaseå’ŒSquareMatrixä¹‹é—´ç»§æ‰¿å…³ç³»æ˜¯privateã€‚è¿™è¯´æ˜base classæ˜¯ä¸ºäº†å¸®åŠ©derived classeså®ç°ï¼Œä¸¤è€…ä¸æ˜¯is-aå…³ç³» å¦‚ä»Šå¦ä¸€ä¸ªé—®é¢˜ï¼ŒSquareMatrixBase::invertæ“ä½œçš„æ•°æ®åœ¨å“ªï¼Ÿå®ƒåœ¨åƒæ•°ä¸­ç›´åˆ°çŸ©é˜µå¤§å°ï¼Œå¯æ˜¯çŸ©é˜µæ•°æ®derived classæ‰çŸ¥é“ã€‚derived classå’Œbase classæ€æ ·è”ç»œï¼Ÿä¸€ä¸ªåšæ³•æ˜¯èƒ½å¤Ÿä¸ºSquareMatrixBase::invertåŠ å…¥ä¸€ä¸ªåƒæ•°ï¼ˆæ¯”å¦‚ä¸€ä¸ªæŒ‡é’ˆï¼‰ã€‚ è¿™ä¸ªè¡Œå¾—é€šï¼Œå¯æ˜¯è€ƒè™‘åˆ°å…¶å®ƒå› ç´ ï¼ˆæ¯”å¦‚ï¼ŒSquareMatrixBaseå†…è¿˜æœ‰å…¶å®ƒå‡½æ•°ã€‚ä¹Ÿè¦æ“ä½œè¿™äº›æ•°æ®ï¼‰ï¼Œèƒ½å¤ŸæŠŠè¿™ä¸ªæŒ‡é’ˆåŠ å…¥åˆ°SquareMatrixBaseç±»ä¸­ template\u003ctypename T\u003e class SquareMatrixBase{ protected: SquareMatirxBase(std::size_t n, T* pMem) : size(n), pData(pMem) { } void setDataPtr(T* ptr) { pData=ptr; } â€¦â€¦ private: std::size_t size; T* pData; }; template\u003ctypename T, std::size_t n\u003e class SquareMatrix : private SquareMatrixBase\u003cT\u003e{ public: SquareMatrix() : SquareMatrixBase\u003cT\u003e(n, data) { } â€¦â€¦ private: T data[n*n]; }; è¿™æ ·çš„ç±»å‹çš„å¯¹è±¡ä¸é¡»è¦åŠ¨æ€åˆ†é…å†…å­˜ã€‚å¯æ˜¯å¯¹è±¡è‡ªèº«å¯èƒ½éå¸¸å¤§ã€‚å¦ä¸€ä¸ªåšæ³•æ˜¯æŠŠçŸ©é˜µæ•°æ®æ”¾åˆ°heap template\u003ctypename T, std::size_t n\u003e class SquareMatrix : private SquareMatrixBase\u003cT\u003e{ public: SquareMatrix() : SquareMatrixBase\u003cT\u003e (n, 0), pData(new T[n*n]) { this-\u003esetDataPtr(pData.get()); } â€¦â€¦ private: boost::scoped_array\u003cT\u003e pData; }; è¿™æ ·ä»¥æ¥ã€‚ç±»å‹åŒæ ·çš„derived classesä¼šå…±äº«base classã€‚æ¯”å¦‚ã€‚SquareMatrix ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:4:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"Summary åŸå› æ˜¯æ¨¡æ¿ä¼šæ ¹æ®å…·ä½“ç±»å‹å…·è±¡åŒ–ä¸åŒçš„ä»£ç ï¼Œå¦‚æœå°†ä¸æ¨¡æ¿æ— å…³çš„ä»£ç ä¹Ÿæ”¾å…¥æ¨¡æ¿å‡½æ•°æˆ–è€…ç±»ä¸­ï¼Œé‚£ä¹ˆå°±ä¼šç”Ÿæˆé‡å¤çš„ä»£ç ï¼Œå°±ä¼šå¯¼è‡´ä»£ç è†¨èƒ€çš„é—®é¢˜ï¼Œå‡½æ•°æ¨¡æ¿ä¸­ä¸å‚æ•°æ— å…³çš„ä»£ç å¯ä»¥åŒ…è£…æˆå•ç‹¬çš„å‡½æ•°ã€‚ç±»æ¨¡æ¿ä¸­ä¸å‚æ•°æ— å…³çš„æ¨¡æ¿å¯ä»¥æ”¾åˆ°çˆ¶ç±»ä¸­ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:4:1","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾45 è¿ç”¨æˆå‘˜å‡½æ•°æ¨¡æ¿æ¥å—å…¨éƒ¨å…¼å®¹ç±»å‹ éšå¼è½¬åŒ–ï¼ˆå‰è¨€ï¼‰ è¯¥æ¡æ¬¾ä½œè€…é˜è¿°è‡ªå·±çš„è§‚ç‚¹æ˜¯é€šè¿‡æ™ºèƒ½æŒ‡é’ˆçš„æ ·ä¾‹ æ‰€ä»¥æˆ‘ä»¬å¤ä¹ ä¸€ä¸‹éšå¼è½¬åŒ–çš„é—®é¢˜ï¼Œä¾‹å¦‚ä»¥ä¸‹ä»£ç  #include\u003ciostream\u003e using namespace std; class A { public: explicit A(int i) : a(i) {}; A(const A\u0026 obj) : a(obj.a) {} private: int a; }; int main() { int value =0; A a = value; // ç¼–è¯‘ä¸é€šè¿‡ã€‚ç”±äºæ„é€ å‡½æ•°ä¸­æœ‰explicité™å®šç¬¦ return 0; } *æˆ‘ä»¬çŸ¥é“ç”±äºexplicité™å®šç¬¦çš„å­˜åœ¨ç¼–è¯‘ä¸é€šè¿‡* 2. *é—®é¢˜æŠ›å‡º* *æ—¢ç„¶å¤ä¹ å®Œäº†ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹ä¹¦ä¸Šå¦ä¸€æ®µä»£ç * ```cpp template\u003ctypename T\u003e class SmartPtr { public: explicit SmartPtr(T* realPtr); ... }; SmartPtr\u003cTop\u003e pt1 = SmartPtr\u003cMiddle\u003e(new Middle); SmartPrt\u003cTop\u003e pt2 = SmartPrt\u003cBottom\u003e(new Bottom); SmartPrt\u003cconst Top\u003e pt2=pt1; æˆ‘ä»¬èƒ½å¤ŸçŸ¥é“ï¼Œç”±äºSmartPtr\u003cTop\u003eç±»å‹å’ŒSmartPtr\u003cMiddle\u003eç±»å‹ä¸åŒï¼Œå†åŠ ä¸Šexplicit SmartPtr\u003cMiddle\u003eä¸­çš„explicité™å®šç¬¦ï¼ŒSmartPtr\u003cTop\u003e pt1=SmartPtr\u003cMiddle\u003e(new Middle);è¿™å¥ä»£ç ç¼–è¯‘ä¸é€šè¿‡ã€‚ å¹¶ä¸”ç¼–è¯‘å™¨å¹¶ä¸è§‰å¾—SmartPtr\u003cTop\u003eç±»å‹å’ŒSmartPtr\u003cMiddle\u003eç±»å‹å­˜åœ¨ç»§æ‰¿å…³ç³» ä¸ºäº†èƒ½å¤Ÿå®ç°ç›¸äº’è½¬åŒ–ã€‚èƒ½å¤ŸåŠ å…¥æœ¬èŠ‚çš„ä¸»æ—¨æŠ€æœ¯å»è§£å†³ä¸Šé¢å‡ºç°çš„é—®é¢˜ è§£å†³æ–¹æ³• template\u003ctypaname T\u003e class SmartPtr{ public: template\u003ctypename U\u003e SmartPrt(const SmartPrt\u003cU\u003e\u0026 other) : heldPrt(other.get()) { }; T* get() const{ return heldPrt; } â€¦â€¦ private: T* heldPrt; }; SmartPtr\u003cTop\u003e pt1 = SmartPtr\u003cMiddle\u003e(new Middle); SmartPrt\u003cTop\u003e pt2 = SmartPrt\u003cBottom\u003e(new Bottom); SmartPrt\u003cconst Top\u003e pct2 = pt1; æˆ‘ä»¬åŠ å…¥äº†ä¸€ä¸ªmember function templateå‡½æ•°ã€‚ç”±äºtypename Tå’Œtypename U æ˜¯ä¸¤ç§ç±»å‹ï¼Œå¹¶ä¸”æ„é€ å‡½æ•°ä¸­æ²¡æœ‰explicitå…³é”®å­—ï¼Œä¸ä¼šé˜»æ­¢heldPrt(other.get())çš„éšå¼è½¬æ¢ æ‰€ä»¥ï¼Œä»¥ä¸Šä»£ç èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ TR1è§„èŒƒä¸­å…³äºtr1::shared_ptrçš„ä¸€ä»½æ‘˜å½• template\u003cclass T\u003e class shared_ptr{ public: template\u003cclass Y\u003e explicit shared_ptr(Y* p); template\u003cclass Y\u003e shared_ptr(shared_ptr\u003cY\u003e const\u0026 r); template\u003cclass Y\u003e explicit shared_ptr(weak_ptr\u003cY\u003e const\u0026 r); template\u003cclass Y\u003e explicit shared_ptr(auto_ptr\u003cY\u003e const\u0026 r); template\u003cclass Y\u003e shared_ptr\u0026 operator=(shared_ptr\u003cY\u003e const\u0026 r); template\u003cclass Y\u003e shared_ptr\u0026 operator=(auto_ptr\u003cY\u003e const\u0026 r); â€¦â€¦ }; æˆ‘ä»¬èƒ½å¤Ÿå‘ç°ä¸Šé¢ä»…ä»…æœ‰æ³›åŒ–copyæ„é€ å‡½æ•°ä¸æ˜¯explicitï¼Œè¡¨ç¤ºshared_ptr çš„éšå¼è½¬åŒ–è¢«åŒæ„ï¼Œè€Œå…¶å®ƒçš„æ™ºèƒ½æŒ‡é’ˆè½¬åŒ–ä¸è¢«åŒæ„ è¿™é‡Œå¦ä¸€ä¸ªé¡»è¦æ³¨æ„çš„åœ°æ–¹ï¼Œåœ¨classç±»å£°æ˜æ³›åŒ–copyæ„é€ å‡½æ•°ï¼ˆmember templateï¼‰ã€‚å¹¶ä¸ä¼šé˜»æ­¢ç¼–è¯‘å™¨ç”Ÿæˆå®ƒä»¬è‡ªå·±çš„copyæ„é€ å‡½æ•°ï¼ˆnon-templateï¼‰ï¼Œæ¢è¨€ä¹‹ã€‚å‡è®¾ç¨‹åºä¸­ä»…ä»…å†™äº†æ³›åŒ–çš„copyæ„é€ å‡½æ•°ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨è¿˜æ˜¯ä¼šè‡ªå·±ä¸»åŠ¨ç”Ÿæˆä¸€ä¸ªéæ³›åŒ–çš„ç‰ˆæœ¬å·å‡ºæ¥ï¼Œå‡è®¾ä¸æƒ³è¦è¿™ä¸ªç¼ºçœç‰ˆæœ¬å·ï¼Œé‚£ä¸€å®šä¸èƒ½å·æ‡’ã€‚è¦ä¸¤ä¸ªç‰ˆæœ¬å·çš„copyæ„é€ å‡½æ•°éƒ½è¦å†™ template\u003ctypaname T\u003e class SmartPtr{ public: template\u003ctypename U\u003e SmartPrt(const SmartPrt\u003cU\u003e\u0026 other) : heldPrt(other.get()) {}; SmartPtr() {} // å‡è®¾ä¸å†™è‡ªå·±çš„éæ³›åŒ–æ„é€ å‡½æ•°ï¼Œç¼–è¯‘å™¨ä¼šè‡ªå·±ä¸»åŠ¨ç”Ÿæˆè‡ªå·±çš„é»˜è®¤éæ³›åŒ–æ„é€ å‡½æ•°ã€‚ T* get() const{ return heldPrt; } â€¦â€¦ private: T* heldPrt; }; ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:5:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"Summary è¯·ä½¿ç”¨member function templatesï¼ˆæˆå‘˜å‡½æ•°æ¨¡æ¿ï¼‰ç”Ÿæˆâ€œå¯æ¥å—å…¨éƒ¨å…¼å®¹ç±»å‹â€çš„å‡½æ•° å‡è®¾ä½ å£°æ˜member templatesç”¨äºâ€œæ³›åŒ–copyæ„é€ â€æˆ–â€œæ³›åŒ–assignmentæ“ä½œâ€ï¼Œä½ è¿˜æ˜¯é¡»è¦å£°æ˜æ­£å¸¸çš„copyæ„é€ å‡½æ•°å’Œcopy assignmentæ“ä½œç¬¦ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:5:1","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾46 éœ€è¦ç±»å‹è½¬æ¢æ—¶è¯·ä¸ºæ¨¡æ¿å®šä¹‰éæˆå‘˜å‡½æ•° è¿™ä¸ªæ¡æ¬¾æ˜¯åœ¨ã€ŠItem24ã€‹çš„åŸºç¡€ä¸Šï¼Œè®²è¿°æœ‰å…³éæˆå‘˜å‡½æ•°åœ¨æ¨¡æ¿ç±»ä¸­çš„ä½œç”¨ï¼Œæ‰€ä»¥å¿˜äº†çš„è¦å»å¤ä¹ ä¸‹ æƒ³è¦åœ¨templateå®ç°Item24çš„åŠŸèƒ½ï¼Œè¿˜å¾—è€ƒè™‘å…¶ä»–é—®é¢˜ template\u003ctypename T\u003e class Rational{ public: Rational(const T\u0026 numerator=0,const T\u0026 denominator=1); const T numerator() const; const T denominator() const; â€¦â€¦ }; template\u003ctypename T\u003e const Rational\u003cT\u003e operator*(const Rational\u003cT\u003e\u0026 lhs,const Rational\u003cT\u003e\u0026 rhs) { â€¦â€¦ }; Rational\u003cint\u003e oneHalf(1,2); Rational\u003cint\u003e result = oneHalf*2; // é”™è¯¯ æ— æ³•é€šè¿‡ç¼–è¯‘ å¤§å®¶æ€è€ƒä¸€ä¸‹ä¸ºä»€ä¹ˆoneHalf*2è¿™å¥è¯ä¸èƒ½é€šè¿‡ç¼–è¯‘ äº‹å®ä¸Šï¼Œoperatoræ¨¡æ¿å‡½æ•°ä¸­åƒæ•°æœ‰ä¸¤ä¸ªï¼Œæ‰€ä»¥å®ƒä¼šåˆ†åˆ«å¯¹è¿™ä¸¤ä¸ªå‚æ•°è¿›è¡ŒåŒ¹é…æ¥ç¡®å®šå‡½æ•°æ¨¡æ¿ç±»å‹ï¼Œè¯•æƒ³ä¸€ä¸‹ï¼Œå‡½æ•°æ¨¡æ¿åœ¨æ²¡æœ‰å®ä¾‹åŒ–ä¹‹å‰æ˜¯ä¸å­˜åœ¨çš„ï¼Œä¸å­˜åœ¨çš„å‡½æ•°æ€ä¹ˆä¼šå®ç°åƒæ•°çš„éšå¼è½¬æ¢ï¼Ÿæˆ‘ä»¬æ¥åˆ¤æ–­ä¸€èˆ¬æ¨¡æ¿å‡½æ•°çš„è¿è¡Œè¿‡ç¨‹ã€‚é¦–å…ˆï¼Œæ¨¡æ¿å‡½æ•°é€šè¿‡è‡ªèº«åƒæ•°å®ä¾‹åŒ–ï¼Œå®ä¾‹åŒ–ä¹‹åæ‰ä¼šè¢«è°ƒç”¨è¿è¡Œã€‚ç„¶è€Œã€‚å¯¹äºæœ¬ä¾‹æ¥è¯´ï¼Œä¸¤ä¸ªåƒæ•°çš„ç±»å‹ä¸€ä¸ªæ˜¯Rational\u003cint\u003eï¼Œè¿˜æœ‰ä¸€ä¸ªæ˜¯2ï¼Œåœ¨ç¼–è¯‘æœŸé—´å‰è€…èƒ½å¤Ÿè¢«åˆ¤æ–­å‡ºæ¥ç±»å‹æ˜¯intçš„rationalï¼Œåè€…å´åˆ¤æ–­ä¸å‡ºæ¥ã€‚ç”±äºåœ¨templateå®åƒæ¨å¯¼è¿‡ç¨‹ä¸­ä»ä¸å°†éšå¼ç±»å‹è½¬æ¢è€ƒè™‘åœ¨å†… ä¸ºäº†èƒ½è®©ç¼–è¯‘é€šè¿‡ï¼Œæˆ‘ä»¬èƒ½å¤Ÿè¿›è¡Œä¾‹å¦‚ä»¥ä¸‹æ”¹å˜ template\u003ctypename T\u003e class Rational { public: â€¦â€¦ friend const Rational operator*(const Rational\u0026 lhs,const Rational\u0026 rhs); { return Rationalï¼ˆlhs.numerator()*rhs.numerator(),lhs.denominator()*rhs.denominator()); } }; å°†operatorå˜æˆRationalç±»çš„å‹å…ƒå‡½æ•°ã€‚è¿™æ ·åœ¨å®šä¹‰ä¸€ä¸ªRational\u003cint\u003eå¯¹è±¡çš„æ—¶å€™ï¼Œoperatoræ¨¡æ¿å‡½æ•°äº‹å®ä¸Šå·²ç»è¢«å®ä¾‹åŒ–äº†ï¼Œè¿™æ—¶å€™å†è°ƒç”¨oneHalf*2è¿™å¥è¯çš„æ—¶å€™ï¼Œå°±æ˜¯ç›´æ¥è°ƒç”¨å·²ç»å®ä¾‹åŒ–çš„operatorå‡½æ•°äº†ï¼Œæ‰€ä»¥ï¼Œæ­¤æ—¶ï¼Œå®ƒæ”¯æŒéšå¼è½¬æ¢ã€‚å°†2è½¬æ¢ä¸ºRational\u003cint\u003eå¯¹è±¡* å€¼å¾—ä¸€æçš„æ˜¯ä»¥ä¸Šä»£ç ä¹Ÿå¯å†™æˆä¾‹å¦‚ä»¥ä¸‹å½¢å¼ template\u003ctypename T\u003e class Rational { public: â€¦â€¦ friend const Rational\u003cT\u003e operator*(const Rational\u003cT\u003e\u0026 lhs,const Rational\u003cT\u003e\u0026 rhs); { return Rational\u003cT\u003eï¼ˆlhs.numerator()*rhs.numerator(),lhs.denominator()*rhs.denominator()); } }; ä¹Ÿå°±æ˜¯è¯´Rational\u003cT\u003eå’ŒRationalçš„å½¢å¼æ˜¯ä¸€ä¸ªæ„æ€ï¼Œä¸ºäº†ç®€åŒ–ï¼Œæˆ‘ä»¬èƒ½å¤Ÿç”¨Rationalçš„å½¢å¼ ç”±äºè¿™æ ·å°†å‹å…ƒå‡½æ•°å®šä¹‰åœ¨Rationalç±»ä¸­ï¼Œä¹Ÿå°±é»˜è®¤æ˜¯å†…è”å‡½æ•°inlineäº†ï¼Œä¸ºäº†é¿å…å¤æ‚çš„friendå‡½æ•°å½±å“ä»£ç ä½“ç§¯ï¼Œæˆ‘ä»¬åˆ©ç”¨å¦å¤–çš„ä¸€ç§å½¢å¼å®ç°* *ä¾‹å¦‚ä»¥ä¸‹ä»£ç  template\u003ctypename T\u003e class Rational;//forward decelarion template\u003ctypename T\u003e const Rational\u003cT\u003e doMultiply(const Rational\u003cT\u003e\u0026 lhs,const Rational\u003cT\u003e\u0026 rhs); template\u003ctypename T\u003e class Rational{ public: â€¦â€¦ friend const Rational operator*(const Rational\u0026 lhs,const Rational\u0026 rhs);//å£°æ˜+å®šä¹‰ { return doMultiply(lhs,rhs); } }; template\u003ctypename T\u003e const Rational\u003cT\u003e doMultiply(const Rational\u003cT\u003e\u0026 lhs,const Rational\u003cT\u003e\u0026 rhs) { return Rational\u003cT\u003eï¼ˆlhs.numerator()*rhs.numerator(),lhs.denominator()*rhs.denominator()); } æˆ‘ä»¬åˆåˆä¸€æ¬¡å®šä¹‰äº†ä¸€ä¸ªéç±»æˆå‘˜å‡½æ•°non-memberï¼Œå°†æ­¤å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰éƒ½æ”¾åœ¨ç±»çš„å¤–éƒ¨ï¼Œè¿™æ ·å°±èƒ½é¿å…ä»£ç è†¨èƒ€é—®é¢˜ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:6:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"Summary å½“ç¼–å†™ä¸€ä¸ªclass templateæ—¶ï¼Œå®ƒæ‰€æä¾›ä¹‹â€œä¸æ­¤templateç›¸å…³çš„â€å‡½æ•°æ”¯æŒâ€œå…¨éƒ¨åƒæ•°ä¹‹éšå¼ç±»å‹è½¬æ¢â€æ—¶ï¼Œè¯·å°†é‚£äº›å‡½æ•°å®šä¹‰ä¸ºclass templateå†…éƒ¨çš„friendå‡½æ•° ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:6:1","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾47 è¯·ä½¿ç”¨traits classesè¡¨ç°ç±»å‹ä¿¡æ¯ STLè¿­ä»£å™¨åˆ†ç±» inputè¿­ä»£å™¨ åªèƒ½ä¸€æ¬¡ä¸€æ­¥å‘å‰ç§»åŠ¨,å®¢æˆ·åªå¯è¯»å–(ä¸èƒ½æ¶‚å†™)ä¸”åªèƒ½è¯»å–ä¸€æ¬¡å®ƒä»¬æ‰€æŒ‡çš„ä¸œè¥¿,æ¨¡ä»¿æŒ‡å‘è¾“å…¥æ–‡ä»¶çš„é˜…è¯»æŒ‡é’ˆ.ä¾‹å¦‚istream_iterators outputè¿­ä»£å™¨ ä¸inputè¿­ä»£å™¨ç±»ä¼¼,ä½†\"ä¸€åˆ‡åªä¸ºè¾“å‡º\",åªèƒ½ä¸€æ¬¡ä¸€æ­¥å‘å‰ç§»åŠ¨,å®¢æˆ·åªå¯æ¶‚å†™(ä¸èƒ½è¯»å–)ä¸”åªèƒ½æ¶‚å†™ä¸€æ¬¡å®ƒä»¬æ‰€æŒ‡å‘çš„ä¸œè¥¿,æ¨¡ä»¿æŒ‡å‘è¾“å‡ºæ–‡ä»¶çš„æ¶‚å†™æŒ‡é’ˆ.ä¾‹å¦‚ostream_iterators forwardè¿­ä»£å™¨ å…·æœ‰inputè¿­ä»£å™¨å’Œoutputè¿­ä»£å™¨çš„æ‰€æœ‰åŠŸèƒ½:åªèƒ½ä¸€æ¬¡ä¸€æ­¥å‘å‰ç§»åŠ¨,å¯ä»¥è¯»æˆ–å†™å…¶æ‰€æŒ‡ç‰©ä¸€æ¬¡ä»¥ä¸Š.STLå¹¶æœªæä¾›å•å‘linked list,ä½†æŸäº›ç¨‹åºåº“æœ‰(é€šå¸¸åä¸ºslist),è¿™ç§å®¹å™¨çš„è¿­ä»£å™¨å°±æ˜¯forwardè¿­ä»£å™¨ bidirectionalè¿­ä»£å™¨ å®ƒé™¤äº†å¯ä»¥å‘å‰ç§»åŠ¨,è¿˜å¯ä»¥å‘åç§»åŠ¨,ä¸€æ­¥åªèƒ½ä¸€æ¬¡,å¹¶å¯ä»¥è¯»æˆ–å†™æ‰€æŒ‡ç‰©ä¸€æ¬¡ä»¥ä¸Š.STLçš„list,set,multiset,mapå’Œmultimapçš„è¿­ä»£å™¨å°±å±äºè¿™ä¸€ç±» randomè¿­ä»£å™¨ é™¤äº†bidirectionalè¿­ä»£å™¨çš„æ‰€æœ‰åŠŸèƒ½ä»¥å¤–,è¿˜å¯ä»¥æ‰§è¡Œ\"è¿­ä»£å™¨ç®—æ•°\",å³åœ¨å¸¸é‡æ—¶é—´å†…å‘å‰æˆ–å‘åç§»åŠ¨ä»»æ„è·ç¦».ä¾‹å¦‚vector,dequeå’Œstringçš„è¿­ä»£å™¨ é’ˆå¯¹è¿™äº”ç§åˆ†ç±»,C++æ ‡å‡†åº“åˆ†åˆ«æä¾›ä¸“å±çš„ struct åŠ ä»¥åŒºåˆ† struct input_iterator_tag {}; struct output_iterator_tag {}; struct forward_iterator_tag : public input_iterator_tag {}; struct bidirectional_iterator_tag : public forward_iterator_tag {}; struct random_access_iterator_tag : public bidirectional_iterator_tag {}; traits STLä¸»è¦ç”±\"ç”¨ä»¥è¡¨ç°å®¹å™¨,è¿­ä»£å™¨å’Œç®—æ³•\"çš„templatesç»„æˆ,å•ä¹Ÿè¦†ç›–è‹¥å¹²å·¥å…·æ€§templates,ä¾‹å¦‚ç”¨äºå°†è¿­ä»£å™¨ç§»åŠ¨åˆ°æŸä¸ªç»™å®šè·ç¦»çš„advanceå‡½æ•°æ¨¡æ¿.æ­£å¦‚1æ‰€è¨€,ä¸åŒè¿­ä»£å™¨å…·æœ‰ä¸åŒæ¥å£,å› è€Œadvanceéœ€è¦æ ¹æ®ä¸åŒè¿­ä»£å™¨æ‰€èƒ½è¿›è¡Œçš„æ“ä½œç¡®å®šä¸åŒå®ç°,ä¾‹å¦‚å¯¹äºrandomè¿­ä»£å™¨,advanceå¯ä»¥ç›´æ¥è¿›è¡Œ+=æ“ä½œ,è€Œå¯¹äºå…¶ä»–è¿­ä»£å™¨,åˆ™å¯èƒ½åå¤ä½¿ç”¨++æˆ–â€“,å› æ­¤advanceçš„å®ç°å¯èƒ½åƒè¿™æ · template\u003ctypename IterT,typename DisT\u003e void advance(Iter\u0026 iter,Dist d){ if(iter is a random access iterator) //ä¼ªä»£ç  iter+=d; else if(d\u003e=0) while(d--) ++iter; else while(d++) --iter; } è¿™ç§åšæ³•å¿…é¡»é¦–å…ˆåˆ¤æ–­iteræ˜¯å¦ä¸ºrandomè¿­ä»£å™¨,å› æ­¤éœ€è¦å–å¾—ç±»å‹çš„æœ‰å…³ä¿¡æ¯,traitsæŠ€æœ¯å°±æ˜¯ç”¨æ¥ä½¿STLçš„æŸäº›æ³›å‹ç®—æ³•èƒ½å¤Ÿåœ¨ç¼–è¯‘æœŸå–å¾—æŸäº›ç±»å‹ä¿¡æ¯. â€œTraitså¹¶ä¸æ˜¯C++å…³é”®å­—æˆ–ä¸€ä¸ªé¢„å…ˆå®šä¹‰å¥½çš„æ„ä»¶;å®ƒä»¬æ˜¯ä¸€ç§æŠ€æœ¯,ä¹Ÿæ˜¯ä¸€ä¸ªC++ç¨‹åºå‘˜å…±åŒéµå®ˆçš„åè®®.â€œâ€œè¿™ä¸ªæŠ€æœ¯çš„è¦æ±‚ä¹‹ä¸€æ˜¯,å®ƒå¯¹å†…ç½®ç±»å‹å’Œç”¨æˆ·è‡ªå®šä¹‰ç±»å‹çš„è¡¨ç°å¿…é¡»ä¸€æ ·å¥½â€ â€œTraitsèƒ½å¤Ÿæ–½è¡Œäºå†…ç½®ç±»å‹\"æ„å‘³ç€é€šè¿‡åœ¨ç±»å‹å†…åµŒå¥—ä¿¡æ¯å®ç°ç±»å‹åˆ¤æ–­ä¸å¯è¡Œ,å› æ­¤ç±»å‹çš„traitsä¿¡æ¯å¿…é¡»ä½äºç±»å‹è‡ªèº«ä¹‹å¤–.æ ‡å‡†æŠ€æœ¯æ˜¯æŠŠå®ƒç½®å…¥ä¸€ä¸ªtemplateåŠä¸€ä¸ªæˆ–å¤šä¸ªç‰¹åŒ–ç‰ˆæœ¬ä¸­.â€œè¿™æ ·çš„templatesåœ¨æ ‡å‡†ç¨‹åºåº“ä¸­æœ‰è‹¥å¹²ä¸ª,å…¶ä¸­é’ˆå¯¹è¿­ä»£å™¨çš„è¢«è¢«å‘½åä¸ºiterator_traitsâ€ template\u003ctypename IterT\u003e struct iterator_traits; iterator_traitsçš„è¿ä½œæ–¹å¼æ˜¯:é’ˆå¯¹æ¯ä¸€ä¸ªç±»å‹IterT,åœ¨struct iterator_traitså†…ä¸€å®šå£°æ˜æŸä¸ªtypedefåä¸ºiterator_catagory,è¿™ä¸ªtypedefç”¨äºç¡®å®šIterçš„è¿­ä»£å™¨åˆ†ç±»: å¯¹äºè‡ªå®šä¹‰ç±»å‹,å®ƒè¦æ±‚æ¯ä¸€ä¸ªç”¨æˆ·\"è‡ªå®šä¹‰çš„iteratorç±»å‹\"å¿…é¡»åµŒå¥—ä¸€ä¸ªtypedef,åä¸ºiterator_catagory(å®é™…ä¸Š,è¦ä½¿è‡ªå®šä¹‰çš„iteratoræ”¯æŒæ›´å¤šçš„STLæ³›å‹ç®—æ³•,è¿˜éœ€è¦å…¶ä»–typedef,è§ç¬¬3æ¡),è¿™ä¸ªtypedefç”¨æ¥ç¡®è®¤Iterçš„åˆ†ç±» ,å› æ­¤é’ˆå¯¹ä¸€ä¸ªçš„ç¡®è¿­ä»£å™¨è®¾è®¡çš„classå¯èƒ½å›æƒ³è¿™æ · template\u003c...\u003e class deque{ public: class iterator{ public: typedef random_access_iterator_tag iterator_category; ... }; ... } listçš„è¿­ä»£å™¨å¯èƒ½åƒè¿™æ ·: template\u003c...\u003e class list{ public: class Iterator{ public: typedef bidirectional_iterator_tag iterator_category; ... }; ... }; è‡³äºiterator_traits,åªæ˜¯ç”¨æ¥è¡¨ç°iterator classçš„åµŒå¥—å¼typedef template\u003ctypename IterT\u003e struct iterator_traits{ typedef typename IterT::iterator_category iterator_category; ... }; å¯¹äºæŒ‡é’ˆè¿­ä»£å™¨,ç”±äºæŒ‡é’ˆä¸å¯èƒ½åµŒå¥—typedef,iterator_traitsç‰¹åˆ«é’ˆå¯¹æŒ‡é’ˆç±»å‹æä¾›ä¸€ä¸ªåç‰¹åŒ–ç‰ˆæœ¬: template\u003ctypename Iter\u003e struct iterator_traits\u003cIterT*\u003e{ typedef random_access_iterator_tag iterator_category; ... }; ç”±ä»¥ä¸Šå®ä¾‹,trait classesçš„è®¾è®¡ä¸å®ç°è¿‡ç¨‹å¤§ä½“å¦‚ä¸‹: â€‹ 1). ç¡®è®¤è‹¥å¹²æƒ³å–å¾—çš„ç±»å‹ç›¸å…³ä¿¡æ¯.(å¯¹äºè¿­ä»£å™¨,åŒ…æ‹¬å…¶category) â€‹ 2). ä¸ºè¯¥ä¿¡æ¯é€‰æ‹©ä¸€ä¸ªåç§°(å¯¹äºè¿­ä»£å™¨çš„category,åç§°ä¸ºiterator_category) â€‹ 3). æä¾›ä¸€ä¸ªtemplateå’Œä¸€ç»„ç‰¹åŒ–ç‰ˆæœ¬(ä¾‹å¦‚iterator_traits),å†…å«å¸Œæœ›æ”¯æŒçš„ç±»å‹ä¿¡æ¯. å› æ­¤,æœ€å¼€å§‹çš„ä¼ªä»£ç å¯ä»¥å®è¡Œ template\u003ctypename IterT,typename DisT\u003e void advance(Iter\u0026 iter,Dist d){ if(typeid(typename::std::iterator_traits\u003cIterT\u003e::iterator_category ==typeid(typename::std::random_access_iterator_tag)) ... } æ­¤æ—¶è¿˜æœªç»“æŸ,å› ä¸ºä»¥ä¸Šä»£ç ä¼šå­˜åœ¨ç¼–è¯‘é—®é¢˜:å‡è®¾å¯¹advanceä½œä»¥ä¸‹è°ƒç”¨ std::list\u003cint\u003e::iterator iter; advance(iter,10); é‚£ä¹ˆadvanceå°†è¢«ç‰¹åŒ–ä¸ºä»¥ä¸‹å½¢å¼: void advance(std::list\u003cint\u003e::iterator iter,int d){ if(typeid(typename::std::iterator_traits\u003cstd::list\u003cint\u003e::iterator\u003e:iterator_category==typeid(typename::std::random_access_iterator_tag)) iter+=d; //é”™è¯¯,ç¼–è¯‘æ—¶ä¸é€šè¿‡! else if(d\u003e=0) while(d--) ++iter; else while(d++) --iter; } å°½ç®¡æµ‹è¯•typeidçš„é‚£ä¸€è¡Œæ€»ä¼šå› ä¸ºlist::iteratorè€Œå¤±è´¥,å› è€Œiter+=dæ°¸è¿œä¸ä¼šæ‰§è¡Œ,ä½†åœ¨æ­¤ä¹‹å‰ç¼–è¯‘å™¨å¿…é¡»ç¡®ä¿æ‰€æœ‰çš„æºç æœ‰æ•ˆ,çºµä½¿æ˜¯ä¸ä¼šæ‰§è¡Œçš„ä»£ç ! æ­¤å¤–,ç”±äºiterator_traits::categoryåœ¨ç¼–è¯‘æœŸå³å¯ç¡®å®š,ä½†ifè¯­å¥çš„åˆ¤æ–­å´è¦åœ¨è¿è¡ŒæœŸæ ¸å®š,è¿™ä¸ä»…æµªè´¹æ—¶é—´,ä¹Ÿä¼šé€ æˆå¯æ‰§è¡Œæ–‡ä»¶è†¨èƒ€. å®é™…ä¸Š,C++æä¾›äº†å®Œæˆåœ¨ç¼–è¯‘æœŸè¿›è¡Œæ ¸å®šçš„æ–¹æ³•:å‡½æ•°é‡è½½.åˆæˆä¸¤ç§é‡è½½å‡½æ•°,ä½†æ¥å—ä¸åŒçš„iterator_categoryå¯¹è±¡,ç”±å®ƒä»¬å®Œæˆadvanceçš„å®é™…åŠŸèƒ½,å› æ­¤advanceçš„æœ€ç»ˆå®ç°ç‰ˆæœ¬å¦‚ä¸‹: template\u003ctypename IterT,typename DistT\u003e void doAdvance(IterT\u0026 iter,Dist d,std::random_access_iterator_tag){ iter+=d; } template\u003ctypename IterT,typename DistT\u003e void doAdvance(IterT\u0026 iter,Dist d,std::bidirectional_iterator_tag){ if(d\u003e=0) while(d--) ++iter; else while(d++) --iter; } template\u003ctypename IterT,typename DistT\u003e void doAdvance(IterT\u0026 iter,Dist d,std::input_iterator_tag){ if(d\u003c0) throw out_of_range(\"Negative distance\"); while(d--) ++iter; } template\u003ctypename ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:7:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾48 æ¨¡æ¿å…ƒç¼–ç¨‹ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:8:0","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"Summary ä»€ä¹ˆæ˜¯æ¨¡æ¿å…ƒç¼–ç¨‹ æ¨¡æ¿å…ƒç¼–ç¨‹(template mataprogramming,TMP)æ˜¯ç¼–å†™C++ç¨‹åºå¹¶æ‰§è¡Œäºç¼–è¯‘æœŸçš„è¿‡ç¨‹,â€œæ‰€è°“template mataprogram(æ¨¡æ¿å…ƒç¨‹åº),æ˜¯ä»¥C++å†™æˆ,æ‰§è¡ŒäºC++ç¼–è¯‘å™¨å†…çš„ç¨‹åº.ä¸€æ—¦TMPç¨‹åºç»“æŸæ‰§è¡Œ,å…¶è¾“å‡º,ä¹Ÿå°±æ˜¯ä»templateså…·ç°å‡ºæ¥çš„è‹¥å¹²C++æºç ,ä¾¿ä¼šä¸€å¦‚å¾€å¸¸åœ°è¢«ç¼–è¯‘ æ¨¡æ¿å…ƒç¼–ç¨‹çš„ä¼˜ç‚¹ å®ƒè®©æŸäº›äº‹æƒ…å˜å¾—æ›´å®¹æ˜“ template programæ‰§è¡ŒäºC++ç¼–è¯‘æœŸçš„ç‰¹æ€§ä½¿å¾—å·¥ä½œå¯ä»¥ä»ç¼–è¯‘æœŸè½¬ç§»è‡³æ‰§è¡ŒæœŸ,è¿™ä½¿å¾—é”™è¯¯å¯ä»¥è¢«æå‰æ£€æµ‹,å¹¶äº§å‡ºå…·æœ‰è¾ƒå°å¯æ‰§è¡Œæ–‡ä»¶,è¾ƒçŸ­è¿è¡ŒæœŸ,è¾ƒå°‘å†…å­˜éœ€æ±‚çš„æ–‡ä»¶,ä»£ä»·å°±æ˜¯ç¼–è¯‘æ—¶é—´å˜é•¿äº†. Item47ä¸­çš„traitsè§£æ³•å°±æ˜¯TMPï¼Œå› ä¸ºtraitså¼•å‘ç¼–è¯‘æœŸå‘ç”Ÿäºç±»å‹èº«ä¸Šçš„ifâ€¦elseè¿ç®—ï¼šç”¨ç¼–è¯‘æœŸçš„é‡è½½æ¨¡æ¿å‡½æ•°å‚æ•°åŒ¹é…è¡Œä¸ºä»£æ›¿æ‰§è¡ŒæœŸå‘ç”Ÿçš„ifâ€¦elseè¿ç®—åŠŸèƒ½ TMPå·²ç»è¢«è¯æ˜æ˜¯\"å›¾çµå®Œå…¨\"çš„,ä½¿ç”¨TMPå¯ä»¥å£°æ˜å˜é‡,æ‰§è¡Œå¾ªç¯,ç¼–å†™åŠè°ƒç”¨å‡½æ•°â€¦â€¦é’ˆå¯¹TMPè®¾è®¡çš„ç¨‹åºåº“(ä¾‹å¦‚Boostâ€™s MPL)æä¾›æ›´é«˜å±‚æ¬¡çš„è¯­æ³•.â€œä½†è¿™èˆ¬æ„ä»¶ç›¸å¯¹äºæ­£å¸¸çš„C++å¯¹åº”ç‰©çœ‹èµ·æ¥å¾ˆæ˜¯ä¸åŒ,ä¾‹å¦‚Item47å±•ç¤ºçš„TMP if-elseæ¡ä»¶å¥æ˜¯è—‰ç”±templatesåŠå…¶ç‰¹åŒ–ä½“è¡¨ç°å‡ºæ¥â€,å¦å¤–ä¸€ä¸ªä¾‹å­æ˜¯å¾ªç¯,TMPæ˜¯çš„å¾ªç¯æ˜¯è—‰ç”±é€’å½’å®Œæˆ ç”¨TMPå®ç°ä¸€ä¸ªè®¡ç®—é˜¶ä¹˜çš„å‡½å¦‚ä¸‹ template\u003cunsigned n\u003e struct Factorial{ enum{value=n*Factiroal\u003cn-1\u003e::value;}; } template\u003c\u003e struct Factorial\u003c0\u003e{ enum{ value=1}; } TMPçš„é‡è¦åº”ç”¨ ç¡®ä¿é‡åº¦å•ä½æ­£ç¡® ä¼˜åŒ–çŸ©é˜µè¿ç®— ç”Ÿæˆå®¢æˆ·å®šåˆ¶ä¹‹è®¾è®¡æ¨¡å¼å®ç°å“(å¦‚Strategyï¼ŒObserverï¼ŒVisitorç­‰) TMPçš„ç¼ºç‚¹ è¯­æ³•ä¸ç›´è§‚ ç¼–è¯‘æ—¶é—´é•¿ ","date":"2023-03-09","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/:8:1","tags":["Effective C++"],"title":"æ¡æ¬¾41~48 æ¨¡æ¿ä¸æ³›å‹ç¼–ç¨‹","uri":"/effective-c-%E6%9D%A1%E6%AC%BE41-48/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡ ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:0:0","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"å‰è¨€ è¿™ä¸€å¤§ç« æ¡æ¬¾ ä¸»è¦æ˜¯è¯´çš„ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡ï¼Œè¯´å®è¯æˆ‘è§‰å¾—æ²¡æœ‰çœ‹è¿™ä¸€å¤§ç« çš„å¿…è¦ï¼Œå»çœ‹æœ¬åšå®¢çš„ã€Šè®¾è®¡æ¨¡å¼ã€‹ç« èŠ‚ è®¾è®¡æ¨¡å¼è¿™ä¸ªåå­—å¤ªé«˜å¤§ä¸Šï¼Œå…¶å®ä»–å°±æ˜¯å¯å¤ç”¨çš„é¢å‘å¯¹è±¡è®¾è®¡ï¼Œæ²¡é”™ï¼Œä½ åœ¨å­¦è®¾è®¡æ¨¡å¼å…¶å®å°±æ˜¯ç›¸å½“äºå­¦é¢å‘å¯¹è±¡ è®¾è®¡æ¨¡å¼ä¹Ÿæ˜¯åŸºäºé¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™çš„ï¼Œæ‰€ä»¥ä½ ä¸æ‡‚è®¾è®¡æ¨¡å¼ï¼Œä¸æ‡‚é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼Œæˆ‘è§‰å¾—ä½ çœ‹å®Œè¿™ä¸€ç« ä½œç”¨ä¹Ÿä¸å¤§ æ‡‚è®¾è®¡æ¨¡å¼çš„å¸Œæœ›ä½ çœ‹æœ¬ç« èŠ‚ä¼šæœ‰ä¸€äº›æ–°çš„ä½“ä¼šï¼Œå…¶å®æ¯ä¸ªæ¡æ¬¾éƒ½æ˜¯å¯¹åº”ç€é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼ŒåŒæ—¶ä¹Ÿæœ‰å¾ˆå¤šè®¾è®¡æ¨¡å¼å¯ä»¥è§£å†³è¿™äº›æ¡æ¬¾çš„é—®é¢˜ æ²¡æœ‰é”™ï¼Œåœ¨æœ¬å¤§ç« èŠ‚ï¼Œæˆ‘å°±æ˜¯è®¾è®¡æ¨¡å¼å¹!!! ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:1:0","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾32 ç¡®ä¿publicç»§æ‰¿æ˜¯is-aå…³ç³» â€œis-a\"çš„æ¦‚å¿µ ä»¥ C++è¿›è¡Œé¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œæœ€é‡è¦çš„ä¸€ä¸ªè§„åˆ™æ˜¯ï¼špublic inheritanceï¼ˆå…¬å¼€ç»§æ‰¿ï¼‰æ„å‘³ â€œis-aâ€ï¼ˆæ˜¯ä¸€ç§ï¼‰çš„å…³ç³» å¦‚æœä½ ä»¤ class Dä»¥ public å½¢å¼ç»§æ‰¿ class Bï¼Œä½ ä¾¿æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼š æ¯ä¸€ä¸ªç±»å‹ä¸ºDçš„å¯¹è±¡åŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªç±»å‹ä¸ºBçš„å¯¹è±¡ï¼Œåä¹‹ä¸æ˜¯ Bå¯¹è±¡å¯ä½¿ç”¨çš„åœ°æ–¹ï¼ŒDå¯¹è±¡ä¸€æ ·å¯ä»¥ä½¿ç”¨ï¼Œåä¹‹ä¸æ˜¯ ä¸‹é¢çš„Studentç±» public ç»§æ‰¿ Personç±» class Person {}; class Student :public Person {}; ä»»ä½•è·å¾—ç±»å‹ä¸ºPersonï¼ˆpointer-to-Personæˆ–reference-to-Personï¼‰çš„å®å‚ï¼Œéƒ½å¯ä»¥æ¥å—ä¸€ä¸ªStudentï¼ˆpointer-to-Studentæˆ–reference-to-Studentï¼‰å¯¹è±¡ void eat(const Person\u0026 p); void study(const Student\u0026 s); int main() { Person p; Student s; eat(p); //æ­£ç¡® eat(s); //æ­£ç¡® study(s); //æ­£ç¡® study(p); //é”™è¯¯ return 0; } ä¸Šé¢çš„è§„åˆ™åªå¯¹\"public\"ç»§æ‰¿æ‰æˆç«‹å“¦ï½ï¼Œâ€œprivate\"â€œprotected\"ä¸æˆç«‹ è®¾è®¡æ­£ç¡®çš„ç»§æ‰¿æ¨¡å‹ é¸Ÿå¯ä»¥é£ï¼Œä¼é¹…ä¹Ÿæ˜¯ä¸€ç§é¸Ÿã€‚äºæ˜¯æˆ‘ä»¬å¯èƒ½è®¾è®¡ä¸‹é¢é”™è¯¯çš„ç»§æ‰¿æ¨¡å‹ ä¼é¹…è™½ç„¶å±äºé¸Ÿç±»ï¼Œä½†æ˜¯ä¼é¹…ä¸ä¼šé£ è®¾è®¡ä¸­ï¼Œæˆ‘ä»¬é”™è¯¯çš„å°†é¸Ÿç±»ä¸­çš„fly()è™šå‡½æ•°æ´¾ç”Ÿç»™äº†Penguinç±» //é¸Ÿç±» class Bird { public: virtual void fly(); }; //ä¼é¹…ï¼Œä¹Ÿç»§æ‰¿äº†fly()è™šå‡½æ•° class Penguin : public Bird {}; æˆ‘ä»¬åº”è¯¥ä¿®æ”¹ä¸Šé¢çš„ä»£ç ï¼Œä¸‹é¢æ‰æ˜¯åˆé€‚çš„æ¨¡å‹ï¼Œå­¦è¿‡è®¾è®¡æ¨¡å¼çŸ¥é“æŠ½è±¡æ€æƒ³çš„ï¼Œå…¶å®å°±æ˜¯åŸºäºæŠ½è±¡ç±»å†æŠ½è±¡äº†ä¸€å±‚ //é¸Ÿç±» class Bird { //æ— fly()å‡½æ•° }; //ä¼šé£çš„é¸Ÿç±» class FlyingBird :public Bird { public: virtual void fly(); }; //ä¼é¹…ä¸ä¼šé£ class Penguin :public Bird { }; ä»¥â€œç¼–è¯‘æœŸâ€ç¡®è®¤å…³ç³»ä»£æ›¿â€œè¿è¡ŒæœŸâ€ç¡®è®¤å…³ç³» è¿˜æ˜¯åŸºäºä¸Šè¿° é¸Ÿå’Œä¼é¹…çš„ä¾‹å­ ä¼é¹…ä¸ä¼šé£ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶è®©Birdå®šä¹‰fly()å‡½æ•°ï¼Œç„¶åè®©Penguinç»§æ‰¿äºBirdï¼Œä¸ä¸Šé¢ä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬è®©Penguinåœ¨æ‰§è¡Œfly()å‡½æ•°çš„æ—¶å€™æŠ¥å‡ºä¸€ä¸ªé”™è¯¯ï¼ˆè¿è¡ŒæœŸæ‰§è¡Œï¼‰ class Bird { public: virtual void fly(); }; void error(const std::string\u0026 msg); class Penguin :public Bird { public: virtual void fly() { error(\"Attempt to make a penguin fly!\"); } }; ä¸Šé¢çš„ä»£ç æ˜¯åœ¨è¿è¡ŒæœŸæ£€æŸ¥è¿™ç§é”™è¯¯çš„ï¼Œä¸‹é¢æˆ‘ä»¬è®¾è®¡è®©ç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™æ£€æŸ¥å‡ºä¼é¹…ä¸ä¼šé£è¿™ç§é”™è¯¯ class Bird { //æ— fly()å‡½æ•° }; class Penguin :public Bird { //â€¦ }; Penguin p; p.fly(); *è¿™ä¸ªé—®é¢˜çš„å…³é”®æ˜¯ï¼šå¹¶ä¸æ˜¯æ‰€æœ‰çš„é¸Ÿéƒ½ä¼šé£ï¼Œå› æ­¤Birdä¸åº”è¯¥æš´éœ²Flyæ¥å£* *æ‰€ä»¥è¿˜æ˜¯å†æŠ½è±¡ä¸€ä¸ªä¼šé£çš„é¸Ÿç±»æ¥å£ï¼Œæˆ‘è§‰å¾—æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¹Ÿéšä¹‹æš´éœ²ä¸€ä¸ªé—®é¢˜äº†ï¼Œé¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™æœ‰ä¸€ä¸ª**ç±»åº”è¯¥æ˜¯å•ä¸€èŒè´£**ï¼Œå¦‚æœä¸æ˜¯å•ä¸€èŒè´£ï¼Œé‚£ä¹ˆå­ç±»çš„æ•°ç›®å°±ä¼šæ€¥å‰§è†¨èƒ€äº†* *å…¶å®çŸ¥é“è£…é¥°æ¨¡å¼å’Œæ¡¥æ¨¡å¼ï¼Œè¿™é‡Œå°±å¯ä»¥åˆ©ç”¨ **ç»„åˆ**å»ä¼˜åŒ–ï¼Œä½†æ˜¯é‚£æ˜¯è®¾è®¡æ¨¡å¼çš„çŸ¥è¯†ç‚¹äº†ï¼Œå¤§å®¶å¯ä»¥çœ‹ã€Š[è£…é¥°æ¨¡å¼](https://vlicecream.github.io/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A3%85%E9%A5%B0%E6%A8%A1%E5%BC%8F/)ã€‹ã€Š[æ¡¥æ¨¡å¼](https://vlicecream.github.io/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A1%A5%E6%A8%A1%E5%BC%8F/)ã€‹* å†è€ƒè™‘çŸ©å½¢å’Œæ­£æ–¹å½¢ï¼Œä»å‡ ä½•è§’åº¦è®²ï¼Œæ­£æ–¹å½¢æ˜¯ä¸€ç§çŸ©å½¢ã€‚ä»è½¯ä»¶è®¾è®¡è§’åº¦è®²ï¼Œæ­£æ–¹å½¢æ˜¯çŸ©å½¢å—ï¼Ÿåº”è¯¥ä½¿ç”¨publicç»§æ‰¿å—ï¼Ÿ æ€è€ƒï¼šå¯¹çŸ©å½¢å¯ä»¥å•ç‹¬è®¾ç½®å®½åº¦ï¼Œè€Œä¸å½±å“é«˜åº¦ã€‚ä½†æ˜¯å¯¹äºæ­£æ–¹å½¢ï¼Œè®¾ç½®å®½åº¦ï¼Œè¦æ±‚é«˜åº¦éšä¹‹å˜åŒ–ï¼Œå¦è€…å°±ä¸æ˜¯æ­£æ–¹å½¢äº†ã€‚å› æ­¤ä¸èƒ½ä½¿ç”¨publicç»§æ‰¿ ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:2:0","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"Summary publicç»§æ‰¿æ„å‘³is-a é€‚ç”¨äºbase classesèº«ä¸Šçš„æ¯ä¸€ä»¶äº‹æƒ…ä¸€å®šä¹Ÿé€‚ç”¨äºderived classesèº«ä¸Šï¼Œå› ä¸ºæ¯ä¸€ä¸ªderived classå¯¹è±¡ä¹Ÿéƒ½æ˜¯ä¸€ä¸ªbass class å¯¹è±¡ åœ¨ç±»çš„è®¾è®¡ä¸Š å…¶å®è¦è›®ä¸‹ä¸€ç•ªå¿ƒæ€çš„ï¼ˆè¿™å…¶å®å°±æ˜¯é¢˜å¤–è¯äº†ï¼Œæ¨èæœ¬åšå®¢ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸“é¢˜ï¼‰ ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:2:1","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾33 é¿å…é®æ©ç»§æ‰¿è€Œæ¥çš„åç§° C++åŸºç±»å’Œæ´¾ç”Ÿç±»çš„ä½œç”¨åŸŸä¸ºåµŒå¥—å…³ç³»,åŒæ—¶å­˜åœ¨ä½œç”¨åŸŸå±è”½è§„åˆ™,ä¾‹å¦‚: class Base{ public: void fun(); ... private: int a; ... } class Derived:public Base{ ... } é‚£ä¹ˆDerivedå’ŒBaseä¹‹é—´çš„ä½œç”¨åŸŸå…³ç³»å°±åƒè¿™æ · å¦‚æœDerivedä¸­æ²¡æœ‰å®šä¹‰aå’Œfun,é‚£ä¹ˆå¯¹åœ¨Derivedä½œç”¨åŸŸå†…å¯¹açš„funçš„ä½¿ç”¨å°†ä¼šç”±å†…è€Œå¤–ç›´è‡³å…¨å±€ä½œç”¨åŸŸé€å±‚æŸ¥æ‰¾; å¦‚æœDerivedä¸­å®šä¹‰äº†aå’Œfun,é‚£ä¹ˆä¼šä½¿ç”¨Derivedä¸­çš„aå’Œfun,ä½†æ˜¯å¦‚æœDerivedä¸­aå’Œfunçš„å®šä¹‰å¦‚æœåƒè¿™æ ·: class Derived:public Base{ public: void fun(int); string a; ... private: ... } æ­¤æ—¶å¦‚æœåœ¨Derivedå†…å­˜åœ¨å¦‚ä¸‹è¯­å¥: a=1; fun(); éƒ½ä¼šç¼–è¯‘ä¸é€šè¿‡,å› ä¸ºç”±äºåå­—å±è”½,Baseçš„aå’Œfunåœ¨Derivedä¸­å°†ä¸å¯è§,è¿™å°±æ˜¯ä½œç”¨åŸŸå±è”½è§„åˆ™.å› æ­¤æ´¾ç”Ÿç±»å¯¹åŸºç±»å‡½æ•°çš„é‡å†™å°†ä¸æ˜¯overload \u0026 override,è€Œæ˜¯éšè— åœ¨é‡‡ç”¨publicç»§æ‰¿æ—¶,å¦‚æœæ´¾ç”Ÿç±»é‡å†™åŸºç±»å‡½æ•°,åå­—å±è”½ä¼šä½¿å¾—åŸºç±»ä¸­åŒåå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­ä¸å¯è§ å¦‚æœä½¿åŸºç±»çš„åŒåå‡½æ•°åœ¨æ´¾ç”Ÿç±»ä¸­ä»ç„¶å¯è§,å¯ä»¥ä½¿ç”¨usingå£°æ˜å¼ class Derived:public Base{ public: using Base::fun; void fun(int); ... private: string a; ... } å¦‚æœå¹¶ä¸æƒ³ç»§æ‰¿Baseç±»æ‰€æœ‰çš„funå‡½æ•°(privateç»§æ‰¿ä¸­å¯èƒ½å‡ºç°),åˆ™å¯ä»¥ä½¿ç”¨\"è½¬äº¤å‡½æ•°â€(forwarding function)çš„æ–¹æ³• class Derived:private Base{ public: void fun(){ Base::fun(); } void fun(int); ... private: string a; ... } æ­¤æ¡æ¬¾ä¸»è¦è®²çš„ä¹Ÿæ˜¯è¿åäº†é¢å‘å¯¹è±¡åŸåˆ™ä¹‹ä¸€ï¼ˆé‡Œæ°æ›¿æ¢åŸåˆ™-æˆ‘ä»¬åº”è¯¥å»é‡å†™ï¼Œè€Œä¸æ˜¯éšè—ï¼‰ ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:3:0","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"Summary æˆ‘ä»¬è¦å°å¿ƒè°¨æ… ä¸èƒ½éšè—äº†çˆ¶ç±»å‡½æ•° å¯ä»¥ä½¿ç”¨ç±»åä½œç”¨åŸŸå†³å®šè°ƒç”¨çˆ¶ç±»è¿˜æ˜¯å­ç±»çš„å‡½æ•° ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:3:1","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾34 æ¥å£ç»§æ‰¿ä¸å®ç°ç»§æ‰¿ è¯´å®è¯ è¿™ä¸ªæ€æƒ³æˆ‘æ˜¯çœŸè§‰å¾—ä½ åº”è¯¥å»çœ‹è®¾è®¡æ¨¡å¼ï¼Œå…‰çœ‹è¿™ä¸€ä¸ªæ¡æ¬¾ä½ å¯èƒ½ä¸ç†è§£æ¥å£ç»§æ‰¿ä¸å®ç°ç»§æ‰¿ï¼Œè¯´åˆ°åº•å…¶å®å°±æ˜¯ä¸€ä¸ªæŠ½è±¡æ¥å£çš„æ€æƒ³ï¼Œä½†æ˜¯å®ç°èµ·æ¥å¯æ˜¯æœ‰ä¸€ç•ªéš¾åº¦çš„ æœ¬æ¡æ¬¾å…¶å®å°±æ˜¯ä»‹ç»äº†ä¸‰ç§è™šå‡½æ•°çš„å¥½åè€Œå·²ï¼ŒåŒæ—¶çœ‹åˆ°è¿™é‡Œå¤§å®¶æœ‰æ²¡æœ‰æƒ³èµ·æ¥ã€Šæ¡æ¬¾31ã€‹å‘€~ å¥½ï¼Œè¿›å…¥ä¸»é¢˜ ç»§æ‰¿ä¸­æ¥å£çš„å¤„ç†æ–¹å¼ ä½œä¸ºç±»çš„è®¾è®¡è€…ï¼Œå¯¹äºåŸºç±»çš„æˆå‘˜å‡½æ•°å¯ä»¥å¤§è‡´åšä¸‹é¢ä¸‰ç§æ–¹å¼çš„å¤„ç†ï¼š â€‹ â‘  çº¯è™šå‡½æ•°ï¼šåŸºç±»å®šä¹‰ä¸€ä¸ªçº¯è™šå‡½æ•°ï¼Œç„¶åè®©æ´¾ç”Ÿç±»å»å®ç° â€‹ â‘¡ éçº¯è™šçš„virtualè™šå‡½æ•°ï¼šåŸºç±»å®šä¹‰ä¸€ä¸ªéçº¯è™šçš„virtualè™šå‡½æ•°ï¼Œç„¶åè®©æ´¾ç”Ÿç±»å»é‡å†™è¦†ç›–(override) â€‹ â‘¢ æ™®é€šçš„æˆå‘˜å‡½æ•°ï¼šåŸºç±»å®šä¹‰ä¸€ä¸ªæ™®é€šçš„æˆå‘˜å‡½æ•°ï¼Œå¹¶ä¸”ä¸å¸Œæœ›æ´¾ç”Ÿç±»å»éšè— æœ¬æ–‡ä¾æ¬¡ä»‹ç»ä¸Šé¢è¿™ä¸‰ç§è®¾è®¡çš„åŸç†ã€‚ä¸‹é¢å®šä¹‰ä¸€ä¸ªç±»ï¼Œä½œä¸ºæœ¬æ–‡è®²è§£çš„åŸºç¡€ï¼š - class Shape { public: virtual void draw()const = 0; //çº¯è™šå‡½æ•° virtual void error(const std::string\u0026 msg); //éçº¯è™šå‡½æ•° int objectID()const; //æ™®é€šæˆå‘˜å‡½æ•° }; class Rectangle :public Shape {}; class Ellipse :public Shape {}; çº¯è™šå‡½æ•° è¿™æ˜¯æ–‡ç« å¼€å§‹æåˆ°çš„ç¬¬ä¸€ç§æƒ…å†µï¼šæ´¾ç”Ÿç±»åªç»§æ‰¿åŸºç±»çš„æˆå‘˜å‡½æ•°çš„æ¥å£ï¼ˆçº¯è™šå‡½æ•°ï¼‰ï¼Œæ´¾ç”Ÿç±»è‡ªå·±å®ç°çº¯è™šå‡½æ•° çº¯è™šå‡½æ•°çš„ä¸€äº›ç‰¹å¾ï¼š â‘  æ‹¥æœ‰çº¯è™šå‡½æ•°çš„ç±»ä¸èƒ½å®ä¾‹åŒ– â‘¡ æ‹¥æœ‰çº¯è™šå‡½æ•°çš„ç±»ï¼Œå…¶æ´¾ç”Ÿç±»å¿…é¡»å®ç°è¯¥çº¯è™šå‡½æ•° class Shape { public: virtual void draw()const = 0; //çº¯è™šå‡½æ•° }; class Rectangle :public Shape {}; class Ellipse :public Shape {}; å…¶ä¸­æ¶‰åŠçº¯è™šå‡½æ•°çš„ç›®çš„ä¸ºï¼š Shapeæ˜¯æ‰€æœ‰å›¾å½¢ç±»çš„åŸºç±»ï¼Œå…¶æä¾›ä¸€ä¸ªdraw()çš„ç”»å›¾å‡½æ•°ï¼Œä½†æ˜¯ç”±äºå…¶æ´¾ç”Ÿç±»ï¼ˆçŸ©å½¢ã€åœ†ç­‰ï¼‰çš„ç”»å›¾æ–¹å¼éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤æ— æ³•ä¸ºdraw()å‡½æ•°æä¾›ä¸€ç§é»˜è®¤ç¼ºçœè¡Œä¸ºï¼Œå› æ­¤Shapeå°†draw()å®šä¹‰ä¸ºçº¯è™šå‡½æ•°ï¼Œ è®©å…¶æ´¾ç”Ÿç±»å»è‡ªåŠ¨å®ç° class Shape { public: virtual void draw()const = 0; }; class Rectangle :public Shape { public: virtual void draw()const { std::cout \u003c\u003c \"Rectangle\" \u003c\u003c std::endl; } }; class Ellipse :public Shape { public: virtual void draw()const { std::cout \u003c\u003c \"Ellipse\" \u003c\u003c std::endl; } }; int main() { //Shape *ps = new Shape; //é”™è¯¯ï¼Œä¸èƒ½å®ä¾‹åŒ– Shape *ps1 = new Rectangle; Shape *ps2 = new Ellipse; ps1-\u003edraw(); //è°ƒç”¨Rectangle::draw() ps2-\u003edraw(); //è°ƒç”¨Ellipse::draw() return 0; } éçº¯è™šçš„virtualè™šå‡½æ•° å…ˆæ¥çœ‹ä¸€ä¸ªvirtualå‡½æ•°çš„æ¼”ç¤ºæ¡ˆä¾‹ å‡è®¾æŸèˆªå¤©å…¬å¸è®¾è®¡ä¸€ä¸ªé£æœºç»§æ‰¿ä½“ç³»ï¼Œè¯¥å…¬å¸ç°åœ¨åªæœ‰Aå‹å’ŒBå‹ä¸¤ç§é£æœºï¼Œä»£ç å¦‚ä¸‹ class Airport {}; //æœºåœº class Airplane { //é£æœºçš„åŸºç±» public: virtual void fly(const Airport\u0026 destination) { //é£æœºé£å¾€æŒ‡å®šçš„ç›®çš„åœ°(é»˜è®¤è¡Œä¸º) } }; //Aã€Bä¸¤ä¸ªæ´¾ç”Ÿç±» class ModelA :public Airplane {}; class ModelB :public Airplane {}; // ModelB å“ˆå“ˆå“ˆ è®©æˆ‘æƒ³èµ·æœ€è¿‘çš„ä¸€ä¸ªæ–°è½¦å•¥è½¦å‹ ä¸»æŒäººè¯´ - \"ma de b\" ç¬‘æ­» fly()å‡½æ•°è¢«å£°æ˜ä¸ºvirtualå‡½æ•°ï¼Œå› ä¸ºAå’ŒBä¸¤ä¸ªé£æœºå…·æœ‰ç›¸åŒçš„é»˜è®¤é£è¡Œè¡Œä¸ºï¼Œå› æ­¤åœ¨Airplaneç±»çš„fly()å‡½æ•°ä¸­å®šä¹‰è¿™ç§é»˜è®¤é£è¡Œè¡Œä¸ºï¼Œç„¶åè®©Aå’ŒBç»§æ‰¿ã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼š â€‹ â‘  å°†æ‰€æœ‰æ€§è´¨æ¬åˆ°åˆ°base classä¸­ï¼Œç„¶åè®©ä¸¤ä¸ªclassç»§æ‰¿ â€‹ â‘¡ é¿å…ä»£ç é‡å¤ï¼Œå¹¶æå‡æœªæ¥çš„å¼ºåŒ–èƒ½åŠ›ï¼Œå‡ç¼“é•¿æœŸç»´æŠ¤æ‰€éœ€çš„æˆæœ¬ ä½†æ˜¯ä¸‡ä¸€æœ‰ä¸€ä¸ªModelCï¼Œä¸ä½¿ç”¨è¿™ä¸ªfly()å‘¢ï¼Œåƒç˜ªäº†å§ï¼Œæ‰€ä»¥è¦æŠŠè™šå‡½æ•°æ”¹æˆçº¯è™šå‡½æ•° â‘  å±•ç¤ºç¬¬ä¸€ç§ä¿®æ”¹æ–¹æ³• class Airport {}; //æœºåœº class Airplane { public: virtual void fly(const Airport\u0026 destination) = 0; protected: void defaultFly(const Airport\u0026 destination) { //é£æœºé£å¾€æŒ‡å®šçš„ç›®çš„åœ°(é»˜è®¤è¡Œä¸º) } }; class ModelA :public Airplane { public: virtual void fly(const Airport\u0026 destination) { defaultFly(destination); } }; class ModelB :public Airplane { public: virtual void fly(const Airport\u0026 destination) { defaultFly(destination); } }; class ModelC :public Airplane { public: virtual void fly(const Airport\u0026 destination) { //Cå‹é£æœºä¸å¯ä»¥ä½¿ç”¨é»˜è®¤é£è¡Œè¡Œä¸ºï¼Œå› æ­¤å®šä¹‰è‡ªå·±çš„é£è¡Œæ–¹å¼ } }; ç°åœ¨Cå‹é£æœºï¼Œæˆ–è€…åˆ«çš„æ·»åŠ çš„é£æœºå°±ä¸ä¼šæ„å¤–ç»§æ‰¿é»˜è®¤çš„é£è¡Œè¡Œä¸ºäº†ï¼ˆå› ä¸ºæˆ‘ä»¬å°†é»˜è®¤çš„é£è¡Œè¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªdefualtFlyå‡½æ•°ä¸­äº†ï¼‰ï¼Œè‡ªå·±å¯ä»¥åœ¨fly()ä¸­å®šä¹‰é£è¡Œè¡Œä¸ºäº† æ³¨æ„ï¼Œåœ¨Aå’ŒBçš„ç±»çš„fly()å‡½æ•°ä¸­ï¼Œå¯¹defaultFly()åšäº†ä¸€ä¸ªinlineè°ƒç”¨ï¼ˆè§æ¡æ¬¾30ï¼Œinlineå’Œvirtualå‡½æ•°ä¹‹é—´çš„äº¤äº’å…³ç³»ï¼‰ â‘¡ ç¬¬äºŒç§ä¿®æ”¹æ–¹æ³• ä¸Šé¢æˆ‘ä»¬å°†fly()æ¥å£å’Œå®ç°ï¼ˆdefaultFly()å‡½æ•°ï¼‰åˆ†å¼€æ¥å®ç°ï¼Œæœ‰äº›äººå¯èƒ½ä¼šåå¯¹è¿™æ ·åšï¼Œå› ä¸ºè¿™æ ·ä¼šå› è¿‡åº¦é›·åŒçš„å‡½æ•°åç§°è€Œå¼•èµ·classå‘½åç©ºé—´æ±¡æŸ“ å¦‚æœä¸æƒ³å°†ä¸Šè¿°ä¸¤ä¸ªè¡Œä¸ºåˆ†å¼€ï¼Œé‚£ä¹ˆå¯ä»¥ä¸ºçº¯è™šå‡½æ•°è¿›è¡Œå®šä¹‰ï¼Œåœ¨å…¶ä¸­ç»™å‡ºdefaultFly()å‡½æ•°çš„ç›¸å…³å†…å®¹ã€‚ä¾‹å¦‚ï¼š class Airport {}; //æœºåœº class Airplane { public: //å®ç°çº¯è™šå‡½æ•° virtual void fly(const Airport\u0026 destination) = 0 { //é£æœºé£å¾€æŒ‡å®šçš„ç›®çš„åœ°(é»˜è®¤è¡Œä¸º) } }; class ModelA :public Airplane { public: virtual void fly(const Airport\u0026 destination) { Airplane::fly(destination); } }; class ModelB :public Airplane { public: virtual void fly(const Airport\u0026 destination) { Airplane::fly(destination); } }; class ModelC :public Airplane { public: virtual void fly(const Airport\u0026 destination) { //å®šä¹‰è‡ªå·±çš„é£è¡Œæ–¹å¼ } }; è¿™ä¸ªè®¾è®¡å®ç°çš„åŠŸèƒ½å’Œä¸Šé¢çš„æ¼”ç¤ºæ¡ˆä¾‹æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡åœ¨æ´¾ç”Ÿç±»çš„fly()å‡½æ•°ä¸­ç”¨çº¯è™šå‡½æ•°Airplane::flyæ›¿æ¢äº†ç‹¬ç«‹å‡½æ•°Airplane::defaultFly è¿™ç§åˆå¹¶è¡Œä¸ºä¸§å¤±äº†â€œè®©ä¸¤ä¸ªå‡½æ•°äº«æœ‰ä¸åŒä¿æŠ¤çº§åˆ«â€çš„æœºä¼šï¼šä¾‹å¦‚ä¸Šé¢çš„defaultFly()å‡½æ•°ä»protectedå˜ä¸ºäº†public æ™®é€šçš„æˆå‘˜å‡½æ•° æœ€åæ¥çœ‹çœ‹Airplaneçš„æ™®é€šæˆå‘˜å‡½æ•° class Shape { public: int objectID()const; //æ™®é€šæˆå‘˜å‡½æ•°ï¼Œä¸å¸Œæœ›æ´¾ç”Ÿç±»éšè— }; class Rectangle :public Shape {}; class Ellipse :public Shape {}; è®¾ç½®æ™®é€šçš„æˆå‘˜å‡½æ•°çš„ç›®çš„ï¼š æ„å‘³ç€åŸºç±»ä¸å¸Œæœ›æ´¾ç”Ÿç±»å»éšè—è¿™ä¸ªæˆå‘˜å‡½æ•° å®é™…ä¸Šä¸€ä¸ªæ™®é€šçš„æˆå‘˜å‡½æ•°æ‰€è¡¨ç°çš„ä¸å˜æ€§å‡Œé©¾å…¶ç‰¹å¼‚æ€§ï¼Œå› ä¸ºå®ƒè¡¨ç¤ºä¸è®ºæ´¾ç”Ÿç±»å˜å¾—å¤šç‰¹ç‰¹å¼‚åŒ–ï¼Œå®ƒçš„è¡Œä¸ºéƒ½ä¸å¯ä»¥æ”¹å˜ åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼š æ¯ä¸ªShapeå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªç”¨æ¥äº§ç”Ÿå¯¹è±¡è¯†åˆ«ç çš„å‡½æ•° æ­¤è¯†åˆ«ç æ€»æ˜¯é‡‡ç”¨ç›¸åŒè®¡ç®—æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æœ‰Shape::objectIDçš„å®šä¹‰å¼å†³å®šï¼Œä»»ä½•æ´¾ç”Ÿç±»éƒ½ä¸åº”è¯¥å°è¯•æ”¹å˜å…¶è¡Œä¸º ç”±äºæ™®é€šæˆå‘˜å‡½æ•°ä»£è¡¨çš„æ„ä¹‰æ˜¯ä¸å˜æ€§å‡Œé©¾ç‰¹å¼‚æ€§ï¼Œæ‰€ä»¥å®ƒç»ä¸è¯¥åœ¨æ´¾ç”Ÿç±»ä¸­è¢«é‡æ–°å®šä¹‰ï¼ˆè¿™ä¹Ÿæ˜¯æ¡æ¬¾36æ‰€è®¨è®ºçš„ä¸€ä¸ªé‡ç‚¹ï¼‰ ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:4:0","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"Summery æ¥å£ç»§æ‰¿å’Œå®ç°ç»§æ‰¿ä¸åŒã€‚åœ¨publicç»§æ‰¿ä¹‹ä¸‹ï¼Œderived classesæ€»æ˜¯ç»§æ‰¿base classçš„æ¥å£ pure virtualå‡½æ•°åªå…·ä½“hidingæ¥å£ç»§æ‰¿ impure virtaulå‡½æ•°å…·ä½“æŒ‡å®šæ¥å£ç»§æ‰¿åŠç¼ºçœå®ç°ç»§æ‰¿ non-virtualå‡½æ•°å…·ä½“æŒ‡å®šæ¥å£ç»§æ‰¿ä»¥åŠå¼ºåˆ¶æ€§å®ç°ç»§æ‰¿ é¢˜å¤–è¯ï¼Œæ˜¯ä¸æ˜¯å…‰çœ‹è¿™ä¸ªæ¡æ¬¾è¿˜æ˜¯ä¸æ‡‚æ¥å£ç»§æ‰¿å’Œå®ç°ç»§æ‰¿åˆ°åº•æ˜¯å•¥ï¼Œå¯¹å§ ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:4:1","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾35 è€ƒè™‘virtualå‡½æ•°ä»¥å¤–çš„é€‰æ‹© ä¸€èˆ¬åšæ³• æˆ‘ä»¬éƒ½ç©è¿‡æ¸¸æˆï¼Œåœ¨ç æ€æ¸¸æˆä¸­ï¼Œæˆ‘ä»¬å‡å®šä½¿ç”¨æˆå‘˜å‡½æ•°healthValueï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºäººç‰©çš„å¥åº·ç¨‹åº¦ã€‚å°†å…¶è®¾ç½®ä¸ºvirtualä¼¼ä¹æ˜¯å†æ˜ç™½ä¸è¿‡çš„åšæ³• class GameCharacter { public: virtual int healthValue() const; ... } Non-Virtual Interfaceæ‰‹æ³• å®ç° Template Methodæ¨¡å¼ è¿™é‡Œæ˜¯ä¸æ˜¯ä¸æ‡‚Teamplate Methodæ¨¡å¼ï¼Œè¿™å¯ä¸æ˜¯c++çš„ template å“¦ï¼Œä¸æ‡‚å°±å»çœ‹ã€Šè®¾è®¡æ¨¡å¼-æ¨¡æ¿æ–¹æ³•ã€‹ æœ‰ä¸€ç§æµæ´¾ï¼Œå®ƒä¸»å¼ virtualå‡½æ•°åº”è¯¥å‡ ä¹æ€»æ˜¯privateã€‚è¿™ä¸ªæµæ´¾çš„æ‹¥æŠ¤è€…å»ºè®®ï¼Œè¾ƒå¥½çš„è®¾è®¡æ˜¯ä¿ç•™healthValueä¸ºpublicæˆå‘˜å‡½æ•°ï¼Œä½†è®©å®ƒæˆä¸ºnon-virtualï¼Œå¹¶è°ƒç”¨ä¸€ä¸ªprivate virtualå‡½æ•° class GameCharacter { public: int healthValue() const { ... int retValue = doHealthValue; ... return retValue; } ... private: virtual int doHealthValue() const { // derived classes å¯é‡æ–°å®šä¹‰å®ƒ ... // ç¼ºçœç®—æ³•ï¼Œè®¡ç®—å¥åº·æŒ‡æ•° } } Function Pointerså®ç° Strategy æ¨¡å¼ è¿™é‡Œæ˜¯ä¸æ˜¯ä¸æ‡‚Strategyæ¨¡å¼ï¼Œä¸æ‡‚å°±å»çœ‹ã€Šè®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼ã€‹ å¦ä¸€ç§æµæ´¾è®¾è®¡ä¸»å¼ â€äººç‰©å¥åº·æŒ‡æ•°çš„è®¡ç®—ä¸äººç‰©ç±»å‹æ— å…³â€œï¼Œè¿™æ ·è®¡ç®—å®Œå…¨ä¸éœ€è¦â€äººç‰©â€œè¿™ä¸ªæˆåˆ† ä¾‹å¦‚æˆ‘ä»¬å¯èƒ½ä¼šè¦æ±‚æ¯ä¸ªäººç‰©çš„æ„é€ å‡½æ•°æ¥å—ä¸€ä¸ªæŒ‡é’ˆï¼ŒæŒ‡å‘ä¸€ä¸ªå¥åº·è®¡ç®—å‡½æ•°ï¼Œè€Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨è¯¥å‡½æ•°è¿›è¡Œå®é™…è®¡ç®— class Gamecharacter; // å‰ç½®å£°æ˜ // ä»¥ä¸‹å‡½æ•°å°±æ˜¯è®¡ç®—å¥åº·æŒ‡æ•°çš„ç¼ºçœç®—æ³• int defaultHealthCalc(const GameCharacter\u0026 gc); class GameCharacter { public: typedef int (*HealthCalcFunc) (const GameCharacter\u0026); explicit GameCharacter(HealthCalcFunc hcf = defaultHealthCalc) : healthFunc(hcf) { } int healthValue() const { return healthFunc(*this); } ... private: HealthCalcFunc healthFunc; } ç›¸æ¯”äºä¹‹å‰åšæ³•ï¼Œè¯¥Strategyè®¾è®¡æ¨¡å¼çš„ç®€å•åº”ç”¨ï¼Œå®ƒæä¾›äº†æŸäº›æœ‰è¶£å¼¹æ€§ ","date":"2023-03-08","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/:5:0","tags":["Effective C++"],"title":"æ¡æ¬¾32~40 ç»§æ‰¿ä¸é¢å‘å¯¹è±¡è®¾è®¡","uri":"/effective-c-%E6%9D%A1%E6%AC%BE32-40/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾26ï½31 å®ç°","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾26ï½31 å®ç° ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:0:0","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾26 å°½å¯èƒ½å»¶åå˜é‡å®šä¹‰å¾—æ—¶é—´ å› ä¸ºå˜é‡ï¼ˆå¯¹ç±»è€Œè¨€ï¼‰çš„å®šä¹‰ï¼Œéœ€è¦æ‰¿æ‹…ä¸€æ¬¡æ„é€ å‡½æ•°çš„æ—¶é—´ï¼Œåœ¨å‡½æ•°ç»“æŸåè¿˜å¯èƒ½æ‰¿æ‹…ä¸€æ¬¡ææ„å‡½æ•°çš„æ—¶é—´ï¼Œå‡å¦‚è¯¥å˜é‡æœªè¢«ä½¿ç”¨ï¼Œé‚£ä¹ˆæ„é€ å‡½æ•°å’Œææ„å‡½æ•°çš„æ—¶é—´å°±ç™½ç™½æµªè´¹äº†ï¼Œå°¤å…¶æ˜¯åœ¨å¯èƒ½å‘ç”Ÿå¼‚å¸¸çš„å‡½æ•°ä¸­ï¼Œå‡å¦‚ä½ è¿‡æ—©çš„å®šä¹‰å˜é‡ï¼Œç„¶ååœ¨ä½ ä½¿ç”¨è¿™ä¸ªå˜é‡ä¹‹å‰æŠ›å‡ºäº†å¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™ä¸ªå˜é‡çš„æ„é€ å‡½æ•°å°±æ²¡æœ‰æ„ä¹‰è€Œä¸”é™ä½æ•ˆç‡ã€‚æ‰€ä»¥åº”è¯¥å°½å¯èƒ½å»¶åå˜é‡å®šä¹‰å¾—æ—¶é—´ï¼Œåªæœ‰çœŸæ­£ä½¿ç”¨è¿™ä¸ªå˜é‡çš„æ—¶å€™æ‰å®šä¹‰å®ƒ æ¡æ¬¾4è®²è¿‡ï¼Œcopy constructionçš„æ•ˆç‡ \u003e default construction +assign functionï¼Œæ‰€ä»¥æœ€å¥½çš„åšæ³•æ˜¯ç›´æ¥è°ƒç”¨copy constructionå‡½æ•°å¯¹å˜é‡ç›´æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯å…ˆå®šä¹‰ï¼Œå†èµ‹å€¼ std::string encryptPassword(const std::string\u0026 password) { ... string encrypted; encrypted = password; ... } std::string encryptPassword(const std::string\u0026 password) { ... string encrypted(password) ... } å¯¹äºæœ‰å¾ªç¯çš„æƒ…å†µï¼Œå‡è®¾ä¸€ä¸ªnæ¬¡çš„å¾ªç¯ï¼Œå¦‚ä»£ç æ‰€ç¤º æ–¹æ³•A-å®šä¹‰äºå¾ªç¯ä¹‹å¤– æ­¤æ–¹æ³•çš„ä»£ä»· - 1æ¬¡æ„é€ ï¼Œ1æ¬¡ææ„ï¼Œnæ¬¡èµ‹å€¼ Widget w; for (int i = 0; i \u003c n; ++i) { w = \u003cå–å†³äºiçš„æŸä¸ªå€¼\u003e; ... } æ–¹æ³•B-å®šä¹‰äºå¾ªç¯å†… æ­¤æ–¹æ³•çš„ä»£ä»· - næ¬¡æ„é€ ï¼Œnæ¬¡ææ„ for (int i = 0; i \u003c n; ++i) { Widget w(\u003cå–å†³äºiçš„æŸä¸ªå€¼\u003e); ... } å¦‚æœnè¾ƒå¤§ï¼Œé‚£ä¹ˆåº”è¯¥é€‰æ‹©æ–¹æ³•A / å¦‚æœnè¾ƒå°ï¼Œå¯ä»¥é€‰æ‹©æ–¹æ³•B ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:1:0","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"Summary å°½å¯èƒ½å»¶åå˜é‡å®šä¹‰å¾—æ—¶é—´ï¼Œåªæœ‰çœŸæ­£ä½¿ç”¨è¿™ä¸ªå˜é‡çš„æ—¶å€™æ‰å®šä¹‰å®ƒ ç›´æ¥è°ƒç”¨copy constructionå‡½æ•°å¯¹å˜é‡ç›´æ¥è¿›è¡Œåˆå§‹åŒ–ï¼Œè€Œä¸æ˜¯å…ˆå®šä¹‰ï¼Œå†èµ‹å€¼ å¯¹äºæœ‰å¾ªç¯çš„æƒ…å†µï¼Œå¦‚æœnè¾ƒå¤§ï¼Œé‚£ä¹ˆåº”è¯¥é€‰æ‹©æ–¹æ³•A / å¦‚æœnè¾ƒå°ï¼Œå¯ä»¥é€‰æ‹©æ–¹æ³•B ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:1:1","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾27 æ­£ç¡®ä½¿ç”¨ç±»å‹è½¬æ¢ const_castï¼š4ä¸ªç±»å‹è½¬æ¢ä¸­å”¯ä¸€ä¸€ä¸ªå¯ä»¥å¯¹constè¿›è¡Œè½¬æ¢çš„ç±»å‹è½¬æ¢ç¬¦ static_castï¼šç®—æ˜¯ç”¨çš„æœ€å¤šçš„ä¸€ä¸ªç±»å‹è½¬æ¢ç¬¦ï¼Œæ˜ç¡®æŒ‡å‡ºç±»å‹è½¬æ¢ï¼Œä¸€èˆ¬å»ºè®®éƒ½å°†éšå¼è½¬æ¢éƒ½æ›¿æ¢ä¸ºæ˜¾ç¤ºè½¬æ¢ï¼Œå› ä¸ºæ²¡æœ‰åŠ¨æ€ ç±»å‹æ£€æŸ¥ï¼Œstatic_castä¸Šè¡Œè½¬æ¢ä¹Ÿå°±æ˜¯ æ´¾ç”Ÿç±»-\u003eåŸºç±» å®‰å…¨ï¼Œä½†æ˜¯ä¸‹è¡Œè½¬æ¢ä¸å®‰å…¨ï¼Œæ‰€ä»¥ä¸»è¦æ‰§è¡Œéå¤šæ€çš„è½¬æ¢æ“ä½œï¼Œå…¶å®åŸºæœ¬ä¸Šé™¤äº†å¸¸é‡å’Œéå¤šæ€ä¹Ÿå°±éƒ½ç”¨static_castäº† æ—¢ç„¶æ˜¯æœ€å¸¸ç”¨çš„ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹static_cast static_castä½¿ç”¨ä¾‹å­ class Widget { public: explicit Widget(int size); ... }; void doSomeWork(const Widget\u0026 w); doSomeWork(Widget(15)); // create Widget from int with function-style cast doSomeWork(static_cast\u003cWidget\u003e(15)); // create Widget from int with c++-style cast // å…³äº function-style å¤§å®¶å¯ä»¥çœ‹è¿™ä¸ªç½‘å€ // url: https://en.cppreference.com/w/cpp/language/explicit_cast static_castè½¬å‹åˆ†æ #include \u003cstdio.h\u003e class Base { public: int a; }; class Dervied : public Base { public: double c{}; virtual void bar() }; int main() { Dervied d; Base* base = static_cast\u003cBase*\u003e(\u0026d); } static_cast\u003cxxx\u003e(zzz)å…¶å®æ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ å¦‚ä¸‹è¿°ä»£ç ï¼Œå¦‚æœWindow::onResize()ä¸­æœ‰ä¿®æ”¹æˆå‘˜å˜é‡çš„æ“ä½œï¼Œé‚£ä¹ˆåœ¨SpecialWindowä¸­æ˜¯ä¿®æ”¹ä¸äº†çš„ï¼Œå› ä¸ºè½¬æ¢ååªæ˜¯ä¸€ä¸ªä¸´æ—¶å¯¹è±¡ class Window { public: virtual void onResize() { ... }; }; class SpecialWindow : public Window { public: virtual void onResize() { static_cast\u003cWindow\u003e(*this).onResize(); } } // æ­£ç¡®å†™æ³• class SpecialWindow : public Window { public: virtual void onResize() { Window::onResize(); } } dynamic_castï¼šä¸“â»”ç”¨äºæ´¾ç”Ÿç±»ä¹‹é—´çš„è½¬æ¢ï¼Œtype-id å¿…é¡»æ˜¯ç±»æŒ‡é’ˆï¼Œç±»å¼•ç”¨æˆ– voidï¼Œå¯¹äºä¸‹è¡Œè½¬æ¢æ˜¯å®‰å…¨çš„ï¼Œå½“ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œè½¬æ¢è¿‡æ¥çš„æ˜¯ç©ºæŒ‡é’ˆï¼Œè€Œstatic_castï¼Œå½“ç±»å‹ä¸ä¸€è‡´æ—¶ï¼Œè½¬æ¢è¿‡æ¥çš„æ˜¯é”™è¯¯æ„ä¹‰çš„æŒ‡é’ˆï¼Œå¯èƒ½é€ æˆéæ³•è®¿é—®ç­‰é—®é¢˜* ä»–çš„ä»£ä»·ä¹Ÿæ¯”è¾ƒé«˜ï¼Œå› ä¸ºå…¶ä»–çš„éƒ½æ˜¯åœ¨ç¼–è¯‘æ—¶ï¼Œè¿™ä¸ªæ˜¯åœ¨è¿è¡Œæ—¶ dynamic_castçš„å¼€é”€æœ‰ç‚¹å¤§ï¼Œæ‰€ä»¥èƒ½é¿å…å°±é¿å… æ­¤è§£å†³æ–¹æ³•1 å¾ˆé¸¡è‚‹ å› ä¸ºåŸæœ¬æƒ³ç”¨åŸºç±»æŒ‡é’ˆï¼Œè¿™æ ·æ–¹ä¾¿æ‰©å±•ç±» é’ˆå¯¹ä¸Šè¿°é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è¿™ä¹ˆæ”¹ reinterpret_castï¼šä¸åˆ°ä¸‡ä¸å¾—å·²ï¼Œä¸è¦ä½¿ç”¨è¿™ä¸ªè½¬æ¢ç¬¦ï¼Œé«˜å±æ“ä½œ ä½¿ç”¨ç‰¹ç‚¹: ä»åº•å±‚ å¯¹æ•°æ®è¿›è¡Œé‡æ–°è§£é‡Šï¼Œä¾èµ–å…·ä½“çš„å¹³å°ï¼Œå¯ç§»æ¤æ€§å·® å¯ä»¥å°†æ•´å½¢è½¬æ¢ä¸ºæŒ‡é’ˆï¼Œä¹Ÿå¯ä»¥æŠŠæŒ‡é’ˆè½¬æ¢ä¸ºæ•°ç»„; å¯ä»¥åœ¨æŒ‡é’ˆå’Œå¼•ç”¨ä¹‹é—´è¿›è¡Œè‚†æ— å¿Œæƒ®çš„è½¬æ¢ ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:2:0","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"Summary æœ€å¥½ä½¿ç”¨C++4ä¸ªæ–°å¼çš„ç±»å‹è½¬æ¢å‡½æ•°ï¼Œå› ä¸ºè¿™å¾ˆå®¹æ˜“è¾¨è¯†ï¼Œä»£ç å¯è¯»æ€§æé«˜ å°½é‡é¿å…ä½¿ç”¨dynamic_castï¼Œå› ä¸ºè¿™ç§è½¬æ¢æ•ˆç‡å¾ˆä½ï¼Œä¸€èˆ¬ç”¨è™šå‡½æ•°çš„æ–¹å¼æ¥é¿å…è½¬å‹ ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:2:1","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾28 é¿å…è¿”å›ä¸€ä¸ªæŒ‡é’ˆã€å¼•ç”¨æˆ–è€…è¿­ä»£å™¨æŒ‡å‘ç±»å†…çš„æˆå‘˜ å¦‚æœè¿”å›äº†æˆå‘˜çš„å¼•ç”¨æˆ–è€…æŒ‡é’ˆï¼Œå°±å¯ä»¥é€šè¿‡è¿™ä¸ªå¼•ç”¨æˆ–è€…æŒ‡é’ˆä¿®æ”¹é›·å†…çš„privateæˆå‘˜ï¼Œè¿™æ ·æ˜¯ä¸åˆç†çš„ï¼ˆè¿™æ ·çš„è¯æˆå‘˜å°±ç›¸å½“äºpublicçš„äº†ï¼‰ï¼Œè¿™ä¸€ç‚¹å¯ä»¥é€šè¿‡ç»™å‡½æ•°çš„è¿”å›ç±»å‹åŠ constä¿®é¥°ç¬¦æ¥é˜²æ­¢å†…éƒ¨æˆå‘˜å˜é‡è¢«ä¿®æ”¹ ä½†æ˜¯è¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯ï¼Œå¦‚æœè·å¾—çš„ç±»å†…çš„ä¸€ä¸ªæˆå‘˜çš„å¼•ç”¨æˆ–æŒ‡é’ˆï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œå¯¹è±¡è¢«é‡Šæ”¾äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼•ç”¨æˆ–æŒ‡é’ˆå°±å˜æˆäº†é‡æŒ‡é’ˆäº†ï¼Œå¿…ç„¶ä¼šå¯¼è‡´core dumpé”™è¯¯ã€‚æ‰€ä»¥åº”è¯¥é¿å…è¿”å›ç±»å†…æˆå‘˜çš„æŒ‡é’ˆæˆ–å¼•ç”¨ ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:3:0","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾29 åŠªåŠ›å†™ä¸€ä¸ªå¼‚å¸¸å®‰å…¨çš„ä»£ç  è¿™ä¸ªæ¡æ¬¾çš„æ ¸å¿ƒæ€è·¯å°±æ˜¯ å‘ç”Ÿå¼‚å¸¸æ—¶çš„å¤„ç†ä¸»è¦åˆ†ä¸€ä¸‹å‡ ç±»ï¼šèµ„æºä¸æ³„æ¼ã€æ•°æ®ä¸ä¸¢å¤±ã€ä¸æŠ›å‡ºå¼‚å¸¸ã€‚åæ­£å°±æ˜¯è€ƒè™‘ç¨‹åºçš„å„ç§å¯èƒ½çš„æƒ…å†µï¼Œå¦‚æœå¼‚å¸¸äº†è¦å°½å¯èƒ½ä¿è¯ä½ çš„ç¨‹åºæŸäº›åŠŸèƒ½æˆ–æ•°æ®ä¸ä¸¢å¤± RAIIï¼Œä¸æ¸…æ¥šRAIIï¼Œå¯ä»¥å»çœ‹ã€ŠRAIIæ˜¯ä»€ä¹ˆã€‹ class PrettyMenu { public: void changeBackground(std::istream\u0026 imgSrc); private: Mutex mutex; Image *bgImage; int imageChanges; }; void PrettyMenu::changeBackground(std::istream\u0026 imgSrc) { lock(\u0026mutex); delete bgImage; ++imageChanges; bgImage = new Image(imgSrc); // å¯èƒ½å‡ºç°å¼‚å¸¸ unlock(\u0026mutex) } å¦‚æœåœ¨ bgImage = new Image(imgSrc);å‡ºç°å¼‚å¸¸ é‚£ä¹ˆä½ å°±ä¼šå‘ç°ï¼Œæ•°æ®å·²ç»å‡ºç°ä¿®æ”¹å¹¶ä¸”é”ä¹Ÿæ²¡æœ‰é‡Šæ”¾ï¼Œæˆ‘ä»¬ç§°è¿™ç§ä»£ç å°±æ˜¯å¼‚å¸¸ä¸å®‰å…¨ä»£ç  æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ RAII è¿™ä¹ˆä¿®æ”¹ void PrettyMenu::changeBackground(std::istream\u0026 imgSrc) { lock_guard(\u0026mutex); // lock_guardå°±æ˜¯c++11ä¹‹åçš„ä¸€ä¸ªRAIIå¯¹è±¡ delete bgImage; ++imageChanges; bgImage = new Image(imgSrc); // å¯èƒ½å‡ºç°å¼‚å¸¸ } æˆ‘ä»¬åˆ©ç”¨RAIIèƒ½å¤ŸæˆåŠŸçš„æŠŠé”ç»™é‡Šæ”¾äº†ï¼Œä½†æ˜¯æ•°æ®ç ´åè¿˜æ²¡æœ‰è§£å†³ æ™ºèƒ½æŒ‡é’ˆ class PrettyMenu { ... std::shared_ptr\u003cImage\u003e bgImage; ... } void PrettyMenu::changeBackground(std::istream\u0026 imgSrc) { lock_guard(\u0026mutex); // lock_guardå°±æ˜¯c++11ä¹‹åçš„ä¸€ä¸ªRAIIå¯¹è±¡ bgImage.reset(new Image(imgSrc)); ++imageChanges; } è¿™æ ·è¿™æ®µä»£ç å°±æ˜¯ä¸€ä¸ªåŸºæœ¬å¼‚å¸¸å®‰å…¨çš„ä»£ç  å¼‚å¸¸å®‰å…¨ä¹Ÿæ˜¯åˆ†ç­‰çº§çš„ï¼Œå¼‚å¸¸å®‰å…¨ä»£ç åªéœ€ä¿è¯ä¸‹é¢å…¶ä¸€å°±å¯ä»¥è¯´æ˜¯å¼‚å¸¸å®‰å…¨ä»£ç  basic guarantee åŸºæœ¬å¼‚å¸¸å®‰å…¨ï¼Œå°±å¦‚ä¸Šè¿°ä¾‹å­ä¸€æ ·ï¼Œä¸ä¼šæ•°æ®ç ´åï¼Œèµ„æºæ³„æ¼ strong guarantee å¼ºåŠ›å¼‚å¸¸å®‰å…¨ï¼Œå¦‚æœå‡½æ•°å¤±è´¥ï¼Œæ­¤æ—¶çŠ¶æ€è¿˜æ˜¯æ‰§è¡Œå‡½æ•°ä¹‹å‰çš„çŠ¶æ€ nothrow guarantee ä¸ä¼šæŠ›å‡ºå¼‚å¸¸çš„ æ€ä¹ˆèƒ½åšåˆ°å¼ºåŠ›å¼‚å¸¸å®‰å…¨ copy and swap è¯¥ç­–ç•¥æ˜¯ã€ŠPimplã€‹çš„ä¸€ç§ä½¿ç”¨å®ç° struct PMImpl { std::shared_ptr\u003cImage\u003e bgImage; int imageChanges; } class PrettyMenu { ... private: Mutex mutex; std::shared_ptr\u003cPMImpl\u003e pImpl; } void PrettyMenu::changeBackground(std::istream\u0026 imgSrc) { using std::swap; Lock ml(\u0026mutex); std::shared_ptr\u003cPMImpl\u003e; pNew-\u003ebgImage.reset(new Image(imgSrc)); ++pNew-\u003eimageChanges; swap(pImpl, pNew); } å®ç°å¼ºå¼‚å¸¸å®‰å…¨è¿˜æ˜¯æ¯”è¾ƒæœ‰å›°éš¾çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦ä¿è¯ä¸€ä¸ªåŸºæœ¬çš„å¼‚å¸¸å®‰å…¨ï¼Œä½†æ˜¯å¦‚æœèƒ½å®ç°å¼ºåŠ›å¼‚å¸¸å®‰å…¨ï¼Œé‚£ä¹Ÿè¿˜è¦å»å®ç°çš„ çœ‹ä¸‹è¿°ä»£ç ï¼Œå¦‚æœf1() f2()åªæ˜¯åŸºæœ¬å¼‚å¸¸å®‰å…¨ï¼Œç„¶è€Œæˆ‘ä»¬æƒ³è¦æŠŠsomeFunc()å®ç°ä¸ºå¼ºå¼‚å¸¸å®‰å…¨ï¼Œé‚£ä»£ä»·å°†æ˜¯éå¸¸é«˜çš„ å› ä¸ºï¼Œæˆ‘ä»¬è¦æ•æ‰f1() çš„æ‰€æœ‰å¼‚å¸¸ï¼Œç„¶ååœ¨f1()æ‰§è¡Œä¹‹å‰å°†å‡½æ•°ç›®å‰çŠ¶æ€éƒ½ä¿å­˜ä¸‹æ¥ï¼Œå¦‚æœå¼‚å¸¸äº†å°±è¦æ¢å¤ï¼Œæ‰€ä»¥ä»£ä»·ä¼šå¾ˆé«˜ å¦‚æœf1() f2()éƒ½æ˜¯å¼ºåŠ›å¼‚å¸¸å®‰å…¨ï¼Œé‚£ä¹ˆè¡Œä¸è¡Œå‘¢ï¼Œä¹Ÿæ˜¯ä¸è¡Œçš„ï¼Œå› ä¸ºf1æ‰§è¡ŒæˆåŠŸï¼Œä½†æ˜¯f2å¼‚å¸¸äº†ï¼Œè¿™æ—¶å€™f1è¯¥åšçš„æ“ä½œä¹Ÿéƒ½åšäº† void someFunc() { ... // make copy of local state f1(); f2(); ... // swap modified state into place } ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:4:0","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"Summary å‘ç”Ÿå¼‚å¸¸æ—¶çš„å¤„ç†ä¸»è¦åˆ†ä¸€ä¸‹å‡ ç±»ï¼šèµ„æºä¸æ³„æ¼ã€æ•°æ®ä¸ä¸¢å¤±ã€ä¸æŠ›å‡ºå¼‚å¸¸ã€‚åæ­£å°±æ˜¯è€ƒè™‘ç¨‹åºçš„å„ç§å¯èƒ½çš„æƒ…å†µï¼Œå¦‚æœå¼‚å¸¸äº†è¦å°½å¯èƒ½ä¿è¯ä½ çš„ç¨‹åºæŸäº›åŠŸèƒ½æˆ–æ•°æ®ä¸ä¸¢å¤± å®ç°å¼‚å¸¸å®‰å…¨å¯ä»¥ä¾é ä¸‹è¿°åŠæ³•ï¼Œä½†ä¸ä»…ä¾é ä¸‹è¿°åŠæ³• RAII æ™ºèƒ½æŒ‡é’ˆ PImpl - è¿™ä¸ªæ˜¯å®ç°å¼ºåŠ›å¼‚å¸¸å®‰å…¨çš„æ€è·¯ æˆ‘ä»¬è¦åšåˆ°åŸºæœ¬å¼‚å¸¸å®‰å…¨ï¼Œå¼ºåŠ›å¼‚å¸¸å®‰å…¨å°±ä½›ç³»ï¼Œä½†æ˜¯èƒ½åšåˆ°ä¹Ÿæœ€å¥½ ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:4:1","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾30 ç†è§£inline function inline function ä¼šåœ¨ç¬¦å·è¡¨ä¸­ä»¥\"weak\"ä¸­å­˜åœ¨ ä¸‹è¿°ä»£ç åœ¨é“¾æ¥çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œä½ è¿™ä¸ªå…¨å±€å…¶å®æœ‰ä¸¤ä¸ªfoo()å‡½æ•° æˆ‘ä»¬æ¥çœ‹çœ‹ä¸Šè¿°ä»£ç çš„ç¬¦å·è¡¨ï¼Œåœ¨ç¬¦å·è¡¨ä¸­å…¶å®foo(int)ç¬¦å·ç»‘å®šç±»å‹æ˜¯GLOBAL æˆ‘ä»¬ç”¨inline functionæ¥è¯•è¯• c++17 ä¹‹åé™æ€æˆå‘˜ç›´æ¥ç±»å†…inlineå°±å¯ä»¥çœå»ç±»å¤–åˆå§‹åŒ–çš„éº»çƒ¦ inline static uint8_t selectone = 0; c++11ä¹‹åinlineå¯ä»¥ä¿®é¥°å‘½åç©ºé—´ ä¸‹è¿°ä»£ç  åœ¨libfoo_2022å‘½åç©ºé—´ä¸­ä¼šæœ‰ä¸€ä¸ªæ¨¡æ¿fooï¼Œç„¶åå†libfooå‘½åç©ºé—´ä¸­æƒ³æ¥ä¸ªæ¨¡æ¿ç‰¹åŒ–ï¼Œè¿™æ ·æ˜¯ä¼šæŠ¥é”™çš„ namespace libfoo { namespace libfoo_2022 { template \u003ctypename T\u003e T\u0026 foo(T\u0026); } using namespace libfoo_2022; } namespace libfoo { template \u003c\u003e float\u0026 foo\u003cfloat\u003e(float\u0026); } å¯ä»¥åœ¨namespaceä¸­åŠ å…¥inline namespace libfoo { inline namespace libfoo_2022 { void foo1(Bar1); class Bar2 {}; template \u003ctypename T\u003e T\u0026 foo(T\u0026); } using namespace libfoo_2022; } namespace libfoo { template \u003c\u003e float\u0026 foo\u003cfloat\u003e(float\u0026); } éšå¼ inline ä¸‹è¿°åœºæ™¯æ˜¯ä¸€ä¸ªéšå¼inline class Person { public: ... int age() const { return theAge; } // éšå¼inline ... private: int theAge; }; inlineä¹Ÿå¯ä»¥ä¿®é¥°æ¨¡æ¿å¯¹å§ï¼Œåœ¨ç¬¦å·è¡¨ä¸­ï¼Œå…¶å®æ¨¡æ¿ä¹Ÿæ˜¯weakç¬¦å·ç±»å‹ ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:5:0","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"Summary inline function ä¼šåœ¨ç¬¦å·è¡¨ä¸­ä»¥\"weak\"ä¸­å­˜åœ¨ c++11ä¹‹åinlineå¯ä»¥ä¿®é¥°å‘½åç©ºé—´ c++17 ä¹‹åé™æ€æˆå‘˜ç›´æ¥ç±»å†…inlineå°±å¯ä»¥çœå»ç±»å¤–åˆå§‹åŒ–çš„éº»çƒ¦ éšå¼ inlineï¼Œå¯¹äºæ¨¡æ¿æ¥è¯´éƒ½æ˜¯inline ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:5:1","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾31 æœ€å°åŒ–æ–‡ä»¶ä¾èµ– æˆ‘ä»¬åœ¨é¡¹ç›®é‡Œåªä¿®æ”¹äº†ä¸€ä¸ªç§æœ‰æˆå‘˜ï¼Œç„¶åç¼–è¯‘å°±å‘ç°å…¨éƒ¨é‡æ–°ç¼–è¯‘äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦æ„å»ºä¸€ä¸ª\"ç¼–è¯‘é˜²ç«å¢™\"ï¼Œç¼–è¯‘é˜²ç«å¢™å°±æ˜¯æœ€å°åŒ–æ–‡ä»¶ä¾èµ– æˆ‘ä»¬æ¥çœ‹çœ‹c++çš„ä¸€ä¸ªç‰¹ç‚¹ï¼Œåœ¨ä¸‹è¿°ä»£ç ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ä¿®æ”¹äº†Date.hæˆ–è€…Address.hï¼Œé‚£ä¹ˆåªè¦åŒ…å«äº†Person.hçš„æ–‡ä»¶å°±ä¼šé‡æ–°ç¼–è¯‘ #include \u003cstring\u003e #include \"Date.h\" #include \"Address.h\" class Person { public: Person(const std::string\u0026 name, const Date\u0026 birthday, const Address\u0026 addr); std::string name const; Date birthDate() const; Address address() const; private: std::string theName; Date theBirthDate; Address theAddress; } ç„¶åæˆ‘ä»¬ç»§ç»­åŸºäºä¸Šè¿°ä»£ç æ¥çœ‹main() int main() { int x; Person p(params); ... } åœ¨æ‰§è¡Œåˆ°Person p(params);è¿™ä¸€è¡Œ ç¼–è¯‘å™¨å°±å¿…é¡»çœ‹æ¸…æ¥šPersonæ˜¯å•¥ï¼Œç‰¹åˆ«æ˜¯ç§æœ‰æˆå‘˜å˜é‡é‡Œçš„Date Address ä½†æ˜¯æˆ‘ä»¬å¦‚æœå®šä¹‰æˆä¸€ä¸ªæŒ‡é’ˆï¼Œç¼–è¯‘å™¨å°±ä¸ä¼šå»çœ‹æ¸…æ¥š int main() { int x; Person* p; ... } è¿˜æ˜¯ã€ŠPimplã€‹çš„è®¾è®¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡\"PImpl\"æ¥æœ€å°åŒ–æ–‡ä»¶ä¾èµ– æˆ‘ä»¬é‡‡ç”¨äº†PImplè®¾è®¡ï¼Œå¹¶ä¸”å‰ç½®å£°æ˜ï¼Œä½†æ˜¯æœ‰å‡ ä¸ªç‚¹ä¸€å®šè¦æ³¨æ„ å¦‚ä¸‹è¿°ä»£ç ï¼ŒPerson::~Persion() = default;ä¸€å®šè¦å†™å‡ºæ¥ï¼Œå¦‚æœä¸å†™ï¼Œç¼–è¯‘å™¨é»˜è®¤ä¼šåŠ ï¼Œäºæ˜¯æ‰€æœ‰åŒ…å«è¯¥å¤´æ–‡ä»¶çš„ç¼–è¯‘å•å…ƒéƒ½ä¼šinlineç¼–è¯‘è¿™å‡ ä¸ªå‡½æ•°ï¼Œç„¶è€Œåˆæ‰¾ä¸åˆ°æ•°æ®ç±»çš„å®ç°ï¼Œäºæ˜¯å‡ºç°ç¼–è¯‘é”™è¯¯ Personæ„é€ å‡½æ•°å¦‚ä¸‹è¿°ä»£ç ç”¨æ™ºèƒ½æŒ‡é’ˆå†™ é™¤äº†\"PImpl\"ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ç”¨ æŠ½è±¡ç±»æ¥å£ æœ€å°åŒ–æ–‡ä»¶ä¾èµ– ç±»ä¸­å…¨éƒ¨éƒ½æ˜¯pure virtualå‡½æ•°ï¼Œè¿™æ ·çš„ç±»åœ¨ä½¿ç”¨çš„æ—¶å€™åªèƒ½æ˜¯ä»¥æŒ‡é’ˆçš„å½¢å¼å‡ºç°ï¼Œè¿™æ ·å°±åŒæ ·è¾¾åˆ°äº†å‡å°‘ç¼–è¯‘ä¾èµ–çš„æ•ˆæœ ä½†æ˜¯å¸Œæœ›çš„èƒ½æ˜ç™½ï¼Œè¿™ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥æœ€å°åŒ–ä¾èµ–ï¼Œæ²¡æœ‰ä»€ä¹ˆå¥½ä¸ä¸å¥½ã€‚å› ä¸ºPImplä»–å¤šå‡ºæ¥æŒ‡é’ˆï¼Œè€Œä¸”æ¯æ¬¡è®¿é—®éƒ½æ˜¯é—´æ¥è®¿é—®ã€‚è™šå‡½æ•°ä¹Ÿæ˜¯é è™šè¡¨å’Œè™šæŒ‡é’ˆï¼Œæ‰€ä»¥éƒ½ä¼šå¸¦æ¥ä¸€å®šçš„å¼€é”€ï¼Œå†™çš„æ—¶å€™ä»»æ„é€‰ä¸€ä¸ªç†Ÿæ‚‰çš„å³å¯ï¼Œæœ¬äººæ˜¯ä¹ æƒ¯æŠ½è±¡ç±»æ¥å£ ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:6:0","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["Effective C++"],"content":"Summary æˆ‘ä»¬å¯ä»¥é€šè¿‡\"PImpl\"æ¥æœ€å°åŒ–æ–‡ä»¶ä¾èµ– è¦æ³¨æ„ææ„å‡½æ•°å¿…é¡»æ˜¾ç¤ºçš„å†™å‡ºæ¥ æˆ‘ä»¬è¿˜å¯ä»¥ç”¨ æŠ½è±¡ç±»æ¥å£ æœ€å°åŒ–æ–‡ä»¶ä¾èµ– PImplä»–å¤šå‡ºæ¥æŒ‡é’ˆï¼Œè€Œä¸”æ¯æ¬¡è®¿é—®éƒ½æ˜¯é—´æ¥è®¿é—®ã€‚è™šå‡½æ•°ä¹Ÿæ˜¯é è™šè¡¨å’Œè™šæŒ‡é’ˆï¼Œæ‰€ä»¥éƒ½ä¼šå¸¦æ¥ä¸€å®šçš„å¼€é”€ ","date":"2023-03-07","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/:6:1","tags":["Effective C++"],"title":"æ¡æ¬¾26ï½31 å®ç°","uri":"/effective-c-%E6%9D%A1%E6%AC%BE26-31/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"RAII","date":"2023-03-06","objectID":"/%E7%BC%98%E8%B5%B7-raii/","tags":["RAII"],"title":"å•¥æ˜¯RAII?","uri":"/%E7%BC%98%E8%B5%B7-raii/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å•¥æ˜¯RAII? ","date":"2023-03-06","objectID":"/%E7%BC%98%E8%B5%B7-raii/:0:0","tags":["RAII"],"title":"å•¥æ˜¯RAII?","uri":"/%E7%BC%98%E8%B5%B7-raii/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"ä»€ä¹ˆæ˜¯RAII RAIIæ˜¯æŒ‡C++è¯­è¨€ä¸­çš„ä¸€ä¸ªæƒ¯ç”¨æ³•ï¼ˆidiomï¼‰ï¼Œå®ƒæ˜¯â€œResource Acquisition Is Initializationâ€çš„é¦–å­—æ¯ç¼©å†™ã€‚ä¸­æ–‡å¯å°†å…¶ç¿»è¯‘ä¸ºâ€œèµ„æºè·å–å°±æ˜¯åˆå§‹åŒ–â€ è™½ç„¶ä»æŸç§ç¨‹åº¦ä¸Šè¯´è¿™ä¸ªåç§°å¹¶æ²¡æœ‰ä½“ç°å‡ºè¯¥æƒ¯æ€§æ³•çš„æœ¬è´¨ç²¾ç¥ï¼Œä½†æ˜¯ä½œä¸ºæ ‡å‡†C++èµ„æºç®¡ç†çš„å…³é”®æŠ€æœ¯ï¼ŒRAIIæ—©å·²åœ¨C++ç¤¾ç¾¤ä¸­æ·±å…¥äººå¿ƒ ","date":"2023-03-06","objectID":"/%E7%BC%98%E8%B5%B7-raii/:1:0","tags":["RAII"],"title":"å•¥æ˜¯RAII?","uri":"/%E7%BC%98%E8%B5%B7-raii/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ€è·¯æ¨å¯¼ å¦‚æœä½ æœ‰å†™è¿‡C++æˆ–è€…RUSTï¼Œä½ ä¹Ÿè®¸å¬è¿‡Resource Acquisition Is Initialisation (RAII), ä½†æ˜¯å¹¶ä¸äº†è§£è¿™åå­—çš„å«ä¹‰æ˜¯ä»€ä¹ˆï¼Œæˆ–è€…ä¸çŸ¥é“è¿™ä¸ªæœºåˆ¶æœ‰ä»€ä¹ˆç”¨å¤„ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œç¬”è€…å°†è¯¦ç»†é˜è¿°RAIIçš„åŸç†ä»¥åŠå®ƒåœ¨èµ„æºç®¡ç†æ–¹é¢å·¨å¤§çš„å¨åŠ› RAIIæ˜¯ä¸€ç§ä½¿ç”¨åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­çš„èµ„æºï¼ˆå†…å­˜ï¼Œäº’æ–¥é”ï¼Œæˆ–è€…æ–‡ä»¶æè¿°ç¬¦ï¼‰ç®¡ç†æœºåˆ¶ï¼Œä½¿ç”¨RAIIçš„è¯­è¨€ä¸­ï¼Œæœ€å‡ºåçš„å½“å±c++ and rustï¼Œæ­£æ˜¯å› ä¸ºå¼ºåˆ¶RAIIæœºåˆ¶ä½¿å¾—rustæ‹¥æœ‰äº†ç»å¯¹çš„å†…å­˜å®‰å…¨ Resource Acquisition Is Initialisation, é¡¾åæ€ä¹‰ï¼Œæ„å‘³ç€ä»»ä½•èµ„æºçš„è·å–éƒ½åº”è¯¥å‘ç”Ÿåœ¨ç±»çš„æ„é€ å‡½æ•°ä¸­ï¼Œä½†æˆ‘ä¸ªäººè®¤ä¸ºè¿™ä¸ªåå­—ä¸å¤ªå®Œå¤‡ï¼Œæœ‰å¦ä¸€åŠçš„æ„æ€æ²¡æœ‰è§£é‡Šåˆ°ï¼Œé‚£å°±æ˜¯èµ„æºçš„é‡Šæ”¾åº”å‘ç”Ÿåœ¨ææ„å‡½æ•°ä¸­ï¼Œè¿™æ„å‘³ç€æ‰€æœ‰èµ„æºçš„ life cycleéƒ½ä¸ä¸€ä¸ª objectç´§ç´§ç»‘å®šåœ¨ä¸€èµ· æˆ‘å°†ç”¨å‡ æ®µä»£ç æ¥å…·ä½“é˜è¿°RAIIçš„åº”ç”¨åœºæ™¯ äº’æ–¥é” std::mutex mut; int write_to_a_file_descriptor(std::string content) { mut.lock(); // critical area below (might throw exception) // Writing content to a file descriptor... // Critical areas above mut.unlock(); } ä»¥ä¸Šä»£ç å±•ç¤ºäº†ä¸€ä¸ªå°†å­—ç¬¦ä¸²å†™è¿›æŸä¸ªæ–‡ä»¶æè¿°ç¬¦çš„å‡½æ•°ï¼Œå¹¶ä¸”è¿™ä¸ªå‡½æ•°ä¼šè¢«å¾ˆå¤šçº¿ç¨‹å¹¶è¡Œè°ƒç”¨ï¼ˆè¿™ç§æƒ…å†µåœ¨é«˜å¹¶å‘çº¿ä¸ŠæœåŠ¡çš„loggerä¸­éå¸¸å¸¸è§ï¼‰ï¼Œå› æ­¤è¿™ä¸ªå…±ç”¨çš„æ–‡ä»¶æè¿°ç¬¦å¿…é¡»ç”¨ä¸€ä¸ªäº’æ–¥é”ä¿æŠ¤èµ·æ¥ï¼Œå¦åˆ™ä¸åŒçº¿ç¨‹çš„å­—ç¬¦ä¸²ä¼šæ··åœ¨ä¸€èµ· è¿™æ®µä»£ç çœ‹èµ·æ¥ä»¿ä½›æ²¡æœ‰é—®é¢˜ï¼Œä½†æ˜¯å¦‚æœå½“å†™IOæ—¶æ˜¯æŠ›å‡ºå¼‚å¸¸ï¼Œcall stackä¼šè¢«ç›´æ¥é‡Šæ”¾ï¼Œä¹Ÿå°±æ„å‘³ç€unlockä¸ä¼šæ‰§è¡Œï¼Œé€ æˆæ°¸ä¹…çš„æ­»é”ï¼Œè¿™ä¸ªé—®é¢˜å¯ä»¥åƒjavaä¸€æ ·ç”¨ä¸€ä¸ªtry-catchè¯­å¥æ¥é¿å…ä½†æ˜¯ä¹Ÿä¼šè®©ä»£ç å˜å¾—è‡ƒè‚¿å’Œéš¾çœ‹ã€‚å¹¶ä¸”åœ¨å¤æ‚çš„é€»è¾‘ä¸­ï¼Œå¾€å¾€å¾ˆå¯èƒ½ä¼šå¿˜äº†è§£é”ï¼Œæˆ–è€…èŠ±å¾ˆå¤šç²¾åŠ›æ¥ç®¡ç†é”çš„è·å¾—å’Œé‡Šæ”¾(å¦‚æœåœ¨ä¸€ä¸ªå‡½æ•°è°ƒç”¨ä¸­æœ‰å¤šå¤„è¿”å›ï¼Œæ¯ä¸ªreturn statementä¹‹å‰éƒ½éœ€è¦ unlock)ã€‚è¿™å°±æ˜¯RAIIå‘æŒ¥å…¶å¨åŠ›çš„æ—¶å€™äº†ï¼Œä¸‹é¢ä¸€æ®µä»£ç å°†å±•ç¤ºå¦‚ä½•ç”¨ lock_guardæ¥ä½¿æˆ‘ä»¬çš„ä»£ç å¼‚å¸¸å®‰å…¨å¹¶ä¸”æ•´æ´ std::mutex mut; int write_to_a_file_descriptor(std::string content) { std::lock_guard\u003cstd::mutex\u003e lock(mut); // critical area below (might throw exception) // Writing content to a file descriptor... // Critical areas above } lock_guardä¿è¯åœ¨å‡½æ•°è¿”å›ä¹‹åé‡Šæ”¾äº’æ–¥é”ï¼Œå› æ­¤ä½¿å¾—å¼€å‘äººå‘˜ä¸éœ€è¦ä¸ºæŠ›å‡ºå¼‚å¸¸çš„æƒ…å†µæ‹…å¿ƒä¸”ä¸éœ€æ‰‹åŠ¨é‡Šæ”¾é”ã€‚ä½†æ˜¯ lock_guardæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿç¬”è€…å°†å°è¯•è‡ªå·±æ‰‹åŠ¨å®ç°ä¸€ä¸ª lock_guard template \u003ctypename T\u003e class lock_guard { private: T _mutex; public: explicit lock_guard(T \u0026mutex) : _mutex(mutex) { _mutex.lock(); } ~lock_guard() { _mutex.unlock(); } }; ä»å®ç°ä¸Šå¯ä»¥çœ‹å‡ºï¼Œlock_guardåœ¨æ„é€ å‡½æ•°ä¸­é”ä½äº†å¼•ç”¨ä¼ å…¥çš„mutextï¼Œå¹¶ä¸”åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾é”ã€‚å…¶å¼‚å¸¸å®‰å…¨çš„ä¿éšœå°±æ˜¯ææ„å‡½æ•°ä¸€å®šä¼šåœ¨å¯¹è±¡å½’å±çš„scopeé€€å‡ºæ—¶è‡ªåŠ¨è¢«è°ƒç”¨ å¦‚æœä½ ç”¨è¿‡golangçš„è¯ä¼šçŸ¥é“golangçš„deferæœºåˆ¶ï¼Œè¿™ä¸C++çš„ææ„å‡½æ•°ååˆ†ç›¸ä¼¼ï¼Œä½†æ˜¯golangçš„deferåªèƒ½ä¿è¯åœ¨å‡½æ•°è¿”å›å‰æ‰§è¡Œï¼Œè€ŒC++çš„ææ„å‡½æ•°å¯ä»¥ä¿è¯åœ¨å½“å‰scopeé€€å‡ºå‰æ‰§è¡Œï¼ˆä¸ªäººæ„Ÿè§‰golangçš„deferç›¸æ¯”ä¹‹ä¸‹æ¯”è¾ƒé¸¡è‚‹ï¼‰ ","date":"2023-03-06","objectID":"/%E7%BC%98%E8%B5%B7-raii/:2:0","tags":["RAII"],"title":"å•¥æ˜¯RAII?","uri":"/%E7%BC%98%E8%B5%B7-raii/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ™ºèƒ½æŒ‡é’ˆ C++ä¸­ä¸€ä¸ªéå¸¸å¸¸è§çš„åº”ç”¨åœºæ™¯å°±æ˜¯è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ¥äº§ç”Ÿä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åæ¶ˆè´¹è¿™ä¸ªå¯¹è±¡ï¼Œæœ€åæ‰‹åŠ¨é‡Šæ”¾æŒ‡é’ˆã€‚å¦‚ä»¥ä¸‹ä»£ç æ‰€ç¤º class my_struct { public: my_struct() = default; }; template \u003ctypename T\u003e T* get_object() { return new T(); } int main() { auto obj = get_object\u003cmy_struct\u003e(); // consume the object // ... // consume finish delete obj; } ç„¶è€Œï¼Œåœ¨å¤§å‹åº”ç”¨ç¨‹åºä¸­ï¼ŒæŒ‡é’ˆçš„äº§ç”Ÿå’Œæ¶ˆè´¹é”™ç»¼å¤æ‚ï¼Œå†™åˆ°åé¢ç¨‹åºå‘˜æ ¹æœ¬ä¸è®°å¾—è‡ªå·±æœ‰æ²¡æœ‰é‡Šæ”¾æŒ‡é’ˆï¼Œæˆ–è€…æŸå¤„åœ°æ–¹è¯»å–ä¸€ä¸ªå·²ç»é‡Šæ”¾çš„æŒ‡é’ˆç›´æ¥å¯¼è‡´segmentation faultç¨‹åºå´©æºƒã€‚è€Œè¿™å°±æ˜¯C/C++å„ç§å†…å­˜æ³„æ¼çš„ä¸‡æ¶ä¹‹æº è€Œè‡ªä»C++11æ¨å‡ºæ™ºèƒ½æŒ‡é’ˆåï¼Œå…¶æå¤§åœ°å‡è½»äº†C++å¼€å‘è€…ä»¬å†…å­˜ç®¡ç†çš„å‹åŠ›ã€‚é€šè¿‡åœ¨è£¸æŒ‡é’ˆä¸ŠåŒ…ä¸€å±‚æ™ºèƒ½æŒ‡é’ˆï¼Œå†ä¹Ÿä¸ç”¨é€šè¿‡æ‰‹åŠ¨ deleteæ¥é‡Šæ”¾å†…å­˜äº†ã€‚ä¸‹é¢çš„ä»£ç å°†å±•ç¤ºå¦‚ä½•ç”¨ std::unique_ptræ¥ç®¡ç†æŒ‡é’ˆ class my_struct { public: my_struct() = default; }; template \u003ctypename T\u003e std::unique_ptr\u003cT\u003e get_object() { return std::unique_ptr\u003cT\u003e(new T()); } int main() { auto obj = get_object\u003cmy_struct\u003e(); // consume the object // ... // consume finish } æ™ºèƒ½æŒ‡é’ˆçš„æ–¹ä¾¿ä¹‹å¤„åœ¨äºå®ƒä¼šåœ¨è‡ªå·±çš„ææ„å‡½æ•°ä¸­æ‰§è¡Œ deleteæ“ä½œè€Œä¸éœ€ç¨‹åºå‘˜æ‰‹åŠ¨é‡Šæ”¾ åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œå½“mainå‡½æ•°é€€å‡ºæ—¶ï¼Œ std::unique_ptråœ¨è‡ªå·±çš„ææ„å‡½æ•°ä¸­é‡Šæ”¾æŒ‡é’ˆï¼Œè€Œä¸ºäº†é˜²æ­¢æœ‰åˆ«çš„ std::unique_ptræŒ‡å‘è‡ªå·±ç®¡ç†çš„å¯¹è±¡è€Œå¯¼è‡´çš„ææ—©é‡Šæ”¾ä¸ç©ºæŒ‡é’ˆè®¿é—®ï¼Œ std::unique_ptrç¦æ­¢äº† copy constructorä¸ copy assignmentã€‚æœ‰äººå¯èƒ½ä¼šç–‘æƒ‘ï¼Œä¸ºä»€ä¹ˆ get_objectå‡½æ•°åˆ›å»ºçš„ unique_pträ¸ºä»€ä¹ˆæ²¡æœ‰åœ¨å‡½æ•°è¿”å›å‰é‡Šæ”¾æŒ‡é’ˆï¼Ÿè¿™æ˜¯å› ä¸º std::unique_ptrå®ç°äº† move constructorï¼ˆä¸€ç§å¯ä»¥å°†èµ„æºä»å¦ä¸€ä¸ªå¯¹è±¡â€œå·â€è¿‡æ¥çš„æ„é€ å‡½æ•°ï¼‰å¹¶åœ¨è¿”å›æ—¶å°†æŒ‡é’ˆä¼ ç»™äº†mainå‡½æ•°ä¸­ objå˜é‡ å¦‚æœä¸å¤ªç†è§£å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå¯ä»¥çœ‹ä¸€ä¸‹ä»¥ä¸‹æˆ‘è‡ªå·±å°è¯•å®ç°çš„ unique_ptr. template \u003ctypename T\u003e class unique_ptr { private: T* _ptr; public: // Construct from plain pointer explicit unique_ptr(T* ptr) : _ptr(ptr) { std::cout \u003c\u003c \"unique_ptr constructed\" \u003c\u003c std::endl; }; // Move constructor unique_ptr(unique_ptr \u0026\u0026ptr) noexcept : _ptr(ptr._ptr) { ptr._ptr = nullptr; std::cout \u003c\u003c \"unique_ptr move constructed\" \u003c\u003c std::endl; } // Copy constructor is forbidden unique_ptr(unique_ptr \u0026ptr) = delete; // Move assignment unique_ptr\u0026 operator=(unique_ptr \u0026\u0026ptr) noexcept { if (this == \u0026ptr) { return *this; } _ptr = ptr._ptr; ptr._ptr = nullptr; return *this; } // Copy assignment is forbidden unique_ptr\u0026 operator=(unique_ptr \u0026ptr) = delete; ~unique_ptr() { delete _ptr; std::cout \u003c\u003c \"unique_ptr destructed\" \u003c\u003c std::endl; } T* operator-\u003e() { return _ptr; } }; ä»£ç çœ‹ä¸Šå»æ¯”è¾ƒå¤æ‚ï¼Œä¸è¿‡æˆ‘å°†ä¸€ä¸ªæ–¹æ³•ä¸€ä¸ªæ–¹æ³•åœ°å’Œå¤§å®¶åˆ†æ ç¬¬8è¡Œä»£ç å®ç°äº†æœ€åŸºæœ¬çš„æ„é€ å‡½æ•°ï¼šä»ä¸€ä¸ªè£¸æŒ‡é’ˆå¼€å§‹æ„é€  ç¬¬13è¡Œå®ç°äº† move constructorï¼Œè¿™ä¸ªæ–¹æ³•ä¼šç”¨ä¸€ä¸ªå·²æœ‰çš„ unique_ptræ¥æ„é€ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå®ƒå°†æ—§ unique_ptrçš„æŒ‡é’ˆæ›¿æ¢ä¸º nullptræ¥é˜²æ­¢å¤šä¸ªæŒ‡é’ˆæŒ‡å‘ç›¸åŒå¯¹è±¡ ç¬¬19è¡Œç¦æ­¢äº† copy constructorçš„ä½¿ç”¨ï¼Œå› ä¸ºä¸å…è®¸å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å¯¹è±¡ ç¬¬22è¡Œå®ç°äº† move assignmentï¼ŒåŸç†ä¸ move constructorç›¸åŒ ç¬¬32è¡Œç¦æ­¢äº† copy assignmentï¼ŒåŸç†ä¸ copy constructorç›¸åŒ ç¬¬34è¡Œæ˜¯ææ„å‡½æ•°ï¼Œå°†æœ€ç»ˆé‡Šæ”¾æŒ‡é’ˆ ç¬¬39è¡Œå®ç°äº† operatoroverloadï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥åƒè®¿é—®æ™®é€šæŒ‡é’ˆä¸€æ ·è®¿é—® unique_ptr æˆ‘ä»¬æ¥ç”¨æˆ‘ä»¬è‡ªå·±å®šä¹‰çš„ unique_ptrè¿è¡Œä¸€ä¸‹çœ‹ä¼šå‘ç”Ÿä»€ä¹ˆ class my_struct { public: std::string _name = \"name\"; my_struct() = default; explicit my_struct(std::string name) : _name(std::move(name)) { std::cout \u003c\u003c \"my_struct constructed\" \u003c\u003c std::endl; } ~my_struct() { std::cout \u003c\u003c \"my_struct destructed\" \u003c\u003c std::endl; } }; template\u003ctypename T\u003e unique_ptr\u003cT\u003eget_object() { return unique_ptr\u003cT\u003e(new T(\"struct name\")); } int main() { unique_ptr\u003cmy_struct\u003e obj = get_object\u003cmy_struct\u003e(); std::cout \u003c\u003c obj-\u003e_name \u003c\u003c std::endl; } // console output my_struct constructed unique_ptr constructed struct name my_struct destructed unique_ptr destructed é¦–å…ˆï¼Œ my_structè¢«æ„é€ ï¼Œç„¶å unique_ptrè¢«æ„é€ ï¼Œå¹¶ä¸”å¯ä»¥å‘ç°ï¼Œ my_structçš„ææ„å‡½æ•°ä¼šåœ¨ unique_ptrçš„ææ„å‡½æ•°è¿”å›å‰æ‰§è¡Œï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æˆåŠŸåœ°å°†æŒ‡é’ˆçš„life cycleç»‘å®šåˆ°äº† unique_pträ¸Šï¼ä¸è¿‡ï¼Œç»†å¿ƒçš„åŒå­¦å¯èƒ½å‘ç°äº†ï¼Œå…¨ç¨‹ unique_ptrçš„ move constructoréƒ½æ²¡æœ‰è¢«callè¿‡ï¼Œä½†æ˜¯æˆ‘ä¹‹å‰æ˜ç¡®è¯´äº†ï¼Œmainå‡½æ•°ä¸­çš„ objæ˜¯ç”¨ get_objectå‡½æ•°ä¸­æ„é€ çš„ unique_ptré€šè¿‡ move constructoræ„é€ çš„ã€‚å¯æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æ²¡æœ‰æŠ“åˆ° move constructoræ‰“å°å‡ºæ¥çš„ä¸œè¥¿å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºC++ç¼–è¯‘å™¨åšäº†ä¸€ä¸ªå«åš copy elisionçš„ä¼˜åŒ–ï¼Œæ¥é¿å…ä¸å¿…è¦çš„æ„é€ å’Œææ„ï¼Œä¾‹å¦‚æœ¬ä¾‹ä¸­ï¼Œä¸¤ä¸ªå‡½æ•°ä¸­çš„ unique_ptrå¯¹è±¡å…¶å®æ˜¯ä¸€ä¸ªä¸œè¥¿ï¼Œå› æ­¤ä»–ä»¬ä¹‹é—´çš„è½¬æ¢å’Œèµ‹å€¼è¢«ä¼˜åŒ–æ‰äº†ã€‚å¦‚æœæˆ‘ä»¬é€šè¿‡ std::moveæ¥å¼ºåˆ¶ move constructorå‘ç”Ÿï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š æˆ‘ä»¬å°†çœ‹åˆ°è¿™æ ·çš„ä¿¡æ¯ï¼š my_struct constructed unique_ptr constructed unique_ptr move constructed unique_ptr destructed struct name my_struct destructed unique_ptr destructed æ­¤æ—¶æˆ‘ä»¬å¯ä»¥æ¸…æ™°åœ°çœ‹åˆ°ï¼Œmainå‡½æ•°ä¸­çš„ objæ˜¯é€šè¿‡ move constructoræ„é€ çš„ï¼Œå¹¶ä¸”åœ¨å…¶æ„é€ å®Œæˆä¹‹åï¼Œ get_objectå‡½æ•°ä¸­æ„é€ çš„ unique_ptrå¯¹è±¡è¢«ææ„äº†ï¼Œå› ä¸ºæˆ‘ä»¬å·²ç»ææ—©å°†å…¶å†…éƒ¨æŒ‡é’ˆæ›¿æ¢æˆäº† nullptr, å…¶ææ„å‡½æ•°ä»€ä¹ˆéƒ½ä¸ä¼šé‡Šæ”¾ æ™ºèƒ½æŒ‡é’ˆä¸­ï¼Œé™¤äº† std::unique_ptrï¼Œè¿˜æœ‰å…¶ä»–ç±»å‹ï¼Œæ¯”å¦‚å…è®¸å¤šä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€å˜é‡çš„ std::shared_ptrï¼Œå…¶å†…å­˜ç®¡ç†é€»è¾‘ä¼šå¤æ‚è®¸å¤š ","date":"2023-03-06","objectID":"/%E7%BC%98%E8%B5%B7-raii/:3:0","tags":["RAII"],"title":"å•¥æ˜¯RAII?","uri":"/%E7%BC%98%E8%B5%B7-raii/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æŠ€æœ¯æ€»ç»“ é€šè¿‡è¿™ç¯‡æ–‡ç« ï¼Œç›¸ä¿¡å¤§å®¶éƒ½ä½“ä¼šåˆ°äº†RAIIçš„å¨åŠ›ï¼Œå…¶å°†èµ„æºç»‘å®šåˆ°è½»é‡çº§å¯¹è±¡(æ¯”å¦‚æ™ºèƒ½æŒ‡é’ˆï¼Œå†…å­˜å ç”¨å¾ˆå°‘ï¼Œå¯ä»¥åƒæ™®é€šæŒ‡é’ˆä¸€æ ·éšæ„ä¼ é€’)çš„æ–¹æ³•ä½¿å¾—æˆ‘ä»¬å†ä¹Ÿä¸éœ€è¦å…³å¿ƒåœ¨è·å–èµ„æºä¹‹åå¯¹èµ„æºçš„é‡Šæ”¾ ","date":"2023-03-06","objectID":"/%E7%BC%98%E8%B5%B7-raii/:4:0","tags":["RAII"],"title":"å•¥æ˜¯RAII?","uri":"/%E7%BC%98%E8%B5%B7-raii/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:0:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾18 è®©æ¥å£å®¹æ˜“è¢«æ­£ç¡®ä½¿ç”¨ï¼Œä¸æ˜“è¢«è¯¯ç”¨ å¯¹classçš„å‚æ•°ç±»å‹è¿›è¡ŒæŠ½è±¡ æˆ‘ä»¬æ™®é€šçš„å®šä¹‰ä¸€ä¸ªæ¥å£ä¼šæœ‰å•¥é—®é¢˜ï¼Œå¦‚ä¸‹è¿°ä»£ç  class Date{ public: Date(int month, int day, int year); ... }; Date d(2, 30, 2021); // ä¼ å‚å®¹æ˜“å‡ºé”™ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥å¯¹classçš„å‚æ•°ç±»å‹è¿›è¡ŒæŠ½è±¡ï¼Œå¦‚ä¸‹è¿°ä»£ç  struct Day{ int val; explicit Day(int d) : val(d) {} }; ... class Date{ public: Date(const Month\u0026 m, const Day\u0026 d, const Year\u0026 y); ... }; Date d(Month(3), Day(31), Year(2021)); // ä¼ å‚å¯é  å°½é‡è®©è‡ªå®šä¹‰typeè¡Œä¸ºä¸å†…ç½®typeä¸€è‡´ è¿™è¾¹å¦‚æœaå’Œbæ˜¯è‡ªå®šä¹‰ç±»å‹ï¼Œè¿™è¾¹ç¼–è¯‘å™¨å°±ä¸ä¼šæŠ¥é”™ï¼Œå¦‚æœaå’Œbæ˜¯å†…ç½®ç±»å‹ï¼Œé‚£ä¹ˆabæ˜¯ä¸´æ—¶å¯¹è±¡-å³å€¼ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨å°±ä¼šæŠ¥é”™* æ‰€ä»¥æˆ‘ä»¬è¿™è¾¹éœ€è¦ç»Ÿä¸€ï¼Œè¡Œä¸ºä¸å†…ç½®typeä¸€è‡´ï¼Œåœ¨å‰é¢çš„æ¡æ¬¾3ä¹Ÿè¯´äº†ï¼Œç›´æ¥åŠ constå³å¯ if (a * b = c) factory å‡½æ•°è¿”å›æ™ºèƒ½æŒ‡é’ˆ* äº†è§£è®¾è®¡æ¨¡å¼çš„ç«¥é‹ä»¬å°±ä¼šçŸ¥é“æœ‰ä¸€ä¸ªè®¾è®¡æ¨¡å¼å«å·¥å‚æ¨¡å¼ï¼Œåœ¨è¿™é‡Œæ¨èå·¥å‚å‡½æ•°è¿”å›ä¸€ä¸ªæ™ºèƒ½æŒ‡é’ˆï¼Œå› ä¸ºç”¨è£¸æŒ‡é’ˆå°±ä¼šå¢åŠ ç”¨æˆ·çš„å¿ƒæ™ºå¼€é”€ï¼Œé¿å…å¿˜è®°delete Investment* createInvestment(); -\u003e std::shared_ptr\u003cInvestment\u003e createInvestment(); shared_ptr\u003cInvestment\u003e createInvestment(){ shared_ptr\u003cInvestment\u003e retVal( static_cast\u003cInvestment*\u003e(0), // åˆå§‹åŒ–ä¸€ä¸ªnull shared_ptræŒ‡é’ˆï¼Œ getRidOfInvestment); // æŒ‡å®šgetRidOfInvestmentå‡½æ•°ä¸ºåˆ é™¤å™¨ï¼Œ retVal = ...; // ä»¤retValæŒ‡å‘æ­£ç¡®çš„å¯¹è±¡ return retVal; } ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:1:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary å¥½çš„æ¥å£å®¹æ˜“è¢«æ­£ç¡®ä½¿ç”¨ï¼Œä¸å®¹æ˜“è¢«è¯¯ç”¨ â€œä¿ƒè¿›æ­£ç¡®ä½¿ç”¨â€çš„åŠæ³•åŒ…æ‹¬æ¥å£çš„ä¸€è‡´æ€§ï¼Œä»¥åŠä¸å†…ç½®ç±»å‹çš„è¡Œä¸ºå…¼å®¹ â€œé˜»æ­¢è¯¯ç”¨â€çš„åŠæ³•åŒ…æ‹¬å»ºç«‹æ–°ç±»å‹ã€é™åˆ¶ç±»å‹ä¸Šçš„æ“ä½œï¼ŒæŸç¼šå¯¹è±¡å€¼ï¼Œä»¥åŠæ¶ˆé™¤å®¢æˆ·çš„èµ„æºç®¡ç†è´£ä»» shared_ptr æ”¯æŒå®šåˆ¶å‹åˆ é™¤å™¨ã€‚å¯é˜²èŒƒ DLL é—®é¢˜ï¼Œå¯è¢«ç”¨æ¥è‡ªåŠ¨è§£é™¤äº’æ–¥é”ï¼ˆmutexï¼‰ç­‰ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:1:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾19 è®¾è®¡classçŠ¹å¦‚è®¾è®¡type ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:2:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary è¿™ä¸ªæ¡æ¬¾æœ‰12é—®å¸®ä½ è®¾è®¡å¥½ä¸€ä¸ªclassï¼Œå½“ç„¶classç”±äºéœ€æ±‚æ˜¯ä¼šå¤šå˜çš„ï¼Œä½†æ˜¯è¿™ä¸ª12é—®èƒ½å¤Ÿèµ·åˆ°å¾ˆå¥½çš„è¾…åŠ©ä½œç”¨ è‡ªå®šä¹‰ type çš„å¯¹è±¡åº”è¯¥å¦‚ä½•è¢«åˆ›å»ºå’Œé”€æ¯ ä¹Ÿå°±æ˜¯ä»–çš„æ„é€ å’Œææ„åº”è¯¥æ˜¯æ€ä¹ˆå»å†™ å¯¹è±¡çš„åˆå§‹åŒ–å’Œå¯¹è±¡çš„èµ‹å€¼åº”è¯¥æœ‰ä»€ä¹ˆæ ·çš„å·®åˆ«ï¼Ÿï¼ˆä¸è¦æ··æ·†â€œåˆå§‹åŒ–â€å’Œâ€œèµ‹å€¼â€ï¼‰ æ–° type çš„å¯¹è±¡å¦‚æœè¢« pass by valueï¼Œæ„å‘³ç€ä»€ä¹ˆï¼Ÿï¼ˆcopy æ„é€ å‡½æ•°å®šä¹‰ï¼‰ ä»€ä¹ˆæ˜¯æ–° type çš„â€œåˆæ³•å€¼â€ï¼Ÿï¼ˆæ„é€ å‡½æ•°ã€èµ‹å€¼æ“ä½œã€setter å‡½æ•°ï¼‰ æ–° type éœ€è¦é…åˆæŸä¸ªç»§æ‰¿å›¾ç³»å—ï¼Ÿï¼ˆvirtual å‡½æ•°ã€virtual ææ„å‡½æ•°ï¼‰ æ–° type éœ€è¦ä»€ä¹ˆæ ·çš„è½¬æ¢ï¼Ÿï¼ˆæ¡æ¬¾15ï¼šæ˜¾å¼è½¬æ¢ï¼šexplicit æ„é€ ï¼Œéšå¼è½¬æ¢ï¼šoperator Typeã€-\u003eï¼‰ ä»€ä¹ˆæ ·çš„æ“ä½œç¬¦å’Œå‡½æ•°å¯¹æ­¤æ–° type è€Œè¨€æ˜¯åˆç†çš„ï¼Ÿ ä»€ä¹ˆæ ·çš„æ ‡å‡†å‡½æ•°åº”è¯¥é©³å›ï¼Ÿï¼ˆæ¡æ¬¾06ï¼šæ˜ç¡®æ‹’ç»copy æ„é€ ã€copy assignment æ“ä½œç¬¦ç­‰ï¼‰ è°è¯¥å–ç”¨æ–° type çš„æˆå‘˜ï¼Ÿï¼ˆè®¿é—®è§„åˆ™ï¼šæ•°æ®æˆå‘˜çš„å°è£…ï¼Œæˆå‘˜å‡½æ•° API çš„å¼€æ”¾ï¼Œæ˜¯å¦å‹å…ƒï¼‰ ä»€ä¹ˆæ˜¯æ–° type çš„â€œæœªå£°æ˜æ¥å£â€ï¼Ÿ ä½ çš„æ–° type æœ‰å¤šä¹ˆä¸€èˆ¬åŒ–ï¼Ÿï¼ˆclass templateï¼‰ ä½ çœŸçš„éœ€è¦ä¸€ä¸ªæ–° type å—ï¼Ÿï¼ˆå¤šä¸ª non-member å‡½æ•°æˆ– template æ˜¯å¦å¯ä»¥è¾¾åˆ°ç›®çš„ï¼‰ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:2:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾20 ä»¥ pass by reference to const æ›¿æ¢ pass by value pass-by-reference-to-const ä½œä¸ºå‡½æ•°å‚æ•° æ•ˆç‡é«˜ï¼ˆæ²¡æœ‰æ„é€ å’Œææ„å‡½æ•°è¢«è°ƒç”¨ï¼‰ï¼Œè¿˜èƒ½é¿å…slicingï¼ˆå¯¹è±¡åˆ‡å‰²ï¼‰é—®é¢˜ class Window{ public: ... string name() const; // è¿”å›çª—å£åç§° virtual void display() const; // æ˜¾ç¤ºçª—å£å’Œå†…å®¹ }; class WindowWithScrollBars : public Window{ public: ... virtual void display() const; }; void printNameAndDisplay(Window w){ // ä¸æ­£ç¡®ï¼å‚æ•°å¯èƒ½è¢«åˆ‡å‰²ã€‚valueæ˜¯æ²¡æœ‰å¤šæ€çš„ç‰¹æ€§çš„ cout \u003c\u003c w.name(); w.display(); } WindowWithScrollBars wwsb; printNameAndDisplay(wwsb); // æ€»æ˜¯è°ƒç”¨Windowçš„display() void printNameAndDisplay(const Windows\u0026 w) { // æ­£ç¡®ï¼å¼•ç”¨æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ¼‚äº®çš„æŒ‡é’ˆ ä¹Ÿå…·æœ‰å¤šæ€ç‰¹æ€§ cout Â« w.name(); w.display(); } pass-by-value ç»å¸¸é€‚ç”¨äºå†…ç½®ç±»å‹ã€STLè¿­ä»£å™¨å’Œå‡½æ•°å¯¹è±¡ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:3:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary pass-by-reference-to-const ä½œä¸ºå‡½æ•°å‚æ•°ï¼Œæ•ˆç‡é«˜ï¼ˆæ²¡æœ‰æ„é€ å’Œææ„å‡½æ•°è¢«è°ƒç”¨ï¼‰ï¼Œè¿˜èƒ½é¿å…slicingï¼ˆå¯¹è±¡åˆ‡å‰²ï¼‰é—®é¢˜ pass-by-value ç»å¸¸é€‚ç”¨äºå†…ç½®ç±»å‹ã€STLè¿­ä»£å™¨å’Œå‡½æ•°å¯¹è±¡ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:3:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾21 ä¸è¦é”™è¯¯çš„è¿”å›å¯¹è±¡çš„å¼•ç”¨ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:4:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary ä¸è¦è¿”å›ä¸€ä¸ªä¸´æ—¶å¯¹è±¡çš„å¼•ç”¨ ä¸è¦è¿”å›åœ¨å †ä¸Šåˆ†é…çš„å¯¹è±¡çš„å¼•ç”¨ï¼Œå› ä¸ºè¿™è¿èƒŒäº†newå’Œdeleteæˆå¯¹å‡ºç°çš„åŸåˆ™ï¼Œè¿™æ ·çš„æ–¹å¼æ˜¯å¾ˆä¸åˆç†çš„ï¼Œç¨åŠ ä¸æ³¨æ„å°±ä¼šå¯¼è‡´å†…å­˜æ³„æ¼é—®é¢˜ ä¹Ÿä¸è¦è¿”å›ä¸€ä¸ªstaticå¯¹è±¡çš„å¼•ç”¨ï¼Œå› ä¸ºstaticå¯èƒ½åŒæ—¶è¢«å¾ˆå¤šåœ°æ–¹éœ€è¦ï¼Œè¿™æ ·çš„è¯å…±äº«å°±å­˜åœ¨é—®é¢˜ æ‰€ä»¥å¯¹äºè¿™ç§é—®é¢˜ï¼Œæœ€å¥½çš„è§£å†³æ–¹æ³•å°±æ˜¯ä¸è¿”å›å¼•ç”¨å°±OKäº† ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:4:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾22 å°†æˆå‘˜å˜é‡å£°æ˜ä¸ºprivate ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:5:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary å…¶å®å£°æ˜ä¸ºprivate å¸¦æ¥çš„æœ€å¤§çš„å¥½å¤„å°±æ˜¯ - æˆå‘˜å˜é‡æœ‰æ›´ç²¾ç»†çš„è®¿é—®æ§åˆ¶ è€ƒè™‘ä¸€ä¸ª public æˆå‘˜å˜é‡å˜æ›´æˆ–æ¶ˆå¤±æ—¶å¯¹ç”¨æˆ·ä»£ç çš„å½±å“ è€ƒè™‘ä¸€ä¸ª protected æˆå‘˜å˜é‡å˜æ›´æˆ–æ¶ˆå¤±æ—¶å¯¹ derived class ä»£ç çš„å½±å“ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:5:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾23 å°†non member \u0026 non friend æ›¿æ¢ member func å°è£…ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ”¹å˜äº‹ç‰©è€Œåªå½±å“æœ‰é™å®¢æˆ· å¯¼è‡´è¾ƒå¤§å°è£…æ€§çš„æ˜¯ non-memberã€non-friend å‡½æ•°ï¼ˆå› ä¸ºä¸å¢åŠ â€œèƒ½å¤Ÿè®¿é—® class å†… private æˆåˆ†â€çš„å‡½æ•°æ•°é‡ï¼‰ class WebBrowser{ public: ... void clearCache(); void clearHistory(); void removeCookies(); ... }; // non-memberâ€œä¾¿åˆ©å‡½æ•°â€ void clearBrowser(WebBrowser\u0026 wb){ wb.clearCache(); wb.clearHistory(); wb.removeCookies(); } å°†æ‰€æœ‰ä¾¿åˆ©å‡½æ•°æ”¾åœ¨å¤šä¸ªå¤´æ–‡ä»¶ä½†éš¶å±äºåŒä¸€ä¸ªå‘½åç©ºé—´ï¼Œæ„å‘³å®¢æˆ·å¯ä»¥è½»æ¾æ‰©å±•è¿™ä¸€ç»„ä¾¿åˆ©å‡½æ•° // å¤´æ–‡ä»¶â€œwebbrowser.hâ€ namespace WebBrowserStuff{ class WebBrowser{...}; ... // æ ¸å¿ƒæœºèƒ½ï¼Œå‡ ä¹æ‰€æœ‰å®¢æˆ·éœ€è¦çš„non-memberå‡½æ•° } // å¤´æ–‡ä»¶â€œwebbrowserbookmarks.hâ€ namespace WebBrowserStuff{ ... // ä¸ä¹¦ç­¾ç›¸å…³çš„ä¾¿åˆ©å‡½æ•° } // å¤´æ–‡ä»¶â€œwebbrowsercookies.hâ€ namespace WebBrowserStuff{ ... // ä¸cookieç›¸å…³çš„ä¾¿åˆ©å‡½æ•° } ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:6:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary å°è£…ä½¿æˆ‘ä»¬èƒ½å¤Ÿæ”¹å˜äº‹ç‰©è€Œåªå½±å“æœ‰é™å®¢æˆ· å¯¼è‡´è¾ƒå¤§å°è£…æ€§çš„æ˜¯ non-memberã€non-friend å‡½æ•°ï¼ˆå› ä¸ºä¸å¢åŠ â€œèƒ½å¤Ÿè®¿é—® class å†… private æˆåˆ†â€çš„å‡½æ•°æ•°é‡ï¼‰ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:6:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾24 è‹¥æ‰€æœ‰å‚æ•°çš†éœ€ç±»å‹è½¬æ¢ï¼Œè¯·ä¸ºæ­¤é‡‡ç”¨ non-member å‡½æ•° éšå¼è½¬æ¢ä¸ member å‡½æ•° class Rational{ private: ... public: Rational(int numerator = 0, // non-explicit int denominator = 1); // å…è®¸int-to-Rationaléšå¼è½¬æ¢ int numerator() const; // åˆ†å­è®¿é—®å‡½æ•° int denominator() const; // åˆ†æ¯è®¿é—®å‡½æ•° ... const Rantional operator*(const Rational\u0026 rhs) const; }; Rational result; Rational oneHalf(1, 2); result = oneHalf * 2; // æ­£ç¡®ï¼ŒoneHalf.operator*( 2 /* éšå¼è½¬æ¢ */); result = 2 * oneHalf; // é”™è¯¯ï¼Œ2.operator*(oneHalf); éšå¼è½¬æ¢ä¸ non-member å‡½æ•° class Rational{ private: ... public: Rational(int numerator = 0, // non-explicit int denominator = 1); // å…è®¸int-to-Rationaléšå¼è½¬æ¢ int numerator() const; // åˆ†å­è®¿é—®å‡½æ•° int denominator() const; // åˆ†æ¯è®¿é—®å‡½æ•° ... }; const Rantional operator*(const Rational\u0026 lhs, const Rational\u0026 rhs){ return Rational(lhs.numerator() * rhs.numerator(), lhs.denominator() * rhs.denominator()); } Rational result; Rational oneHalf(1, 2); result = oneHalf * 2; // æ­£ç¡®ï¼Œoperator*(oneHalf, 2 /* éšå¼è½¬æ¢ */); result = 2 * oneHalf; // æ­£ç¡®ï¼Œoperator*(2, oneHalf); ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:7:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary è‹¥æ‰€æœ‰å‚æ•°çš†éœ€ç±»å‹è½¬æ¢ï¼Œè¯·ä¸ºæ­¤é‡‡ç”¨ non-member å‡½æ•° ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:7:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾25 è€ƒè™‘å†™å‡ºä¸€ä¸ªä¸æŠ›å¼‚å¸¸çš„ swap å‡½æ•° æˆ‘ä»¬æ ‡å‡†åº“é‡Œé¢çš„swapå‡½æ•°æ˜¯è¿™ä¹ˆå†™çš„ï¼Œæ— éå°±æ˜¯ä¸€ä¸ªä¸­é—´å€¼è¿‡æ¸¡ï¼Œåªè¦Tæ”¯æŒcopying(é€šè¿‡copyæ„é€ å‡½æ•°å’Œassignmentæ“ä½œç¬¦å®Œæˆ)ï¼Œé»˜è®¤çš„swapä¼šå®ç°ä»£ç å°±ä¼šå°†ç±»å‹ä¸ºTçš„å¯¹è±¡è¿›è¡Œç½®æ¢ namespace std { template\u003ctypename T\u003e void swap(T\u0026 a, T\u0026 b) { T temp(a); a = b; b = temp; } } è¿™ç§æ–¹æ³•å¯¹äºå†…ç½®ç±»å‹æ²¡ä»»ä½•é—®é¢˜ï¼Œå†…ç½®ç±»å‹ä¸Šçš„èµ‹å€¼ç»å¯¹ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå¹¶ä¸”æ•ˆç‡å¾ˆé«˜ã€‚ä½†æ˜¯å¦‚æœa,bä¸æ˜¯å†…ç½®ç±»å‹ï¼Œå°±ä¼šè°ƒç”¨ç±»çš„copyæ„é€ å‡½æ•°å’Œassignå‡½æ•°ï¼Œå¹¶ä¸”å¿…é¡»æ˜¯æ·±æ‹·è´ã€‚è¿™æ ·å¦‚æœç±»çš„æˆå‘˜è¾ƒå¤šå°±ä¼šé€ æˆäº¤æ¢çš„æ•ˆç‡å¾ˆä½ï¼Œç‰¹åˆ«æ˜¯é’ˆå¯¹pimplå®ç°æ–¹æ³•ï¼Œå³æˆå‘˜ä¸­åŒ…å«æŒ‡é’ˆï¼ˆå³èµ„æºï¼‰æ—¶ã€‚æ›´å¥½çš„åšæ³•å°±æ˜¯ç›´æ¥äº¤æ¢æŒ‡é’ˆå°±å¯ä»¥äº†ï¼Œç›¸å½“äºäº¤æ¢äº†ä¸¤ä¸ªint(æŒ‡é’ˆéƒ½æ˜¯4å­—èŠ‚çš„)ï¼Œè¿™å°±æ¯”æ‹·è´è¿™ä¸ªæŒ‡é’ˆæŒ‡å‘çš„èµ„æºè¦å¿«å¾—å¤š å…³äºpimplå¯ä»¥æŸ¥çœ‹æœ¬åšå®¢ã€ŠC++ Pimplã€‹ å¦‚ä½•å®ç°å‘¢ï¼Ÿæˆ‘ä»¬å…ˆç”¨pimplæ‰‹æ³•å°†Widgetçš„æ•°æ®æˆå‘˜å°è£…åˆ°WidgetImplä¸­ class WidgetImpl {// class for Widget data; public:// details are unimportant... private: int a, b, c;// possibly lots of data â€” std::vector\u003cdouble\u003e v;// expensive to copy!... }; class Widget {// class using the pimpl idiom public: Widget(const Widget\u0026 rhs); Widget\u0026 operator=(const Widget\u0026 rhs)// to copy a Widget, copy its { // WidgetImpl object. For ...// details on implementing *pImpl = *(rhs.pImpl);// operator= in general, ...// see Items 10, 11, and 12. } ... private: WidgetImpl *pImpl;// ptr to object with this };// Widgetâ€™s data è®¾è®¡é—®é¢˜ ç½®æ¢ä¸¤ä¸ªWidgetå¯¹è±¡è¿‡äºå¤æ‚ï¼Œæµªè´¹ç©ºé—´å’Œæ•ˆç‡(å¯¹äºç½®æ¢Widgetå¯¹è±¡å€¼ï¼Œæˆ‘ä»¬åªéœ€è¦åšçš„æ˜¯ç½®æ¢implæŒ‡é’ˆï¼Œä½†é»˜è®¤çš„swapè¦äº¤æ¢Widgetç±»æ›´éœ€è¦äº¤æ¢WidgetImpl) å¯ä»¥ç›´æ¥äº¤æ¢æŒ‡é’ˆçš„åœ°å€ï¼Œæ”¹å˜æŒ‡é’ˆæŒ‡å‘çš„å†…å­˜ æˆ‘ä»¬å¯ä»¥ç½®æ¢å…¶implæŒ‡é’ˆ namespace std{ template\u003c\u003e void swap\u003cWidget\u003e(Widget\u0026 a,Widget\u0026 b)//std::swapçš„å…¨ç‰¹åŒ–ç‰ˆæœ¬åªèƒ½å¯¹ //\u003cWidget\u003eè¡¨ç¤ºè¿™ä¸€ç‰¹ä¾‹åŒ–ç‰ˆæœ¬åªæ˜¯é’ˆå¯¹æŒ‡é’ˆäº¤æ¢è€Œè®¾è®¡ { swap(a.pImpl,b.pImpl); } } è¿™ä¸ªæœ‰ä¸ªé—®é¢˜ pImplæ˜¯å±äºWidgetçš„privateæˆå‘˜å› æ­¤æ­¤å‡½æ•°è‚¯å®šæ˜¯æ— æ³•ç¼–è¯‘é€šè¿‡çš„ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶å£°æ˜ä¸ºfriendå‡½æ•°ä½†å…¶å°è£…æ€§è¾ƒå¼±ï¼Œå¯ä»¥å°†swapå£°æ˜ä¸ºmemberå‡½æ•°å¦‚ä¸‹ class Widget { // same as above, except for the public:// addition of the swap mem func ... void swap( Widget\u0026 other){ using std::swap;// the need for this declaration // is explained later in this Item swap(pImpl, other.pImpl);// to swap Widgets, swap their } // pImpl pointers ... }; namespace std { template\u003c\u003e// revised specialization of void swap\u003cWidget\u003e(Widget\u0026 a,// std::swap Widget\u0026 b) { a.swap(b);// to swap Widgets, call their }// swap member function } è¿™ä¸€æ®µä»£ç èƒ½å¤Ÿé€šè¿‡ç¼–è¯‘ï¼Œå¹¶ä¸”å…·æœ‰STLå®¹å™¨çš„ä¸€è‡´æ€§ï¼Œä»¥ä¸ºstd::swapä¹Ÿæä¾›äº†æœ‰pulic swapæˆå‘˜å‡½æ•°çš„å’Œstd::swapçš„ç‰¹åŒ–ç‰ˆæœ¬ ä½†æ˜¯å¯¹äºWidget class templatesè€Œéclasses å°†æ•°æ®ç±»å‹åŠ ä»¥å‚æ•°åŒ– template\u003ctypename T\u003e class WidgetImpl { ... }; template\u003ctypename T\u003e class Widget { ... }; namespace std { template\u003ctypename T\u003e void swap\u003cWidget\u003cT\u003e \u003e(Widget\u003cT\u003e\u0026 a,// error! illegal code! Widget\u003cT\u003e\u0026 b) { a.swap(b); } } // ä¼å›¾åç‰¹åŒ–ä¸€ä¸ªfunction template(std::swap)ï¼Œä½†C++åªèƒ½å¯¹class templatesåç‰¹åŒ– // åœ¨function templatesèº«ä¸Šæ—¶ä¸èƒ½åç‰¹åŒ–çš„ã€‚å› æ­¤æ— æ³•ç¼–è¯‘ æ‰€ä»¥æˆ‘ä»¬å¾—åç‰¹åŒ– function template namespace std {template\u003ctypename T\u003e// an overloading of std::swap void swap(Widget\u003cT\u003e\u0026 a,// (note the lack of â€œ\u003c...\u003eâ€ after Widget\u003cT\u003e\u0026 b)// â€œswapâ€), but see below for { a.swap(b); }// why this isnâ€™t valid code} è¿™æ—¶å€™è¿˜æ˜¯æœ‰ä¸ªé—®é¢˜ï¼Œé‡è½½function templatesæ˜¯æ²¡é—®é¢˜çš„ï¼Œä½†stdæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å‘½åç©ºé—´ å¯ä»¥å…¨ç‰¹åŒ–stdå†…çš„templates ä¸å¯ä»¥æ·»åŠ æ–°çš„templates(classæˆ–function)åˆ°stdé‡Œé¢ æ‰€ä»¥çœŸæ­£é«˜æ•ˆæ­£ç¡®çš„åšæ³•å°±æ˜¯ non member swap \u0026 member swapç›¸ç»“åˆ namespace WidgetStuff { ...// templatized WidgetImpl, etc. template\u003ctypename T\u003e// as before, including the swapclass Widget { ... };// member function ... template\u003ctypename T\u003e// non-member swap function; void swap(Widget\u003cT\u003e\u0026 a,// not part of the std namespace Widget\u003cT\u003e\u0026 b) { a.swap(b); } } swapå®ç°æ•ˆç‡ä¸è¶³çš„è§£å†³(classæˆ–templateè¿ç”¨äº†pimplæ‰‹æ³•) æä¾›ä¸€ä¸ªpublicçš„swapå‡½æ•°ï¼Œè®©å®ƒé«˜æ•ˆåœ°ç½®æ¢ä½ çš„ç±»å‹çš„ä¸¤ä¸ªå¯¹è±¡å€¼ï¼Œè€Œå…¶ä¸èƒ½æŠ›å‡ºå¼‚å¸¸ åœ¨ä½ çš„classæˆ–templateæ‰€åœ¨çš„å‘½åç©ºé—´æä¾›ä¸€ä¸ªnon-member swapï¼Œå¹¶ä»¤ä»–è°ƒç”¨ä¸Šè¿°swapæˆå‘˜å‡½æ•° å¦‚æœç¼–å†™ä¸€ä¸ªclass(è€Œéclass template)ï¼Œä¸ºä½ çš„classç‰¹åŒ–ä¸€ä¸ªstd::swapï¼Œå¹¶ä»¤ä»–è°ƒç”¨ä½ çš„swapçš„æˆå‘˜å‡½æ•° å¿…é¡»ä½¿ç”¨using std::swap,ä»¥ä¾¿å…¶èƒ½å¤Ÿåœ¨å‡½æ•°ç±»æ›å…‰å¯è§ï¼Œç„¶åæŠ¥ä»·namspaceä¿®é¥°ç¬¦ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:8:0","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["Effective C++"],"content":"Summary å½“std::swapå¯¹ä½ çš„ç±»å‹æ— æ•ˆæ—¶ï¼Œæä¾›ä¸€ä¸ªswapæˆå‘˜å‡½æ•°ã€‚ç¡®ä¿äº¤æ¢ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ å¦‚æœä½ æä¾›äº†ä¸€ä¸ªæˆå‘˜äº¤æ¢ï¼Œä¹Ÿè¦æä¾›ä¸€ä¸ªè°ƒç”¨æˆå‘˜çš„éæˆå‘˜äº¤æ¢ã€‚å¯¹äºç±»(ä¸æ˜¯æ¨¡æ¿)ï¼Œä¹Ÿè¦ä¸“é—¨åŒ–std::swap å½“è°ƒç”¨swapæ—¶ï¼Œå¯¹std::swapä½¿ç”¨usingå£°æ˜ï¼Œç„¶åä¸å¸¦å‘½åç©ºé—´é™å®šçš„è°ƒç”¨swap å®Œå…¨ä¸“é—¨åŒ–ç”¨æˆ·å®šä¹‰ç±»å‹çš„stdæ¨¡æ¿æ˜¯å¯ä»¥çš„ï¼Œä½†æ°¸è¿œä¸è¦å°è¯•å‘stdæ·»åŠ å…¨æ–°çš„ä¸œè¥¿ ","date":"2023-03-06","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/:8:1","tags":["Effective C++"],"title":"æ¡æ¬¾18ï½25 è®¾è®¡ä¸ç”Ÿå‘½","uri":"/effective-c-%E6%9D%A1%E6%AC%BE18-25/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†åŠ¨æ€è§„åˆ’çš„æ¦‚å¿µï¼Œæ€è·¯ï¼ŒåŠä¾‹é¢˜","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åŠ¨æ€è§„åˆ’ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:0:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åŠ¨æ€è§„åˆ’ åŠ¨æ€è§„åˆ’ è·Ÿ â€œåˆ†æ²»ã€é€’å½’ã€å›æº¯â€æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹åŠ¨æ€è§„åˆ’çš„å…·ä½“å®šä¹‰ simplifying a complicated problem by breaking it down into simpler sub-problems è¿™ä¸ªæ˜¯ wikiç™¾ç§‘ å¯¹åŠ¨æ€è§„åˆ’çš„è§£é‡Šï¼ŒåŒæ—¶æˆ‘æ„Ÿè§‰è¿™æ˜¯æœ€å¥½çš„è§£é‡Š åŠ¨æ€è§„åˆ’ï¼Œä¸ªäººè§‰å¾—ç¿»è¯‘æˆ â€œåŠ¨æ€é€’æ¨/åŠ¨æ€æ¨å¯¼â€ æ˜¯æœ€å¥½çš„ï¼ŒåŠ¨æ€è§„åˆ’å…¶å®æœ‰ç‚¹ä¸ç›´ç™½ ç„¶åä¸Šè¿°è‹±æ–‡çš„æ„æ€åˆ™æ˜¯ â€œæŠŠä¸€ä¸ªå¤æ‚çš„é—®é¢˜åˆ†è§£ä¸ºæ›´ç®€å•çš„å­é—®é¢˜â€ å…¶å®å°±æ˜¯åˆ†æ²»çš„æ€æƒ³ï¼Œä½†æ˜¯åˆ†æ²»å’ŒåŠ¨æ€è§„åˆ’åªæœ‰å°å°çš„ä¸ä¸€æ ·ï¼Œé‚£å°±æ˜¯ç¬¬äºŒç‚¹ åŠ¨æ€è§„åˆ’ = åˆ†æ²» + æœ€ä¼˜å­ç»“æ„ ä¸€èˆ¬æ¥è¯´ åŠ¨æ€è§„åˆ’ ä¼šè®©ä½ æ±‚ æœ€ä¼˜è§£ æœ€å¤§å€¼ æœ€å°å€¼ï¼Œè¿™ä¹Ÿå°±æ˜¯åŠ¨æ€è§„åˆ’çš„åº”ç”¨åœºæ™¯ æ­£å› ä¸ºï¼Œä»–æœ‰æ‰€è°“çš„æœ€ä¼˜å­ç»“æ„ï¼Œæ‰€ä»¥ï¼Œä½ å°±ä¸éœ€è¦ï¼Œå°†ä¸­é—´æ‰€æœ‰çš„çŠ¶æ€éƒ½ä¿å­˜ä¸‹æ¥ï¼Œåªéœ€è¦å­˜æœ€ä¼˜çš„çŠ¶æ€ é‡ç‚¹æ€»ç»“ åŠ¨æ€è§„åˆ’å’Œ é€’å½’ åˆ†æ²» æ²¡æœ‰æ ¹æœ¬ä¸Šçš„åŒºåˆ«ï¼ˆå…³é”®æ˜¯çœ‹æœ‰æ— æœ€ä¼˜å­ç»“æ„ï¼‰ ä»–ä»¬ä¹‹é—´çš„å…±æ€§å°±æ˜¯ æ‰¾åˆ°é‡å¤å­é—®é¢˜ ä»–ä»¬ä¹‹é—´çš„å·®åˆ«å°±åœ¨äº åŠ¨æ€è§„åˆ’æœ‰æœ€ä¼˜å­ç»“æ„ï¼Œä¸­é€”å¯ä»¥æ·˜æ±°æœ€ä¼˜è§£ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:1:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ–æ³¢é‚£å¥‘æ•°åˆ— æ–æ³¢é‚£å¥‘é¢æ•°åˆ— æˆ‘ä»¬éƒ½çŸ¥é“æ˜¯å¯ä»¥ç”¨é€’å½’å»è§£å†³ï¼Œä½†æ˜¯é¢è¯•çš„æ—¶å€™ï¼Œåƒä¸‡ä¸èƒ½è¯´ç”¨é€’å½’ï¼Œå‚»é€’å½’çš„æ•ˆç‡æ˜¯ææ…¢çš„ æ—¶é—´å¤æ‚åº¦ä¸ºæŒ‡æ•°çº§ï¼Œä¹Ÿå°±æ˜¯ O(2^n) æ‰€ä»¥æˆ‘ä»¬å°±å¾—æƒ³åŠæ³•æ¥ä¼˜åŒ–å•¦ï¼Œæˆ‘ä»¬å¯ä»¥åŠ ä¸€ä¸ªç¼“å­˜ï¼Œè¿™ä¸ªç¼“å­˜å¯ä»¥ç”¨æ•°ç»„ï¼Œè¿™ç§å«åš â€œè®°å¿†åŒ–æœç´¢â€ func fib(n int, memo []int) { // resursion terminator(é€’å½’ç»ˆæ­¢æ¡ä»¶) if (n \u003c= 1) { return 0 } if (memo[n] == 0) { memo[n] = fib(n - 1) + fib(n - 2) } return memo[n] } åœ¨ä¸Šè¿°ä»£ç ä¸­æˆ‘ä»¬é€šè¿‡å¢åŠ æ•°ç»„å®ç°çš„ç¼“å­˜ï¼Œä½¿å¾—åªè¦åœ¨æ•°ç»„å‡ºç°çš„å€¼å°±ç›´æ¥returnï¼Œä¸è®©ä»–å‚ä¸éå†ï¼ŒæŠŠé‡å¤çš„èŠ‚ç‚¹ç›´æ¥ç æ‰ï¼Œæ‰€ä»¥O(2^n) å˜æˆäº† O(n) æ˜¯ä¸æ˜¯è´¼æ£’ï¼Œå…¶å®è¿™ä¸ªä¹Ÿæ˜¯åˆ†æ²»çš„æ€æƒ³ï¼Œåªä¸è¿‡åŠ äº†ä¸ªè®°å¿†åŒ–æœç´¢ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:2:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ€æƒ³ - è‡ªé¡¶å‘ä¸‹ æˆ‘ä»¬åœ¨é¢å¯¹æ–æ³¢é‚£å¥‘æ—¶ï¼Œå½“ç„¶å¯ä»¥ç”¨ä¸Šè¿°è®²çš„ åˆ†æ²» + è®°å¿†åŒ–æœç´¢ æ¥å®ç°ï¼Œå…¶å®è¿™ä¸ªæ€æƒ³å°±æ˜¯ â€œè‡ªé¡¶å‘ä¸‹â€ çš„æ€æƒ³ ä»€ä¹ˆå«è‡ªé¡¶å‘ä¸‹å‘¢ï¼Ÿå°±æ˜¯ä¸Šè¿°å›¾ç‰‡ï¼Œæˆ‘ä»¬ä¸€ç›´ä»ä¸Šé¢ä¹Ÿå°±æ˜¯fib(6)æ‰¾åˆ°æœ€ä¸‹é¢çš„å¶å­ç»“ç‚¹ æˆ‘è¦ç®— fib(6) å°±å¾—ç®—fib(5) å’Œ fib(4) æˆ‘è¦ç®—fib(5) å°±å¾—ç®—fib(4) å’Œ fib(3) â€¦ å°±å¦‚ä¸Šè¿°ä¸€ç›´ä¸‹å»ï¼Œä¸­é—´ç®—è¿‡çš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ç”¨è®°å¿†åŒ–æœç´¢ï¼Œè¿™ç§ç¬¦åˆäººè„‘çš„ä¹ æƒ¯ï¼Œä¹Ÿæ˜¯åˆ†æ²»çš„æ€æƒ³ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:3:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ€æƒ³ - è‡ªåº•å‘ä¸Š æˆ‘ä»¬å­¦ä¹ äº†è‡ªé¡¶å‘ä¸‹çš„æ–¹æ³•ï¼Œemmmï¼Œæ˜¯ä¸æ˜¯æ„Ÿè§‰å¾ˆä¸é”™ï¼Œä½†æ˜¯åæ¥å½“æˆ‘ä»¬é‡åˆ°æ›´éš¾å¾—dpä¹Ÿå°±æ˜¯åŠ¨æ€è§„åˆ’æ—¶ï¼Œé«˜æ‰‹ä¸€èˆ¬ä¼šç›´æ¥ç”¨â€œè‡ªåº•å‘ä¸Šâ€çš„æ€æƒ³ é‚£ä¹ˆä»€ä¹ˆæ˜¯è‡ªåº•å‘ä¸Šå‘¢ æˆ‘ä»¬æƒ³ç®—fib(6) ä»fib(0) fib(1) å¼€å§‹ ç„¶åä¸€ç›´ç”¨å¾ªç¯å»é€’æ¨ æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦äº†è§£è‡ªåº•å‘ä¸‹æ€æƒ³å³å¯ï¼Œæ‰€ä»¥åŠ¨æ€è§„åˆ’ç¿»è¯‘æˆåŠ¨æ€é€’æ¨æ˜¯ä¸æ˜¯å¾ˆæœ‰é“ç† ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:4:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"çŠ¶æ€è½¬ç§»æ–¹ç¨‹ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ä¹Ÿå« dpæ–¹ç¨‹ è¿™ä¸ªå…¶å®æ˜¯è¦åœ¨ä¾‹é¢˜1 ä¾‹é¢˜2 åæ¥è®²çš„ è¿™é‡Œä¸ºäº†å·¥æ•´æ€§ æå‰è¯´äº† å¤§å®¶å¯ä»¥å…ˆçœ‹ä¸€ä¸‹ä¾‹é¢˜1 å’Œä¾‹é¢˜2 çš„åˆ†æå†æ¥çœ‹ dpæ–¹ç¨‹ å’Œ å…³é”®ç‚¹ æ€è€ƒæ­¥éª¤ ä¸¤é“ä¾‹é¢˜ å…¶å®éƒ½æœ‰ä¸€ä¸ªæ ¸å¿ƒçš„å…³é”®æ–¹ç¨‹ ä¾‹é¢˜1 æ˜¯Â v[i] = v[i-1] + v[i-2] ä¾‹é¢˜2 æ˜¯Â v[i][j] = v[i-1][j] + v[i][j-1] è¿™ç±»æ–¹ç¨‹ æˆ‘ä»¬å«çŠ¶æ€è½¬ç§»æ–¹ç¨‹ ä¹Ÿå«dpæ–¹ç¨‹ ä½†æ˜¯åˆå›åˆ° å’¬æ–‡åš¼å­—ä¸Š è¿™å…¶å®å°±æ˜¯ä¸€ä¸ªé€’æ¨æ–¹ç¨‹ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:5:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"dp æ€è€ƒç‚¹ åŒ–ç¹ä¸ºç®€ï¼Œå°†å¤æ‚çš„é—®é¢˜ å˜æˆå­é—®é¢˜ï¼Œå…¶å®å°±æ˜¯ æ‰¾é‡å¤æ€§ï¼ˆåˆ†æ²»æ€æƒ³ï¼‰ å®šä¹‰å¥½çŠ¶æ€ç©ºé—´ å®šä¹‰dpæ•°ç»„ \u0026\u0026 åˆå§‹åŒ–dpæ•°ç»„ æ³¨æ„è¿™é‡Œå®šä¹‰å’Œåˆå§‹åŒ–æ•°ç»„çš„é•¿åº¦ä¸€å®šè¦æ³¨æ„ æœ‰æ—¶å€™ä¼šæ˜¯ â€œ\u003e=â€ æˆ–è€…å…¶ä»–çš„ï¼Œå¦‚æœå®šä¹‰é”™è¯¯ï¼Œåˆ™ä¼šæ•°ç»„è¶Šç•Œï¼Œæˆ–è€…ç­”æ¡ˆé”™è¯¯ å†™å¥½dpæ–¹ç¨‹ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:6:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜1 - çˆ¬æ¥¼æ¢¯ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:7:0","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ–¹æ³•1 - åŠ¨æ€è§„åˆ’ URL 70. çˆ¬æ¥¼æ¢¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ ä»£ç ç¤ºä¾‹ class Solution { public: int climbStairs(int n) { /* å®šä¹‰dpæ•°ç»„ */ vector\u003cint\u003e dp(n+1); /* åˆå§‹åŒ–dpæ•°ç»„ */ dp[0] = 1; dp[1] = 1; /* dpæ–¹ç¨‹ è‡ªåº•å‘ä¸Š */ for (int i = 2; i \u003c dp.size(); i++) { dp[i] = dp[i-1] + dp[i-2]; } return dp[n]; } }; ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/:7:1","tags":["åŠ¨æ€è§„åˆ’"],"title":"åŠ¨æ€è§„åˆ’","uri":"/%E7%AE%97%E6%B3%95-%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç† ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:0:0","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"çŸ¥è¯†ç‚¹ RAIIå¯¹è±¡ æœ¬å¤§ç« èŠ‚-èµ„æºç®¡ç†ï¼Œéœ€è¦å¼„æ‡‚ä»€ä¹ˆæ˜¯RAIIï¼Œåœ¨æœ¬åšå®¢ã€Šä»€ä¹ˆæ˜¯RAIIã€‹ä¸­æœ‰è¯¦è§£ ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:1:0","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾13 ä»¥å¯¹è±¡ç®¡ç†èµ„æº å‰è¨€ å…¶å®åœ¨æœ¬æ–‡ä¸­çš„auto_ptrå·²ç»è¢«å¼ƒç”¨äº†ï¼Œå»ºè®®å»çœ‹ã€ŠEffective Modern c++ Item18 ~ Item22ã€‹ ä½†æ˜¯åœ¨è¿™é‡Œè¿˜æ˜¯è¯´ä¸€ä¸‹è¯¥æ¡æ¬¾çš„ä¸€äº›æ€è·¯ç‚¹ æ€è·¯ç‚¹ åœ¨æ„é€ ä¸­è·å¾—èµ„æºå¹¶åœ¨ææ„å‡½æ•°ä¸­é‡Šæ”¾èµ„æº ä¸¤ä¸ªå¸¸ç”¨çš„è‡ªåŠ¨ç®¡ç†èµ„æºçš„ç±»æ˜¯shared_ptrå’Œauto_ptrï¼Œå…¶ä¸­auto_ptrçš„å¤åˆ¶åŠ¨ä½œï¼Œä¼šå¯¼è‡´å¤åˆ¶å¯¹è±¡å˜ä¸ºnullï¼Œå®¹æ˜“é€ æˆæ„å¤–çš„é”™è¯¯ï¼Œä¸€èˆ¬æ¨èä½¿ç”¨shared_ptrï¼Œå…¶ä½¿ç”¨å¼•ç”¨è®¡æ•°çš„åŸç†å®ç°å¯¹è±¡å…±äº«çš„ç›®çš„ï¼Œå¹¶ä¸”åœ¨è®¡æ•°ä¸º0æ—¶è‡ªåŠ¨é‡Šæ”¾å¯¹è±¡ ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:2:0","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"Summary å·²è¿‡æ—¶ï¼Œå»ºè®®å»çœ‹ã€ŠEffective Modern c++ Item18 ~ Item22ã€‹ æ€è·¯ç‚¹å…¶å®å°±æ˜¯RAIIåŸåˆ™ ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:2:1","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾14 åœ¨èµ„æºç®¡ç†ç±»ä¸­å°å¿ƒcopyingè¡Œä¸º å¼•è¨€ ä¸ŠèŠ‚æ˜¯å¯¹èµ„æºçš„ç®¡ç†è¯´æ˜ã€‚æœ‰æ—¶å€™æˆ‘ä»¬ä¸èƒ½ä¾èµ–äºshared_ptræˆ–è€…auto_ptr,æ‰€ä»¥æˆ‘ä»¬é¡»è¦è‡ªå·±å»ºç«‹ä¸€ä¸ªèµ„æºç®¡ç†ç±»æ¥ç®¡ç†è‡ªå·±çš„èµ„æº å‡è®¾æˆ‘ä»¬ä½¿ç”¨C APIå‡½æ•°å¤„ç†Mutexäº’æ–¥å™¨å¯¹è±¡ï¼š void lock(Mutex* pm); //é”å®špmæ‰€æŒ‡çš„äº’æ–¥å™¨ void unlock(Mutex* pm); //è§£é™¤é”å®š ä¸ºäº†å¿˜è®°é‡Šæ”¾é”ï¼Œæˆ‘ä»¬æƒ³è¦å»ºç«‹ä¸€ä¸ªclassæ¥è¿›è¡Œèµ„æºç®¡ç†ï¼Œè¿™é‡Œclassåº”è¯¥æ»¡è¶³RAIIå®ˆåˆ™ï¼Œå³\"èµ„æºåœ¨æ„é€ æœŸé—´è·å¾—ï¼Œåœ¨ææ„æœŸé—´é‡Šæ”¾\" class Lock{ public: explicit Lock(Mutex* pm):mutexPtr(pm){ lock(mutexPtr);//è·å¾—èµ„æº } ~Lock(){ unlock(mutexPtr); // é‡Šæ”¾èµ„æº } private: Mutex* mutexPtr; }; copyingè¡Œä¸º ä¸Šè¿°ä¾‹å­å†™çš„è¿™å¾ˆä¸é”™ï¼Œä½†æ˜¯å¦‚æœæ­¤æ—¶Lockå¯¹è±¡è¢«å¤åˆ¶ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ Lock ml1(\u0026m); // é”å®šm Lock ml2(ml1); // å°†ml1å¤åˆ¶åˆ°ml2èº«ä¸Š è¿™æ ·åšç»å¯¹ä¸è¡Œï¼Œæˆ‘ä»¬ä¸èƒ½ç¡®å®šä»€ä¹ˆæ—¶å€™m2å’Œm1ä¼šè¢«ææ„ï¼Œä¸€æ—¦è¢«ææ„å°±ä¼šå¯¼è‡´mutexè§£é”ï¼Œmutexä¸€æ—¦è§£é”å°±ä¼šè¢«åˆ«çš„è¿›ç¨‹æ‰€è°ƒç”¨ï¼Œç¨‹åºå°†å‡ºç°å·¨å¤§çš„æ··ä¹± å…¶å®ï¼Œè¿™ä¸æ˜¯è¯´ä¸€ä¸ªç‰¹å®šä¾‹å­ï¼Œä¸€èˆ¬çš„æƒ…å†µæ˜¯ï¼šå½“ä¸€ä¸ªRAIIå¯¹è±¡è¢«å¤åˆ¶æ—¶ï¼Œåº”è¯¥å¦‚ä½•é€‰æ‹©ï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§åšæ³• ç¦æ­¢å¤åˆ¶ å¦‚æ¡æ¬¾06æ‰€è¨€ï¼šå°†copyingæ“ä½œå£°æ˜ä¸ºprivateï¼Œæˆ–è€…åˆ©ç”¨c++11æ–°ç‰¹æ€§ = delete å¼•ç”¨è®¡æ•° å¯¹åº•å±‚èµ„æºä½¿ç”¨â€reference-countâ€œ æœ‰æ—¶å€™å¸Œæœ›ä¿æœ‰èµ„æºï¼Œç›´åˆ°å®ƒçš„æœ€åä¸€ä¸ªä½¿ç”¨è€…ï¼ˆæŸå¯¹è±¡ï¼‰è¢«é”€æ¯ã€‚å¯¹Lockæ‰“ç®—ä½¿ç”¨reference countingå®ƒå¯ä»¥æ”¹å˜mutexPtrç±»å‹ï¼Œå°†Mutex*æ”¹ä¸ºtr1::shared_ptr\u003cMutex\u003eï¼Œå½“ç„¶è¿™ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³é‡Šæ”¾é”ï¼Œè€Œä¸æ˜¯åˆ é™¤é” å¹¸è¿çš„æ˜¯tr1::shared_ptrè¿è¡ŒæŒ‡å®šæ‰€è°“çš„åˆ é™¤å™¨ï¼Œé‚£æ˜¯ä¸€ä¸ªå‡½æ•°æˆ–å¯¹è±¡ï¼Œå¼•ç”¨æ¬¡æ•°ä¸º0æ‰è¢«è°ƒç”¨ã€‚åˆ é™¤å™¨å¯¹tr1::shared_ptræ„é€ å‡½æ•°è€Œè¨€æ˜¯å¯æœ‰å¯æ— çš„ç¬¬äºŒå‚æ•°ï¼Œæ‰€ä»¥ä»£ç çœ‹èµ·æ¥åƒè¿™æ · class Lock { public: explicit Lock(mutex* pm) : mutexPtr(pm, unlock) { lock(mutexPtr.get()); } private: std::trl::shared_ptr\u003cMutex\u003e mutexPtr; } ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:3:0","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"Summary å¤åˆ¶RAIIå¯¹è±¡å¿…é¡»ä¸€å¹¶å¤åˆ¶å®ƒæ‰€ç®¡ç†çš„èµ„æºï¼Œæ‰€ä»¥èµ„æºçš„copyingè¡Œä¸ºå†³å®šRAIIå¯¹è±¡çš„copyingè¡Œä¸º æ™®éå¸¸è§çš„RAII class copying è¡Œä¸ºæ˜¯ï¼šç¦æ­¢å¤åˆ¶ã€æ–½è¡Œå¼•ç”¨è®¡æ•°æ³• ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:3:1","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾15 èµ„æºç®¡ç†ç±»ä¸­æä¾›å¯¹åŸå§‹èµ„æºçš„è®¿é—® è¿™é‡Œæƒ³è¦å°†RAIIclasså¯¹è±¡è¿›è¡Œè½¬æ¢ä¸ºå…¶å†…å«ä¹‹åŸå§‹èµ„æºï¼Œæœ‰ä¸¤ç§è½¬æ¢ ç¤ºä¾‹ä»£ç  FontHandle getFont(); void releaseFont(FontHandle fh); class Font { public: explicit Font(FontHandle fh) : f(fh) { } ~Font() { releaseFont(f); } FontHanle get() const { return f; } // æ˜¾ç¤ºè½¬æ¢ operator FontHandle() const { return f; } // éšå¼è½¬æ¢ private: FontHandle f; }; Font f1(getFont()); FontHanle f2 = f1; æ˜¾ç¤ºè½¬æ¢ æä¾›get()å‡½æ•°å¾—åˆ°åŸå§‹æŒ‡é’ˆ æ˜¾ç¤ºè°ƒç”¨ å¾ˆä¸é”™ æ²¡æœ‰å•¥é—®é¢˜ éšå¼è½¬æ¢ å…è®¸éšå¼è½¬æ¢ï¼Œä½†æ˜¯ä¼šæœ‰é—®é¢˜ï¼Œåœ¨å®¢æˆ·FontHanle f2 = f1;çš„æ—¶å€™ï¼Œå¹¶ä¸çŸ¥é“è¿™è¿˜æœ‰ä¸€å±‚éšå¼è½¬æ¢çš„é€»è¾‘ï¼Œæ‰€ä»¥ä¼šå¢åŠ é”™è¯¯ç‡ ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:4:0","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"Summary APIså¾€å¾€è¦æ±‚è®¿é—®åŸå§‹èµ„æºï¼Œæ‰€ä»¥æ¯ä¸€ä¸ªRAII classåº”è¯¥æä¾›ä¸€ä¸ªâ€å–å¾—å…¶æ‰€ç®¡ç†ä¹‹èµ„æºâ€œçš„æ–¹æ³• å¯¹åŸå§‹èµ„æºçš„æ–¹æ³•å¯èƒ½ä¼šç»ç”±æ˜¾å¼è½¬æ¢æˆ–éšå¼è½¬æ¢ ç›¸å¯¹è€Œè¨€æ˜¾å¼è½¬æ¢æ¯”è¾ƒå®‰å…¨ï¼Œä½†æ˜¯é¢‘ç¹get()å¾ˆçƒ¦äºº ä½†éšå¼è½¬æ¢å¯¹ç”¨æˆ·æ¯”è¾ƒæ–¹ä¾¿ ä¸ªäººè§‰å¾—æ˜¯æ˜¾ç¤ºè°ƒç”¨è¦å¥½ï¼Œé¢‘ç¹è°ƒç”¨get()åˆä¸ä¼šæ­»ï¼Œéšå¼è°ƒç”¨ç”¨æˆ·å¦‚æœä¸å‘Šè¯‰ä»–ï¼Œæˆ–è€…ä»–è‡ªå·±å‘ç°ï¼Œä¹Ÿä¸ä¼šå¯Ÿè§‰åˆ°æœ‰ä¸€æ¬¡éšå¼è°ƒç”¨ï¼Œä¼šå¢åŠ æŠ¥é”™çš„å‡ ç‡ ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:4:1","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾16 newå’Œdelete è¦ä½¿ç”¨ç›¸åŒå½¢å¼ åœ¨ä½¿ç”¨new deleteéœ€è¦ä½¿ç”¨ä¸€è‡´çš„å½¢åŠ¿ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ std::string* stringPtr1 = new std::string; std::string* stringPtr2 = new std::string[100]; ... delete stringPtr1; delete[] stringPtr2; è¦æ³¨æ„typedefè‡ªå®šä¹‰ç±»å‹ typedef std::string AddressLines[4]; std::string* pal = new AddressLines; // new string[4] delete pal; // undefined!!! delete[] pal; // fine è¿™ä¸ªè§„åˆ™å¯¹äºä½¿ç”¨typedefçš„ç¨‹åºå‘˜æ¥è¯´ååˆ†é‡è¦ï¼Œå› ä¸ºå®ƒæ„å‘³ç€typedefçš„ä½œè€…å¿…é¡»è¯´æ¸…æ¥šï¼šå½“ç¨‹åºå‘˜ä»¥newåˆ›å»ºè¯¥ç§typedefç±»å‹å¯¹è±¡æ˜¯ï¼Œè¯¥ä»¥å“ªä¸€ç§deleteå½¢å¼åˆ é™¤ä¹‹ï¼Œè€ƒè™‘ä¸€ä¸‹è¿™ä¸ªtypedef: ä¸ºé¿å…è¯¸å¦‚æ­¤ç±»é”™è¯¯ï¼Œå°½é‡ä¸æ˜¯å¯¹æ•°ç»„å½¢å¼ä½¿ç”¨typedefæ“ä½œã€‚è¿™å®¹æ˜“è¾¾æˆï¼Œå› ä¸ºC++æ ‡å‡†ç¨‹åºåº“å«æœ‰string vectorç­‰templates,å¯ä»¥å°†æ•°ç»„çš„éœ€æ±‚ä¸‹é™åˆ°0 ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:5:0","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"Summary åœ¨ä½¿ç”¨new deleteéœ€è¦ä½¿ç”¨ä¸€è‡´çš„å½¢åŠ¿ä½¿ç”¨ï¼Œå¦åˆ™ä¼šå¯¼è‡´å†…å­˜æ³„æ¼ åœ¨typedefè‡ªå®šä¹‰ç±»å‹çš„æ—¶å€™ï¼Œä¸€å®šè¦æ³¨é‡Šå†™ç€å“ªä¸€ç§deleteå½¢å¼åˆ é™¤ ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:5:1","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾17 ä»¥ç‹¬ç«‹è¯­å¥å°†newedå¯¹è±¡ç½®å…¥æ™ºèƒ½æŒ‡é’ˆ æœ‰äº›æ™ºèƒ½æŒ‡é’ˆç±»(æ¯”å¦‚shared_ptr\u003cT\u003e)ä¸æ”¯æŒéšå¼ç±»å‹è½¬æ¢,å‡è®¾å­˜åœ¨è¿™æ ·ä¸¤ä¸ªå‡½æ•° void fun(shared_ptr\u003cint\u003e lhs,int rhs); int foo(); é‚£ä¹ˆå¯¹äºä»¥ä¸‹å‡½æ•°è°ƒç”¨ fun(new int,foo()); å°†ä¸èƒ½é€šè¿‡ç¼–è¯‘,è§£å†³æ–¹æ³•ä¹‹ä¸€: fun(shared_ptr\u003cint\u003e(new int),foo()); å®ƒå…±æœ‰ä¸‰ä¸ªæ­¥éª¤ æ‰§è¡Œnew int æ„é€ shared_ptr\u003cint\u003e è°ƒç”¨foo() ä½†æ˜¯ç”±äºç¼–è¯‘å™¨å¯¹äºåŒä¸€è¯­å¥çš„å„é¡¹æ“ä½œå…·æœ‰é‡æ–°æ’åˆ—çš„è‡ªç”±,å› æ­¤é™¤äº†æ‰§è¡Œnew intè‚¯å®šåœ¨æ„é€ shared_ptr\u003cint\u003eä¹‹å‰å¤–,è°ƒç”¨foo(),å¯ä»¥å‘ç”Ÿåœ¨ä»»ä½•é˜¶æ®µ,å¯èƒ½åœ¨æœ€å‰,ä¸­é—´,æœ€å,å¦‚æœæ˜¯æŒ‰:æ‰§è¡Œnew intâ†’è°ƒç”¨foo()â†’æ„é€ shared_ptr\u003cint\u003eçš„é¡ºåºæ‰§è¡Œ,é‚£ä¹ˆå¦‚æœfoo()å‘ç”Ÿå¼‚å¸¸,å°±ä¼šåœ¨shared_ptr\u003cint\u003eæ„é€ ä¹‹å‰é€ æˆå†…å­˜æ³„éœ². å¯¹äº1å‡ºç°çš„é—®é¢˜,å¯ä»¥åˆ©ç”¨ç¼–è¯‘å™¨å¯¹äº\"è·¨è¶Šè¯­å¥çš„å„é¡¹æ“ä½œ\"æ²¡æœ‰é‡æ–°æ’åˆ—çš„æƒåŠ›,ä»¥ç‹¬ç«‹è¯­å¥å°†newedå¯¹è±¡ç½®å…¥æ™ºèƒ½æŒ‡é’ˆ,å¦‚ä¸‹ shared_ptr\u003cint\u003e ptr(new int); fun(ptr,foo); è¿™æ ·å¯ä»¥é˜²æ­¢ç”±äºfooåœ¨newå‡ºçš„intè¢«æ”¾å…¥shared_ptr\u003cint\u003eä¹‹å‰æŠ›å‡ºå¼‚å¸¸è€Œå¯¼è‡´å†…å­˜æ³„éœ²,ä½†è¦æ³¨æ„: pträ¸æ˜¯ä¸´æ—¶å¯¹è±¡,ä¹Ÿå°±æ˜¯è¯´è°ƒç”¨funåptrç®¡ç†çš„å†…å­˜æ²¡æœ‰è¢«é‡Šæ”¾,è€Œptrçš„å­˜åœ¨å¹¶ä¸æ˜¯ä¸ºäº†è¦è®¿é—®åº•å±‚èµ„æº,è€Œæ˜¯ä¸ºäº†é˜²æ­¢å‡ºç°å¼‚å¸¸è€Œé€ æˆå†…å­˜æ³„éœ²å­˜åœ¨çš„,æ‰€ä»¥å¦‚æœä¸éœ€è¦ptræ‰€æŒ‡å‘çš„å†…å­˜,æœ€å¥½è°ƒç”¨reset()å°†å®ƒé‡Šæ”¾.(ä¸ªäººè®¤ä¸ºè¿™ä¸ªæ¡æ¬¾æœ‰äº›é¸¡è‚‹) ","date":"2023-03-05","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/:6:0","tags":["Effective C++"],"title":"æ¡æ¬¾13ï½17 èµ„æºç®¡ç†","uri":"/effective-c-%E6%9D%A1%E6%AC%BE13-17/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†ä½è¿ç®—çš„ä¸€äº›åœºæ™¯","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä½è¿ç®— ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:0:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å‰è¨€ æœ¬æ–‡åˆ†ä¸‰ä¸ªéƒ¨åˆ† æœ‰è¶£çš„ä½è¿ç®— ç®—æ³•æ¯”è¾ƒå¸¸ç”¨çš„ n \u0026 (n - 1) ç®—æ³•ä¾‹é¢˜ ä½è¿ç®—çš„åŸºæœ¬æ¦‚å¿µ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:1:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä½è¿ç®—ç¬¦ å·¦ç§» \u003c\u003c 0011 -\u003e 0110 å³ç§» \u003e\u003e 0110 -\u003e 0011 æŒ‰ä½æˆ– | 0011 -----\u003e 1011 1011 æŒ‰ä½ä¸ \u0026 0011 -----\u003e 0011 1011 æŒ‰ä½å–å ~ 0011 -\u003e 1100 æŒ‰ä½å¼‚æˆ– ^ 0011 -----\u003e 1000 1011 ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:2:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"XOR å¼‚æˆ– å¼‚æˆ–: ç›¸åŒä¸º0 ä¸åŒä¸º1 ä¹Ÿå¯ç”¨ \"ä¸è¿›ä½åŠ æ³•\" æ¥ç†è§£ å¼‚æˆ–æ“ä½œçš„ä¸€äº›ç‰¹ç‚¹: x ^ 0 = x x ^ 1s = ~x // æ³¨æ„ 1s = ~0 x ^ (~x) = 1s x ^ x = 0 c = a ^ b =\u003e a ^ c = b, b ^ c = a // äº¤æ¢ä¸¤ä¸ªæ•° a ^ b ^ c = a ^ (b ^ c) = (a ^ b) ^ c // associative æœ‰è¶£çš„ä½è¿ç®—(ä¸€ç›´æ›´æ–°è¡¥å……) ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:3:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å°†xæœ€å³è¾¹çš„nä½æ¸…é›¶ x \u0026 (~0 \u003c\u003c n) ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:4:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è·å–xçš„ç¬¬nä½å€¼ (0 æˆ–è€… 1) (x \u003e\u003e n) \u0026 1 ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:5:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è·å–xçš„ç¬¬nä½çš„å¹‚å€¼ x \u0026 (1 \u003c\u003c (n - 1)) ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:6:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä»…å°†ç¬¬nä½ç½®ä¸º1 x | (1 \u003c\u003c n) ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:7:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä»…è§ç¬¬nä½ç½®ä¸º0 x \u0026 (~(1 \u003c\u003c n)) ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:8:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å°†xæœ€é«˜ä½è‡³ç¬¬nä½ (å«)æ¸…é›¶ x \u0026 ((1 \u003c\u003c n) -1) ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:9:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å°†ç¬¬nä½è‡³ç¬¬0ä½ x \u0026 (~((1 \u003c\u003c (n-1))-1)) ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:10:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åˆ¤æ–­å¥‡å¶ x % 2 == 1 ---\u003e (x \u0026 1) == 1 x % 2 == 0 ---\u003e (x \u0026 1) == 0 ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:11:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"x Â» 1 â€”\u003e x / 2 å³ x = x/2; ---\u003e x = x \u003e\u003e 1; ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:12:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¾—åˆ°æœ€ä½ä½çš„1 X \u0026 -X ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:13:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"X \u0026 ~X -\u003e 0 X \u0026 ~X -\u003e 0 ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:14:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å°†è‹±æ–‡å­—ç¬¦ä¸²è½¬ä¸ºå¤§å°å†™ å¤§å†™å˜å°å†™ã€å°å†™å˜å¤§å†™ : å­—ç¬¦ ^= 32; å¤§å†™å˜å°å†™ã€å°å†™å˜å°å†™ : å­—ç¬¦ |= 32; å°å†™å˜å¤§å†™ã€å¤§å†™å˜å¤§å†™ : å­—ç¬¦ \u0026= -33; /* ä»¥ä¸Šæ“ä½œèƒ½å¤Ÿäº§ç”Ÿå¥‡ç‰¹æ•ˆæœçš„åŸå› åœ¨äº ASCII ç¼–ç  å­—ç¬¦å…¶å®å°±æ˜¯æ•°å­—ï¼Œæ°å·§è¿™äº›å­—ç¬¦å¯¹åº”çš„æ•°å­—é€šè¿‡ä½è¿ç®—å°±èƒ½å¾—åˆ°æ­£ç¡®çš„ç»“æœï¼Œæœ‰å…´è¶£çš„è¯»è€…å¯ä»¥æŸ¥ ASCII ç è¡¨è‡ªå·±ç®—ç®—ï¼Œæœ¬æ–‡å°±ä¸å±•å¼€è®²äº† */ ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:15:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦å¼‚å· int x = -1, y = 2; bool f = ((x ^ y) \u003c 0); // true int x = 3, y = 2; bool f = ((x ^ y) \u003c 0); // false ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:16:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äº¤æ¢ä¸¤ä¸ªæ•° int a = 1, b = 2;a ^= b;b ^= a;a ^= b; ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:17:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åŠ 1 int n = 1;n = -~n; ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:18:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å‡1 int n = 2;n = ~-n; // ç°åœ¨ n = 1 ç®—æ³•å¸¸ç”¨æ“ä½œ n\u0026(n-1) è¿™ä¸ªæ“ä½œæ˜¯ç®—æ³•ä¸­å¸¸è§çš„ï¼Œä½œç”¨æ˜¯æ¶ˆé™¤æ•°å­— n çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æœ€åä¸€ä¸ª 1 ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:19:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜1 - äºŒè¿›åˆ¶ä¸­çš„1çš„ä¸ªæ•° LCR 133. ä½ 1 çš„ä¸ªæ•° - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ æ€è·¯è¯¦è§£ï¼š `å°±æ˜¯è®©ä½ è¿”å› n çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­æœ‰å‡ ä¸ª 1 å› ä¸º n \u0026 (n - 1) å¯ä»¥æ¶ˆé™¤æœ€åä¸€ä¸ª 1ï¼Œæ‰€ä»¥å¯ä»¥ç”¨ä¸€ä¸ªå¾ªç¯ä¸åœåœ°æ¶ˆé™¤ 1 åŒæ—¶è®¡æ•°ï¼Œç›´åˆ° n å˜æˆ 0 ä¸ºæ­¢ int hammingWeight(uint32_t n) { int res = 0; while (n != 0) { n = n \u0026 (n - 1); res++; } return res; } é¢˜ç›®æ¨è ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:20:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜1 - æ’å…¥ é¢˜ç›®url é¢è¯•é¢˜ 05.01. æ’å…¥ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ è§£é¢˜æ€è·¯ å…ˆå°†Nçš„ç¬¬i ~ jä½å…¨éƒ¨ç½®é›¶ï¼› åœ¨å°†Må·¦ç§»iä½ï¼Œä½¿ä¹‹å¯¹å…¶ä¸Šä¸€æ­¥ä¸­Nç½®é›¶çš„ä½ï¼Œç›´æ¥ç›¸åŠ å³å¯ã€‚ ç¤ºä¾‹ä»£ç  class Solution { public: int insertBits(int N, int M, int i, int j) { for (int k = i; k \u003c= j; ++ k) { //ä¸¾ä¾‹è¯´æ˜ï¼š (1 \u003c\u003c 3) è¡¨ç¤º 00001000ï¼Œå–ååå¾— 11110111 // N \u0026= (11110111) è¡¨ç¤ºå°† N çš„ç¬¬3ä½ç½®é›¶äº† N \u0026= ~(1 \u003c\u003c k); } return N + (M \u003c\u003c i); } }; ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:21:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜2 - ç¿»è½¬æ•°ä½ é¢˜ç›®url é¢è¯•é¢˜ 05.03. ç¿»è½¬æ•°ä½ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ æ–¹æ³•1 - ä½è¿ç®— /* åœ¨éå†numæ¯ä¸€ä½æ—¶ï¼Œè¿½è¸ªå½“å‰1åºåˆ—çš„é•¿åº¦å’Œä¸Šä¸€æ®µ1åºåˆ—çš„é•¿åº¦ï¼› å½“é‡åˆ°æ¯”ç‰¹ä½ä¸º0æ—¶ï¼Œåˆ†ä¸¤ç§æƒ…å†µè®¨è®ºï¼š 1ã€è‹¥ä¸‹ä¸€ä¸ªæ¯”ç‰¹ä½ä¸º1ï¼Œé‚£ä¹ˆpreLen = curLenï¼› 2ã€è‹¥ä¸‹ä¸€ä¸ªæ¯”ç‰¹ä½ä¸º0ï¼Œé‚£ä¹ˆpreLen = 0ï¼Œæˆ‘ä»¬ä¸èƒ½åˆå¹¶è¿™ä¸¤ä¸ª1åºåˆ— */ class Solution { public: int reverseBits(int num) { if (~num == 0) return 32; //å…¨æ˜¯1çš„æƒ…å†µï¼Œè‹¥ä¸ç‰¹åˆ¤ä¼šè¾“å‡º33 int curLen = 0, preLen = 0ï¼› int maxLen = 1; //æœ€å°‘ä¹Ÿèƒ½ç¿»è½¬1ä½ for (int i = 0; i \u003c 32; ++ i) { if ((num \u0026 1) == 1) { curLen ++ ; } else { preLen = ((num \u0026 2) == 0) ? 0 : curLen; //åˆ¤æ–­ä¸‹ä¸€æ¯”ç‰¹ä½æ˜¯å¦ä¸º0 curLen = 0; } maxLen = max(maxLen, preLen + curLen + 1); num \u003e\u003e= 1; } return maxLen; } }; ","date":"2023-03-05","objectID":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/:22:0","tags":["ä½è¿ç®—"],"title":"ä½è¿ç®—","uri":"/%E7%AE%97%E6%B3%95-%E4%BD%8D%E8%BF%90%E7%AE%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†äºŒåˆ†æŸ¥æ‰¾çš„æ¦‚å¿µï¼Œæ€è·¯ï¼ŒåŠä¾‹é¢˜","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äºŒåˆ†æŸ¥æ‰¾ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:0:0","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äºŒåˆ†æŸ¥æ‰¾çš„æ€æƒ³-å‡è€Œæ²»ä¹‹ äºŒåˆ†æŸ¥æ‰¾é€šè¿‡ä¸æ–­ç¼©å°åŒºé—´çš„èŒƒå›´æ¥æŸ¥æ‰¾ç›®æ ‡å…ƒç´ ï¼Œè¿™ç§\"ä¸æ–­ç¼©å°åŒºé—´\"å°±æ˜¯å‡è€Œæ²»ä¹‹çš„æ€æƒ³ å‡è€Œæ²»ä¹‹å¬èµ·æ¥é«˜å¤§ä¸Šï¼Œå…¶å®å°±æ˜¯æ’é™¤æ³•ï¼Œæˆ‘ä»¬æ¯ä¸€æ¬¡æŸ¥æ‰¾å°±æ’é™¤æ‰ä¸€äº›å…ƒç´ ï¼Œæ¯ä¸€æ¬¡é‡å¤æ­¤æ“ä½œï¼Œè‡ªç„¶å°±æ‰¾åˆ°äº†æˆ‘ä»¬çš„ç›®æ ‡å…ƒç´  ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:1:0","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äºŒåˆ†æŸ¥æ‰¾çš„åº”ç”¨èŒƒå›´ åœ¨æœ‰åºæ•°ç»„ä¸­å¯»æ‰¾ä¸€ä¸ªç›®æ ‡å€¼ï¼Œæœ‰åºå’Œæ•°ç»„æ˜¯é‡ç‚¹ åœ¨æ•´æ•°èŒƒå›´å†…å¯»æ‰¾ä¸€ä¸ªç›®æ ‡å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸ä¸€å®šæ˜¯æœ‰åºæ•°ç»„ï¼Œæ—‹è½¬æ•°ç»„å’Œå±±è„‰æ•°ç»„éƒ½å¯ä»¥ç”¨åˆ°äºŒåˆ†æ³• ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:2:0","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äºŒåˆ†æŸ¥æ‰¾çš„ç®—æ³•æ€è·¯ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:3:0","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åœ¨å¾ªç¯ä½“ä¸­æŸ¥æ‰¾å…ƒç´  ç®€ä»‹ æ­¤æ€è·¯å¾ˆç®€å•ï¼Œå°±æ˜¯ç›´æ¥åœ¨æ•°ç»„ä¸­æŸ¥æ‰¾åˆ°ç›®æ ‡å…ƒç´  æ—¶é—´å¤æ‚åº¦ O(log N)ï¼Œè¿™é‡Œçš„Næ˜¯æŒ‡æ•°ç»„çš„é•¿åº¦ ç©ºé—´å¤æ‚åº¦ï¼šç”±äºäºŒåˆ†æŸ¥æ‰¾ç®—æ³•åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­åªä½¿ç”¨åˆ°å¸¸æ•°ä¸ªä¸´æ—¶å˜é‡ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦æ˜¯Â O(1)ã€‚ ä»£ç æ¨¡æ¿ int search(vector\u003cint\u003e\u0026 nums, int target) { int left = 0, right = nums.size()-1; while (left \u003c= right) { int mid = left + (right - left) / 2; if (nums[mid] == target) { return mid; } if (nums[mid] \u003c target) { left = mid + 1; } if (nums[mid] \u003e target) { right = mid - 1; } } } ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:3:1","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åœ¨å¾ªç¯ä½“ä¸­æ’é™¤ç›®æ ‡å…ƒç´ ä¸€å®šä¸å­˜åœ¨çš„åŒºé—´ ç®€ä»‹ è¿™ç§æ€è·¯å°±æ˜¯ä¸€ç›´æ’é™¤å…ƒç´ ä¸å­˜åœ¨çš„åŒºé—´ï¼Œç„¶åå‰©ä¸‹æ¥æœ€åä¸€ä¸ªæ•° ä¹Ÿå°±æ˜¯left = rightçš„æ•°ï¼Œå› ä¸ºè¿™é‡Œçš„å¾ªç¯æ¡ä»¶å°±æ˜¯while (left \u003c right) {}ï¼Œæœ€åè¿›è¡Œè¿™ä¸ªæ•°çš„åˆ¤æ–­æ˜¯ä¸æ˜¯æˆ‘ä»¬çš„ç›®æ ‡æ•° æ—¶é—´å¤æ‚åº¦ O(log N)ï¼Œè¿™é‡Œçš„Næ˜¯æŒ‡æ•°ç»„çš„é•¿åº¦ ç©ºé—´å¤æ‚åº¦ï¼šç”±äºäºŒåˆ†æŸ¥æ‰¾ç®—æ³•åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­åªä½¿ç”¨åˆ°å¸¸æ•°ä¸ªä¸´æ—¶å˜é‡ï¼Œå› æ­¤ç©ºé—´å¤æ‚åº¦æ˜¯Â O(1)ã€‚ ä»£ç æ¨¡æ¿ int search(vector\u003cint\u003e\u0026 nums, int target) { int left = 0, right = nums.size()-1; while (left \u003c right) { int mid = left + (right - left) / 2; if (nums[mid] == target) { return mid; } if (nums[mid] \u003c target) { left = mid + 1; } if (nums[mid] \u003e target) { right = mid - 1; } } } ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:3:2","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äºŒåˆ†æŸ¥æ‰¾çš„é‡ç‚¹ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:4:0","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¾ªç¯æ¡ä»¶ å¾ªç¯æ¡ä»¶æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„ä¸œè¥¿ï¼Œæˆ‘ä»¬åˆ°åº•éœ€è¦ç”¨left \u003c= right è¿˜æ˜¯ä½¿ç”¨left \u003c rightï¼Œå…¶å®è¿™å°±æ˜¯è·Ÿæ€è·¯æœ‰å…³äº† ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:4:1","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å–ä¸­é—´æ•°çš„ä»£ç  ä¸€èˆ¬æ¥è¯´æˆ‘ä»¬å–ä¸­é—´æ•°éƒ½æ˜¯ç”¨(left + right) / 2è¿™ä¹ˆä½¿ç”¨å¦‚æœä¸¤ä¸ªæ•°ç‰¹åˆ«å¤§çš„æ—¶å€™ä¼šé€ æˆæº¢å‡ºçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸èƒ½è¿™ä¹ˆç”¨ æœ€å¥½çš„æˆ‘ä»¬æ˜¯ä½¿ç”¨left + (right - left) / 2ï¼Œè¿™ä¸ªè®¡ç®—æ–¹æ³•å¾ˆå¥½çš„é¿å…äº†æº¢å‡ºè¿™ä¸ªé—®é¢˜ï¼Œæ•…äºŒåˆ†æ³•è¦è¿™ä¹ˆå»å†™ å…¶å®è¿˜æœ‰ä¸€ä¸ªåˆ©ç”¨ä½è¿ç®—å¾ˆå¸…çš„ä¸€ä¸ªæ–¹æ³•ï¼Œint mid = (left + right) \u003e\u003e 1; æ¯”å¦‚è¿™ä¸ªä»£ç ï¼Œå¤§å®¶åšä¸ªäº†è§£å³å¯è¿™æ˜¯å› ä¸ºæ•´æ•°å³ç§» 1 ä½å’Œé™¤ä»¥ 2ï¼ˆå‘ä¸‹å–æ•´ï¼‰æ˜¯ç­‰ä»·çš„ï¼Œè¿™æ ·å†™çš„åŸå› æ˜¯å› ä¸ºä½è¿ç®—æ¯”æ•´é™¤è¿ç®—è¦å¿«ä¸€ç‚¹ã€‚ä½†äº‹å®ä¸Šï¼Œé«˜çº§çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¯¹äº / 2 å’Œé™¤ä»¥ 2 çš„æ–¹å¹‚çš„æ—¶å€™ï¼Œåœ¨åº•å±‚éƒ½ä¼šè½¬åŒ–æˆä¸ºä½è¿ç®—ï¼Œæˆ‘ä»¬ä½œä¸ºç¨‹åºå‘˜åœ¨ç¼–ç çš„æ—¶å€™æ²¡æœ‰å¿…è¦è¿™ä¹ˆåšï¼Œå°±å†™æˆ‘ä»¬è¿™ä¸ªé€»è¾‘æœ¬æ¥è¦è¡¨è¾¾çš„æ„æ€å³å¯ï¼Œè¿™ç§ä½è¿ç®—çš„å†™æ³•ï¼Œåœ¨ C++ ä»£ç é‡Œå¯èƒ½è¿˜éœ€è¦æ³¨æ„ä¼˜å…ˆçº§çš„é—®é¢˜ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:4:2","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¸­é—´æ•°çš„ä»£ç è¦ä¸è¦å‘ä¸Šå–æ•´ int mid = left + (right - left) / 2ä¸­/ 2è¡¨ç¤ºçš„å«ä¹‰å…¶å®æ˜¯å‘ä¸‹å–æ•´ï¼Œå¦‚æœæœ€ååŒºé—´ä½äºä¸­é—´çš„æœ‰ä¸¤ä½æ•°ï¼Œé‚£ä¹ˆåªèƒ½å–åˆ°å·¦è¾¹çš„æ•°ï¼Œé‚£ä¹ˆä¸Šå–æ•´å’Œä¸‹å–æ•´æœ‰æ²¡æœ‰å•¥åŒºåˆ«å‘¢ï¼Œå…¶å®æ˜¯æœ‰çš„ï¼Œè¿™ç§åŒºåˆ«æˆ‘ä»¬å¯ä»¥åœ¨å…·ä½“çš„é¢˜ç›®ä¸­å»æ„Ÿæ‚Ÿï¼Œå“ªä¸€ä¸ª ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:4:3","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ¡ˆä¾‹ä¸€ - äºŒåˆ†æŸ¥æ‰¾ åœ¨å¾ªç¯ä½“ä¸­æŸ¥æ‰¾å…ƒç´  class Solution { public: int search(vector\u003cint\u003e\u0026 nums, int target) { int left = 0, right = nums.size()-1; while (left \u003c= right) { int mid = (left + right) / 2; if (nums[mid] == target) { return mid; } if (nums[mid] \u003c target) { left = mid + 1; } if (nums[mid] \u003e target) { right = mid - 1; } } return -1; } }; åœ¨å¾ªç¯ä½“ä¸­æ’é™¤ç›®æ ‡å…ƒç´ ä¸€å®šä¸å­˜åœ¨åŒºé—´ class Solution { public: int search(vector\u003cint\u003e\u0026 nums, int target) { int left = 0, right = nums.size()-1; while (left \u003c right) { int mid = (left + right) / 2; if (nums[mid] \u003c target) { left = mid + 1; } else { right = mid; } } if (nums[left] == target) { return left; } return -1; } }; ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:5:0","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ¡ˆä¾‹äºŒ - çŒœæ•°å­—å¤§å° åœ¨å¾ªç¯ä½“ä¸­æŸ¥æ‰¾å…ƒç´  class Solution { public: int guessNumber(int n) { int left = 1, right = n; while (left \u003c= right) { int mid = left + (right - left) / 2; if (0 == guess(mid)) { return mid; } if (-1 == guess(mid)) { right = mid - 1; } if (1 == guess(mid)) { left = mid + 1; } } return -1; } }; åœ¨å¾ªç¯ä½“ä¸­æ’é™¤ç›®æ ‡å…ƒç´ ä¸€å®šä¸å­˜åœ¨åŒºé—´ class Solution { public: int guessNumber(int n) { int left = 1, right = n; while (left \u003c right) { int mid = left + (right - left) / 2; if (1 == guess(mid)) { left = mid + 1; } else { right = mid; } } return left; } }; è¯¾åä¹ é¢˜ æœç´¢æ’å…¥ä½ç½® åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½® å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ å¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼ II æœç´¢æ—‹è½¬æ’åºæ•°ç»„ æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬ å±±è„‰æ•°ç»„çš„å³°é¡¶ç´¢å¼• å±±è„‰æ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼ å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•° x çš„å¹³æ–¹æ ¹ å¯»æ‰¾é‡å¤æ•° è½¬å˜æ•°ç»„åæœ€æ¥è¿‘ç›®æ ‡å€¼çš„æ•°ç»„å’Œ çˆ±åƒé¦™è•‰çš„ç‚ç‚ åˆ†å‰²æ•°ç»„çš„æœ€å¤§å€¼ åœ¨ D å¤©å†…é€è¾¾åŒ…è£¹çš„èƒ½åŠ› åˆ¶ä½œ m æŸèŠ±æ‰€éœ€çš„æœ€å°‘å¤©æ•° å°å¼ åˆ·é¢˜è®¡åˆ’ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/:6:0","tags":["äºŒåˆ†æŸ¥æ‰¾"],"title":"äºŒåˆ†æŸ¥æ‰¾","uri":"/%E7%AE%97%E6%B3%95-%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†åŒæŒ‡é’ˆçš„æ¦‚å¿µåŠåœºæ™¯å’Œä¾‹é¢˜","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åŒæŒ‡é’ˆ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:0:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¼•è¨€ å¯¹äºæ•°ç»„å’Œé“¾è¡¨ æ¥è¯´ â€œåŒæŒ‡é’ˆ\"å…¶å®æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„è§£æ³•äº† åŒæŒ‡é’ˆä¹Ÿæ˜¯æœ‰å¾ˆå¤šç§ç±»çš„ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:1:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ™®é€šåŒæŒ‡é’ˆ ä»€ä¹ˆæ˜¯åŒæŒ‡é’ˆ åŒæŒ‡é’ˆæ¨¡å¼æŒ‡ä½¿ç”¨ä¸¤ä¸ªä¸€å‰ä¸€åçš„æŒ‡é’ˆéå†æ•°æ®ç»“æ„ï¼Œç›´åˆ°æŸä¸ªæŒ‡é’ˆè§¦å‘åœæ­¢æ¡ä»¶ ä½¿ç”¨åŒæŒ‡é’ˆçš„å¥½å¤„ å•æŒ‡é’ˆåŸæœ¬éœ€è¦å¹³æ–¹çš„æ—¶é—´å¤æ‚åº¦ï¼Œç”¨äº†åŒæŒ‡é’ˆä¾¿å¯ä¼˜åŒ–åˆ°çº¿æ€§æ—¶é—´å¤æ‚åº¦ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:2:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¿«æ…¢æŒ‡é’ˆ ä»€ä¹ˆæ˜¯å¿«æ…¢æŒ‡é’ˆ ä¸¤ä¸ªé€Ÿåº¦ä¸åŒçš„æŒ‡é’ˆ æ¯”å¦‚ â€œfastæŒ‡é’ˆâ€ è·‘ä¸¤æ ¼ â€œslowæŒ‡é’ˆâ€ è·‘ä¸€æ ¼ å¯ä»¥æ‹¿é¾Ÿå…”èµ›è·‘å»æƒ³è±¡ï¼Œåœ¨ä¸€ä¸ªåœ†å½¢èµ›é“ï¼Œâ€œå…”å­ -\u003e å¿«æŒ‡é’ˆâ€ è‚¯å®šä¼šè¿½ä¸Š â€œä¹Œé¾Ÿ -\u003e æ…¢æŒ‡é’ˆâ€ï¼Œé¾Ÿå…”èµ›è·‘ä¹Ÿç»å¸¸ç”¨åœ¨åˆ¤æ–­é“¾è¡¨æ˜¯å¦æˆç¯ä¸Šé¢ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:3:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å·¦å³æŒ‡é’ˆ æ¥è®²ä¸€è®²é¢˜å¤–è¯ å…¶å® å¿«æ…¢æŒ‡é’ˆ ä¹Ÿæœ‰è¢«è¯´æˆ å·¦å³æŒ‡é’ˆï¼Œä½†æ˜¯æœ¬äººè®¤ä¸ºè¿™ä¹ˆè¯´ï¼Œå…¶å®æ˜¯ç›¸å½“ä¸åˆç†ï¼Œåœ¨æ­¤ä¹‹ä¸Šï¼Œæˆ‘ä¾¿æœ‰äº†ä¸€ä¸ æœ±å…‰æ½œè€å…ˆç”Ÿçš„ â€œå’¬æ–‡åš¼å­—â€ çš„æ„Ÿè§‰ï¼Œæˆ‘å§‹ç»ˆè®¤ä¸º ä½ ç»™ä¸€ä¸ªæ–¹æ³•å–å å…¶å®å°±æ˜¯ä»£è¡¨äº† ä½ å¯¹è¿™ä¸ªæ–¹æ³•çš„ç†è§£ æ¯”å¦‚äº†è§£ä»€ä¹ˆæ˜¯å·¦å³æŒ‡é’ˆå ä½ æŠŠå®ƒå«åš â€œå¯¹æ’æŒ‡é’ˆâ€ ä¹Ÿå¯ä»¥ è¿™å°±æ˜¯ â€œ1000ä¸ªè¯»è€…æœ‰1000ä¸ªå“ˆå§†é›·ç‰¹â€ æ‰€ä»¥æˆ‘ä¹Ÿå¾ˆæ¨èä½ ä»¬èƒ½æ‹¥æœ‰è‡ªå·±çš„æƒ³æ³• ä¸è¦åœ¨æ„åˆ«äººçš„å‘½å å°±å¥½æ¯” leetcode é¢˜è§£ å°±æœ‰æŠŠå¿«æ…¢æŒ‡é’ˆè¯´ä¸ºå·¦å³æŒ‡é’ˆï¼Œä½ èƒ½è¯´ä»–é”™å— å…¶å®å¿«æ…¢æŒ‡é’ˆ ä¹Ÿç¡®å®å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆå·¦ ä¸€ä¸ªæŒ‡é’ˆå³ ä»€ä¹ˆæ˜¯å·¦å³æŒ‡é’ˆ å…¶å®å°±æ˜¯ä¸€ä¸ªleftæŒ‡é’ˆä»æœ€å·¦è¾¹å‘å³è·‘ï¼Œä¸€ä¸ªrightæŒ‡é’ˆä»æœ€å³è¾¹å‘å·¦è·‘ å·¦å³æŒ‡é’ˆçš„ä»£ç æ¨¡æ¿ int left = 0, right = vector.size()-1; while (left \u003c= right) { ... } left, right := 0, len(array)-1 for left \u003c= right { ... } ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:4:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ»‘åŠ¨çª—å£ ä»€ä¹ˆæ˜¯æ»‘åŠ¨çª—å£ æ»‘åŠ¨çª—å£æ˜¯ä¸€ç§åŸºäºåŒæŒ‡é’ˆçš„ä¸€ç§æ€æƒ³ï¼Œä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘çš„å…ƒç´ ä¹‹é—´å½¢æˆä¸€ä¸ªçª—å£ å…¶å®å¯ä»¥æŠŠå®ƒå½“æˆä¸€ä¸ªé˜Ÿåˆ— å¦‚æœ çª—å£è¦å‘åæ»‘åŠ¨ ç›´æ¥æŠŠå¼€å¤´å»æ‰å³å¯~ è¿™åªæ˜¯å…¶ä¸­ä¸€ä¸ªå®ç°æ€æƒ³ æ»‘åŠ¨çª—å£çš„åº”ç”¨åœºæ™¯ æ»‘åŠ¨çª—å£å¯è§£å†³ä¸€ç³»åˆ—å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:5:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åŒæŒ‡é’ˆçš„åº”ç”¨åœºæ™¯ æ¶‰åŠ æ•°ç»„æˆ–é“¾è¡¨ï¼Œæˆå¯¹å…ƒç´ çš„é›†åˆã€ç”šè‡³æ˜¯å­æ•°ç»„ åŒ¹é…ä¸€ä¸ªã€Œç›®æ ‡ã€å€¼æˆ–æ˜¯å»é™¤é‡å¤ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:6:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¶£è°ˆ - KMP å¦èµ·äº†ä¸€ä¸ªä¸“é¢˜ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:7:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜1 - æ•°ç»„ - ç§»åŠ¨é›¶ - å¿«æ…¢æŒ‡é’ˆ é¢˜ç›®url 283. ç§»åŠ¨é›¶ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ å…¶ä»–ä¾‹é¢˜ 26. åˆ é™¤æœ‰åºæ•°ç»„ä¸­çš„é‡å¤é¡¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ 88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:8:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜2 - æ•°ç»„ - ç››æœ€å¤šæ°´çš„å®¹å™¨ - å·¦å³æŒ‡é’ˆ é¢˜ç›®url 11. ç››æœ€å¤šæ°´çš„å®¹å™¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ è§£é¢˜æ€è·¯ è¿™é“é¢˜æ˜¯ â€œæ±‚æœ€ä¼˜è§£â€, å…¶å®æ±‚æœ€ä¼˜è§£æ˜¯ â€œè´ªå¿ƒç®—æ³•â€ å’Œ â€œåŠ¨æ€è§„åˆ’\"çš„åœºæ™¯, ä½†æ˜¯è¿™é‡Œä¹Ÿå¯ä»¥ç”¨åŒæŒ‡é’ˆ å…¶ä»–ä¾‹é¢˜ 189. è½®è½¬æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:9:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜3 - é“¾è¡¨ - æˆç¯é“¾è¡¨ - å¿«æ…¢æŒ‡é’ˆ é¢˜ç›®url 141. ç¯å½¢é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ è§£é¢˜æ€è·¯ æˆç¯é“¾è¡¨ ç”¨ â€œå¿«æ…¢æŒ‡é’ˆâ€ çœŸçš„äººäººçš†çŸ¥ æ‰€ä»¥ä¹Ÿè¦ç•™ä¸ªå¿ƒçœ¼ å­¦ä¸ªå…¶ä»–çš„è§£æ³• é¢è¯•çš„æ—¶å€™ ä¹Ÿæ˜¯ä¸ªäº®ç‚¹å“¦ å…¶ä»–ä¾‹é¢˜ 142. ç¯å½¢é“¾è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:10:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜4 - é“¾è¡¨ - åè½¬é“¾è¡¨ - åŒæŒ‡é’ˆ é¢˜ç›®url 206. åè½¬é“¾è¡¨ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ è§£é¢˜æ€è·¯ è¿™é“é¢˜æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆçœ‹Â 1 -\u003e 2 -\u003e nullÂ ç„¶åå˜æˆÂ null \u003c- 2 \u003c- 1 åœ¨éå†é“¾è¡¨æ—¶ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ next æŒ‡é’ˆæ”¹ä¸ºæŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”±äºèŠ‚ç‚¹æ²¡æœ‰å¼•ç”¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå› æ­¤å¿…é¡»äº‹å…ˆå­˜å‚¨å…¶å‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåœ¨æ›´æ”¹å¼•ç”¨ä¹‹å‰ï¼Œè¿˜éœ€è¦å­˜å‚¨åä¸€ä¸ªèŠ‚ç‚¹ã€‚æœ€åè¿”å›æ–°çš„å¤´å¼•ç”¨ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:11:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"ä¾‹é¢˜5 - å­—ç¬¦ä¸² - æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­—ä¸² é¢˜ç›®url 3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸² - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ ","date":"2023-03-04","objectID":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/:12:0","tags":["åŒæŒ‡é’ˆ"],"title":"åŒæŒ‡é’ˆ","uri":"/%E7%AE%97%E6%B3%95-%E5%8F%8C%E6%8C%87%E9%92%88/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®— ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:0:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾5-äº†è§£c++é»˜è®¤ç”Ÿæˆçš„å‡½æ•° å‰è¨€ è¿™æœ¬ä¹¦å…¶å®æœ‰ç‚¹è€ï¼Œè¯¥æ¡æ¬¾æœ‰å¾ˆå¤šä¸œè¥¿è¿‡æ—¶äº†ï¼Œæ‰€ä»¥è¯¥æ¡æ¬¾è¢« â€œEffective Modern C++â€ æ¡æ¬¾17 ç‰¹ç§æˆå‘˜å‡½æ•°çš„ç”Ÿæˆæœºåˆ¶ æ›¿æ¢ So? ç›´æ¥å»çœ‹è¿™ä¸ªæ¡æ¬¾å§ ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:1:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾6-ä¸æƒ³è¦çš„ç‰¹ç§æˆå‘˜å‡½æ•°ï¼Œæ˜ç¡®ç¦æ­¢ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆ å‰è¨€ è¯¥æ¡æ¬¾è§£å†³æ–¹æ³• åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ä¸ªä¸º\"c++11\"ä»¥åçš„è§£å†³æ–¹æ³•ï¼Œä¸€ä¸ªä¸º\"c++98\" c++11 ç›´æ¥åœ¨ä¸æƒ³è¦çš„ç‰¹ç§æˆå‘˜å‡½æ•° åé¢ åŠ ä¸Š = delete å³å¯ class HomeForSale { public: HomeForSale(const HomeForSale\u0026) = delete; HomeForSale\u0026 operator=(const HomeForSale\u0026) = delete; } c++98 å¯ä»¥é€šè¿‡ç§æœ‰åŒ– å¹¶ä¸” åªå£°æ˜ï¼Œè€Œä¸å»å®šä¹‰ï¼Œå…·ä½“å¦‚ä¸‹è¿°ä»£ç  class Uncopyable { protected: Uncopyable() { }; ~Uncopyable() { }; private: Uncopyable(const Uncopyable\u0026); Uncopyable\u0026 operator=(const Uncopyable\u0026); } class HomeForSale : private Uncopyable { ... }; ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:2:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"Summary æˆ‘ä»¬åœ¨ä¸æƒ³è¦çš„ç‰¹ç§æˆå‘˜å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹æ³•æ¥ç¦æ­¢ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆ c++11 - åœ¨æˆå‘˜å‡½æ•°åé¢ = delete c++98 - æ”¾åœ¨ç§æœ‰æ•°æ®é‡Œï¼Œåªå£°æ˜ï¼Œä¸å®šä¹‰ ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:2:1","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾7-ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•° ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•° å¦‚æœä¸ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•°ï¼Œé‚£ä¹ˆåœ¨å®ä¾‹åŒ–æ´¾ç”Ÿç±»çš„æ—¶å€™ï¼Œåˆ™ä¼šåªè°ƒç”¨åŸºç±»çš„ææ„å‡½æ•°ï¼Œå°±ä¼šé€ æˆå†…å­˜æ³„æ¼ class TimeKeeper { public: TimeKeeper(); ~TimeKeeper(); // non-virtual }; class AtomicClock : public TimeKeeper { }; // getTimeKeeper(); å·¥å‚å‡½æ•°ï¼Œæœ‰å¯èƒ½å®ä¾‹åŒ–äº†AtomicClockï¼Œæ‰€ä»¥è¿™æ—¶å€™ä¸€ä¸ªçˆ¶ç±»çš„æŒ‡é’ˆæŒ‡å‘äº†å­ç±» TimeKeeper* ptk = getTimeKeeper(); ... // use it delete ptk; // è¿™ä¸ªå°±ä¼šå‡ºç°é—®é¢˜ï¼Œå› ä¸ºTimeKeeperçš„ææ„å‡½æ•°ä¸æ˜¯è™šå‡½æ•°ï¼Œæ‰€ä»¥åªä¼šç”¨äº†TimeKeeperåŸºç±»çš„ææ„å‡½æ•° ä¸æ˜¯ä¸ºäº†å¤šæ€ç‰¹æ€§ï¼Œä¸è¦éšæ„å£°æ˜virtualææ„å‡½æ•° å¦‚æœä¸éœ€è¦å¤šæ€ç‰¹æ€§ï¼Œè¿˜ä¼šææ„å‡½æ•°å£°æ˜äº†virtualï¼Œé‚£ä¹ˆææ„å‡½æ•°ä¼šå˜å¤§ï¼Œå¤šäº†è™šæŒ‡é’ˆå’Œè™šè¡¨ ç±»ç»§æ‰¿æ—¶å°å¿ƒçˆ¶ç±»ææ„å‡½æ•°ä¸å…·æœ‰å¤šæ€ç‰¹æ€§ ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:3:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"Summary ä¸ºå¤šæ€åŸºç±»å£°æ˜virtualææ„å‡½æ•° ç±»ç»§æ‰¿æ—¶å°å¿ƒçˆ¶ç±»ææ„å‡½æ•°ä¸å…·æœ‰å¤šæ€ç‰¹æ€§ ä¸æ˜¯ä¸ºäº†å¤šæ€ç‰¹æ€§ï¼Œä¸è¦éšæ„å£°æ˜virtualææ„å‡½æ•° ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:3:1","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾8-ææ„å‡½æ•°ä¸è¦æŠ›å‡ºå¼‚å¸¸ ææ„å‡½æ•°ä¸è¦æŠ›å‡ºå¼‚å¸¸ ææ„å‡½æ•°æŠ›å‡ºå¼‚å¸¸å°±ä»£è¡¨è¿™ä¸ªææ„å‡½æ•°å¹¶æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå¯èƒ½ä¼šé€ æˆå†…å­˜æ³„æ¼ é¿å…å¼‚å¸¸ä»ææ„å‡½æ•°æŠ›å‡ºçš„æ–¹æ³• åœºæ™¯æè¿°ï¼š class DBConnection { public: static DBConnection FactoryCreate(); // å·¥å‚å‡½æ•° void close(); // æŠ›å‡ºå¼‚å¸¸ }; class DBConn { public: ~DBConn() { db.close(); // è¿™æ ·çš„è¯ å…¶å®closeæ–¹æ³•æ˜¯å¯èƒ½ä¼šæŠ›å‡ºå¼‚å¸¸çš„ } private: DBConnection db; } å‘ç”Ÿå¼‚å¸¸ç›´æ¥ç»ˆæ­¢ç¨‹åºï¼ˆç¨‹åºï¼šä½ æ¸…é«˜ï¼‰ DBConn::~DBConn() { try { db.Close(); } catch (...) { // æ‰“å°æ—¥å¿— std::abort(); //ç»ˆæ­¢ç¨‹åº } } æˆ–è€…å°±æ˜¯ä¸ç»ˆæ­¢ç¨‹åºäº†ï¼Œç›´æ¥æŠŠé”™è¯¯åæ‰ï¼Œæ‰“å°å¥½æ—¥å¿— DBConn::~DBConn() { try { db.Close(); } catch (...) { // æ‰“å°æ—¥å¿— } } å‰ä¸¤è€…éƒ½æ— æ³•å¯¹\"æŠ›å‡ºå¼‚å¸¸\"åšå‡ºä»€ä¹ˆååº”,å¦ä¸€ä¸ªæ–¹æ³•æ˜¯é¿å…å¼‚å¸¸å‡½æ•°åœ¨ææ„å‡½æ•°å†…æ‰§è¡Œ,ç”±å®¢æˆ·æ¥è°ƒç”¨funcå‡½æ•°,ä¸ºé¿å…å®¢æˆ·å¿˜è®°æ‰§è¡Œ,éœ€è®¾ç«‹flagæ ‡è®°å®¢æˆ·æ˜¯å¦è°ƒç”¨,å¦‚æœå®¢æˆ·æ²¡æœ‰è°ƒç”¨,åœ¨ææ„å‡½æ•°å†…è°ƒç”¨è¯¥å‡½æ•° class DBConn { public: void close() { db.close(); closed = true; // å¦‚æœæˆåŠŸclose å°±è®¾ä¸€ä¸ªæ ‡è¯†ç¬¦ } ~DBConn() { if (!closed) { try { db.close(); } catch (...) { // make log } } } private: DBConnection db; } ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:4:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"Summary ææ„å‡½æ•°ä¸è¦æŠ›å‡ºå¼‚å¸¸ï¼Œå› ä¸ºæŠ›å‡ºå¼‚å¸¸åï¼Œæ¥ä¸‹æ¥çš„ä»£ç æ— æ³•è¿è¡Œï¼Œå°±ç­‰äºè¯´ææ„æ²¡æœ‰å…¨éƒ¨æ‰§è¡Œï¼Œä¼šé€ æˆå†…å­˜æ³„æ¼ å¦‚æœçœŸçš„æŠ›å‡ºå¼‚å¸¸äº†ï¼Œæœ‰ä»¥ä¸‹è§£å†³æ–¹æ³• è®°å½•logï¼Œå¹¶ç›´æ¥ä¸­æ­¢ç¨‹åºï¼ˆæƒ³éƒ½ä¸ç”¨æƒ³ï¼Œå…¶å®ä¸å¤ªå¯èƒ½ï¼‰ è®°å½•logï¼Œç›´æ¥æ— è§†é”™è¯¯ï¼Œç»§ç»­æ‰§è¡Œï¼ˆå…¶å®æœ‰ç‚¹ä¸å¤ªå¥½ï¼‰ å¢åŠ æ ‡å¿—ç¬¦ï¼Œå°†æŠ›å‡ºå¼‚å¸¸çš„å‡½æ•°äº¤ç»™ç”¨æˆ·å»è°ƒç”¨ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰è°ƒç”¨ï¼Œåˆ™åœ¨ææ„ä¸­è°ƒç”¨ï¼Œå¹¶è®°å½•log ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:4:1","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾9-ä¸è¦å†æ„é€ å’Œææ„å‡½æ•°ä¸­è°ƒç”¨virtualå‡½æ•° ä¸è¦å†æ„é€ å’Œææ„å‡½æ•°ä¸­è°ƒç”¨virtualå‡½æ•° å¦‚æœåœ¨æ„é€ å‡½æ•°ä¸­è°ƒç”¨äº†virtualå‡½æ•°ï¼Œåœ¨å®ä¾‹åŒ–äº†æ´¾ç”Ÿç±»çš„æ—¶å€™ï¼Œæ„é€ å‡½æ•°çš„æ‰§è¡Œé¡ºåºæ˜¯ä»å†…åˆ°å¤–ï¼Œæ‰€ä»¥ä»–ä¼šå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ å‡½æ•°ï¼Œä½†æ˜¯çˆ¶ç±»çš„æ„é€ å‡½æ•°åˆè°ƒç”¨äº†virtualå‡½æ•°ï¼Œè¿™æ—¶å€™æ´¾ç”Ÿç±»è¿˜æ²¡æœ‰åˆå§‹åŒ–ï¼Œæ‰€ä»¥è°ƒç”¨çš„ä¹Ÿåªæ˜¯çˆ¶ç±»çš„virtualå‡½æ•° å¦‚æœåœ¨ææ„å‡½æ•°ä¸­è°ƒç”¨äº†virtualå‡½æ•°ï¼Œåœ¨é”€æ¯æ´¾ç”Ÿç±»çš„æ—¶å€™ï¼Œææ„å‡½æ•°çš„æ‰§è¡Œé¡ºåºæ˜¯ä»å¤–åˆ°å†…çš„ï¼Œæ‰€ä»¥ä»–ä¼šå…ˆé”€æ¯å­ç±»ï¼Œå†æ˜¯çˆ¶ç±»ï¼Œä½†æ˜¯çˆ¶ç±»çš„ææ„å‡½æ•°åˆè°ƒç”¨äº†virtualå‡½æ•°ï¼Œè¿™æ—¶å€™æ´¾ç”Ÿç±»å·²ç»è¢«å¹²æ‰äº†ï¼Œæ‰€ä»¥è°ƒç”¨çš„ä¹Ÿåªæ˜¯çˆ¶ç±»çš„virtualå‡½æ•° class Base{ public: Base() { sayHello(); } virtual void sayHello() { std::cout \u003c\u003c \"Hello Base!\" \u003c\u003c std::endl; } virtual void sayBye() { std::cout \u003c\u003c \"Bye Base!\" \u003c\u003c std::endl; } virtual ~Base() { sayBye(); } } class Derived : public Base { Derived() { } void sayHello() override { std::cout \u003c\u003c \"Hello Derived\" \u003c\u003c std::endl; } void sayBye() override { std::cout \u003c\u003c \"Bye Derived\" \u003c\u003c std::endl; } } Derived derived; // å®ä¾‹åŒ–æ´¾ç”Ÿç±» // ç»“æœ Hello Base! Bye Base! ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:5:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"Summary ä¸è¦å†æ„é€ å’Œææ„å‡½æ•°ä¸­è°ƒç”¨virtualå‡½æ•° ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:5:1","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾10 - operator=è¿”å›è‡ªèº«å¼•ç”¨ å¦‚æœä¸è¿”å›è‡ªèº«å¼•ç”¨ï¼Œé‚£ä¹ˆåœ¨æŸäº›ç‰¹æ®Šåœºæ™¯ æ¯”å¦‚ä¸‹è¿°ä»£ç å°±ä¼šå‡ºç°é—®é¢˜ class Widget { public: void operator=(const Widget\u0026 rhs) { } // return void } Widget w1(1), w2(2), w3(3); w2 = w1 // success w3 = w2 = w1 // ç­‰åŒäº w3 = (w2 = w1) w3 = w2 = w1 è¿™è¡Œå…ˆæ‰§è¡Œäº† w2 = w1 ç„¶å å°±ä¼šå¤±è´¥ï¼Œå› ä¸ºä¼ å›æ¥çš„æ˜¯ä¸€ä¸ªvoid æ²¡æœ‰åŠæ³•ç»§ç»­ w3 = äº† æ‰€ä»¥éœ€è¦ä¿®æ”¹ä¸ºè¿”å›è‡ªèº«å¼•ç”¨ï¼Œ=è¦è¿”å› å…¶ä»–çš„ç±»ä¼¼+= ä¹Ÿæ˜¯åŒç† class Widget { public: Widget\u0026 operator=(const Widget\u0026 ths) { return *this; } Widget\u0026 operator=(int rhs) { return *this; } Widget\u0026 operator+=(const Widget\u0026 ths) { return *this; } } è¿™ä¹ˆåšçš„ç›®çš„å°±æ˜¯å› ä¸ºè¦åšä¸€ä¸ªç»Ÿä¸€çš„çº¦å®šï¼Œå› ä¸ºw3 = w2 = w1ç¡®å®æ˜¯å¯ä»¥çš„ï¼Œæ‰€ä»¥æˆ‘è¦åšæˆä»–ä»¬ä¸€æ · ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:6:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"Summary è¦åœ¨ operator = ä»¥åŠç±»ä¼¼æ“ä½œç¬¦ è¦è¿”å›è‡ªèº«å¼•ç”¨ ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:6:1","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾11-å®‰å…¨å®ç°èµ‹å€¼è¿ç®—ç¬¦ æ½œåœ¨çš„è‡ªæˆ‘èµ‹å€¼* è‡ªæˆ‘èµ‹å€¼ä¸€ä¸ªbugï¼šå¦‚æœç±»é‡Œé¢æœ‰åŠ¨æ€å†…å­˜åˆ†é…ï¼Œé‚£ä¹ˆåœ¨èµ‹å€¼çš„æ—¶å€™ï¼Œéœ€è¦å…ˆdeleteæ‰åŸæ¥çš„ï¼Œå†newä¸€ä¸ªæ–°çš„ï¼Œæœ€åèµ‹å€¼ã€‚ä½†å¦‚æœæ˜¯è‡ªæˆ‘èµ‹å€¼ï¼Œé‚£ä¹ˆåœ¨deleteæ‰åŸæ¥çš„å†…å­˜çš„åŒæ—¶ï¼Œéœ€è¦èµ‹çš„å€¼ä¹Ÿè¢«deleteäº†ï¼ˆå› ä¸ºéƒ½æ˜¯åŒä¸€å—å†…å­˜ï¼‰ ä¸‹é¢æ˜¯ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªBitmapç±»ï¼Œä¸€ä¸ªWidgetç±»ã€‚å…¶ä¸­Widgetæœ‰ä¸€ä¸ªBitmapçš„æŒ‡é’ˆ class Bitmap{}; class Widget { public: Widget\u0026 operator=(const Widget\u0026 rhs); private: Bitmap* pb; }; // é˜²æ­¢è‡ªæˆ‘èµ‹å€¼çš„ Widget\u0026 Widget::operator=(const Widget\u0026 rhs){ delete pb; pb = new Bitmap(*rhs.pb); return *this } è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å°±æ˜¯åœ¨å‰é¢åŠ ä¸ªåˆ¤æ–­ class Bitmap{}; class Widget { public: Widget\u0026 operator=(const Widget\u0026 rhs); private: Bitmap* pb; }; // é˜²æ­¢è‡ªæˆ‘èµ‹å€¼çš„ Widget\u0026 Widget::operator=(const Widget\u0026 rhs){ if (this == *rhs) return *this; delete pb; pb = new Bitmap(*rhs.pb); return *this } é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸ªé—®é¢˜ã€‚å¦‚æœèµ‹å€¼çš„æ—¶å€™ï¼Œnewä¸€å—æ–°çš„ç©ºé—´å¤±è´¥äº†ï¼Œé‚£ä¹ˆpbä¼šæŒ‡å‘ä¸€å—è¢«deleteæ‰çš„ç©ºé—´ã€‚è¿™æ ·çš„æŒ‡é’ˆæ˜¯æœ‰å®³çš„ Widget\u0026 Widget::operator=(const Widget\u0026 rhs) { Bitmap *tmp = pb; pb = new Bitmap(*rhs.pb); delete tmp; return *this; } é¦–å…ˆä¸Šé¢è¿™ä¸ªç‰ˆæœ¬ç”³è¯·äº†ä¸€ä¸ªä¸´æ—¶å˜é‡ä¿å­˜åŸå§‹çš„å¯¹è±¡ã€‚ç„¶ånewä¸€ä¸ªBitmapå¹¶èµ‹å€¼ã€‚å¦‚æœè¿™é‡Œå‡ºé”™äº†ï¼Œè¿˜æ²¡åˆ°deleteï¼Œå…¶ä»–çš„æ‰€æœ‰ä¸œè¥¿éƒ½ä¿æŒåŸæ ·ã€‚å¦‚æœæ²¡æœ‰å‡ºé”™ï¼Œåˆ™å†å°†åŸå§‹çš„ç©ºé—´ï¼Œé€šè¿‡è¿™ä¸ªä¸´æ—¶å˜é‡deleteã€‚è¿™å°±è§£å†³äº†ä¸Šé¢çš„é—®é¢˜ ç„¶åå®ƒè¿˜å–æ¶ˆäº†è‡ªæˆ‘èµ‹å€¼çš„æ£€æµ‹ã€‚ä½†æ˜¯ä»–ä¾ç„¶å¯ä»¥å¤„ç†è‡ªæˆ‘æ£€æµ‹é—®é¢˜ï¼Œå‡å¦‚ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒä¹Ÿä¼šå…ˆåˆ›å»ºä¸€ä¸ªæ–°çš„å‰¯æœ¬ï¼Œèµ‹å€¼ä»¥åå†åˆ é™¤åŸæ¥çš„ç‰ˆæœ¬ copy and swapæŠ€æœ¯ è¿™ä¸ªæŠ€æœ¯éœ€è¦ä¿è¯swapå‡½æ•°æ˜¯å¼‚å¸¸å®‰å…¨çš„ swapå…·ä½“å®ç°ã€Šæ¡æ¬¾25ã€‹ä¼šè§£é‡Šï¼Œè¿™é‡Œåªåšäº†è§£ å¼‚å¸¸å®‰å…¨è¿™ä¸ªæ¦‚å¿µè¯·å»ã€Šæ¡æ¬¾29ã€‹æ·±å…¥ç†è§£ Widget\u0026 Widget::operator=(const Widget\u0026 rhs) { Widget tmp(rhs); swap(tmp); return this; } ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:7:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"Summary æˆ‘ä»¬åœ¨å®ç°èµ‹å€¼è¿ç®—ç¬¦çš„æ—¶å€™ ä¸€å®šè¦å»æ³¨æ„è‡ªæˆ‘èµ‹å€¼ ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:7:1","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾12-å¤åˆ¶å¯¹è±¡æ—¶å‹¿å¿˜å…¶æ¯ä¸€ä¸ªæˆåˆ† å¼•è¨€* åœ¨æ·±æ‹·è´å’Œæµ…æ‹·è´çš„ç†è§£ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“äº†\"æ‹·è´æ„é€ å‡½æ•°\"ï¼Œå¹¶ä¸”ä¹Ÿäº†è§£äº†ä»–çš„æ„æˆ å› æ­¤ï¼Œåœ¨pass by valueçš„åº”ç”¨åœºæ™¯ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å†™å‡ºä»¥ä¸‹çš„æ‹·è´æ„é€ å‡½æ•° #include \u003ciostream\u003e #include\u003cstring\u003e using namespace std; class A { public: A(int i) : count(i) {}; A(const A\u0026 r) { // æ‹·è´æ„é€ å‡½æ•° count = r.count; } ~A() {}; void out() { cout \u003c\u003c \"count:\" \u003c\u003c count \u003c\u003c endl; } private: int count; }; int main() { A a(1); A a1(a); // å°†açš„ä¸´æ—¶å˜é‡ä¼ é€’è¿›å» a1.out(); return 0; } ä¸è¦å¿˜è®°å¤åˆ¶æ¯ä¸€ä¸ªæˆå‘˜ åœ¨å¼•è¨€çš„ä¾‹å­é‡Œï¼Œæˆ‘ä»¬å®Œæ•´å°†counté€šè¿‡æ‹·è´æ„é€ å‡½æ•°å¤åˆ¶äº†è¿‡æ¥ã€‚å¦‚æœæˆ‘ä»¬æ­¤æ—¶æœ‰äº†æ–°éœ€æ±‚ï¼Œéœ€è¦ç»™ç±»Aå¢åŠ ä¸€ä¸ªæˆå‘˜xï¼Œé‚£ä¹ˆåœ¨æ‹·è´æ„é€ å‡½æ•°ä¸­ï¼Œä¸€å®šä¸è¦å¿˜è®°æ‹·è´x! #include \u003ciostream\u003e using namespace std; class A { public: A(int i, int j) : count(i),x(j) {}; A(const A\u0026 r) { count = r.count; x = r.x; // ä¸è¦å¿˜è®°èµ‹å€¼æˆå‘˜x! } ~A() {}; void out() { cout \u003c\u003c \"count:\" \u003c\u003c count \u003c\u003c endl; cout \u003c\u003c \"x:\" \u003c\u003c x \u003c\u003c endl; } private: int count; int x; }; int main() { A a(1, 1); A a1(a); a1.out(); return 0; } å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šå¦‚æœæˆ‘ä»¬é—æ¼äº†ç¬¬9è¡Œä»£ç ï¼Œç¼–è¯‘å™¨æ˜¯ä¸ä¼šæŠ¥é”™çš„ï¼Œç”šè‡³ä¹Ÿèƒ½æ­£å¸¸è¿è¡Œï¼Œä½†æ˜¯ä¸ä¼šå¾—å‡ºæƒ³è¦çš„ç»“æœ1 æ‹¥æœ‰\"æ˜¾ç¤º\"æ‹·è´æ„é€ å‡½æ•°å‘ç”Ÿç»§æ‰¿ åœ¨ä¸Šé¢çš„Aç±»ä¸­ï¼Œ æˆ‘ä»¬å·²ç»é’ˆå¯¹Aå†™å‡ºäº†æ˜¾ç¤ºçš„æ‹·è´æ„é€ å‡½æ•°ã€‚ä½†æ˜¯å¦‚æœæ­¤æ—¶å‘ç”Ÿäº†ç»§æ‰¿ä¼šæ€ä¹ˆæ ·å‘¢ï¼Ÿ class B: public A { public: B(int x, int y) : b1(x),b2(y){}; B(const B\u0026 r){ b1 = r.b1; b2 = r.b2; }; ~B() {}; void out() { cout \u003c\u003c \"b1:\" \u003c\u003c b1 \u003c\u003c endl; cout \u003c\u003c \"b2:\" \u003c\u003c b2 \u003c\u003c endl; } private: int b1, b2; }; ç®€ç›´è·Ÿclass Aä¸€æ ·æœ‰æœ¨æœ‰ äºæ˜¯æˆ‘ä»¬å¼€å§‹ç¼–è¯‘ B b(2,2); B b1(b); ,ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼šerror C2512: 'CPS' : no appropriate default constructor available è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ åœ¨ç±»Bçš„æ‹·è´å‡½æ•°ä¸­çœ‹èµ·æ¥å¥½åƒèµ‹å€¼äº†Bä¸­çš„æ¯ä¸€ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯å®ƒä»¬å¤åˆ¶çš„åªæ˜¯Bå£°æ˜çš„æˆå‘˜å˜é‡b1,b2;Bç»§æ‰¿Açš„æˆå‘˜å˜é‡é™„ä»¶å®Œå…¨æœ¨æœ‰å¾—åˆ°å¤åˆ¶å•Š åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä¼šé¦–å…ˆè°ƒç”¨Aç±»çš„æ„é€ å‡½æ•°ã€‚è€Œåœ¨Bçš„åˆå§‹åŒ–åˆ—è¡¨ä¸­ï¼Œå¹¶æ²¡æœ‰æ˜¾ç¤ºçš„å¯¹åŸºç±»çš„æ„é€ å‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚é‚£ä¹ˆï¼Œç³»ç»Ÿä¼šé»˜è®¤è°ƒç”¨Açš„æ— å‚æ„é€ å‡½æ•°ï¼Œä½†æ˜¯ä½ çš„Aç±»å¹¶æ²¡æœ‰å®šä¹‰æ— å‚æ„é€ å‡½æ•°ï¼Œæ‰€ä»¥å‡ºé”™äº† æ”¹æ³•å¦‚ä¸‹ class B: public A { public: B(int x, int y) : b1(x),b2(y), A(x, y) {}; // è°ƒç”¨Açš„æ„é€ å‡½æ•° B(const B\u0026 r) : A(r.b1, r.b2){ // è°ƒç”¨Açš„æ„é€ å‡½æ•° b1 = r.b1; b2 = r.b2; }; ~B() {}; void out() { cout \u003c\u003c \"b1:\" \u003c\u003c b1 \u003c\u003c endl; cout \u003c\u003c \"b2:\" \u003c\u003c b2 \u003c\u003c endl; } private: int b1, b2; }; ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:8:0","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["Effective C++"],"content":"Summary æ‹·è´å‡½æ•°åº”è¯¥ç¡®ä¿å¤åˆ¶å¯¹è±¡å†…çš„æ‰€æœ‰æˆå‘˜å˜é‡åŠæ‰€æœ‰çš„åŸºç±»æˆåˆ† ä¸è¦å°è¯•ä»¥æŸä¸ªæ‹·è´å‡½æ•°å®ç°å¦ä¸€ä¸ªæ‹·è´å‡½æ•°ã€‚åº”è¯¥å°†å…±åŒæœºèƒ½æ”¾è¿›ç¬¬ä¸‰ä¸ªå‡½æ•°ä¸­ï¼Œå¹¶ç”±ä¸¤ä¸ªæ‹·è´å‡½æ•°å…±åŒè°ƒç”¨ ","date":"2023-03-04","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/:8:1","tags":["Effective C++"],"title":"æ¡æ¬¾5ï½12 æ„é€ /ææ„/èµ‹å€¼è¿ç®—","uri":"/effective-c-%E6%9D%A1%E6%AC%BE5-12/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†æ—¶é—´\u0026ç©ºé—´å¤æ‚åº¦çš„æ¦‚å¿µåŠè®¡ç®—","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ—¶é—´å¤æ‚åº¦ \u0026 ç©ºé—´å¤æ‚åº¦ æ—¶é—´å¤æ‚åº¦ O(1) å¸¸æ•°å¤æ‚åº¦ O(log n) å¯¹æ•°å¤æ‚åº¦ O(n) çº¿æ€§æ—¶é—´å¤æ‚åº¦ O(nlogn) çº¿æ€§å¯¹æ•°æ—¶é—´å¤æ‚åº¦ O(n ^ 2) å¹³æ–¹ O(n ^ 3) ç«‹æ–¹ O(2 ^ n) æŒ‡æ•° O(n!) é˜¶ä¹˜ O(1) \u003c O(logn) \u003c O(n) \u003c O(nlogn) \u003c O(n ^ 2) \u003c O(n ^ 3) \u003c O(2 ^ n) \u003c O(n!) ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:0:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(1) n := 1000 fmt.Println(n) ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:1:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(logn) æ—¶é—´å¤æ‚åº¦ O(logn) â€”å¯¹æ•°é˜¶ï¼Œå½“æ•°æ®å¢å¤§nå€æ—¶ï¼Œè€—æ—¶å¢å¤§lognå€ï¼ˆè¿™é‡Œçš„logæ˜¯ä»¥2ä¸ºåº•çš„ï¼Œæ¯”å¦‚ï¼Œå½“æ•°æ®å¢å¤§256å€æ—¶ï¼Œè€—æ—¶åªå¢å¤§8å€ï¼Œæ˜¯æ¯”çº¿æ€§è¿˜è¦ä½çš„æ—¶é—´å¤æ‚åº¦ï¼‰ã€‚äºŒåˆ†æŸ¥æ‰¾å°±æ˜¯O(logn)çš„ç®—æ³•ï¼Œæ¯æ‰¾ä¸€æ¬¡æ’é™¤ä¸€åŠçš„å¯èƒ½ï¼Œ256ä¸ªæ•°æ®ä¸­æŸ¥æ‰¾åªè¦æ‰¾8æ¬¡å°±å¯ä»¥æ‰¾åˆ°ç›®æ ‡ ä»£ç  for i := 1; i \u003c n; i = i * 2 { fmt.Println(i) } ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:2:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(n) for i := 0; i \u003c n; i++ { fmt.Println(i) } ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:3:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(n + m) for i := 0; i \u003c n; i++ { fmt.Println(i) } for j := 0; j \u003c m; j++ { } // O(n + m) ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:4:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(nlogn) çº¿æ€§å¯¹æ•°é˜¶O(nlogn)å…¶å®éå¸¸å®¹æ˜“ç†è§£ï¼Œå°†å¯¹æ•°é˜¶O(logn)çš„ä»£ç å¾ªç¯néçš„è¯ï¼Œé‚£ä¹ˆå®ƒçš„æ—¶é—´å¤æ‚åº¦å°±æ˜¯ n * O(logn)ï¼Œä¹Ÿå°±æ˜¯äº†O(nlogn)ï¼Œå½’å¹¶æ’åºçš„å¤æ‚åº¦å°±æ˜¯O(nlogn) for (int m = 1; m \u003c= n; m++) { int i = 1; while (i \u003c n) { i = i * 2; } } ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:5:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(n ^ 2) for i := 0; i \u003c n; i++ { for j := 0; j \u003c n; j++ { fmt.Println(i) fmt.Println(j) } } ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:6:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(nm) for i := 0; i \u003c n; i++ { for j := 0; j \u003c m; j++ { fmt.Println(i) fmt.Println(j) } } ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:7:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(k ^ n) func fib(n int) int { if n \u003c= 0 { return 1 } return n * fib(n - 1) } ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:8:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ—¶é—´å¤æ‚åº¦å‡å°‘ è®¡ç®—: 1 + 2+ 3 + 4 + 5 + .. + n æ–¹æ³•1: y = 0 for i = 1; i \u003c= n; i++ { y += i } æ–¹æ³•2 æ±‚å’Œå…¬å¼: y = n * (n+1)/2 ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:9:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å›¾ç¤ºæ€»ç»“ ç©ºé—´å¤æ‚åº¦ ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:10:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"leetcode å¸¸äº‰è®ºçš„ä¸€ä¸ªç‚¹ func test(n int) []int { res := make([]int, 0) res = append(res, n) return res } ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:11:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(1) int i; ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:12:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(n) int[] arr; ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:13:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"O(n ^ 2) int[][] arr; ","date":"2023-03-03","objectID":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/:14:0","tags":["æ—¶é—´/ç©ºé—´å¤æ‚åº¦"],"title":"æ—¶é—´/ç©ºé—´å¤æ‚åº¦","uri":"/%E7%AE%97%E6%B3%95-%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6%E7%A9%BA%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/","tags":["æ•°ç»„","é“¾è¡¨","è·³è¡¨"],"title":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ•°ç»„-é“¾è¡¨-è·³è¡¨ ","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/:0:0","tags":["æ•°ç»„","é“¾è¡¨","è·³è¡¨"],"title":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ•°ç»„ æ•°ç»„çš„ç‰¹ç‚¹ å½“æˆ‘ä»¬ç”³è¯·æ•°ç»„çš„æ—¶å€™ï¼Œè®¡ç®—æœºä¼šåœ¨å†…å­˜å¼€è¾Ÿä¸€æ®µè¿ç»­çš„å†…å­˜åœ°å€ï¼Œå†…å­˜ç®¡ç†å™¨å¯ä»¥ç›´æ¥è®¿é—®æ¯ä¸ªå†…å­˜åœ°å€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡\" [ ] â€œå»å–å€¼ æ•°ç»„çš„æ—¶é—´å¤æ‚åº¦ selectï¼š O(1) insertï¼š O(n) appendï¼š O(1) deleteï¼š O(n) æ•°ç»„æ—¶é—´å¤æ‚åº¦å›¾ç¤º ","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/:1:0","tags":["æ•°ç»„","é“¾è¡¨","è·³è¡¨"],"title":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"é“¾è¡¨ å¼•å‡º ç ”ç©¶æ•°æ®ç»“æ„çš„ç§‘å­¦å®¶ä»¬ çœ‹åˆ°æ•°ç»„çš„ â€œinsertâ€ â€œdeleteâ€ å°±ä¼šå»æƒ³ä¼˜åŒ–è¿™ä¸ªæ—¶é—´å¤æ‚åº¦ éšå é“¾è¡¨è¯ç”Ÿäº† ä½•ä¸ºé“¾è¡¨ éè¿ç»­çš„å†…å­˜ç©ºé—´ æœ‰ä¸€ä¸ªä¸ªçš„ èŠ‚ç‚¹ï¼ˆnodeï¼‰ ç»„æˆ node åˆæ˜¯ç”± value next ç»„æˆ value å¯ä»¥ä¸ºint string å¯¹è±¡ â€¦ ç­‰ç±»å‹ next åˆ™å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆ æŒ‡å‘ä¸‹ä¸€ä¸ªnode æ—¶é—´å¤æ‚åº¦ select: O(n) Append: O(1) insert: O(1) delete: O(1) ps: ä¸ç»“åˆå®é™…åœºæ™¯çš„è®¡ç®—æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯è€æµæ°“ å›¾ç¤º ","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/:2:0","tags":["æ•°ç»„","é“¾è¡¨","è·³è¡¨"],"title":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å•å‘é“¾è¡¨ æ—¶é—´å¤æ‚åº¦ select: O(n) æŸ¥è¯¢éœ€è¦ä»headèŠ‚ç‚¹éå† æ‰€ä»¥ O(n) insert: O(n) æ’å…¥éœ€è¦ä»headèŠ‚ç‚¹éå†åˆ° æ’å…¥çš„å‰é©±èŠ‚ç‚¹ æ‰€ä»¥O(n) delete: O(n) åˆ é™¤è·Ÿæ’å…¥åŒç† golang å®ç°å•å‘é“¾è¡¨ type Object interface{} type Node struct { Data Object next *Node } type List struct { size uint64 head *Node tail *Node } func (list *List) Init() { (*list).size = 0 (*list).head = nil (*list).tail = nil } // å‘é“¾è¡¨è¿½åŠ èŠ‚ç‚¹ func (list *List) Append(node *Node) bool { if node == nil { return false } (*node).next = nil // æ–°åŠ èŠ‚ç‚¹åœ¨æœ«å°¾ï¼Œæ²¡æœ‰next if (*list).size == 0 { (*list).head = node } else { oldTail := (*list).tail // å–å°¾ç»“ç‚¹ (*oldTail).next = node // å°¾ç»“ç‚¹çš„nextæŒ‡å‘æ–°åŠ èŠ‚ç‚¹ } (*list).tail = node // æ–°èŠ‚ç‚¹æ˜¯å°¾ç»“ç‚¹ (*list).size++ return true } // å‘ç¬¬iä¸ªèŠ‚ç‚¹å¤„æ’å…¥èŠ‚ç‚¹ func (list *List) Insert(i uint64, node *Node) bool { if node == nil || i \u003e (*list).size || (*list).size == 0 { return false } if i == 0 { (*node).next = (*list).head (*list).head = node } else { preNode := (*list).head for j := uint64(1); j \u003c i; j++ { preNode = (*preNode).next } (*node).next = (*preNode).next // æ–°èŠ‚ç‚¹æŒ‡å‘æ—§èŠ‚ç‚¹åŸæ¥æ‰€æŒ‡çš„next (*preNode).next = node // åŸèŠ‚ç‚¹çš„nextæŒ‡å‘æ–°èŠ‚ç‚¹ } (*list).size++ return true } // ç§»é™¤æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ func (list *List) Remove(i uint64) bool { if i \u003e= (*list).size { return false } if i == 0 { preHead := (*list).head // å–å‡ºæ—§çš„é“¾è¡¨å¤´ (*list).head = preHead.next // æ—§é“¾è¡¨å¤´çš„nextå˜ä¸ºæ–°çš„å¤´ // å¦‚æœä»…æœ‰ä¸€ä¸ªèŠ‚ç‚¹ï¼Œåˆ™å¤´å°¾èŠ‚ç‚¹æ¸…ç©º if (*list).size == 1 { (*list).head = nil (*list).tail = nil } } else { preNode := (*list).head for j := uint64(1); j \u003c i; j++ { preNode = (*preNode).next } node := (*preNode).next // æ‰¾åˆ°å½“å‰è¦åˆ é™¤çš„èŠ‚ç‚¹ (*preNode).next = node.next // æŠŠå½“å‰è¦åˆ é™¤èŠ‚ç‚¹çš„nextèµ‹ç»™å…¶çˆ¶èŠ‚ç‚¹çš„next,å®Œæˆåä»£è½¬ç§» // è‹¥åˆ é™¤çš„å°¾éƒ¨ï¼Œå°¾éƒ¨æŒ‡é’ˆéœ€è¦è°ƒæ•´ if i == ((*list).size - 1) { (*list).tail = preNode } } (*list).size-- return true } // ç§»é™¤æ‰€æœ‰èŠ‚ç‚¹ func (list *List) RemoveAll() bool { (*list).Init() return true } // è·å–æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ func (list *List) Get(i uint64) *Node { if i \u003e= (*list).size { return nil } node := (*list).head for j := uint64(0); j \u003c i; j++ { node = (*node).next } return node } // æœç´¢æŸä¸ªæ•°æ®çš„èŠ‚ç‚¹ä½ç½® func (list *List) IndexOf(data Object) int64 { pos := int64(-1) node := (*list).head if node.Data == data { return 0 } for j := uint64(1); j \u003c (*list).size; j++ { if node != nil { node = (*node).next if node != nil \u0026\u0026 node.Data == data { pos = int64(j) break } } } return pos } // å–å¾—é“¾è¡¨é•¿åº¦ func (list *List) GetSize() uint64 { return (*list).size } // å–å¾—é“¾è¡¨å¤´ func (list *List) GetHead() *Node { return (*list).head } // å–å¾—é“¾è¡¨å°¾ func (list *List) GetTail() *Node { return (*list).tail } ","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/:3:0","tags":["æ•°ç»„","é“¾è¡¨","è·³è¡¨"],"title":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"åŒå‘é“¾è¡¨ æ—¶é—´å¤æ‚åº¦ select: O(n) æŸ¥è¯¢éœ€è¦ä»headèŠ‚ç‚¹éå† æ‰€ä»¥ O(n) insert: O(n) è·Ÿå•é¡¹é“¾è¡¨ä¸€æ · éƒ½éœ€è¦çŸ¥é“å‰é©±node delete: O(n) åŒä¸Š append: O(1) golang å®ç°ä»£ç  // èŠ‚ç‚¹æ•°æ® type DoubleObject interface{} // åŒé“¾è¡¨èŠ‚ç‚¹ type DoubleNode struct { Data DoubleObject Prev *DoubleNode Next *DoubleNode } // åŒé“¾è¡¨ type DoubleList struct{ mutex *sync.RWMutex Size uint Head *DoubleNode Tail *DoubleNode } // åŒé“¾è¡¨åˆå§‹åŒ– func (list *DoubleList)Init() { list.mutex = new(sync.RWMutex) list.Size = 0 list.Head = nil list.Tail = nil } // Get è·å–æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ func (list *DoubleList)Get(index uint) *DoubleNode { if list.Size == 0 || index \u003e list.Size - 1 { return nil } if index == 0{ return list.Head } node := list.Head var i uint for i = 1; i \u003c= index; i ++{ node = node.Next } return node } // Append å‘åŒé“¾è¡¨åé¢è¿½åŠ èŠ‚ç‚¹ func (list *DoubleList)Append(node *DoubleNode) bool { if node == nil{ return false } list.mutex.Lock() defer list.mutex.Unlock() if list.Size == 0 { list.Head = node list.Tail = node node.Next = nil node.Prev = nil } else { node.Prev = list.Tail node.Next = nil list.Tail.Next = node list.Tail = node } list.Size++ return true } // Insert å‘åŒé“¾è¡¨æŒ‡å®šä½ç½®æ’å…¥èŠ‚ç‚¹ func (list *DoubleList)Insert(index uint, node *DoubleNode) bool { if index \u003e list.Size || node == nil{ return false } if index == list.Size{ return list.Append(node) } list.mutex.Lock() defer list.mutex.Unlock() if index == 0{ node.Next = list.Head list.Head = node list.Head.Prev = nil list.Size++ return true } nextNode := list.Get(index) node.Prev = nextNode.Prev node.Next = nextNode nextNode.Prev.Next = node nextNode.Prev = node list.Size++ return true } // Delete åˆ é™¤æŒ‡å®šä½ç½®çš„èŠ‚ç‚¹ func (list *DoubleList) Delete (index uint) bool { if index \u003e list.Size - 1 { return false } list.mutex.Lock() defer list.mutex.Unlock() if index == 0 { if list.Size == 1{ list.Head = nil list.Tail = nil } else { list.Head.Next.Prev = nil list.Head = list.Head.Next } list.Size-- return true } if index == list.Size - 1{ list.Tail.Prev.Next = nil list.Tail = list.Tail.Prev list.Size-- return true } node := list.Get(index) node.Prev.Next = node.Next node.Next.Prev = node.Prev list.Size-- return true } ","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/:4:0","tags":["æ•°ç»„","é“¾è¡¨","è·³è¡¨"],"title":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è·³è¡¨ å¼•å‡º å¯¹äºä¸€ç»„æœ‰åºæ•°æ®ï¼Œæˆ‘ä»¬æƒ³è¦åœ¨å…¶ä¸­æŸ¥æ‰¾æŸä¸ªæ•°ï¼Œå¦‚æœæ•°æ®ä½¿ç”¨æ•°ç»„å­˜å‚¨ï¼Œæ˜¾ç„¶äºŒåˆ†æ³•æ˜¯å†é€‚åˆä¸è¿‡äº†ï¼Œä½†æ˜¯å¦‚æœæ•°æ®æ˜¯ç”¨é“¾è¡¨å­˜å‚¨çš„å‘¢ï¼Ÿéš¾é“æˆ‘ä»¬ç”¨ä»å¤´éå†å—ï¼Ÿè¿™æ ·æ—¶é—´å¤æ‚åº¦ä¼šè¾¾åˆ°Oï¼ˆnï¼‰çº§åˆ«ï¼Œç›¸æ¯”äºŒåˆ†æ³•Oï¼ˆlognï¼‰çº§åˆ«ç®€ç›´å¤©å£¤åœ°åˆ«ã€‚é‚£ä¹ˆå¦‚ä½•æé«˜æ•ˆç‡å‘¢ è·³è¡¨ ç®—æ³•æœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„æ€æƒ³ ç©ºé—´æ¢æ—¶é—´ å‡ç»´ è·³è¡¨å…¶å®å°±æ˜¯é“¾è¡¨é‡‡ç”¨äº†å‡ç»´çš„æ€æƒ³ å¦‚ä¸‹å›¾ï¼Œå¯¹åˆå§‹é“¾è¡¨åšä¸€å±‚â€œç´¢å¼•â€ï¼Œæ¯ä¸¤ä¸ªèŠ‚ç‚¹æå–ä¸€ä¸ªèŠ‚ç‚¹åˆ°ä¸Šä¸€å±‚ï¼Œç„¶åç”¨downæŒ‡é’ˆè¿æ¥åˆ°ä¸‹ä¸€å±‚ã€‚ ç°åœ¨æˆ‘ä»¬æŸ¥è¯¢16è¿™ä¸ªèŠ‚ç‚¹ã€‚ä»ç¬¬ä¸€çº§ç´¢å¼•å¼€å§‹ï¼Œæ‰¾åˆ°13ï¼Œå¹¶ä¸”ä¸‹ä¸€ä¸ªä¸º17ï¼Œæ˜¾ç„¶16åœ¨è¿™ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´ï¼Œåˆ©ç”¨downæŒ‡é’ˆä¸‹é™ä¸€å±‚ï¼Œè¿™æ¬¡æˆ‘ä»¬éå†2æ¬¡å³å¯ã€‚åˆ©ç”¨ç´¢å¼•åï¼Œéå†äº†5+2=7æ¬¡ï¼Œè€ŒåŸå§‹é“¾è¡¨éœ€è¦10æ¬¡ï¼Œè¿™é‡ŒåŠ ä¸€å±‚ç´¢å¼•éå†æ¬¡æ•°å‡å°‘äº†ï¼Œæ•ˆç‡æé«˜äº†ä¸€ç‚¹ï¼Œä½†è¿˜ä¸å¤Ÿï¼Œæˆ‘ä»¬ç»§ç»­å¾€ä¸Šæ·»åŠ ç´¢å¼•å±‚ ","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/:5:0","tags":["æ•°ç»„","é“¾è¡¨","è·³è¡¨"],"title":"æ•°ç»„-é“¾è¡¨-è·³è¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84%E4%B8%89%E5%85%84%E5%BC%9F/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++ ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:0:0","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾1-è§†c++ä¸ºä¸€ä¸ªè¯­è¨€è”é‚¦ è§†c++ä¸ºä¸€ä¸ªè¯­è¨€è”é‚¦ C Object-Oriented C++ Template C++ The STL ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:1:0","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"Summary æˆ‘ä»¬æƒ³è¦å­¦ä¹ c++ï¼Œä¸€å®šå°±å¾—å­¦è¿™4ä¸ªï¼Œåˆ†åˆ«æ˜¯cï¼Œc++çš„é¢å‘å¯¹è±¡ç­‰ç‰¹æ€§ï¼Œc++æ¨¡æ¿ç¼–ç¨‹/æ³›å‹ç¼–ç¨‹ï¼ŒSTL ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:1:1","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾2-å°½é‡ä¸ä½¿ç”¨#define #defineå®šä¹‰å¸¸é‡ #defineå®šä¹‰å¸¸é‡çš„ç¼ºç‚¹ #define ASPECT_RATIO 1.653ï¼Œ#defineæ˜¯ä¸ä¼šæ·»åŠ åˆ°ç¬¦å·è¡¨çš„ï¼Œæ‰€ä»¥å½“è·ŸASPECT_RATIOæœ‰å…³æŠ¥é”™çš„æ—¶å€™ï¼Œä¸ä¼šæç¤ºASPECT_RATIOå‡ºäº†é—®é¢˜ï¼Œä¸åˆ©äºæŠ¥é”™æ’æŸ¥ æ›¿æ¢æ‰‹æ®µ å¯ä»¥æ‹¿const double AspectRatio = 1.653;æ¥è¿›è¡Œæ›¿æ¢#define åœ¨ç±»ä¸­ä¹Ÿå¯ä»¥æ‹¿staticæ¥å®šä¹‰\"å¸¸é‡\" class GamePlayer { private: static const int NumTurns = 5; int scores[NumTurns]; } ä½†æ˜¯è¦æ³¨æ„ åœ¨ç¼–è¯‘çš„æ—¶å€™è¿™ä¸ªæ˜¯é€šè¿‡çš„ï¼Œä½†æ˜¯å¦‚æœä½ åœ¨åé¢å¯¹ä»–æœ‰å–åœ°å€ä¹‹ç±»çš„æ“ä½œï¼Œé“¾æ¥å°±ä¼šæŠ¥é”™ï¼Œå› ä¸ºè¿™é‡Œåªæ˜¯å£°æ˜ï¼Œå¹¶æ²¡æœ‰ç»™ä»–åˆ†é…å†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥è¿˜éœ€è¦åœ¨cppå¤„ç†ä¸€ä¸‹å³å¯ const int GamePlayer::NumTurns; #defineå®šä¹‰å® #defineå®šä¹‰å®çš„ç¼ºç‚¹ å…¶å®åœ¨inlineä¸“é¢˜æœ‰æåˆ°ï¼Œ#defineå®šä¹‰å®ï¼Œå¤ªéº»çƒ¦äº†ï¼Œåªå› ä»–æ˜¯ç›´æ¥æ›¿æ¢çš„æ•ˆæœï¼Œæœ€ç»å…¸å°±æ˜¯è®¡ç®—å¹³æ–¹é—®é¢˜ #define CALL_WITH_MAX(a, b) f((a) \u003e (b) ? (a) : (b)) æ›¿æ¢æ‰‹æ®µ å¯ä»¥æ‹¿inlineå‡½æ•°å»è¿›è¡Œæ›¿æ¢ template\u003ctypename T\u003e inline void callWithMax(const T\u0026 a, const T\u0026 b) { f(a \u003e b ? a : b); } ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:2:0","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"Summary #defineç”±äºå„ä¸ªçš„å› ç´ ï¼Œæ¯”å¦‚å®‰å…¨æ€§ï¼Œä½¿ç”¨æ€§ï¼Œä¸å¤ªå’‹æ»´ï¼Œæ‰€ä»¥å°½é‡ä¸ä½¿ç”¨#define å¸¸é‡å¯ä»¥ç”±constæˆ–è€…staticæ›¿æ¢ å¤æ‚çš„å®è®¡ç®—è¡¨è¾¾å¼å°±ç”¨inlineæ›¿æ¢ ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:2:1","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾3-å°½é‡ä½¿ç”¨const ä¿®é¥°æŒ‡é’ˆ ä¿®é¥°æŒ‡é’ˆä¸€å®šè¦åŒºåˆ†å¥½ï¼Œconst pointer and const data char greeting[] = \"Hello\"; char* p = greeting; // non-const pointer, non-const data const char* p = greeting; // non-const pointer, const data char* const p = greeting; // const pointer, non-const data const char* const p = greeting; // const pointer, const data void f1(const Widget *pw); // f1 takes a pointer to a constant Widget object void f2(Widget const *pw); // so does f2 ä¿®é¥° STL-iterator ä¿®é¥°STL-iteratoræ‰€å¸¦æ¥çš„å¥½å¤„å°±æ˜¯å¯ä»¥æ§åˆ¶ iteratoræŒ‡å‘çš„å€¼æˆ–è€…iteratoræœ¬èº«æ˜¯å¦è¢«ä¿®æ”¹ï¼ŒåŒæ—¶è¿™ä¹Ÿæ˜¯çº¢é»‘æ ‘ï¼Œmapï¼Œsetæ§åˆ¶ä¿®æ”¹iteratoræŒ‡å‘çš„å€¼çš„ç§˜è¯€ std::vector\u003cint\u003e vec; // ... const auto iter = vec.begin(); // iter acts like a T* const *iter = 10; // OK, changes what iter pointer to ++iter; // error! iter is const auto cIter = vec.cbegin(); // cIter acts like a const T* *cIter = 10; // error! cIter is const ++cIter; // fine, changes cIter å°†æŸäº›ä¸œè¥¿å£°æ˜ä¸ºconstå¯ä»¥å¸®åŠ©ç¼–è¯‘å™¨ä¾¦æµ‹å‡ºé”™è¯¯ç”¨æ³• åœ¨å‡½æ•°è¿”å›å€¼ä¿®é¥°çš„å¥½å¤„å°±æ˜¯å¯ä»¥ä¿è¯ä¸€äº›ä½çº§çš„é”™è¯¯ï¼Œå¦‚ä¸‹è¿°ä»£ç  class Rational { ... } const Rational operator * (const Rational\u0026 lhs, const Rational\u0026 rhs); Ration a, b, c; // ... (a * b) = c; // è¿™æ˜¯æ²¡æœ‰é”™çš„ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™ä¹ˆå†™å¾ˆå°‘ å‡ ä¹æ²¡æœ‰ æˆ‘ä»¬ä¸€èˆ¬ä¼šæŠŠè¿™ä¸ª(a * b) = c; åŠ ä¸ª ifåˆ¤æ–­ï¼Œå˜æˆif (a * b == c) {...}ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æ‰‹æŠ–ï¼Œå†™æˆäº†if (a * b = c) è¿™ä¸ªå°±æ˜¯èµ‹å€¼äº†ï¼Œä½†æ˜¯ç¼–è¯‘å™¨ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨è¿”å›å‚æ•°åŠ äº†ä¸€ä¸ª constï¼Œå°±èƒ½å¤ŸæŠ¥é”™ å°†#defineå®šä¹‰å¸¸é‡ ä¿®æ”¹ä¸ºconstä¹Ÿæ˜¯å¯ä»¥å¸®åŠ©ç¼–è¯‘å™¨ä¾¦æµ‹å‡ºé”™è¯¯ç±»å‹ bitwise constness \u0026\u0026 logical constness ç¼–è¯‘å™¨å¼ºåˆ¶å®è¡Œbitwise constness(åˆç§°physical constness,ç‰©ç†ä¸Šçš„å¸¸é‡æ€§,å³æˆå‘˜å‡½æ•°ä¸æ›´æ”¹å¯¹è±¡çš„ä»»ä½•ä¸€ä¸ªbitæ—¶æ‰å¯ä»¥è¯´æ˜¯const),ä¾‹å¦‚ class TextBlock{ public: ... char\u0026 operator [](std::size_t position) const{ return pText[position]; } private: char* pText; } ç¼–è¯‘å™¨è®¤å®šå®ƒæ˜¯bitwise constnessçš„,ä½†æ˜¯å®ƒå´å…è®¸ä»¥ä¸‹ä»£ç çš„å­˜åœ¨ const TextBlock cctb(\"Hello\"); char* pc=\u0026cctb[0]; *pc='J'; è¿™æ˜¯ç”±äºåªæœ‰pTextæ˜¯cctbçš„ä¸€éƒ¨åˆ†,å…¶æŒ‡å‘çš„å†…å­˜å¹¶ä¸å±äºcctb ç¨‹åºå‘˜ç¼–å†™ç¨‹åºæ—¶åº”è¯¥ä½¿ç”¨conceptual constness(æ¦‚å¿µä¸Šçš„å¸¸é‡æ€§æˆ–logical constness,é€»è¾‘ä¸Šçš„å¸¸é‡æ€§,å³ä¸€ä¸ªconstæˆå‘˜å‡½æ•°å¯ä»¥å¤„ç†å®ƒæ‰€ä¿®æ”¹çš„å¯¹è±¡çš„æŸäº›bits,ä½†åªæœ‰åœ¨å®¢æˆ·ç«¯ä¾¦æµ‹ä¸å‡ºçš„æƒ…å†µä¸‹æ‰å¾—å¦‚æ­¤) ä¾‹å¦‚å¯¹äºæŸäº›ç‰¹æ®Šç±»,å…¶ä¸­çš„æŸäº›æˆå‘˜çš„å€¼æ³¨å®šæ˜¯è¦æ”¹å˜çš„,å› æ­¤å¯ä»¥ç”¨mutableå…³é”®å­—ä¿®é¥°,ä»è€Œå®ç°å³ä½¿å¯¹è±¡è¢«è®¾å®šä¸ºconst,å…¶ç‰¹å®šæˆå‘˜çš„å€¼ä»ç„¶å¯ä»¥æ”¹å˜çš„æ•ˆæœ.æ­¤æ—¶è¯¥ç±»ç¬¦åˆconceptual constnessè€Œä¸ç¬¦åˆbitwise constness. ä¸‹è¿°ä»£ç å³å°±æ˜¯ä¸Šä¸€å¥è¯çš„ä»£ç è§£é‡Šï¼Œåœ¨å®¢æˆ·ç«¯çš„è§’åº¦æ¥è¯´ï¼Œä»–è¿™ä¸ªå€¼æ˜¯ä¸ä¿®æ”¹çš„ class CTextBlock { public: std::size_t length() const; private: char* pText; mutable std::size_t textLength; mutable bool lengthThisVaild; }; std::size_t CTextBlock::length() const { if (!lengthThisVaild) { textLength = std::strlen(pText); lengthThisVaild = true; } return textLength; } å‡½æ•°é‡è½½ å¦‚æœå‚æ•°æ˜¯å¼•ç”¨,å¯ä»¥åŸºäºå‚æ•°æ˜¯å¦ä¸ºconstå®ç°å‡½æ•°é‡è½½(ä¹Ÿå¯ä»¥åŸºäºæŒ‡é’ˆæ˜¯å¦ä¸ºconstå®ç°å‡½æ•°é‡è½½),ç‰¹æ®Šçš„,å¯¹äºæˆå‘˜å‡½æ•°,å› ä¸ºå®ƒå­˜åœ¨ä¸€ä¸ªéšå«çš„thisæŒ‡é’ˆå‚æ•°,å› è€Œå¯ä»¥åŸºäºå‡½æ•°æ˜¯å¦ä¸ºconstå®ç°é‡è½½ class TextBlock { public: const char\u0026 operator[](std::size_t position) const { return text[position]; } char\u0026 operator[](std::size_t position) { return text[position]; } private: std::string text; } TextBlock tb(\"hello\"); std:cout \u003c\u003c tb[0]; // calls non-const TextBlock::operator[] const TextBlock ctb(\"hello\"); std:cout \u003c\u003c ctb[0]; // calls const TextBlock::operator[] é¿å…constå’Œéconstæˆå‘˜å‡½æ•°ä¸­çš„é‡å¤ class TextBlock { public: const char\u0026 operator[](std::size_t position) const { ... // æ£€æŸ¥ ... // æ‰“å°æ—¥å¿— return text[position]; } char\u0026 operator[](std::size_t position) { ... // æ£€æŸ¥ ... // æ‰“å°æ—¥å¿— return text[position]; } } çœ‹ä¸Šè¿°ä»£ç  å¾ˆæ˜æ˜¾ ä»–ä»¬æœ‰é‡å¤ä»£ç ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æŠ½å‡ºæ¥ï¼Œå› ä¸ºè¿™æ ·æ›´å¥½ç»´æŠ¤ï¼Œä»£ç å¦‚ä¸‹ class TextBlock{ public: ... const char\u0026 operator[](std::size_t position) const{ ... return text[position]; } char operator[](std::size_t position){ return const_cast\u003cchar\u0026\u003e(static_cast\u003cconst TextBlock\u0026\u003e(*this)[position]); } ... }; å¯ä»¥çœ‹å‡º,ç»è¿‡äº†ä¸¤æ¬¡ç±»å‹è½¬æ¢ ç¬¬ä¸€æ¬¡é€šè¿‡static_castå°†*thisè½¬ä¸ºconst TextBlock\u0026ï¼Œä»¥ç¡®ä¿è°ƒç”¨çš„æ˜¯operator[]çš„constç‰ˆæœ¬ï¼Œå¦åˆ™ä¼šè°ƒç”¨éconstç‰ˆæœ¬å¯¼è‡´é€’å½’è°ƒç”¨é€ æˆæ ˆæº¢å‡º ç¬¬äºŒæ¬¡é€šè¿‡const_castå»æ‰constç‰ˆæœ¬çš„opsrator[]è¿”å›çš„const char\u0026çš„constç‰¹æ€§ä»¥ä¸å‡½æ•°çš„è¿”å›ç±»å‹ç›¸åŒ¹é… å¯¹äºconst_castçš„è¡Œä¸ºä¹‹å‰å­˜åœ¨ä¸€äº›è¯¯è§£,å¯¹äºä»¥ä¸‹ä»£ç  #include\u003ciostream\u003e using std::cout; using std::endl; int main(){ const int a = 5; int\u0026 rta = const_cast \u003c int\u0026\u003e(a) ; rta = 6; cout \u003c\u003c \"a: \" \u003c\u003c a \u003c\u003c \" rtr: \" \u003c\u003c rta \u003c\u003c endl; cout \u003c\u003c \"\u0026a: \" \u003c\u003c \u0026a \u003c\u003c \" \u0026rta: \" \u003c\u003c \u0026rta; system(\"pause\"); return 0; } è¾“å‡ºç»“æœå¦‚ä¸‹ å¯è§è™½ç„¶const_castè¡¨é¢ä¸Šæ”¹å˜äº†å˜é‡çš„constæ€§è´¨,ä½†açš„å€¼å®é™…ä¸Šè¿˜æ˜¯æ²¡æœ‰æ”¹å˜(ç¼–è¯‘å™¨ä»ç„¶èƒŒç€æˆ‘ä»¬å¹²äº†ä¸å°‘äº‹),æ‰€ä»¥const_castçš„å®é™…ç”¨é€”å¹¶ä¸æ˜¯æ”¹å˜constå¯¹è±¡çš„å€¼,è€Œæ˜¯\"æš‚æ—¶\"å»é™¤å¯¹è±¡çš„constå±æ€§ä½¿å…¶å¯ä»¥ä½œä¸ºå‚æ•°ä¼ å…¥éconstå‡½æ•°,ä¼å›¾é€šè¿‡const_castæ”¹å˜constå¯¹è±¡çš„å€¼å¯èƒ½ä¼šå¯¼è‡´æœªé¢„æ–™çš„ç»“æœ.å› æ­¤ä¸ªäººè®¤ä¸º5ä¸­çš„ç¬¬äºŒæ®µä»£ç (å‡ºè‡ªEffective C++ â€œæ¡æ¬¾3 å°½å¯èƒ½ç”¨constâ€)å­˜åœ¨ä¸€äº›é”™è¯¯,å¦‚æœ‰é”™è¯¯æ¬¢è¿æ‰¹è¯„æŒ‡æ­£ï¼ ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:3:0","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"Summary constå¯ä»¥ä¿®é¥°æŒ‡é’ˆï¼Œè¦æ³¨æ„åŒºåˆ†ä¿®é¥°æŒ‡é’ˆ const int* i = 1; non-const-pointer / const-data int* const i = 1; const pointer / non-const-data const int* const i = 1; const pointer / const-data constå¯ä»¥ç”¨æ¥ä¿®é¥°STLä¸­çš„iterator ä¸€å®šè¦çŸ¥é“çº¢é»‘æ ‘ä¸‹çš„mapï¼Œsetçš„keyä¸å¯ä¿®æ”¹å°±æ˜¯å› ä¸º const iterator constå®‰å…¨æ€§æ¯”æŸäº›ä¸œè¥¿æ›´é«˜ æ²¡é”™ æŸäº›ä¸œè¥¿è¯´çš„å°±æ˜¯#define bitwise constness \u0026\u0026 logical constness å…³äºè¿™ä¸ªä½ åªéœ€è¦è®°ä½ç¨‹åºå‘˜ç¼–å†™ç¨‹åºæ—¶åº”è¯¥ä½¿ç”¨logical constnessï¼ˆæ¦‚å¿µä¸Šçš„å¸¸é‡æ€§ï¼Œé€»è¾‘ä¸Šçš„å¸¸é‡æ€§ï¼‰ å³ä¸€ä¸ªconstæˆå‘˜å‡½æ•°å¯ä»¥å¤„ç†å®ƒæ‰€ä¿®æ”¹çš„å¯¹è±¡çš„æŸäº›bits,ä½†åªæœ‰åœ¨å®¢æˆ·ç«¯ä¾¦æµ‹ä¸å‡ºçš„æƒ…å†µä¸‹æ‰å¾—å¦‚æ­¤ è¯´ç®€å•ç‚¹ï¼Œå°±æ˜¯åœ¨å®¢æˆ·çš„è§’åº¦ä¸Šçœ‹ï¼Œä¸éœ€è¦ä¿®æ”¹å…¶ä»»ä½•å€¼ï¼Œæˆ‘ä»¬å°±å¿…é¡»ä½¿ç”¨constè¿›è¡Œæ ‡æ³¨ï¼Œä½†æ˜¯åœ¨å†…éƒ¨å…¶å®æ˜¯ä¿®æ”¹äº†å€¼çš„ å¦‚æœå‚æ•°æ˜¯å¼•ç”¨,å¯ä»¥åŸºäºå‚æ•°æ˜¯å¦ä¸ºconstå®ç°å‡½æ•°é‡è½½(ä¹Ÿå¯ä»¥åŸºäºæŒ‡é’ˆæ˜¯å¦ä¸ºconstå®ç°å‡½æ•°é‡è½½),ç‰¹æ®Šçš„,å¯¹äºæˆå‘˜å‡½æ•°,å› ä¸ºå®ƒå­˜åœ¨ä¸€ä¸ªéšå«çš„thisæŒ‡é’ˆå‚æ•°,å› è€Œå¯ä»¥åŸºäºå‡½æ•°æ˜¯å¦ä¸ºconstå®ç°é‡è½½ å®ç°consté‡è½½æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨static_cast const_castæ¥å»é™¤å†—ä½™ä»£ç  ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:3:1","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"æ¡æ¬¾4-å¯¹è±¡ä½¿ç”¨å‰åº”è¯¥è¢«åˆå§‹åŒ– classçš„æˆå‘˜å˜é‡æ€»æ˜¯ä»¥å…¶å£°æ˜çš„æ¬¡åºè¢«åˆå§‹åŒ– åœ¨ä¸‹è¿°ä»£ç ä¸­ï¼Œæˆ‘ä»¬è™½ç„¶åœ¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ä¸­å…ˆåˆå§‹åŒ–äº†b_ï¼Œå†æ˜¯a_ï¼Œä½†æ˜¯å®é™…ä¸Šæ˜¯ä»¥å£°æ˜çš„æ¬¡åºè¢«åˆå§‹åŒ–ï¼Œä¹Ÿå°±æ˜¯å…ˆåˆå§‹åŒ– a_ï¼Œåœ¨åˆå§‹åŒ–b_ class C { public: C(std::string aName, int bValue) : b_(bValue), a_(aName, b_.v_) { } private: A a_; // ä¸å±•ç¤ºA classäº† B b_; // ä¸å±•ç¤ºB classäº† } ç±»ç±»å‹çš„æ„é€ å‡½æ•°å¯¹äºæˆå‘˜æŒ‰:åŸºç±»æˆå‘˜â†’æ´¾ç”Ÿç±»ç±»ç±»å‹æˆå‘˜(æŒ‰å£°æ˜é¡ºåº)â†’æ´¾ç”Ÿç±»å†…ç½®ç±»å‹æˆå‘˜(æŒ‰å£°æ˜é¡ºåº)çš„é¡ºåºè¿›è¡Œåˆå§‹åŒ–. æ„é€ å‡½æ•°æˆå‘˜åˆå§‹åŒ–åˆ—è¡¨ä¼˜äºå‡½æ•°ä½“èµ‹å€¼ Fooå‡½æ•°å¦‚ä¸‹ éšåæˆ‘ä»¬æ¥çœ‹çœ‹ ä¸ç”¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—æ˜¯ä»€ä¹ˆæƒ…å†µ class Test { public: explicit Test(const Foo\u0026 foo) { foo_ = foo; } private: Foo foo_; } int main() { Foo foo(1, \"foo1\"); Test test(foo); return 0; } æˆ‘ä»¬æ¥çœ‹çœ‹ä¸ç”¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ— åˆ°åº•åšäº†ä»€ä¹ˆ æœ€åæˆ‘ä»¬å†æ¥çœ‹çœ‹ç”¨äº†æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—ï¼Œå½¢æˆä¸€ä¸ªå¯¹æ¯” class Test { public: explicit Test(const Foo\u0026 foo) : foo_(foo) { } private: Foo foo_; } æˆ‘ä»¬ä¹Ÿæ˜¯å¾ˆæ˜æ˜¾çš„å‘ç° ä½¿ç”¨åˆå§‹åŒ–åˆ— æ˜æ˜¾æ€§èƒ½è¦é«˜äº ä¸ä½¿ç”¨åˆå§‹åŒ–åˆ—ï¼Œä¸ä½¿ç”¨åˆå§‹åŒ–åˆ—è¦å…ˆä¸¤æ¬¡æ„é€ å‡½æ•°äº†ï¼Œç„¶åä¸€æ­¥è°ƒç”¨æ‹·è´èµ‹å€¼ï¼Œè€Œä½¿ç”¨åˆå§‹åŒ–åˆ—åªåšäº†ä¸€ä¸ªæ„é€ å‡½æ•°å’Œä¸€æ¬¡æ‹·è´æ„é€ å‡½æ•° éå±€éƒ¨å˜é‡çš„åˆå§‹åŒ–é¡ºåºæ›¿æ¢ä¸ºå‡½æ•°è¿ç”¨ç»“åˆ æ—¢ç„¶è¢«æ›¿æ¢äº†ï¼Œé‚£ä¹ˆè‚¯å®šè¢«æ›¿æ¢è€…æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œé‚£æˆ‘ä»¬æ¥å¥½å¥½ç§ç§ æ¥ä¸‹æ¥åœºæ™¯ä¸ºå¤šæ–‡ä»¶åœºæ™¯ï¼Œæœ‰ä¸¤ä¸ªæ–‡ä»¶ï¼Œåˆ†åˆ«æ˜¯ â€œinit_before_user.cppâ€, â€œinit_before_user1.cppâ€ // init_before_user.cpp #include \"foo.h\" Foo globalFoo(123, \"globalFoo\") int main() { printf(\"===main===\\n\"); } // init_before_user1.cpp #include \"foo.h\" extern Foo globalFoo; class Bar { public: explicit Bar(Foo \u0026foo) { printf(\"Bar(const Foo\u0026)foo.a=%d\\n\", foo.a); } }; Bar bar(globalFoo); å¦‚æœæˆ‘ä»¬ä½¿ç”¨cmake add_executable(init_before_use init_before_use.cpp init_befor_user1.cpp ) å°±ä¼šå‘ç°Barçš„foo.açš„å€¼æ˜¯ä¸å¯¹çš„ï¼Œè¿™æ˜¯å› ä¸ºåˆå§‹åŒ–æ–‡ä»¶çš„é¡ºåºæ˜¯ä¼šå½±å“åˆå§‹åŒ–çš„é¡ºåºçš„ add_executable(init_before_use init_befor_user1.cpp init_before_use.cpp ) è¿™æ ·å°±æ­£å¸¸äº†ï¼Œä½†æ˜¯è¿™æ ·æˆ‘ä»¬è‚¯å®šæ˜¯ä¸æ„¿æ„çœ‹åˆ°çš„ï¼Œå‘éå¸¸å¤§ é€šè¿‡å‡½æ•°è¿ç”¨å»è§£å†³ // init_before_user.cpp #include \"foo.h\" Foo\u0026 globalFoo() { static Foo globalFoo(123, \"globalFoo\"); return globalFoo; } int main() { printf(\"===main===\\n\"); } // init_before_user1.cpp #include \"foo.h\" extern Foo\u0026 globalFoo(); class Bar { public: explicit Bar(Foo\u0026 foo) { printf(\"Bar(const Foo\u0026)foo.a=%d\\n\", foo.a); } }; Bar bar(globalFoo); è¿™æ ·è§£å†³å°±ä¸å­˜åœ¨ä¹‹å‰è¯´çš„åˆå§‹åŒ–çš„é—®é¢˜ ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:4:0","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["Effective C++"],"content":"Summery ç±»çš„æˆå‘˜å˜é‡çš„åˆå§‹åŒ–é¡ºåºä¸æ˜¯å–å†³äºåˆå§‹åŒ–åˆ—è¡¨çš„é¡ºåºï¼Œè€Œæ˜¯å£°æ˜çš„é¡ºåº æˆ‘ä»¬è¦å°½é‡ä½¿ç”¨æ„é€ å‡½æ•°çš„åˆå§‹åŒ–åˆ—è¡¨ å› ä¸ºè¿™é‡Œæ‰æ˜¯çœŸæ­£çš„åˆå§‹åŒ–ï¼Œåœ¨å‡½æ•°ä½“ä¸­é‚£å«èµ‹å€¼ å¯¹äºç±»ç±»å‹,é™ä½äº†ç¨‹åºæ•ˆç‡ï¼Œå¯¹äºå†…ç½®ç±»å‹åœ¨åˆå§‹åŒ–åˆ—è¡¨è¿˜æ˜¯åœ¨å‡½æ•°ä½“å†…åˆå§‹åŒ–å¯¹äºæ•ˆç‡æ²¡æœ‰å½±å“ åœ¨æŸäº›ç‰¹æ®Šæƒ…å†µ(ä¾‹å¦‚constå˜é‡å’Œå¼•ç”¨)å¿…é¡»åœ¨åˆå§‹åŒ–åˆ—è¡¨è¿›è¡Œåˆå§‹åŒ– éå±€éƒ¨å˜é‡ï¼Œæ¯”å¦‚å…¨å±€å˜é‡ï¼Œä»–ä¼šå­˜åœ¨cmakeçš„æ–‡ä»¶é¡ºåºæ¥å†³å®šåˆå§‹åŒ–é¡ºåº æ‰€ä»¥ä½¿ç”¨å‡½æ•°æ¥è§£å†³æ­¤é—®é¢˜ ","date":"2023-03-03","objectID":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/:4:1","tags":["Effective C++"],"title":"æ¡æ¬¾1ï½4 è®©è‡ªå·±ä¹ æƒ¯c++","uri":"/effective-c-%E6%9D%A1%E6%AC%BE1-4/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ ˆ\u0026é˜Ÿåˆ—","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/","tags":["æ ˆ","é˜Ÿåˆ—"],"title":"æ ˆ\u0026é˜Ÿåˆ—","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ ˆ/é˜Ÿåˆ—/åŒç«¯é˜Ÿåˆ—/ä¼˜å…ˆé˜Ÿåˆ— ä»€ä¹ˆæ˜¯é˜Ÿåˆ— é˜Ÿåˆ—æ˜¯ä¸€ä¸ª å…ˆè¿›å…ˆå‡º çš„æ•°æ®ç»“æ„ å…ˆè¿›æ¥çš„å…ƒç´  å…ˆè¢«æ¶ˆè´¹ä½¿ç”¨ å¥½æ¯”æ’é˜Ÿ ç¬¬ä¸€ä¸ªæ’é˜Ÿçš„äººè‚¯å®šç¬¬ä¸€ä¸ªå‡ºæ¥ è¿™å°±æ˜¯å…ˆè¿›å…ˆå‡º é˜Ÿåˆ—æœ‰ä¸¤ç§é‡è¦çš„æ–¹æ³• - pushï¼ˆå¾€é˜Ÿåˆ—çš„å°¾éƒ¨å¡å…¥å…ƒç´ ï¼‰/ popï¼ˆå¾€é˜Ÿåˆ—çš„å¤´éƒ¨åˆ é™¤å…ƒç´ ï¼‰ ä»€ä¹ˆæ˜¯æ ˆ æ ˆæ˜¯ä¸€ä¸ª å…ˆè¿›åå‡º çš„æ•°æ®ç»“æ„ å…ˆè¿›æ¥çš„å…ƒç´  æœ€åä¸€ä¸ªè¢«æ¶ˆè´¹ä½¿ç”¨ / æœ€åè¿›æ¥çš„å…ƒç´  ç¬¬ä¸€ä¸ªè¢«æ¶ˆè´¹ä½¿ç”¨ å¥½æ¯”ä¸€ä¸ªç®±å­ ä½ å¾€é‡Œé¢æ”¾ä¹¦ ç¬¬ä¸€ä¸ªä¹¦æœ¬åœ¨æœ€ä¸‹é¢ ä½ åªèƒ½ç¬¬ä¸€æ—¶é—´æ‹¿å‡ºæœ€ä¸Šé¢çš„ä¹¦ ä¹Ÿå°±æ˜¯æœ€åæ”¾è¿›å»çš„ä¹¦ æ ˆæœ‰ä¸¤ç§é‡è¦çš„æ–¹æ³• - pushï¼ˆå¾€æ ˆçš„å°¾éƒ¨å¡å…¥å…ƒç´ ï¼‰/ popï¼ˆå¾€æ ˆçš„å°¾éƒ¨åˆ é™¤å…ƒç´ ï¼‰ ä»€ä¹ˆæ˜¯åŒç«¯é˜Ÿåˆ— æ˜¯ä¸€ç§å…·æœ‰é˜Ÿåˆ—å’Œæ ˆæ€§è´¨çš„æ•°æ®ç±»å‹ åŒç«¯é˜Ÿåˆ—ä¸­çš„å…ƒç´ å¯ä»¥ä»ä¸¤ç«¯å¼¹å‡ºï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œé™å®šåœ¨é˜Ÿåˆ—çš„ä¸¤è¾¹è¿›è¡Œ ä»€ä¹ˆæ˜¯ä¼˜å…ˆçº§é˜Ÿåˆ— ä¾é æ¯ä¸ªå…ƒç´ çš„ä¼˜å…ˆçº§ æ¥å†³å®šå“ªä¸€ä¸ªæœ€å…ˆè¢«æ¶ˆè´¹ä½¿ç”¨ golang å¦‚ä½•å®ç°é˜Ÿåˆ— åŠå…¶ ä»–çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ insertï¼šO(1) delete: O(1) // A FIFO queue. type Queue []int // å¾€é˜Ÿåˆ—çš„å°¾éƒ¨å¡å…¥å…ƒç´  func (q *Queue) Push(v int) { *q = append(*q, v) } // popï¼ˆå¾€é˜Ÿåˆ—çš„å¤´éƒ¨åˆ é™¤å…ƒç´ ï¼‰ func (q *Queue) Pop() int { head := (*q)[0] *q = (*q)[1:] return head } // Returns if the queue is empty or not. func (q *Queue) IsEmpty() bool { return len(*q) == 0 } golang å¦‚ä½•å®ç°æ ˆ åŠå…¶ ä»–çš„æ—¶é—´å¤æ‚åº¦æ˜¯å¤šå°‘ insert: O(1) delete: O(1) type Stack []interfice{} func (stack Stack) Len() int { return len(stack) } func (stack Stack) Cap() int { return cap(stack) } func (stack *Stack) Push(value interface{}) { *stack = append(*stack, value) } func (stack Stack) Top() (interface{}, error) { if len(stack) == 0 { return nil, errors.New(\"Out of index, len is 0\") } return stack[len(stack) - 1], nil } func (stack *Stack) Pop() (interface{}, error) { theStack := *stack if len(theStack) == 0 { return nil, errors.New(\"Out of index, len is 0\") } value := theStack[len(theStack) - 1] *stack = theStack[:len(theStack) - 1] return value, nil } func (stack Stack) IsEmpty() bool { return len(stack) == 0 } ä¸è¦ä»…é™äºå›ºå®šæ€æƒ³ å®ç°æ ˆ å’Œ é˜Ÿåˆ—çš„æ–¹å¼åƒåƒä¸‡ä¸‡ ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ— https://leetcode.cn/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/ ","date":"2023-03-03","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/:0:0","tags":["æ ˆ","é˜Ÿåˆ—"],"title":"æ ˆ\u0026é˜Ÿåˆ—","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%88%E4%B8%8E%E9%98%9F%E5%88%97/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¸ƒéš†è¿‡æ»¤å™¨","date":"2023-03-02","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/","tags":["å¸ƒéš†è¿‡æ»¤å™¨"],"title":"å¸ƒéš†è¿‡æ»¤å™¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¸ƒéš†è¿‡æ»¤å™¨ ","date":"2023-03-02","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/:0:0","tags":["å¸ƒéš†è¿‡æ»¤å™¨"],"title":"å¸ƒéš†è¿‡æ»¤å™¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¸ƒéš†è¿‡æ»¤å™¨ å¼•å‡º å¯¹äºhashtableï¼Œæˆ‘ä»¬å­˜æ”¾ä¸€ä¸ªæ•°æ®ï¼Œä¼šå…ˆè¿›è¡Œå“ˆå¸Œå–æ¨¡ï¼Œç„¶åå†³å®šæ”¾åœ¨å“ªä¸€ä¸ªæ¡¶ï¼Œéšåå°±ä¼šæŠŠè¿™ä¸ªæ•°æ®æ”¾è¿›ğŸª£ä¸­ï¼Œå¯¹äºå“ˆå¸Œè¡¨æ¥è¯´ï¼Œå­˜æ”¾çš„æ•°æ®æ˜¯å‡†å¤‡å®Œæ•´çš„ æˆ‘ä»¬å†æ¥æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œå¦‚æœæˆ‘ä»¬ä¸éœ€è¦å®Œæ•´çš„æ•°æ®ï¼Œæˆ‘ä»¬åªæ˜¯æƒ³åˆ¤æ–­ä¸€ä¸ªè¿™ä¸ªæ•°æ®åˆ°åº•å­˜ä¸å­˜åœ¨ï¼Œè¿™ä¸ªæ—¶å€™å“ˆå¸Œè¡¨å…¶å®ä¸å¤ªé€‚åˆï¼Œå…¶å®å¯ä»¥åšåˆ°çš„ï¼Œä½†æ˜¯ç»ˆå½’ä¸æ˜¯å®Œç¾é€‚åˆè¿™ä¸ªåœºæ™¯ æ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´é«˜æ•ˆçš„æ•°æ®ç»“æ„ å¸ƒéš†è¿‡æ»¤å™¨ ä»–leiäº† ä»€ä¹ˆæ˜¯å¸ƒéš†è¿‡æ»¤å™¨ ä»–æ˜¯ä¸€ä¸ªå¾ˆé•¿çš„ äºŒè¿›åˆ¶å‘é‡ å’Œ ä¸€ç³»åˆ—éšæœºæ˜ å°„å‡½æ•° å¸ƒéš†è¿‡æ»¤å™¨å¯ä»¥ç”¨äºæ£€ç´¢ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨ä¸€ä¸ªé›†åˆä¸­ å¸ƒéš†è¿‡æ»¤å™¨çš„ä¼˜ç‚¹ ç©ºé—´æ•ˆç‡å’Œæ—¶é—´æ•ˆç‡æ˜¯è¿œè¿œè¶…è¿‡ä¸€èˆ¬çš„æ•°æ®ç»“æ„ å¸ƒéš†è¿‡æ»¤å™¨çš„ç¼ºç‚¹ æœ‰ä¸€å®šçš„è¯¯åˆ«ç‡å’Œåˆ é™¤å›°éš¾ å¸ƒéš†è¿‡æ»¤å™¨çš„å›¾ç¤º å¸ƒéš†è¿‡æ»¤å™¨çš„è¯¯åˆ« å¸ƒéš†è¿‡æ»¤å™¨çš„ golangå®ç° package main import ( \"fmt\" \"github.com/bits-and-blooms/bitset\" ) //è®¾ç½®å“ˆå¸Œæ•°ç»„é»˜è®¤å¤§å°ä¸º16 const DefaultSize = 16 //è®¾ç½®ç§å­ï¼Œä¿è¯ä¸åŒå“ˆå¸Œå‡½æ•°æœ‰ä¸åŒçš„è®¡ç®—æ–¹å¼ var seeds = []uint{7, 11, 13, 31, 37, 61} //å¸ƒéš†è¿‡æ»¤å™¨ç»“æ„ï¼ŒåŒ…æ‹¬äºŒè¿›åˆ¶æ•°ç»„å’Œå¤šä¸ªå“ˆå¸Œå‡½æ•° type BloomFilter struct { // ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“ set *bitset.BitSet // æŒ‡å®šé•¿åº¦ä¸º6 hashFuncs [6]func(seed uint, value string) uint } //æ„é€ ä¸€ä¸ªå¸ƒéš†è¿‡æ»¤å™¨ï¼ŒåŒ…æ‹¬æ•°ç»„å’Œå“ˆå¸Œå‡½æ•°çš„åˆå§‹åŒ– func NewBloomFilter() *BloomFilter { bf := new(BloomFilter) bf.set = bitset.New(DefaultSize) for i := 0; i \u003c len(bf.hashFuncs); i++ { bf.hashFuncs[i] = createHash() } return bf } //æ„é€ 6ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œæ¯ä¸ªå“ˆå¸Œå‡½æ•°æœ‰å‚æ•°seedä¿è¯è®¡ç®—æ–¹å¼çš„ä¸åŒ func createHash() func(seed uint, value string) uint { return func(seed uint, value string) uint { var result uint = 0 for i := 0; i \u003c len(value); i++ { result = result*seed + uint(value[i]) } //length = 2^n æ—¶ï¼ŒX % length = X \u0026 (length - 1) return result \u0026 (DefaultSize - 1) } } //æ·»åŠ å…ƒç´  func (b *BloomFilter) add(value string) { for i, f := range b.hashFuncs { //å°†å“ˆå¸Œå‡½æ•°è®¡ç®—ç»“æœå¯¹åº”çš„æ•°ç»„ä½ç½®1 b.set.Set(f(seeds[i], value)) } } //åˆ¤æ–­å…ƒç´ æ˜¯å¦å­˜åœ¨ func (b *BloomFilter) contains(value string) bool { //è°ƒç”¨æ¯ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œå¹¶ä¸”åˆ¤æ–­æ•°ç»„å¯¹åº”ä½æ˜¯å¦ä¸º1 //å¦‚æœä¸ä¸º1ï¼Œç›´æ¥è¿”å›falseï¼Œè¡¨æ˜ä¸€å®šä¸å­˜åœ¨ for i, f := range b.hashFuncs { //result = result \u0026\u0026 b.set.Test(f(seeds[i], value)) if !b.set.Test(f(seeds[i], value)) { return false } } return true } func main() { filter := NewBloomFilter() filter.add(\"asd\") fmt.Println(filter.contains(\"asd\")) // true fmt.Println(filter.contains(\"2222\")) // fmt.Println(filter.contains(\"155343\")) } ","date":"2023-03-02","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/:1:0","tags":["å¸ƒéš†è¿‡æ»¤å™¨"],"title":"å¸ƒéš†è¿‡æ»¤å™¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†æ ‘çš„æ¦‚å¿µåŠç§ç±»","date":"2023-03-02","objectID":"/tree/","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ ‘ ","date":"2023-03-02","objectID":"/tree/:0:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ ‘ å¼•å‡º å½“æˆ‘ä»¬åœ¨åˆ·ç®—æ³•çš„æ—¶å€™ å½“ä¸­æœ‰ä¸ªæ€è·¯å°±æ˜¯ç©ºé—´æ¢æ—¶é—´ï¼Œå› ä¸ºåœ¨å¦‚ä»Šç§‘æŠ€å‘è¾¾çš„ç¤¾ä¼š ç¡¬ä»¶å·²ç»å¾ˆç‰›é€¼äº†ï¼Œæ‰€ä»¥ç›¸æ¯”è¾ƒï¼Œæ—¶é—´æ›´ä¸ºé‡è¦ è¿˜æœ‰ä¸ªæ€è·¯å°±æ˜¯ å‡ç»´è¿™ä¸ªæ€æƒ³ï¼Œé“¾è¡¨å…¶å®å°±æ˜¯ä¸€ç»´ï¼Œè·³è¡¨å°±æ˜¯äºŒç»´ï¼Œå°†é“¾è¡¨å‡ç»´å æ—¶é—´å¤æ‚åº¦ä¹Ÿä» O(n) ä¼˜åŒ–åˆ°äº† O(logn) æ ‘ä¹Ÿæ˜¯ä¸€æ ·çš„ é€šè¿‡é“¾è¡¨å‡ç»´è€Œè¯ç”Ÿçš„ä¸€ä¸ªæ•°æ®ç»“æ„ æ ‘çš„å®šä¹‰ äºŒç»´æ•°æ®ç»“æ„ å¸¸è§çš„äºŒç»´æ•°æ®ç»“æ„ - æ ‘ / å›¾ æ ‘å’Œå›¾çš„å·®åˆ«å°±æ˜¯åœ¨äºæœ‰æ²¡æœ‰ç¯ï¼Œç¯å°±æ˜¯æŒ‡ æ ‘æœ‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å…¶ä»–çš„èŠ‚ç‚¹ å½¢æˆä¸€ä¸ªç¯ é“¾è¡¨å°±æ˜¯ç‰¹æ®Šçš„æ ‘ï¼Œå› ä¸ºæœ‰æ ‘åœ¨æç«¯çš„æƒ…å†µä¸‹ ç±»ä¼¼é“¾è¡¨ æ ‘å°±æ˜¯ç‰¹æ®Šçš„å›¾ï¼Œæ²¡æœ‰ç¯çš„å›¾å°±æ˜¯æ ‘ æ ‘çš„å®ç°ä»£ç  type TreeNode struct { val int left *TreeNode right *TreeNode } class TreeNode: def __init__(self, val): self.val = val self.left, self.right = None, None struct TreeNode { int val; TreeNode *left; TreeNode *right; TreeNode(int x): val(x), left(NULL), right(NULL) } ","date":"2023-03-02","objectID":"/tree/:1:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äºŒå‰æ ‘ ä»€ä¹ˆæ˜¯äºŒå‰æ ‘ äºŒå‰æ ‘å°±æ˜¯æ¯ä¸ªèŠ‚ç‚¹éƒ½åªæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ å½“ç„¶ä¹Ÿä¼šæœ‰ä¸‰å‰æ ‘è¿™æ ·çš„å­˜åœ¨ ","date":"2023-03-02","objectID":"/tree/:2:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"äºŒå‰æœç´¢æ ‘ ä»€ä¹ˆæ˜¯äºŒå‰æœç´¢æ ‘ åªéœ€è¦æ»¡è¶³ä»¥ä¸‹ç‰¹å¾çš„å°±æ˜¯äºŒå‰æœç´¢æ ‘ å·¦å­æ ‘æ‰€æœ‰èŠ‚ç‚¹éƒ½å°äºå­æ ‘æ ¹èŠ‚ç‚¹ å³å­æ ‘æ‰€æœ‰èŠ‚ç‚¹å¤§äºå­æ ‘æ ¹èŠ‚ç‚¹ ä»¥æ­¤ç±»æ¨ï¼Œå·¦å³å­æ ‘éƒ½åˆ†åˆ«æ»¡è¶³è¿™ä¸ªæ€§è´¨ ","date":"2023-03-02","objectID":"/tree/:3:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ ‘çš„éå† def preorder(self, root): # å‰åºéå† if root: self traverse_path.append(root.val) self preorder(root.left) self preorder(root.right) def inorder(self, root): # ä¸­åºéå† äºŒå‰æœç´¢æ ‘ä¸­åºéå†ä¸€å®šå‡åºçš„ if root: self inorder(root.left) self traverse_path.append(root.val) self inorder(root.right) def postorder(self, root): if root: self postorder(root.left) self postorder(root.right) self traverse_path.append(root.val) func preorderTraversal(root *TreeNode) (res []int) { // å‰åºéå† æ ¹-å·¦-å³ var preorder func(node *TreeNode) preorder = func(node *TreeNode) { if node == nil { return } res = append(res, node.Val) preorder(node.Left) preorder(node.Right) } preorder(root) return res } func inorderTraversal(root *TreeNode) (res []int) { // ä¸­åºéå† å·¦-æ ¹-å³ var inorder func(node *TreeNode) inorder = func(node *TreeNode) { if node == nil { return } inorder(node.Left) res = append(res, node.Val) inorder(node.Right) } inorder(root) return res } func postorderTraversal(root *TreeNode) (res []int) { // ååºéå† å·¦-å³-æ ¹ var postorder func(node *TreeNode) postorder = func(node *TreeNode) { if node == nil { return } postorder(node.Left) postorder(node.Right) res = append(res, node.Val) } postorder(root) return res } class Solution { // å‰åºéå† public: void preorder(TreeNode* root, vector\u003cint\u003e \u0026res) { if (root == nullptr) return; res.push_back(root-\u003eval); preorder(root-\u003eleft, res); preorder(root-\u003eright, res); } vector\u003cint\u003e preorderTraversal(TreeNode* root) { vector\u003cint\u003e res; preorder(root, res); return res; } }; class Solution { // ä¸­åºéå† public: void inorder(TreeNode* root, vector\u003cint\u003e \u0026res) { if (root == nullptr) return; inorder(root-\u003eleft, res); res.push_back(root-\u003eval); inorder(root-\u003eright, res); } vector\u003cint\u003e inorderTraversal(TreeNode* root) { vector\u003cint\u003e res; inorder(root, res); return res; } }; class Solution { // ååºéå† public: void postorder(TreeNode* root, vector\u003cint\u003e\u0026 res) { if (root == nullptr) return; postorder(root-\u003eleft, res); postorder(root-\u003eright, res); res.push_back(root-\u003eval); } vector\u003cint\u003e postorderTraversal(TreeNode* root) { vector\u003cint\u003e res; postorder(root, res); return res; } }; ","date":"2023-03-02","objectID":"/tree/:4:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"æ ‘çš„éå† - é¢˜ç›®æ¨è /* https://leetcode-cn.com/problems/binary-tree-preorder-traversal/submissions/ äºŒå‰æ ‘çš„å‰åºéå† https://leetcode-cn.com/problems/binary-tree-inorder-traversal/submissions/ äºŒå‰æ ‘çš„ä¸­åºéå† https://leetcode-cn.com/problems/binary-tree-postorder-traversal/submissions/ äºŒå‰æ ‘çš„ååºéå† */ /* https://leetcode-cn.com/problems/validate-binary-search-tree/submissions/ éªŒè¯äºŒå‰æœç´¢æ ‘ https://leetcode-cn.com/problems/invert-binary-tree/submissions/ ç¿»è½¬äºŒå‰æ ‘ */ ","date":"2023-03-02","objectID":"/tree/:5:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å¹³è¡¡äºŒå‰æœç´¢æ ‘ å¼•å‡º æ ‘çš„æ—¶é—´å¤æ‚åº¦ç»è¿‡å‡ç»´çš„æ€æƒ³ ä»é“¾è¡¨çš„O(n) å˜æˆäº† O(logn)ï¼Œè¿™ä¸ªâ€œnâ€ å°±æ˜¯æ ‘çš„é«˜åº¦ ä½†æ˜¯åœ¨æç«¯çš„æ ‘çš„æƒ…å†µä¼šå˜æˆä¸€ä¸ªé“¾è¡¨ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šä»O(logn) é€€åŒ–æˆ O(n)ï¼Œå¦‚ä¸‹å›¾ ***æ‰€ä»¥ ç»´æŠ¤ä¸€ä¸ªæ ‘çš„å¹³è¡¡æ˜¯å¾ˆé‡è¦çš„ï¼Œæ‰€ä»¥å¹³è¡¡äºŒå‰æœç´¢æ ‘å®ƒleiäº† *** ä»€ä¹ˆæ˜¯å¹³è¡¡äºŒå‰æœç´¢æ ‘ æ²¡æœ‰è¿‡æ·±çš„å·¦å³å­æ ‘ ç›¸å¯¹æ¥è¯´ä»–ä»¬æ˜¯å¹³è¡¡çš„ æ‰€ä»¥ä¸ºäº†å¹³è¡¡ åœ¨insert deleteæ“ä½œè¦å»åŠ¨æ€çš„ç»´æŒå¹³è¡¡ å¹³è¡¡äºŒå‰æœç´¢æ ‘çš„ç§ç±» AVL / çº¢é»‘æ ‘ / b-tree / b+ tree ","date":"2023-03-02","objectID":"/tree/:6:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"AVL ä»€ä¹ˆæ˜¯AVLæ ‘ AVLæ ‘å¾—åäºå®ƒçš„å‘æ˜è€…G. M. Adelson-Velskyå’ŒEvgenii Landis AVL æœ‰ä¸€ä¸ªæ¦‚å¿µæ˜¯å¹³è¡¡å› å­ï¼ˆbalance factorï¼‰ï¼Œæ˜¯ä»–çš„å·¦å­æ ‘é«˜åº¦å‡å»å³å­æ ‘çš„é«˜åº¦ï¼ˆç›¸åäº¦æ­¤ï¼‰ balance factor = { -1, 0, 1 } AVLåˆå¯ä»¥å«åš é«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ ä»–åœ¨insert deleteæ“ä½œæ—¶é€šè¿‡æ—‹è½¬æ¥è¿›è¡Œå¹³è¡¡ AVLçš„ç¼ºç‚¹ ä»–çš„æŸ¥è¯¢æ•ˆç‡å¾ˆå¿« ä½†æ˜¯ä»–æ¯ä¸ªèŠ‚ç‚¹éƒ½è¦å­˜å‚¨é¢å¤–ä¿¡æ¯ï¼Œä¸”è°ƒæ•´æ¬¡æ•°é¢‘ç¹ AVLç¤ºä¾‹å›¾ AVLçš„å››ç§æ—‹è½¬ ","date":"2023-03-02","objectID":"/tree/:7:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"çº¢é»‘æ ‘ å¼•å‡º æˆ‘ä»¬å·²ç»äº†è§£äº†AVLè¿™ä¸ªé«˜åº¦å¹³è¡¡äºŒå‰æœç´¢æ ‘ï¼Œä¹Ÿå·²ç»çŸ¥é“ä»–çš„ç¼ºç‚¹ï¼Œæ‰€ä»¥çº¢é»‘æ ‘åˆleiäº† ä»€ä¹ˆæ˜¯çº¢é»‘æ ‘ çº¢é»‘æ ‘æ˜¯ä¸€ç§è¿‘ä¼¼å¹³è¡¡äºŒå‰æœç´¢æ ‘ ä»–çš„ç‰¹ç‚¹æ˜¯ä¿è¯ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„é«˜åº¦å·®å°äºä¸¤å€ çº¢é»‘æ ‘çš„äº”å¤§ç‰¹ç‚¹ æ¯ä¸ªèŠ‚ç‚¹è¦ä¹ˆæ˜¯é»‘è‰²ï¼Œè¦ä¹ˆæ˜¯çº¢è‰² æ ¹èŠ‚ç‚¹ä¸€å®šæ˜¯é»‘è‰² æ¯ä¸ªå¶èŠ‚ç‚¹ï¼ˆnilèŠ‚ç‚¹ï¼‰æ˜¯é»‘è‰² ä¸èƒ½æœ‰ç›¸é‚»çš„ä¸¤ä¸ªçº¢è‰²èŠ‚ç‚¹ ä»ä»»æ„èŠ‚ç‚¹å‡ºå‘åˆ°å…¶æ¯ä¸ªå¶èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ é‡ç‚¹åœ¨äº ä¸èƒ½æœ‰ç›¸é‚»çš„ä¸¤ä¸ªçº¢è‰²èŠ‚ç‚¹ ä»ä»»æ„èŠ‚ç‚¹å‡ºå‘åˆ°å…¶æ¯ä¸ªå¶èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„éƒ½åŒ…å«ç›¸åŒæ•°ç›®çš„é»‘è‰²èŠ‚ç‚¹ ä¿è¯äº†ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­æ ‘çš„é«˜åº¦å·®å°äºä¸¤å€ çº¢é»‘æ ‘å›¾ç¤º çº¢é»‘æ ‘ä¸AVLçš„å¯¹æ¯” AVLæ›´é€‚åˆæŸ¥è¯¢ å› ä¸ºä»–æ›´å¹³è¡¡ / çº¢é»‘æ ‘åªæ˜¯è¿‘ä¼¼å¹³è¡¡* çº¢é»‘æ ‘æ›´é€‚åˆæ’å…¥ å› ä¸ºä»–æ’å…¥çš„æ—¶å€™ ä¸éœ€è¦åƒavlé‚£æ ·æ—¶åˆ»ä¿æŒå¹³è¡¡ ä»–åªéœ€è¦æ»¡è¶³ä¸¤å€å·®å³å¯ ","date":"2023-03-02","objectID":"/tree/:8:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"å­—å…¸æ ‘ ä»€ä¹ˆæ˜¯å­—å…¸æ ‘ å­—å…¸æ ‘ å³trieæ ‘ï¼Œåˆç§°å‰ç¼€æ ‘ï¼Œæ˜¯ä¸€ç§æ ‘å½¢ç»“æ„ å…¸å‹åº”ç”¨æ˜¯ç”¨äºç»Ÿè®¡å’Œæ’åºå¤§é‡çš„å­—ç¬¦ä¸²(ä½†ä¸ä»…é™äºå­—ç¬¦ä¸²) æ‰€ä»¥ç»å¸¸è¢«æœç´¢å¼•æ“ç³»ç»Ÿç”¨äºæ–‡æœ¬è¯é¢‘ç»Ÿè®¡ å­—å…¸æ ‘çš„åŸºæœ¬æ€§è´¨ èŠ‚ç‚¹æœ¬èº«ä¸å­˜å®Œæ•´çš„å•è¯ ä»æ ¹èŠ‚ç‚¹åˆ°æŸä¸€èŠ‚ç‚¹ï¼Œè·¯å¾„ä¸Šç»è¿‡çš„å­—ç¬¦è¿æ¥èµ·æ¥ï¼Œä¸ºè¯¥èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸² æ¯ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹è·¯å¾„ä»£è¡¨çš„å­—ç¬¦éƒ½ä¸ç›¸åŒ å­—å…¸æ ‘å›¾ç¤º Trie æ ‘çš„æœ¬è´¨ï¼Œå°±æ˜¯åˆ©ç”¨å­—ç¬¦ä¸²ä¹‹é—´çš„å…¬å…±å‰ç¼€ï¼Œå°†é‡å¤çš„å‰ç¼€åˆå¹¶åœ¨ä¸€èµ·ï¼Œæ¯”å¦‚æˆ‘ä»¬æœ‰[\"hello\",\"her\",\"hi\",\"how\",\"see\",\"so\"] è¿™ä¸ªå­—ç¬¦ä¸²é›†åˆ golangå®ç°å­—å…¸æ ‘ // Trie æ ‘ç»“æ„ type Trie struct { root *trieNode // æ ¹èŠ‚ç‚¹æŒ‡é’ˆ } // Trie æ ‘èŠ‚ç‚¹ type trieNode struct { char string // Unicode å­—ç¬¦ isEnding bool // æ˜¯å¦æ˜¯å•è¯ç»“å°¾ children map[rune]*trieNode // è¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹å­—å…¸ } // åˆå§‹åŒ– Trie æ ‘ func NewTrie() *Trie { // åˆå§‹åŒ–æ ¹èŠ‚ç‚¹ trieNode := NewTrieNode(\"/\") return \u0026Trie{trieNode} } // åˆå§‹åŒ– Trie æ ‘èŠ‚ç‚¹ func NewTrieNode(char string) *trieNode { return \u0026trieNode{ char: char, isEnding: false, children: make(map[rune]*trieNode), } } // å¾€ Trie æ ‘ä¸­æ’å…¥ä¸€ä¸ªå•è¯ func (t *Trie) Insert(word string) { node := t.root // è·å–æ ¹èŠ‚ç‚¹ for _, code := range word { // ä»¥ Unicode å­—ç¬¦éå†è¯¥å•è¯ value, ok := node.children[code] // è·å– code ç¼–ç å¯¹åº”å­èŠ‚ç‚¹ if !ok { // ä¸å­˜åœ¨åˆ™åˆå§‹åŒ–è¯¥èŠ‚ç‚¹ value = NewTrieNode(string(code)) // ç„¶åå°†å…¶æ·»åŠ åˆ°å­èŠ‚ç‚¹å­—å…¸ node.children[code] = value } // å½“å‰èŠ‚ç‚¹æŒ‡é’ˆæŒ‡å‘å½“å‰å­èŠ‚ç‚¹ node = value } node.isEnding = true // ä¸€ä¸ªå•è¯éå†å®Œæ‰€æœ‰å­—ç¬¦åå°†ç»“å°¾å­—ç¬¦æ‰“ä¸Šæ ‡è®° } // åœ¨ Trie æ ‘ä¸­æŸ¥æ‰¾ä¸€ä¸ªå•è¯ func (t *Trie) Find(word string) bool { node := t.root for _, code := range word { value, ok := node.children[code] // è·å–å¯¹åº”å­èŠ‚ç‚¹ if !ok { // ä¸å­˜åœ¨åˆ™ç›´æ¥è¿”å› return false } // å¦åˆ™ç»§ç»­å¾€åéå† node = value } if node.isEnding == false { return false // ä¸èƒ½å®Œå…¨åŒ¹é…ï¼Œåªæ˜¯å‰ç¼€ } return true // æ‰¾åˆ°å¯¹åº”å•è¯ } ","date":"2023-03-02","objectID":"/tree/:9:0","tags":["æ ‘"],"title":"æ ‘","uri":"/tree/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†ç¼“å­˜ä¸­çš„ä¸€ç§ LRU","date":"2023-03-01","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-lru-catch/","tags":["LRU-Catch"],"title":"LRU-Catch","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-lru-catch/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"LRU Catch ","date":"2023-03-01","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-lru-catch/:0:0","tags":["LRU-Catch"],"title":"LRU-Catch","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-lru-catch/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"LRU Catch ä»€ä¹ˆæ˜¯LRU Catch LRUæ˜¯æœ€è¿‘æœ€å°‘ä½¿ç”¨ç­–ç•¥çš„ç¼©å†™ï¼Œæ˜¯æ ¹æ®æ•°æ®çš„å†å²è®¿é—®è®°å½•æ¥è¿›è¡Œæ·˜æ±°æ•°æ®ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯â€œå¦‚æœæ•°æ®æœ€è¿‘è¢«è®¿é—®è¿‡ï¼Œé‚£ä¹ˆå°†æ¥è¢«è®¿é—®çš„å‡ ç‡ä¹Ÿæ›´é«˜â€ æˆ‘ä»¬å¯ä»¥ç”¨ åŒå‘é“¾è¡¨å»å®ç° LRU Catch LRU Catch å›¾ç¤º golang å®ç° LRU Catch type Node struct { Key int Value int pre *Node next *Node } type LRUCache struct { limit int HashMap map[int]*Node head *Node end *Node } func Constructor(capacity int) LRUCache{ lruCache := LRUCache{limit:capacity} lruCache.HashMap = make(map[int]*Node, capacity) return lruCache } func (l *LRUCache) Get(key int) int { if v,ok:= l.HashMap[key];ok { l.refreshNode(v) return v.Value }else { return -1 } } func (l *LRUCache) Put(key int, value int) { if v,ok := l.HashMap[key];!ok{ if len(l.HashMap) \u003e= l.limit{ oldKey := l.removeNode(l.head) delete(l.HashMap, oldKey) } node := Node{Key:key, Value:value} l.addNode(\u0026node) l.HashMap[key] = \u0026node }else { v.Value = value l.refreshNode(v) } } func (l *LRUCache) refreshNode(node *Node){ if node == l.end { return } l.removeNode(node) l.addNode(node) } func (l *LRUCache) removeNode(node *Node) int{ if node == l.end { l.end = l.end.pre l.end.next = nil }else if node == l.head { l.head = l.head.next l.head.pre = nil }else { node.pre.next = node.next node.next.pre = node.pre } return node.Key } func (l *LRUCache) addNode(node *Node){ if l.end != nil { l.end.next = node node.pre = l.end node.next = nil } l.end = node if l.head == nil { l.head = node } } ","date":"2023-03-01","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-lru-catch/:1:0","tags":["LRU-Catch"],"title":"LRU-Catch","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-lru-catch/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"è¯¦è¿°äº†å“ˆå¸Œè¡¨","date":"2023-03-01","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/","tags":["å“ˆå¸Œè¡¨"],"title":"å“ˆå¸Œè¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"hashtable ","date":"2023-03-01","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/:0:0","tags":["å“ˆå¸Œè¡¨"],"title":"å“ˆå¸Œè¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"hashtable ä»€ä¹ˆå«hashtable å“ˆå¸Œè¡¨ä¹Ÿå«åšæ•£åˆ—è¡¨ï¼Œæ˜¯æ ¹æ®å…³é”®ç å€¼è€Œç›´æ¥è¿›è¡Œè®¿é—®çš„æ•°æ®ç»“æ„ ä»–é€šè¿‡æŠŠå…³é”®ç å€¼æ˜ å°„åˆ°è¡¨ä¸­çš„ä¸€ä¸ªä½ç½®æ¥è®¿é—®è®°å½•ï¼Œä»¥åŠ å¿«æŸ¥æ‰¾çš„é€Ÿåº¦ è¿™ä¸ªæ˜ å°„å‡½æ•°å«åšæ•£åˆ—å‡½æ•°ï¼Œå­˜æ”¾çš„è®°å½•å«åšå“ˆå¸Œè¡¨ hashtableçš„æ—¶é—´å¤æ‚åº¦ ***searchï¼š*O(1) ***Insertionï¼š*O(1) ***Deletionï¼š*O(1) ä½†æ˜¯æˆ‘ä»¬å¦‚æœäº†è§£ä»€ä¹ˆæ˜¯å“ˆå¸Œå†²çª ä»¥åŠæ‹‰é“¾æ³•è§£å†³å“ˆå¸Œå†²çªï¼Œé‚£ä¹ˆåœ¨å“ˆå¸Œè¡¨å¾ˆå°å¹¶ä¸”å†²çªå¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œæ—¶é—´å¤æ‚åº¦ä¼šé€€åŒ–æˆé“¾è¡¨O(n) hashtableçš„åŸç†å’Œgolangçš„mapå®ç° å›¾ç¤º ","date":"2023-03-01","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/:1:0","tags":["å“ˆå¸Œè¡¨"],"title":"å“ˆå¸Œè¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/"},{"categories":["ç®—æ³• \u0026 æ•°æ®ç»“æ„"],"content":"hashtableä¾‹é¢˜ // https://leetcode.cn/problems/reverse-linked-list/ // https://leetcode.com/problems/swap-nodes-in-pairs // https://leetcode.com/problems/linked-list-cycle // https://leetcode.com/problems/linked-list-cycle-ii ","date":"2023-03-01","objectID":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/:2:0","tags":["å“ˆå¸Œè¡¨"],"title":"å“ˆå¸Œè¡¨","uri":"/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-hashtable/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å¦‚ä½•ç†è§£åç¨‹","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å¦‚ä½•ç†è§£åç¨‹? ","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/:0:0","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ™®é€šçš„å‡½æ•° æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æ™®é€šçš„å‡½æ•°ï¼Œä»ç®€åˆ°ç¹å˜› def func(): print(\"a\") print(\"b\") print(\"c\") è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œå½“æˆ‘ä»¬è°ƒç”¨è¿™ä¸ªå‡½æ•°çš„æ—¶å€™ä¼šå‘ç”Ÿå•¥? è°ƒç”¨func funcå¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°return funcæ‰§è¡Œå®Œæ¯•ï¼Œè¿”å›å‡½æ•°A æ˜¯ä¸æ˜¯å¾ˆç®€å•ï¼Œå‡½æ•°funcæ‰§è¡Œç›´åˆ°è¿”å›ï¼Œå¹¶æ‰“å°å‡ºï¼šâ€œa, b, câ€ ","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/:1:0","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"ä»æ™®é€šå‡½æ•°åˆ°åç¨‹ åç¨‹æ˜¯å¯ä»¥æœ‰å¤šä¸ªè¿”å›ç‚¹çš„ï¼Œè¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ void func() { print(\"a\") æš‚åœå¹¶è¿”å› print(\"b\") æš‚åœå¹¶è¿”å› print(\"c\") } æ™®é€šå‡½æ•°ä¸‹ï¼Œåªæœ‰å½“æ‰§è¡Œå®Œprint(â€œcâ€)è¿™å¥è¯åå‡½æ•°æ‰ä¼šè¿”å›ï¼Œä½†æ˜¯åœ¨åç¨‹ä¸‹å½“æ‰§è¡Œå®Œprint(â€œaâ€)åfuncå°±ä¼šå› â€œæš‚åœå¹¶è¿”å›â€è¿™æ®µä»£ç è¿”å›åˆ°è°ƒç”¨å‡½æ•° æœ‰çš„åŒå­¦å¯èƒ½ä¼šä¸€è„¸æ‡µé€¼ï¼Œè¿™æœ‰ä»€ä¹ˆç¥å¥‡çš„å—ï¼Ÿæˆ‘å†™ä¸€ä¸ªreturnä¹Ÿèƒ½è¿”å›ï¼Œå°±åƒè¿™æ · void func() { print(\"a\") return print(\"b\") æš‚åœå¹¶è¿”å› print(\"c\") } ç›´æ¥å†™ä¸€ä¸ªreturnè¯­å¥ç¡®å®ä¹Ÿèƒ½è¿”å›ï¼Œä½†è¿™æ ·å†™çš„è¯returnåé¢çš„ä»£ç éƒ½ä¸ä¼šè¢«æ‰§è¡Œåˆ°äº† åç¨‹ä¹‹æ‰€ä»¥ç¥å¥‡å°±ç¥å¥‡åœ¨å½“æˆ‘ä»¬ä»åç¨‹è¿”å›åè¿˜èƒ½ç»§ç»­è°ƒç”¨è¯¥åç¨‹ï¼Œå¹¶ä¸”æ˜¯ä»è¯¥åç¨‹çš„ä¸Šä¸€ä¸ªè¿”å›ç‚¹åç»§ç»­æ‰§è¡Œ è¿™æ—¶æˆ‘ä»¬å°±å¯ä»¥è¿”å›åˆ°è°ƒç”¨å‡½æ•°ï¼Œå½“è°ƒç”¨å‡½æ•°ä»€ä¹ˆæ—¶å€™æƒ³èµ·è¯¥åç¨‹åå¯ä»¥å†æ¬¡è°ƒç”¨è¯¥åç¨‹ï¼Œè¯¥åç¨‹ä¼šä»ä¸Šä¸€ä¸ªè¿”å›ç‚¹ç»§ç»­æ‰§è¡Œ è¿™ä¸ªæš‚åœå¹¶è¿”å› åœ¨ç¼–ç¨‹è¯­è¨€ä¸­ä¸€èˆ¬å«åšyield(å…¶å®ƒè¯­è¨€ä¸­å¯èƒ½ä¼šæœ‰ä¸åŒçš„å®ç°ï¼Œä½†æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„) éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå½“æ™®é€šå‡½æ•°è¿”å›åï¼Œè¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­ä¸ä¼šå†ä¿å­˜è¯¥å‡½æ•°è¿è¡Œæ—¶çš„ä»»ä½•ä¿¡æ¯ï¼Œè€Œåç¨‹è¿”å›åï¼Œå‡½æ•°çš„è¿è¡Œæ—¶ä¿¡æ¯æ˜¯éœ€è¦ä¿å­˜ä¸‹æ¥çš„ï¼Œé‚£ä¹ˆå‡½æ•°çš„è¿è¡Œæ—¶çŠ¶æ€åˆ°åº•åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­å‘¢ï¼Œå…³äºè¿™ä¸ªé—®é¢˜ä½ å¯ä»¥å‚è€ƒè¿™é‡Œ ","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/:2:0","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"Show Me The Code ä¸‹é¢æˆ‘ä»¬é‡‡ç”¨pythonæ¥è®²è§£ä¸€ä¸ªä¾‹å­ï¼Œä¸ç”¨æ‹…å¿ƒçœ‹ä¸æ‡‚ï¼Œåœ¨pythonä¸­ï¼ŒåŒæ ·ä½¿ç”¨yieldï¼Œè¿™æ ·æˆ‘ä»¬çš„å‡½æ•°å°±å˜æˆäº† def func() { print(\"a\") yield print(\"b\") yield print(\"c\") } æ³¨æ„ï¼Œè¿™æ—¶å€™è¿™ä¸ªå‡½æ•°å°±ä¸å†æ˜¯ç®€ç®€å•å•çš„å‡½æ•°äº†ï¼Œè€Œæ˜¯å‡çº§æˆä¸ºäº†åç¨‹ï¼Œç„¶åæˆ‘ä»¬è¯¥æ€ä¹ˆä½¿ç”¨å‘¢ def A(): co = func() # å¾—åˆ°è¯¥åç¨‹ next(co) # è°ƒç”¨åç¨‹ print(\"in function A\") # do something next(co) # å†æ¬¡è°ƒç”¨è¯¥åç¨‹ æˆ‘ä»¬çœ‹åˆ°è™½ç„¶funcå‡½æ•°æ²¡æœ‰returnä»£ç ï¼Œä¹Ÿå°±æ˜¯è¯´è™½ç„¶æ²¡æœ‰è¿”å›ä»»ä½•å€¼ï¼Œä½†æ˜¯æˆ‘ä»¬ä¾ç„¶å¯ä»¥å†™co = func()è¿™æ ·çš„ä»£ç ï¼Œæ„æ€æ˜¯è¯´coå°±æ˜¯æˆ‘ä»¬æ‹¿åˆ°çš„åç¨‹äº† æˆ‘ä»¬æ¥çœ‹ä¸€çœ‹è¿™ä¸ªä»£ç åšçš„äº‹æƒ… æˆ‘ä»¬è°ƒç”¨è¯¥åç¨‹ï¼Œä½¿ç”¨next(co)ï¼Œè¿è¡ŒAå‡½æ•°çœ‹çœ‹æ‰§è¡Œåˆ°ç¬¬ä¸‰è¡Œçš„ç»“æœæ˜¯ä»€ä¹ˆ? a æ˜¾ç„¶ï¼Œå’Œæˆ‘ä»¬é¢„æœŸçš„ä¸€æ ·ï¼Œåç¨‹åœ¨print(\"a\")åå› æ‰§è¡Œyieldè€Œæš‚åœå¹¶è¿”å›å‡½æ•°A æ¥ä¸‹æ¥æ˜¯ç¬¬4è¡Œï¼Œè¿™ä¸ªæ¯«æ— ç–‘é—®ï¼ŒAå‡½æ•°åœ¨åšä¸€äº›è‡ªå·±çš„äº‹æƒ…ï¼Œå› æ­¤ä¼šæ‰“å° a in function A æ¥ä¸‹æ¥æ˜¯é‡ç‚¹çš„ä¸€è¡Œï¼Œå½“æ‰§è¡Œç¬¬5è¡Œå†æ¬¡è°ƒç”¨åç¨‹æ—¶è¯¥æ‰“å°ä»€ä¹ˆå‘¢ a in function A b çœ‹åˆ°äº†å§ï¼Œåç¨‹æ˜¯ä¸€ä¸ªå¾ˆç¥å¥‡çš„å‡½æ•°ï¼Œå®ƒä¼šè‡ªå·±è®°ä½ä¹‹å‰çš„æ‰§è¡ŒçŠ¶æ€ï¼Œå½“å†æ¬¡è°ƒç”¨æ—¶ä¼šä»ä¸Šä¸€æ¬¡çš„è¿”å›ç‚¹ç»§ç»­æ‰§è¡Œ ","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/:3:0","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å›¾å½¢åŒ–è§£é‡Š ä¸ºäº†è®©ä½ æ›´åŠ å½»åº•çš„ç†è§£åç¨‹ï¼Œæˆ‘ä»¬ä½¿ç”¨å›¾å½¢åŒ–çš„æ–¹å¼å†çœ‹ä¸€éï¼Œé¦–å…ˆæ˜¯æ™®é€šçš„å‡½æ•°è°ƒç”¨ åœ¨è¯¥å›¾ä¸­ï¼Œæ–¹æ¡†å†…è¡¨ç¤ºè¯¥å‡½æ•°çš„æŒ‡ä»¤åºåˆ—ï¼Œå¦‚æœè¯¥å‡½æ•°ä¸è°ƒç”¨ä»»ä½•å…¶å®ƒå‡½æ•°ï¼Œé‚£ä¹ˆåº”è¯¥ä»ä¸Šåˆ°ä¸‹ä¾æ¬¡æ‰§è¡Œï¼Œä½†å‡½æ•°ä¸­å¯ä»¥è°ƒç”¨å…¶å®ƒå‡½æ•°ï¼Œå› æ­¤å…¶æ‰§è¡Œå¹¶ä¸æ˜¯ç®€å•çš„ä»ä¸Šåˆ°ä¸‹ï¼Œç®­å¤´çº¿è¡¨ç¤ºæ‰§è¡Œæµçš„æ–¹å‘ ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬é¦–å…ˆæ¥åˆ°funcAå‡½æ•°ï¼Œæ‰§è¡Œä¸€æ®µæ—¶é—´åå‘ç°è°ƒç”¨äº†å¦ä¸€ä¸ªå‡½æ•°funcBï¼Œè¿™æ—¶æ§åˆ¶è½¬ç§»åˆ°è¯¥å‡½æ•°ï¼Œæ‰§è¡Œå®Œæˆåå›åˆ°mainå‡½æ•°çš„è°ƒç”¨ç‚¹ç»§ç»­æ‰§è¡Œ è¿™æ˜¯æ™®é€šçš„å‡½æ•°è°ƒç”¨ æ¥ä¸‹æ¥æ˜¯åç¨‹ åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ä¾ç„¶é¦–å…ˆåœ¨funcAå‡½æ•°ä¸­æ‰§è¡Œï¼Œè¿è¡Œä¸€æ®µæ—¶é—´åè°ƒç”¨åç¨‹ï¼Œåç¨‹å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°ç¬¬ä¸€ä¸ªæŒ‚èµ·ç‚¹ï¼Œæ­¤åå°±åƒæ™®é€šå‡½æ•°ä¸€æ ·è¿”å›funcAå‡½æ•°ï¼ŒfuncAå‡½æ•°æ‰§è¡Œä¸€äº›ä»£ç åå†æ¬¡è°ƒç”¨è¯¥åç¨‹ï¼Œæ³¨æ„ï¼Œåç¨‹è¿™æ—¶å°±å’Œæ™®é€šå‡½æ•°ä¸ä¸€æ ·äº†ï¼Œåç¨‹å¹¶ä¸æ˜¯ä»ç¬¬ä¸€æ¡æŒ‡ä»¤å¼€å§‹æ‰§è¡Œè€Œæ˜¯ä»ä¸Šä¸€æ¬¡çš„æŒ‚èµ·ç‚¹å¼€å§‹æ‰§è¡Œï¼Œæ‰§è¡Œä¸€æ®µæ—¶é—´åé‡åˆ°ç¬¬äºŒä¸ªæŒ‚èµ·ç‚¹ï¼Œè¿™æ—¶åç¨‹å†æ¬¡åƒæ™®é€šå‡½æ•°ä¸€æ ·è¿”å›funcAå‡½æ•°ï¼ŒfuncAå‡½æ•°æ‰§è¡Œä¸€æ®µæ—¶é—´åæ•´ä¸ªç¨‹åºç»“æŸ ","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/:4:0","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å‡½æ•°åªæ˜¯åç¨‹çš„ä¸€ç§ç‰¹ä¾‹ æ€ä¹ˆæ ·ï¼Œç¥å¥‡ä¸ç¥å¥‡ï¼Œå’Œæ™®é€šå‡½æ•°ä¸åŒçš„æ˜¯ï¼Œåç¨‹èƒ½çŸ¥é“è‡ªå·±ä¸Šä¸€æ¬¡æ‰§è¡Œåˆ°äº†å“ªé‡Œã€‚ ç°åœ¨ä½ åº”è¯¥æ˜ç™½äº†å§ï¼Œåç¨‹ä¼šåœ¨å‡½æ•°è¢«æš‚åœè¿è¡Œæ—¶ä¿å­˜å‡½æ•°çš„è¿è¡ŒçŠ¶æ€ï¼Œå¹¶å¯ä»¥ä»ä¿å­˜çš„çŠ¶æ€ä¸­æ¢å¤å¹¶ç»§ç»­è¿è¡Œã€‚ å¾ˆç†Ÿæ‚‰çš„å‘³é“æœ‰æ²¡æœ‰ï¼Œè¿™ä¸å°±æ˜¯æ“ä½œç³»ç»Ÿå¯¹çº¿ç¨‹çš„è°ƒåº¦å˜›ï¼Œçº¿ç¨‹ä¹Ÿå¯ä»¥è¢«æš‚åœï¼Œæ“ä½œç³»ç»Ÿä¿å­˜çº¿ç¨‹è¿è¡ŒçŠ¶æ€ç„¶åå»è°ƒåº¦å…¶å®ƒçº¿ç¨‹ï¼Œæ­¤åè¯¥çº¿ç¨‹å†æ¬¡è¢«åˆ†é…CPUæ—¶è¿˜å¯ä»¥ç»§ç»­è¿è¡Œï¼Œå°±åƒæ²¡æœ‰è¢«æš‚åœè¿‡ä¸€æ ·ã€‚ åªä¸è¿‡çº¿ç¨‹çš„è°ƒåº¦æ˜¯æ“ä½œç³»ç»Ÿå®ç°çš„ï¼Œè¿™äº›å¯¹ç¨‹åºå‘˜éƒ½ä¸å¯è§ï¼Œè€Œåç¨‹æ˜¯åœ¨ç”¨æˆ·æ€å®ç°çš„ï¼Œå¯¹ç¨‹åºå‘˜å¯è§ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæœ‰çš„äººè¯´å¯ä»¥æŠŠåç¨‹ç†è§£ä¸ºç”¨æˆ·æ€çº¿ç¨‹çš„åŸå›  ä¹Ÿå°±æ˜¯è¯´ç°åœ¨ç¨‹åºå‘˜å¯ä»¥æ‰®æ¼”æ“ä½œç³»ç»Ÿçš„è§’è‰²äº†ï¼Œä½ å¯ä»¥è‡ªå·±æ§åˆ¶åç¨‹åœ¨ä»€ä¹ˆæ—¶å€™è¿è¡Œï¼Œä»€ä¹ˆæ—¶å€™æš‚åœï¼Œä¹Ÿå°±æ˜¯è¯´åç¨‹çš„è°ƒåº¦æƒåœ¨ä½ è‡ªå·±æ‰‹ä¸Šã€‚ åœ¨åç¨‹è¿™ä»¶äº‹å„¿ä¸Šï¼Œè°ƒåº¦ä½ è¯´äº†ç®—ã€‚ å½“ä½ åœ¨åç¨‹ä¸­å†™ä¸‹yieldçš„æ—¶å€™å°±æ˜¯æƒ³è¦æš‚åœè¯¥åç¨‹ï¼Œå½“ä½¿ç”¨next()æ—¶å°±æ˜¯è¦å†æ¬¡è¿è¡Œè¯¥åç¨‹ã€‚ ç°åœ¨ä½ åº”è¯¥ç†è§£ä¸ºä»€ä¹ˆè¯´å‡½æ•°åªæ˜¯åç¨‹çš„ä¸€ç§ç‰¹ä¾‹äº†å§ï¼Œå‡½æ•°å…¶å®åªæ˜¯æ²¡æœ‰æŒ‚èµ·ç‚¹çš„åç¨‹è€Œå·² ","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/:5:0","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"åç¨‹æ˜¯å¦‚ä½•å®ç°çš„ è®©æˆ‘ä»¬ä»é—®é¢˜çš„æœ¬è´¨å‡ºå‘æ¥æ€è€ƒè¿™ä¸ªé—®é¢˜ï¼Œåç¨‹çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ å…¶å®å°±æ˜¯å¯ä»¥è¢«æš‚åœä»¥åŠå¯ä»¥è¢«æ¢å¤è¿è¡Œçš„å‡½æ•° å¥½æ¯”NBAæ¯”èµ›è¢«æš‚åœï¼Œä½†æ˜¯ä¹Ÿå¯ä»¥ç»§ç»­æ¯”èµ›ï¼Œå› ä¸ºæ¯”èµ›çŠ¶æ€è¢«è®°å½•äº†ä¸‹æ¥ï¼Œè¿™é‡Œçš„çŠ¶æ€å°±æ˜¯ä¸Šä¸‹æ–‡-context åç¨‹ä¹‹æ‰€ä»¥å¯ä»¥è¢«æš‚åœä¹Ÿå¯ä»¥ç»§ç»­ï¼Œé‚£ä¹ˆä¸€å®šè¦è®°å½•ä¸‹è¢«æš‚åœæ—¶çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¸‹æ–‡ï¼Œå½“ç»§ç»­è¿è¡Œçš„æ—¶å€™è¦æ¢å¤å…¶ä¸Šä¸‹æ–‡(çŠ¶æ€)ï¼Œé‚£ä¹ˆæ¥ä¸‹æ¥å¾ˆè‡ªç„¶çš„ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå‡½æ•°è¿è¡Œæ—¶çš„çŠ¶æ€æ˜¯ä»€ä¹ˆï¼Ÿ è¿™ä¸ªå…³é”®çš„é—®é¢˜çš„ç­”æ¡ˆå°±åœ¨ã€Šå‡½æ•°è¿è¡Œèµ·æ¥ååœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­çš„ã€‹è¿™ç¯‡æ–‡ç« ä¸­ï¼Œå‡½æ•°è¿è¡Œæ—¶æ‰€æœ‰çš„çŠ¶æ€ä¿¡æ¯éƒ½ä½äºå‡½æ•°è¿è¡Œæ—¶æ ˆä¸­ å‡½æ•°è¿è¡Œæ—¶æ ˆå°±æ˜¯æˆ‘ä»¬éœ€è¦ä¿å­˜çš„çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„ä¸Šä¸‹æ–‡ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè¯¥è¿›ç¨‹ä¸­åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œæ ˆåŒºä¸­æœ‰å››ä¸ªæ ˆå¸§ï¼Œmainå‡½æ•°è°ƒç”¨äº†Aï¼ŒAè°ƒç”¨äº†Bï¼ŒBè°ƒç”¨äº†Cï¼Œå½“Cå‡½æ•°åœ¨è¿è¡Œæ—¶æ•´ä¸ªè¿›ç¨‹çš„çŠ¶æ€å°±å¦‚å›¾æ‰€ç¤º ç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†å‡½æ•°çš„è¿è¡Œæ—¶çŠ¶æ€å°±ä¿å­˜åœ¨æ ˆåŒºçš„æ ˆå¸§ä¸­ï¼Œæ¥ä¸‹æ¥é‡ç‚¹æ¥äº†å“¦ æ—¢ç„¶å‡½æ•°çš„è¿è¡Œæ—¶çŠ¶æ€ä¿å­˜åœ¨æ ˆåŒºçš„æ ˆå¸§ä¸­ï¼Œé‚£ä¹ˆå¦‚æœæˆ‘ä»¬æƒ³æš‚åœåç¨‹çš„è¿è¡Œå°±å¿…é¡»ä¿å­˜æ•´ä¸ªæ ˆå¸§çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥å°†æ•´ä¸ªæ ˆå¸§ä¸­çš„æ•°æ®ä¿å­˜åœ¨å“ªé‡Œå‘¢ï¼Ÿ å¾ˆæ˜¾ç„¶ï¼Œè¿™å°±æ˜¯å †åŒºå•Šï¼Œheapï¼Œæˆ‘ä»¬å¯ä»¥å°†æ ˆå¸§ä¿å­˜åœ¨å †åŒºä¸­ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåœ¨å †åŒºä¸­ä¿å­˜æ•°æ®å‘¢ï¼Ÿå¸Œæœ›ä½ è¿˜æ²¡æœ‰æ™•ï¼Œåœ¨å †åŒºä¸­å¼€è¾Ÿç©ºé—´å°±æ˜¯æˆ‘ä»¬å¸¸ç”¨çš„Cè¯­è¨€ä¸­çš„mallocæˆ–è€…C++ä¸­çš„new æˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯åœ¨å †åŒºä¸­ç”³è¯·ä¸€æ®µç©ºé—´ï¼Œè®©åæŠŠåç¨‹çš„æ•´ä¸ªæ ˆåŒºä¿å­˜ä¸‹ï¼Œå½“éœ€è¦æ¢å¤åç¨‹çš„è¿è¡Œæ—¶å†ä»å †åŒºä¸­copyå‡ºæ¥æ¢å¤å‡½æ•°è¿è¡Œæ—¶çŠ¶æ€ å†ä»”ç»†æƒ³ä¸€æƒ³ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬è¦è¿™ä¹ˆéº»çƒ¦çš„æ¥å›copyæ•°æ®å‘¢ï¼Ÿ å®é™…ä¸Šï¼Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯ç›´æ¥æŠŠåç¨‹çš„è¿è¡Œéœ€è¦çš„æ ˆå¸§ç©ºé—´ç›´æ¥å¼€è¾Ÿåœ¨å †åŒºä¸­ï¼Œè¿™æ ·éƒ½ä¸ç”¨æ¥å›copyæ•°æ®äº†ï¼Œå¦‚å›¾æ‰€ç¤º ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¯¥ç¨‹åºä¸­å¼€å¯äº†ä¸¤ä¸ªåç¨‹ï¼Œè¿™ä¸¤ä¸ªåç¨‹çš„æ ˆåŒºéƒ½æ˜¯åœ¨å †ä¸Šåˆ†é…çš„ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥éšæ—¶ä¸­æ–­æˆ–è€…æ¢å¤åç¨‹çš„æ‰§è¡Œäº† æœ‰çš„åŒå­¦å¯èƒ½ä¼šé—®ï¼Œé‚£ä¹ˆè¿›ç¨‹åœ°å€ç©ºé—´æœ€ä¸Šå±‚çš„æ ˆåŒºç°åœ¨çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ è¿™ä¸€åŒºåŸŸä¾ç„¶æ˜¯ç”¨æ¥ä¿å­˜å‡½æ•°æ ˆå¸§çš„ï¼Œåªä¸è¿‡è¿™äº›å‡½æ•°å¹¶ä¸æ˜¯è¿è¡Œåœ¨åç¨‹è€Œæ˜¯æ™®é€šçº¿ç¨‹ä¸­çš„ ç°åœ¨ä½ åº”è¯¥çœ‹åˆ°äº†å§ï¼Œåœ¨ä¸Šå›¾ä¸­å®é™…ä¸Šæœ‰3ä¸ªæ‰§è¡Œæµï¼š ä¸€ä¸ªæ™®é€šçº¿ç¨‹ ä¸¤ä¸ªåç¨‹ è™½ç„¶æœ‰3ä¸ªæ‰§è¡Œæµä½†æˆ‘ä»¬åˆ›å»ºäº†å‡ ä¸ªçº¿ç¨‹å‘¢ï¼Ÿ ä¸€ä¸ªçº¿ç¨‹ ç°åœ¨ä½ åº”è¯¥æ˜ç™½ä¸ºä»€ä¹ˆè¦ä½¿ç”¨åç¨‹äº†å§ï¼Œä½¿ç”¨åç¨‹ç†è®ºä¸Šæˆ‘ä»¬å¯ä»¥å¼€å¯æ— æ•°å¹¶å‘æ‰§è¡Œæµï¼Œåªè¦å †åŒºç©ºé—´è¶³å¤Ÿï¼ŒåŒæ—¶è¿˜æ²¡æœ‰åˆ›å»ºçº¿ç¨‹çš„å¼€é”€ï¼Œæ‰€æœ‰åç¨‹çš„è°ƒåº¦ã€åˆ‡æ¢éƒ½å‘ç”Ÿåœ¨ç”¨æˆ·æ€ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆåç¨‹ä¹Ÿè¢«ç§°ä½œç”¨æˆ·æ€çº¿ç¨‹çš„åŸå› æ‰€åœ¨ å› æ­¤å³ä½¿ä½ åˆ›å»ºäº†Nå¤šåç¨‹ï¼Œä½†åœ¨æ“ä½œç³»ç»Ÿçœ‹æ¥ä¾ç„¶åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´åç¨‹å¯¹æ“ä½œç³»ç»Ÿæ¥è¯´æ˜¯ä¸å¯è§çš„ ç°åœ¨ä½ åº”è¯¥å¯¹åç¨‹æœ‰ä¸€ä¸ªæ¸…æ™°çš„è®¤çŸ¥äº†å§ ","date":"2023-02-17","objectID":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/:6:0","tags":["åç¨‹"],"title":"å¦‚ä½•ç†è§£åç¨‹","uri":"/%E7%BC%98%E8%B5%B7-%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8D%8F%E7%A8%8B/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"PImpl","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­? ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:0:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å¼•è¨€ åœ¨è¿›å…¥åˆ°æœ¬ç« çš„å†…å®¹å‰ï¼Œæˆ‘ä»¬æ¥æ€è€ƒæ€è€ƒå‡ ä¸ªé—®é¢˜ void f(int a) { if (a \u003e 10000000) return; int arr[100] = { 0 }; f(a+1); } ä½ èƒ½çœ‹å‡ºè¿™æ®µä»£ç æœ‰å•¥é—®é¢˜å— ä½ çŸ¥é“åç¨‹çš„æœ¬è´¨å—ï¼Ÿæœ‰çš„åŒå­¦å¯èƒ½ä¼šè¯´æ˜¯ç”¨æˆ·æ€çº¿ç¨‹ï¼Œé‚£ä¹ˆç”¨æˆ·æ€çº¿ç¨‹æ˜¯æ€ä¹ˆå®ç°çš„ï¼Ÿ å‡½æ•°è¿è¡Œèµ·æ¥ååœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ è¿™å‡ ä¸ªé—®é¢˜çœ‹èµ·æ¥æ²¡ä»€ä¹ˆå…³è”ï¼Œä½†æ˜¯èƒŒåéƒ½æŒ‡å‘ä¸€ä¸ªä¸œè¥¿ï¼Œè¿™å°±æ˜¯æ‰€è°“å‡½æ•°è¿è¡Œæ ˆï¼ˆrun time stackï¼‰ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:1:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"ä»è¿›ç¨‹ã€çº¿ç¨‹åˆ°å‡½æ•°è°ƒç”¨ ä¸¾ä¸ªå°ä¾‹å­ï¼Œæ±½è½¦åœ¨é«˜é€Ÿä¸Šè¡Œé©¶æ—¶æœ‰å¾ˆå¤šä¿¡æ¯ï¼Œæ¯”å¦‚é€Ÿåº¦ã€ä½ç½®ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯æˆ‘ä»¬å¯ä»¥ç›´è§‚çš„æ„Ÿå—æ±½è½¦çš„è¿è¡Œæ—¶çŠ¶æ€ åŒæ ·çš„ï¼Œç¨‹åºåœ¨è¿è¡Œæ—¶ä¹Ÿæœ‰å¾ˆå¤šä¿¡æ¯ï¼Œåƒæœ‰å“ªäº›ç¨‹åºæ­£åœ¨è¿è¡Œã€è¿™äº›ç¨‹åºæ‰§è¡Œåˆ°äº†å“ªé‡Œç­‰ç­‰ï¼Œé€šè¿‡è¿™äº›ä¿¡æ¯æˆ‘ä»¬å¯ä»¥ç›´è§‚çš„æ„Ÿå—ç³»ç»Ÿä¸­ç¨‹åºè¿è¡Œçš„çŠ¶æ€ å…¶ä¸­ï¼Œæˆ‘ä»¬åˆ›é€ äº†è¿›ç¨‹ã€çº¿ç¨‹è¿™æ ·çš„æ¦‚å¿µæ¥è®°å½•æœ‰å“ªäº›ç¨‹åºæ­£åœ¨è¿è¡Œ è¿›ç¨‹å’Œçº¿ç¨‹çš„è¿è¡Œä½“ç°åœ¨å‡½æ•°æ‰§è¡Œä¸Šï¼Œå‡½æ•°çš„æ‰§è¡Œé™¤äº†å‡½æ•°å†…éƒ¨æ‰§è¡Œçš„é¡ºåºæ‰§è¡Œè¿˜æœ‰å­å‡½æ•°è°ƒç”¨çš„æ§åˆ¶è½¬ç§»ä»¥åŠå­å‡½æ•°æ‰§è¡Œå®Œæ¯•çš„è¿”å›ã€‚å…¶ä¸­å‡½æ•°å†…éƒ¨çš„é¡ºåºæ‰§è¡Œä¹å–„å¯é™ˆï¼Œé‡ç‚¹æ˜¯å‡½æ•°çš„è°ƒç”¨ å› æ­¤æ¥ä¸‹æ¥æˆ‘ä»¬çš„è§†è§’å°†ä»å®è§‚çš„è¿›ç¨‹å’Œçº¿ç¨‹æ‹‰è¿‘åˆ°å¾®è§‚ä¸‹çš„å‡½æ•°è°ƒç”¨ï¼Œé‡ç‚¹æ¥è®¨è®ºä¸€ä¸‹å‡½æ•°è°ƒç”¨æ˜¯æ€æ ·å®ç°çš„ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:2:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å‡½æ•°æ‰§è¡Œçš„æ´»åŠ¨è½¨è¿¹ï¼šæ ˆ ä¹Ÿæ˜¯ä¸€æ ·ï¼Œä¸¾ä¸ªå°ä¾‹å­ï¼Œç©è¿‡æ¸¸æˆçš„åŒå­¦åº”è¯¥çŸ¥é“ï¼Œæœ‰æ—¶ä½ ä¸ºäº†å®Œæˆä¸€é¡¹ä¸»çº¿ä»»åŠ¡ä¸å¾—ä¸å»æ‰“ä¸€äº›æ”¯çº¿çš„ä»»åŠ¡ï¼Œæ”¯çº¿ä»»åŠ¡ä¸­å¯èƒ½è¿˜æœ‰æ”¯çº¿ä»»åŠ¡ï¼Œå½“ä¸€ä¸ªæ”¯çº¿ä»»åŠ¡å®Œæˆåé€€å›åˆ°å‰ä¸€ä¸ªæ”¯çº¿ä»»åŠ¡ ä¸»çº¿ä»»åŠ¡A - è¥¿å¤©å–ç» æ”¯çº¿ä»»åŠ¡B - æ”¶æœğŸ’ æ”¯çº¿ä»»åŠ¡D - æ‹¿åˆ°ç´§ç®å’’ æ”¯çº¿ä»»åŠ¡C - æ”¶æœğŸ· ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¿…é¡»æ”¯çº¿ä»»åŠ¡Bå’Œæ”¯çº¿ä»»åŠ¡Cå®Œæˆåï¼Œæ‰èƒ½ç»§ç»­å®Œæˆä¸»çº¿ä»»åŠ¡A æƒ³è¦å®Œæˆæ”¯çº¿ä»»åŠ¡B å°±å¿…é¡»å®Œæˆæ”¯çº¿ä»»åŠ¡D-æ‹¿åˆ°ç´§ç®å’’ æ•´ä¸ªä»»åŠ¡çš„ä¾èµ–å…³ç³»å¦‚å›¾æ‰€ç¤ºï¼š ç„¶åï¼Œæˆ‘ä»¬æ¥æ¨¡æ‹Ÿæ¨¡æ‹Ÿä»»åŠ¡å®Œæˆè¿‡ç¨‹ é¦–å…ˆï¼Œæˆ‘ä»¬æ¥åˆ°ä»»åŠ¡Aï¼Œæ‰§è¡Œä¸»çº¿ä»»åŠ¡ æ‰§è¡Œä»»åŠ¡Açš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°ä»»åŠ¡Aä¾èµ–ä»»åŠ¡Bï¼Œè¿™æ—¶æˆ‘ä»¬æš‚åœä»»åŠ¡Aå»æ‰§è¡Œä»»åŠ¡B æ‰§è¡Œä»»åŠ¡Bçš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆå‘ç°ä¾èµ–ä»»åŠ¡D æ‰§è¡Œä»»åŠ¡Dçš„æ—¶å€™æˆ‘ä»¬å‘ç°è¯¥ä»»åŠ¡ä¸å†ä¾èµ–ä»»ä½•å…¶å®ƒä»»åŠ¡ï¼Œå› æ­¤Cå®Œæˆåæˆ‘ä»¬å¯ä»¥ä¼šé€€åˆ°å‰ä¸€ä¸ªä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯B ä»»åŠ¡Bé™¤äº†ä¾èµ–ä»»åŠ¡Cå¤–ä¸å†ä¾èµ–å…¶å®ƒä»»åŠ¡ï¼Œè¿™æ ·ä»»åŠ¡Bå®Œæˆåå°±å¯ä»¥å›åˆ°ä»»åŠ¡A ç°åœ¨æˆ‘ä»¬å›åˆ°äº†ä¸»çº¿ä»»åŠ¡Aï¼Œä¾èµ–çš„ä»»åŠ¡Bæ‰§è¡Œå®Œæˆï¼Œæ¥ä¸‹æ¥æ˜¯ä»»åŠ¡C å’Œä»»åŠ¡Dä¸€æ ·ï¼ŒCä¸ä¾èµ–ä»»ä½•å…¶å®ƒå…¶å®ƒä»»åŠ¡ï¼Œä»»åŠ¡Cå®Œæˆåå°±å¯ä»¥å†æ¬¡å›åˆ°ä»»åŠ¡Aï¼Œå†ä¹‹åä»»åŠ¡Aæ‰§è¡Œå®Œæ¯•ï¼Œæ•´ä¸ªä»»åŠ¡æ‰§è¡Œå®Œæˆ è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ•´ä¸ªä»»åŠ¡çš„æ´»åŠ¨è½¨è¿¹ ä»”ç»†è§‚å¯Ÿï¼Œå®é™…ä¸Šä½ ä¼šå‘ç°è¿™æ˜¯ä¸€ä¸ª â€œFirst In Last Outâ€ çš„é¡ºåºï¼Œå¤©ç„¶é€‚ç”¨äºæ ˆè¿™ç§æ•°æ®ç»“æ„æ¥å¤„ç†ã€‚ å†ä»”ç»†çœ‹ä¸€ä¸‹æ ˆé¡¶çš„è½¨è¿¹ï¼Œä¹Ÿå°±æ˜¯Aã€Bã€Dã€Bã€Aã€Cã€Aï¼Œå®é™…ä¸Šä½ ä¼šå‘ç°è¿™é‡Œçš„è½¨è¿¹å°±æ˜¯ä»»åŠ¡ä¾èµ–æ ‘çš„éå†è¿‡ç¨‹ï¼Œæ˜¯ä¸æ˜¯å¾ˆç¥å¥‡ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ ‘è¿™ç§æ•°æ®ç»“æ„çš„éå†é™¤äº†å¯ä»¥ç”¨é€’å½’ä¹Ÿå¯ä»¥ç”¨æ ˆæ¥å®ç°çš„åŸå› ã€‚ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:3:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"A Box å‡½æ•°è°ƒç”¨ä¹Ÿæ˜¯åŒæ ·çš„é“ç†ï¼Œä½ æŠŠä¸Šé¢çš„ABCDæ¢æˆå‡½æ•°ABCDï¼Œæœ¬è´¨ä¸å˜ å› æ­¤ï¼Œæˆ‘ä»¬çŸ¥é“äº†ï¼Œä½¿ç”¨æ ˆè¿™ç§ç»“æ„å°±å¯ä»¥ç”¨æ¥ä¿å­˜å‡½æ•°è°ƒç”¨ä¿¡æ¯ å’Œæ¸¸æˆä¸­çš„æ¯ä¸ªä»»åŠ¡ä¸€æ ·ï¼Œå½“å‡½æ•°åœ¨è¿è¡Œæ—¶æ¯ä¸ªå‡½æ•°ä¹Ÿè¦æœ‰è‡ªå·±çš„ä¸€ä¸ª\"å°ç›’å­\"ï¼Œè¿™ä¸ªå°ç›’å­ä¸­ä¿å­˜äº†å‡½æ•°è¿è¡Œæ—¶çš„å„ç§ä¿¡æ¯ï¼Œè¿™å†™å°ç›’å­é€šè¿‡æ ˆè¿™ç§ç»“æ„ç»„ç»‡èµ·æ¥ï¼Œè¿™ä¸ªå°ç›’å­å°±è¢«ç§°ä¸º\"æ ˆå¸§ï¼ˆstack framesï¼‰\"ï¼Œä¹Ÿæœ‰çš„ç§°ä¹‹ä¸º call stack ä¸ç®¡ç”¨ä»€ä¹ˆå‘½åï¼Œæ€»ä¹‹ï¼Œå°±æ˜¯è¿™é‡Œæ‰€è¯´çš„å°ç›’å­ï¼Œè¿™ä¸ªå°ç›’å­å°±æ˜¯å‡½æ•°è¿è¡Œèµ·æ¥åå ç”¨çš„å†…å­˜ï¼Œè¿™äº›å°ç›’å­æ„æˆäº†æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„æ ˆåŒº é‚£ä¹ˆé—®é¢˜ä¹Ÿå°±æ¥äº†ï¼Œå‡½æ•°è°ƒç”¨æ—¶éƒ½æœ‰å“ªäº›ä¿¡æ¯å‘¢ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:4:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ§åˆ¶è½¬ç§» æˆ‘ä»¬çŸ¥é“å½“å‡½æ•°Aè°ƒç”¨å‡½æ•°Bçš„æ—¶å€™ï¼Œæ§åˆ¶ä»Aè½¬ç§»åˆ°äº†Bï¼Œæ‰€è°“æ§åˆ¶å…¶å®å°±æ˜¯æŒ‡CPUæ‰§è¡Œå±äºå“ªä¸ªå‡½æ•°çš„æŒ‡ä»¤ï¼ŒCPUä»å¼€å§‹æ‰§è¡Œå±äºå‡½æ•°Açš„æŒ‡ä»¤åˆ‡æ¢åˆ°æ‰§è¡Œå±äºå‡½æ•°Bçš„æŒ‡ä»¤ï¼Œæˆ‘ä»¬å°±è¯´æ§åˆ¶ä»å‡½æ•°Aè½¬ç§»åˆ°äº†å‡½æ•°B æ§åˆ¶ä»å‡½æ•°Aè½¬ç§»åˆ°äº†å‡½æ•°Bï¼Œæˆ‘ä»¬éœ€è¦æœ‰è¿™ä¸¤ä¸ªä¿¡æ¯ æˆ‘ä»å“ªé‡Œæ¥ï¼ˆè¿”å›ï¼‰ è¦åˆ°å“ªé‡Œå»ï¼ˆè·³è½¬ï¼‰ å¥½æ¯”ä½ å‡ºå»æ—…æ¸¸ï¼Œä½ éœ€è¦çŸ¥é“å»å“ªé‡Œï¼Œè¿˜éœ€è¦è®°ä½å›å®¶çš„è·¯ï¼ˆå†™åˆ°è¿™é‡Œæˆ‘æƒ³èµ·æ¥ å“²å­¦çš„ä¸‰å¤§é—®é¢˜ æˆ‘æ˜¯è°ï¼Œæˆ‘ä»å“ªé‡Œæ¥ï¼Œè¦åˆ°å“ªé‡Œå»ã€‚ç¬‘æ­»ï¼Œå…¶å®å‡½æ•°ä¹Ÿä¸€æ ·è¦é—®è‡ªå·±è¿™ä¸‰ä¸ªé—®é¢˜ï¼Œäººçš„æ™ºæ…§å…¶å®å°±æ˜¯ä¼šä»¿ç”Ÿï¼Œæ— è®ºä»€ä¹ˆä¸œè¥¿éƒ½æ˜¯å……æ–¥çš„æ¨¡ä»¿çš„è‰ºæœ¯ï¼Œå¥½æ¯”treeæ•°æ®ç»“æ„ï¼Œä¸æ˜¯å—?ï¼‰ å¥½ï¼Œå›å½’æ­£é¢˜ï¼Œå‡½æ•°è°ƒç”¨ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ï¼Œå½“å‡½æ•°Aè°ƒç”¨å‡½æ•°Bï¼Œæˆ‘ä»¬åªè¦çŸ¥é“ å‡½æ•°Aå¯¹äºçš„æœºå™¨æŒ‡ä»¤æ‰§è¡Œåˆ°äº†å“ªé‡Œï¼ˆæˆ‘ä»å“ªé‡Œæ¥ï¼‰ å‡½æ•°Bç¬¬ä¸€æ¡æœºå™¨æŒ‡ä»¤æ‰€åœ¨çš„åœ°å€ï¼ˆè¦åˆ°å“ªé‡Œå»ï¼‰ é‚£ä¹ˆè¿™äº›ä¿¡æ¯æ˜¯æ€ä¹ˆè·å–å¹¶ä¿æŒçš„å‘¢ï¼Œç°åœ¨æˆ‘ä»¬å°±å¯ä»¥æ‰“å¼€è¿™ä¸ªå°ç›’å­ï¼Œæ¥çœ‹çœ‹æ€ä¹ˆç©çš„ å‡è®¾å‡½æ•°Aè°ƒç”¨å‡½æ•°Bï¼Œå¦‚å›¾æ‰€ç¤º å½“å‰ï¼ŒCPUæ‰§è¡Œå‡½æ•°Açš„æœºå™¨æŒ‡ä»¤ï¼Œè¯¥æŒ‡ä»¤çš„åœ°å€ä¸º0x400564ï¼Œæ¥ä¸‹æ¥CPUå°†æ‰§è¡Œä¸‹ä¸€æ¡æœºå™¨æŒ‡ä»¤ä¹Ÿå°±æ˜¯ call 0x400540 è¿™æ¡æœºå™¨æŒ‡ä»¤å¯¹åº”çš„å°±æ˜¯æˆ‘ä»¬åœ¨ä»£ç ä¸­æ‰€å†™çš„å‡½æ•°è°ƒç”¨ï¼Œæ³¨æ„callåæœ‰ä¸€æ¡æœºå™¨æŒ‡ä»¤åœ°å€ï¼Œæ³¨æ„è§‚å¯Ÿä¸Šå›¾ä½ ä¼šçœ‹åˆ°ï¼Œè¯¥åœ°å€å°±æ˜¯å‡½æ•°Bçš„ç¬¬ä¸€æ¡æœºå™¨æŒ‡ä»¤ï¼Œä»è¿™æ¡æœºå™¨æŒ‡ä»¤åCPUå°†è·³è½¬åˆ°å‡½æ•°B ç°åœ¨æˆ‘ä»¬å·²ç»è§£å†³äº†æ§åˆ¶è·³è½¬çš„â€œè¦åˆ°å“ªé‡Œå»â€é—®é¢˜ï¼Œå½“å‡½æ•°Bæ‰§è¡Œå®Œæ¯•åæ€ä¹ˆè·³è½¬å›æ¥å‘¢ï¼Ÿ åŸæ¥ï¼ŒcallæŒ‡ä»¤é™¤äº†ç»™å‡ºè·³è½¬åœ°å€ä¹‹å¤–è¿˜æœ‰è¿™æ ·ä¸€ä¸ªä½œç”¨ï¼Œä¹Ÿå°±æ˜¯æŠŠcallæŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯0x40056a pushåˆ°å‡½æ•°Açš„æ ˆå¸§ä¸­ï¼Œå¦‚å›¾æ‰€ç¤º ç°åœ¨ï¼Œå‡½æ•°Açš„å°ç›’å­å˜å¤§äº†ä¸€äº›ï¼Œå› ä¸ºè£…å…¥äº†è¿”å›åœ°å€ ç°åœ¨CPUå¼€å§‹æ‰§è¡Œå‡½æ•°Bå¯¹åº”çš„æœºå™¨æŒ‡ä»¤ï¼Œæ³¨æ„è§‚å¯Ÿï¼Œå‡½æ•°Bä¹Ÿæœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„å°ç›’å­(æ ˆå¸§)ï¼Œå¯ä»¥å¾€é‡Œé¢æ‰”ä¸€äº›å¿…è¦çš„ä¿¡æ¯ å¦‚æœå‡½æ•°Bä¸­åˆè°ƒç”¨äº†å…¶å®ƒå‡½æ•°å‘¢ï¼Ÿé“ç†å’Œå‡½æ•°Aè°ƒç”¨å‡½æ•°Bæ˜¯ä¸€æ ·çš„ è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å‡½æ•°Bæœ€åä¸€æ¡æœºå™¨æŒ‡ä»¤retï¼Œè¿™æ¡æœºå™¨æŒ‡ä»¤çš„ä½œç”¨æ˜¯å‘Šè¯‰CPUè·³è½¬åˆ°å‡½æ•°Aä¿å­˜åœ¨æ ˆå¸§ä¸Šçš„è¿”å›åœ°å€ï¼Œè¿™æ ·å½“å‡½æ•°Bæ‰§è¡Œå®Œæ¯•åå°±å¯ä»¥è·³è½¬åˆ°å‡½æ•°Aç»§ç»­æ‰§è¡Œäº† è‡³æ­¤ï¼Œæˆ‘ä»¬è§£å†³äº†æ§åˆ¶è½¬ç§»ä¸­â€œæˆ‘ä»å“ªé‡Œæ¥â€çš„é—®é¢˜ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:5:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"ä¼ é€’å‚æ•°ä¸è·å–è¿”å›å€¼ å‡½æ•°è°ƒç”¨ä¸è¿”å›ä½¿å¾—æˆ‘ä»¬å¯ä»¥ç¼–å†™å‡½æ•°ï¼Œè¿›è¡Œå‡½æ•°è°ƒç”¨ã€‚ä½†è°ƒç”¨å‡½æ•°é™¤äº†æä¾›å‡½æ•°åç§°ä¹‹å¤–è¿˜éœ€è¦ä¼ é€’å‚æ•°ä»¥åŠè·å–è¿”å›å€¼ï¼Œé‚£ä¹ˆè¿™åˆæ˜¯æ€æ ·å®ç°çš„å‘¢ï¼Ÿ åœ¨x86-64ä¸­ï¼Œå¤šæ•°æƒ…å†µä¸‹å‚æ•°çš„ä¼ é€’ä¸è·å–è¿”å›å€¼æ˜¯é€šè¿‡å¯„å­˜å™¨æ¥å®ç°çš„ å‡è®¾å‡½æ•°Aè°ƒç”¨äº†å‡½æ•°Bï¼Œå‡½æ•°Aå°†ä¸€äº›å‚æ•°å†™å…¥ç›¸åº”çš„å¯„å­˜å™¨ï¼Œå½“CPUæ‰§è¡Œå‡½æ•°Bæ—¶å°±å¯ä»¥ä»è¿™äº›å¯„å­˜å™¨ä¸­è·å–å‚æ•°äº† åŒæ ·çš„ï¼Œå‡½æ•°Bä¹Ÿå¯ä»¥å°†è¿”å›å€¼å†™å…¥å¯„å­˜å™¨ï¼Œå½“å‡½æ•°Bä¹‹è¡Œç»“æŸåå‡½æ•°Aä»è¯¥å¯„å­˜å™¨ä¸­å°±å¯ä»¥è¯»å–åˆ°è¿”å›å€¼äº† ä½†æ˜¯ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“å¯„å­˜å™¨çš„æ•°é‡æ˜¯æœ‰é™çš„ï¼Œå½“ä¼ é€’çš„å‚æ•°å¤šäºå¯„å­˜å™¨çš„æ•°é‡è¯¥æ€ä¹ˆåŠ è¿™æ—¶å€™ï¼Œå°ç›’å­ä¹Ÿå°±æ˜¯æ ˆå¸§ï¼Œåˆæ˜¯ä»–å‘æŒ¥ä½œç”¨çš„æ—¶å€™åˆ°äº† åŸæ¥ï¼Œå½“å‚æ•°ä¸ªæ•°å¤šäºå¯„å­˜å™¨æ•°é‡æ—¶å‰©ä¸‹çš„å‚æ•°ç›´æ¥æ”¾åˆ°æ ˆå¸§ä¸­ï¼Œè¿™æ ·è¢«è°ƒå‡½æ•°å°±å¯ä»¥ä»å‰ä¸€ä¸ªå‡½æ•°çš„æ ˆå¸§ä¸­è·å–åˆ°å‚æ•°äº† ç°åœ¨æ ˆå¸§çš„æ ·å­åˆå¯ä»¥è¿›ä¸€æ­¥ä¸°å¯Œäº†ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š ä»å›¾ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè°ƒç”¨å‡½æ•°Bæ—¶æœ‰éƒ¨åˆ†å‚æ•°æ”¾åˆ°äº†å‡½æ•°Açš„æ ˆå¸§ä¸­ï¼ŒåŒæ—¶å‡½æ•°Aæ ˆå¸§çš„é¡¶éƒ¨ä¾ç„¶ä¿å­˜çš„æ˜¯è¿”å›åœ°å€ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:6:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å±€éƒ¨å˜é‡ æˆ‘ä»¬çŸ¥é“åœ¨å‡½æ•°å†…éƒ¨å®šä¹‰çš„å˜é‡è¢«ç§°ä¸ºå±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡åœ¨å‡½æ•°è¿è¡Œæ—¶è¢«æ”¾åœ¨äº†å“ªé‡Œå‘¢ åŸæ¥ï¼Œè¿™äº›å˜é‡åŒæ ·å¯ä»¥æ”¾åœ¨å¯„å­˜å™¨ä¸­ï¼Œä½†æ˜¯å½“å±€éƒ¨å˜é‡çš„æ•°é‡è¶…è¿‡å¯„å­˜å™¨çš„æ—¶å€™è¿™äº›å˜é‡å°±å¿…é¡»æ”¾åˆ°æ ˆå¸§ä¸­äº† å› æ­¤ï¼Œæˆ‘ä»¬çš„æ ˆå¸§å†…å®¹åˆä¸€æ­¥ä¸°å¯Œäº† ç»†å¿ƒçš„åŒå­¦å¯èƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘é—®ï¼Œæˆ‘ä»¬çŸ¥é“å¯„å­˜å™¨æ˜¯å…±äº«èµ„æºå¯ä»¥è¢«æ‰€æœ‰å‡½æ•°ä½¿ç”¨ï¼Œæ—¢ç„¶å¯ä»¥å°†å‡½æ•°Açš„å±€éƒ¨å˜é‡å†™å…¥å¯„å­˜å™¨ï¼Œé‚£ä¹ˆå½“å‡½æ•°Aè°ƒç”¨å‡½æ•°Bæ—¶ï¼Œå‡½æ•°Bçš„å±€éƒ¨å˜é‡ä¹Ÿå¯ä»¥å†™åˆ°å¯„å­˜å™¨ï¼Œè¿™æ ·çš„è¯å½“å‡½æ•°Bæ‰§è¡Œå®Œæ¯•å›åˆ°å‡½æ•°Aæ—¶å¯„å­˜å™¨çš„å€¼å·²ç»è¢«å‡½æ•°Bä¿®æ”¹è¿‡äº†ï¼Œè¿™æ ·ä¼šæœ‰é—®é¢˜å§ è¿™æ ·çš„ç¡®ä¼šæœ‰é—®é¢˜ï¼Œå› æ­¤æˆ‘ä»¬åœ¨å‘å¯„å­˜å™¨ä¸­å†™å…¥å±€éƒ¨å˜é‡ä¹‹å‰ï¼Œä¸€å®šè¦å…ˆå°†å¯„å­˜å™¨ä¸­å¼€å§‹çš„å€¼ä¿å­˜èµ·æ¥ï¼Œå½“å¯„å­˜å™¨ä½¿ç”¨å®Œæ¯•åå†æ¢å¤åŸå€¼å°±å¯ä»¥äº† é‚£ä¹ˆæˆ‘ä»¬è¦å°†å¯„å­˜å™¨ä¸­çš„åŸå§‹å€¼ä¿å­˜åœ¨å“ªé‡Œå‘¢ï¼Ÿ æ²¡é”™ è¿˜æ˜¯æ ˆå¸§ æœ€ç»ˆï¼Œæˆ‘ä»¬çš„å°ç›’å­å°±å˜æˆäº†å¦‚å›¾æ‰€ç¤ºçš„æ ·å­ï¼Œå½“å¯„å­˜å™¨ä½¿ç”¨å®Œæ¯•åæ ¹æ®æ ˆå¸§ä¸­ä¿å­˜çš„åˆå§‹å€¼æ¢å¤å…¶å†…å®¹å°±å¯ä»¥äº† ç°åœ¨ä½ åº”è¯¥çŸ¥é“å‡½æ•°åœ¨è¿è¡Œæ—¶åˆ°åº•æ˜¯ä»€ä¹ˆæ ·å­äº†å§ï¼Œä»¥ä¸Šå°±æ˜¯é—®é¢˜3çš„ç­”æ¡ˆ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:7:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"Big Picture éœ€è¦å†æ¬¡å¼ºè°ƒçš„ä¸€ç‚¹å°±æ˜¯ï¼Œä¸Šè¿°è®¨è®ºçš„æ ˆå¸§å°±ä½äºæˆ‘ä»¬å¸¸è¯´çš„æ ˆåŒº æ ˆåŒºï¼Œå±äºè¿›ç¨‹åœ°å€ç©ºé—´çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å°†æ ˆåŒºæ”¾å¤§å°±æ˜¯å›¾å·¦è¾¹çš„æ ·å­ å…³äºæ ˆåŒºè¯¦ç»†çš„è®²è§£ä½ å¯ä»¥å‚è€ƒã€Šæ·±å…¥ç†è§£æ“ä½œç³»ç»Ÿï¼šç¨‹åºå‘˜åº”å¦‚ä½•ç†è§£å†…å­˜ï¼ˆæœªå®Œå¾…ç»­ï¼‰ã€‹è¿™ç¯‡ã€‚ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:8:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"é—®é¢˜1 æœ€åï¼Œè®©æˆ‘ä»¬å›åˆ°æ–‡ç« å¼€å§‹çš„è¿™æ®µç®€å•ä»£ç  void func(int a) { if (a \u003e 100000000) return; int arr[100] = {0}; func(a + 1); } void main(){ func(0); } æƒ³ä¸€æƒ³è¿™æ®µä»£ç ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿ åŸæ¥ï¼Œæ ˆåŒºæ˜¯æœ‰å¤§å°é™åˆ¶çš„ï¼Œå½“è¶…è¿‡é™åˆ¶åå°±ä¼šå‡ºç°è‘—åçš„æ ˆæº¢å‡ºé—®é¢˜ï¼Œæ˜¾ç„¶ä¸Šè¿°ä»£ç ä¼šå¯¼è‡´è¿™ä¸€é—®é¢˜çš„å‡ºç° å› æ­¤æˆ‘ä»¬è¦æ³¨æ„ ä¸è¦åˆ›å»ºè¿‡å¤§çš„å±€éƒ¨å˜é‡ å‡½æ•°æ ˆå¸§ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨å±‚æ¬¡ä¸èƒ½å¤ªå¤š ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:9:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ€»ç»“ æœ¬ç« æˆ‘ä»¬ä»å‡ ä¸ªçœ‹ä¼¼æ²¡ä»€ä¹ˆå…³è”çš„é—®é¢˜å‡ºå‘ï¼Œè¯¦ç»†è®²è§£äº†å‡½æ•°è¿è¡Œæ—¶æ ˆæ˜¯æ€ä¹ˆä¸€å›äº‹ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬ä¸èƒ½åˆ›å»ºè¿‡å¤šçš„å±€éƒ¨å˜é‡ ç»†å¿ƒçš„åŒå­¦ä¼šå‘ç°ç¬¬2ä¸ªé—®é¢˜æˆ‘ä»¬æ²¡æœ‰è§£ç­”ï¼Œè¿™ä¸ªé—®é¢˜çš„è®²è§£å¯ä»¥åœ¨ã€Šå¦‚ä½•ç†è§£åç¨‹ã€‹ä¸­ç†è§£ ","date":"2023-02-16","objectID":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/:10:0","tags":["å‡½æ•°","å†…å­˜"],"title":"å‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­","uri":"/%E7%BC%98%E8%B5%B7-%E5%87%BD%E6%95%B0%E8%BF%90%E8%A1%8C%E6%97%B6%E5%9C%A8%E5%86%85%E5%AD%98%E4%B8%AD%E6%98%AF%E4%BB%80%E4%B9%88%E6%A0%B7%E5%AD%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"çº¿ç¨‹åˆ°åº•å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº? ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:0:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å¼•è¨€ é²è¿…ç»å¸¸è¯´è¿™æ ·ä¸€å¥è¯ï¼šâ€œåè¿‡æ¥æƒ³ï¼Œæ€»æ˜¯åè¿‡æ¥æƒ³â€ï¼Œå¦‚æœä½ å¯¹çº¿ç¨‹ä¹‹é—´å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æºè¿™ä¸ªé—®é¢˜æƒ³ä¸æ¸…æ¥šçš„è¯é‚£ä¹ˆä¹Ÿå¯ä»¥åè¿‡æ¥æ€è€ƒï¼Œé‚£å°±æ˜¯æœ‰å“ªäº›èµ„æºæ˜¯çº¿ç¨‹ç§æœ‰çš„ é²è¿…ï¼šæˆ‘çœŸçš„è¯´è¿‡è¿™ä¸€å¥è¯å—? ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:1:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"çº¿ç¨‹ç§æœ‰èµ„æº çº¿ç¨‹è¿è¡Œçš„æœ¬è´¨å…¶å®å°±æ˜¯å‡½æ•°çš„æ‰§è¡Œï¼Œå‡½æ•°çš„æ‰§è¡Œæ€»ä¼šæœ‰ä¸€ä¸ªæºå¤´ï¼Œè¿™ä¸ªæºå¤´å°±æ˜¯æ‰€è°“çš„å…¥å£å‡½æ•°ï¼ŒCPUä»å…¥å£å‡½æ•°å¼€å§‹æ‰§è¡Œä»è€Œå½¢æˆä¸€ä¸ªæ‰§è¡Œæµï¼Œåªä¸è¿‡æˆ‘ä»¬äººä¸ºçš„ç»™æ‰§è¡Œæµèµ·ä¸€ä¸ªåå­—ï¼Œè¿™ä¸ªåå­—å°±å«çº¿ç¨‹ æ—¢ç„¶çº¿ç¨‹è¿è¡Œçš„æœ¬è´¨å°±æ˜¯å‡½æ•°çš„æ‰§è¡Œï¼Œé‚£ä¹ˆå‡½æ•°æ‰§è¡Œéƒ½æœ‰å“ªäº›ä¿¡æ¯å‘¢ï¼Ÿ åœ¨ã€Šå‡½æ•°è¿è¡Œæ—¶åœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­ã€‹è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä»¬è¯´è¿‡ï¼Œå‡½æ•°è¿è¡Œæ—¶çš„ä¿¡æ¯ä¿å­˜åœ¨æ ˆå¸§ä¸­ï¼Œæ ˆå¸§ä¸­ä¿å­˜äº†å‡½æ•°çš„è¿”å›å€¼ã€è°ƒç”¨å…¶å®ƒå‡½æ•°çš„å‚æ•°ã€è¯¥å‡½æ•°ä½¿ç”¨çš„å±€éƒ¨å˜é‡ä»¥åŠè¯¥å‡½æ•°ä½¿ç”¨çš„å¯„å­˜å™¨ä¿¡æ¯ å¦‚å›¾æ‰€ç¤ºï¼Œå‡è®¾å‡½æ•°Aè°ƒç”¨å‡½æ•°B æ­¤å¤–ï¼ŒCPUæ‰§è¡ŒæŒ‡ä»¤çš„ä¿¡æ¯ä¿å­˜åœ¨ä¸€ä¸ªå«åšç¨‹åºè®¡æ•°å™¨çš„å¯„å­˜å™¨ä¸­ï¼Œé€šè¿‡è¿™ä¸ªå¯„å­˜å™¨æˆ‘ä»¬å°±çŸ¥é“æ¥ä¸‹æ¥è¦æ‰§è¡Œå“ªä¸€æ¡æŒ‡ä»¤ã€‚ç”±äºæ“ä½œç³»ç»Ÿéšæ—¶å¯ä»¥æš‚åœçº¿ç¨‹çš„è¿è¡Œï¼Œå› æ­¤æˆ‘ä»¬ä¿å­˜ä»¥åŠæ¢å¤ç¨‹åºè®¡æ•°å™¨ä¸­çš„å€¼å°±èƒ½çŸ¥é“çº¿ç¨‹æ˜¯ä»å“ªé‡Œæš‚åœçš„ä»¥åŠè¯¥ä»å“ªé‡Œç»§ç»­è¿è¡Œäº† ç”±äºçº¿ç¨‹è¿è¡Œçš„æœ¬è´¨å°±æ˜¯å‡½æ•°è¿è¡Œï¼Œå‡½æ•°è¿è¡Œæ—¶ä¿¡æ¯æ˜¯ä¿å­˜åœ¨æ ˆå¸§ä¸­çš„ï¼Œå› æ­¤æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„ã€ç§æœ‰çš„æ ˆåŒº åŒæ—¶å‡½æ•°è¿è¡Œæ—¶éœ€è¦é¢å¤–çš„å¯„å­˜å™¨æ¥ä¿å­˜ä¸€äº›ä¿¡æ¯ï¼Œåƒéƒ¨åˆ†å±€éƒ¨å˜é‡ä¹‹ç±»ï¼Œè¿™äº›å¯„å­˜å™¨ä¹Ÿæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸å¯èƒ½è®¿é—®åˆ°å¦ä¸€ä¸ªçº¿ç¨‹çš„è¿™ç±»å¯„å­˜å™¨ä¿¡æ¯ æ‰€ä»¥æˆ‘ä»¬çŸ¥é“äº†ä»€ä¹ˆæ˜¯çº¿ç¨‹ç§æœ‰èµ„æº æ ˆåŒº ç¨‹åºè®¡æ•°å™¨ æ ˆæŒ‡é’ˆ å‡½æ•°è¿è¡Œä½¿ç”¨çš„å¯„å­˜å™¨ ä»¥ä¸Šè¿™äº›ä¿¡æ¯æœ‰ä¸€ä¸ªç»Ÿä¸€çš„åå­—ï¼Œå°±æ˜¯çº¿ç¨‹ä¸Šä¸‹æ–‡(thread context) æˆ‘ä»¬ä¹Ÿè¯´è¿‡æ“ä½œç³»ç»Ÿè°ƒåº¦çº¿ç¨‹éœ€è¦éšæ—¶ä¸­æ–­çº¿ç¨‹çš„è¿è¡Œå¹¶ä¸”éœ€è¦çº¿ç¨‹è¢«æš‚åœåå¯ä»¥ç»§ç»­è¿è¡Œï¼Œæ“ä½œç³»ç»Ÿä¹‹æ‰€ä»¥èƒ½å®ç°è¿™ä¸€ç‚¹ï¼Œä¾é çš„å°±æ˜¯çº¿ç¨‹ä¸Šä¸‹æ–‡ä¿¡æ¯ é™¤æ­¤ä¹‹å¤–ï¼Œå‰©ä¸‹çš„éƒ½æ˜¯çº¿ç¨‹é—´å…±äº«èµ„æºï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹å‰©ä¸‹çš„èµ„æº ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:2:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"ä»£ç åŒº è¿›ç¨‹åœ°å€ç©ºé—´ä¸­çš„ä»£ç åŒºï¼Œè¿™é‡Œä¿å­˜çš„æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿä»åå­—ä¸­æœ‰çš„åŒå­¦å¯èƒ½å·²ç»çŒœåˆ°äº†ï¼Œæ²¡é”™ï¼Œè¿™é‡Œä¿å­˜çš„å°±æ˜¯æˆ‘ä»¬å†™çš„ä»£ç ï¼Œæ›´å‡†ç¡®çš„æ˜¯ç¼–è¯‘åçš„å¯æ‰§è¡Œæœºå™¨æŒ‡ä»¤ é‚£ä¹ˆè¿™äº›æœºå™¨æŒ‡ä»¤åˆæ˜¯ä»å“ªé‡Œæ¥çš„å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ä»å¯æ‰§è¡Œæ–‡ä»¶ä¸­åŠ è½½åˆ°å†…å­˜çš„ï¼Œå¯æ‰§è¡Œç¨‹åºä¸­çš„ä»£ç åŒºå°±æ˜¯ç”¨æ¥åˆå§‹åŒ–è¿›ç¨‹åœ°å€ç©ºé—´ä¸­çš„ä»£ç åŒºçš„ çº¿ç¨‹ä¹‹é—´å…±äº«ä»£ç åŒºï¼Œè¿™å°±æ„å‘³ç€ç¨‹åºä¸­çš„ä»»ä½•ä¸€ä¸ªå‡½æ•°éƒ½å¯ä»¥æ”¾åˆ°çº¿ç¨‹ä¸­å»æ‰§è¡Œï¼Œä¸å­˜åœ¨æŸä¸ªå‡½æ•°åªèƒ½è¢«ç‰¹å®šçº¿ç¨‹æ‰§è¡Œçš„æƒ…å†µ ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:3:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ•°æ®åŒº è¿›ç¨‹åœ°å€ç©ºé—´ä¸­çš„æ•°æ®åŒºï¼Œè¿™é‡Œå­˜æ”¾çš„å°±æ˜¯æ‰€è°“çš„å…¨å±€å˜é‡ char c; // å…¨å±€å˜é‡ void func() { } åœ¨ç¨‹åºå‘˜è¿è¡ŒæœŸé—´ï¼Œä¹Ÿå°±æ˜¯run timeï¼Œæ•°æ®åŒºä¸­çš„å…¨å±€å˜é‡æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œæ‰€æœ‰çš„çº¿ç¨‹éƒ½å¯ä»¥è®¿é—®åˆ°è¯¥å…¨å±€å˜é‡ ä½†æ˜¯è¦æ³¨æ„ï¼Œc/c++é‡Œé¢æœ‰static void func(){ static int a = 10; } æ³¨æ„åˆ°ï¼Œè™½ç„¶å˜é‡aå®šä¹‰åœ¨å‡½æ•°å†…éƒ¨ï¼Œä½†å˜é‡aä¾ç„¶å…·æœ‰å…¨å±€å˜é‡çš„ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´å˜é‡aæ”¾åœ¨äº†è¿›ç¨‹åœ°å€ç©ºé—´çš„æ•°æ®åŒºåŸŸï¼Œå³ä½¿å‡½æ•°æ‰§è¡Œå®Œåè¯¥å˜é‡ä¾ç„¶å­˜åœ¨ï¼Œè€Œæ™®é€šçš„å±€éƒ¨å˜é‡éšç€å‡½æ•°è°ƒç”¨ç»“æŸå’Œå‡½æ•°æ ˆå¸§ä¸€èµ·è¢«å›æ”¶æ‰äº†ï¼Œä½†è¿™é‡Œçš„å˜é‡aä¸ä¼šè¢«å›æ”¶ï¼Œå› ä¸ºå…¶è¢«æ”¾åˆ°äº†æ•°æ®åŒº è¿™æ ·çš„å˜é‡å¯¹æ¯ä¸ªçº¿ç¨‹æ¥è¯´ä¹Ÿæ˜¯å¯è§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸ªçº¿ç¨‹éƒ½å¯ä»¥è®¿é—®åˆ°è¯¥å˜é‡ ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:4:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"å †åŒº å †åŒºæ˜¯ç¨‹åºå‘˜æ¯”è¾ƒç†Ÿæ‚‰çš„ï¼Œæˆ‘ä»¬åœ¨C/C++ä¸­ç”¨mallocæˆ–è€…newå‡ºæ¥çš„æ•°æ®å°±å­˜æ”¾åœ¨è¿™ä¸ªåŒºåŸŸï¼Œå¾ˆæ˜¾ç„¶ï¼Œåªè¦çŸ¥é“å˜é‡çš„åœ°å€ï¼Œä¹Ÿå°±æ˜¯æŒ‡é’ˆï¼Œä»»ä½•ä¸€ä¸ªçº¿ç¨‹éƒ½å¯ä»¥è®¿é—®æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®ï¼Œå› æ­¤å †åŒºä¹Ÿæ˜¯çº¿ç¨‹å…±äº«çš„å±äºè¿›ç¨‹çš„èµ„æº ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:5:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ ˆåŒº å”‰ï¼Œç­‰ç­‰ï¼åˆšä¸æ˜¯è¯´æ ˆåŒºæ˜¯çº¿ç¨‹ç§æœ‰èµ„æºå—ï¼Œæ€ä¹ˆè¿™ä¼šå„¿åˆè¯´èµ·æ ˆåŒºäº†ï¼Ÿ ç¡®å®ï¼Œä»çº¿ç¨‹è¿™ä¸ªæŠ½è±¡çš„æ¦‚å¿µä¸Šæ¥è¯´ï¼Œæ ˆåŒºæ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œç„¶è€Œä»å®é™…çš„å®ç°ä¸Šçœ‹ï¼Œæ ˆåŒºå±äºçº¿ç¨‹ç§æœ‰è¿™ä¸€è§„åˆ™å¹¶æ²¡æœ‰ä¸¥æ ¼éµå®ˆï¼Œè¿™å¥è¯æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ é€šå¸¸æ¥è¯´ï¼Œæ³¨æ„è¿™é‡Œçš„ç”¨è¯æ˜¯é€šå¸¸ï¼Œé€šå¸¸æ¥è¯´æ ˆåŒºæ˜¯çº¿ç¨‹ç§æœ‰ï¼Œæ—¢ç„¶æœ‰é€šå¸¸å°±æœ‰ä¸é€šå¸¸çš„æ—¶å€™ ä¸é€šå¸¸æ˜¯å› ä¸ºä¸åƒè¿›ç¨‹åœ°å€ç©ºé—´ä¹‹é—´çš„ä¸¥æ ¼éš”ç¦»ï¼Œçº¿ç¨‹çš„æ ˆåŒºæ²¡æœ‰ä¸¥æ ¼çš„éš”ç¦»æœºåˆ¶æ¥ä¿æŠ¤ï¼Œå› æ­¤å¦‚æœä¸€ä¸ªçº¿ç¨‹èƒ½æ‹¿åˆ°æ¥è‡ªå¦ä¸€ä¸ªçº¿ç¨‹æ ˆå¸§ä¸Šçš„æŒ‡é’ˆï¼Œé‚£ä¹ˆè¯¥çº¿ç¨‹å°±å¯ä»¥æ”¹å˜å¦ä¸€ä¸ªçº¿ç¨‹çš„æ ˆåŒºï¼Œä¹Ÿå°±æ˜¯è¯´è¿™äº›çº¿ç¨‹å¯ä»¥ä»»æ„ä¿®æ”¹æœ¬å±äºå¦ä¸€ä¸ªçº¿ç¨‹æ ˆåŒºä¸­çš„å˜é‡ è¿™ä»æŸç§ç¨‹åº¦ä¸Šç»™äº†ç¨‹åºå‘˜æå¤§çš„ä¾¿åˆ©ï¼Œä½†åŒæ—¶ï¼Œè¿™ä¹Ÿä¼šå¯¼è‡´æå…¶éš¾ä»¥æ’æŸ¥åˆ°çš„bugã€‚ è¯•æƒ³ä¸€ä¸‹ä½ çš„ç¨‹åºè¿è¡Œçš„å¥½å¥½çš„ï¼Œç»“æœæŸä¸ªæ—¶åˆ»çªç„¶å‡ºé—®é¢˜ï¼Œå®šä½åˆ°å‡ºé—®é¢˜ä»£ç è¡Œåæ ¹æœ¬å°±æ’æŸ¥ä¸åˆ°åŸå› ï¼Œä½ å½“ç„¶æ˜¯æ’æŸ¥ä¸åˆ°é—®é¢˜åŸå› çš„ï¼Œå› ä¸ºä½ çš„ç¨‹åºæœ¬æ¥å°±æ²¡æœ‰ä»»ä½•é—®é¢˜ï¼Œæ˜¯åˆ«äººçš„é—®é¢˜å¯¼è‡´ä½ çš„å‡½æ•°æ ˆå¸§æ•°æ®è¢«å†™åä»è€Œäº§ç”Ÿbugï¼Œè¿™æ ·çš„é—®é¢˜é€šå¸¸å¾ˆéš¾æ’æŸ¥åˆ°åŸå› ï¼Œéœ€è¦å¯¹æ•´ä½“çš„é¡¹ç›®ä»£ç éå¸¸ç†Ÿæ‚‰ï¼Œå¸¸ç”¨çš„ä¸€äº›debugå·¥å…·è¿™æ—¶å¯èƒ½å·²ç»æ²¡æœ‰å¤šå¤§ä½œç”¨äº† è¯´äº†è¿™ä¹ˆå¤šï¼Œé‚£ä¹ˆåŒå­¦å¯èƒ½ä¼šé—®ï¼Œä¸€ä¸ªçº¿ç¨‹æ˜¯æ€æ ·ä¿®æ”¹æœ¬å±äºå…¶å®ƒçº¿ç¨‹çš„æ•°æ®å‘¢ï¼Ÿ æ¥ä¸‹æ¥æˆ‘ä»¬ç”¨ä¸€ä¸ªä»£ç ç¤ºä¾‹è®²è§£ä¸€ä¸‹ void thread(void* var) { int* p = (int*)var; *p = 2; } int main() { int a = 1; pthread_t tid; pthread_create(\u0026tid, NULL, thread, (void*)\u0026a); return 0; } è¿™æ®µä»£ç æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ é¦–å…ˆæˆ‘ä»¬åœ¨ä¸»çº¿ç¨‹çš„æ ˆåŒºå®šä¹‰äº†ä¸€ä¸ªå±€éƒ¨å˜é‡ï¼Œä¹Ÿå°±æ˜¯ int a= 1è¿™è¡Œä»£ç ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»çŸ¥é“äº†ï¼Œå±€éƒ¨å˜é‡aå±äºä¸»çº¿ç¨‹ç§æœ‰æ•°æ®ï¼Œä½†æ˜¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åˆ›å»ºäº†å¦å¤–ä¸€ä¸ªçº¿ç¨‹ åœ¨æ–°åˆ›å»ºçš„è¿™ä¸ªçº¿ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†å˜é‡açš„åœ°å€ä»¥å‚æ•°çš„å½¢å¼ä¼ ç»™äº†æ–°åˆ›å»ºçš„çº¿ç¨‹ï¼Œç„¶åæˆ‘æ¥çœ‹ä¸€ä¸‹threadå‡½æ•° åœ¨æ–°åˆ›å»ºçš„çº¿ç¨‹ä¸­ï¼Œæˆ‘ä»¬è·å–åˆ°äº†å˜é‡açš„æŒ‡é’ˆï¼Œç„¶åå°†å…¶ä¿®æ”¹ä¸ºäº†2ï¼Œä¹Ÿå°±æ˜¯è¿™è¡Œä»£ç ï¼Œæˆ‘ä»¬åœ¨æ–°åˆ›å»ºçš„çº¿ç¨‹ä¸­ä¿®æ”¹äº†æœ¬å±äºä¸»çº¿ç¨‹çš„ç§æœ‰æ•°æ® ç°åœ¨ä½ åº”è¯¥çœ‹æ˜ç™½äº†å§ï¼Œå°½ç®¡æ ˆåŒºæ˜¯çº¿ç¨‹çš„ç§æœ‰æ•°æ®ï¼Œä½†ç”±äºæ ˆåŒºæ²¡æœ‰æ·»åŠ ä»»ä½•ä¿æŠ¤æœºåˆ¶ï¼Œä¸€ä¸ªçº¿ç¨‹çš„æ ˆåŒºå¯¹å…¶å®ƒçº¿ç¨‹æ˜¯å¯ä»¥è§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ä¿®æ”¹å±äºä»»ä½•ä¸€ä¸ªçº¿ç¨‹çš„æ ˆåŒº å°±åƒæˆ‘ä»¬ä¸Šæ–‡è¯´å¾—åˆ°çš„ï¼Œè¿™ç»™ç¨‹åºå‘˜å¸¦æ¥äº†æå¤§ä¾¿åˆ©çš„åŒæ—¶ä¹Ÿå¸¦æ¥äº†æ— å°½çš„éº»çƒ¦ï¼Œè¯•æƒ³ä¸Šé¢è¿™æ®µä»£ç ï¼Œå¦‚æœç¡®å®æ˜¯é¡¹ç›®éœ€è¦é‚£ä¹ˆè¿™æ ·å†™ä»£ç æ— å¯åšéï¼Œä½†å¦‚æœä¸Šè¿°æ–°åˆ›å»ºçº¿ç¨‹æ˜¯å› bugä¿®æ”¹äº†å±äºå…¶å®ƒçº¿ç¨‹çš„ç§æœ‰æ•°æ®çš„è¯ï¼Œé‚£ä¹ˆäº§ç”Ÿé—®é¢˜å°±å¾ˆéš¾å®šä½äº†ï¼Œå› ä¸ºbugå¯èƒ½è·ç¦»é—®é¢˜æš´éœ²çš„è¿™è¡Œä»£ç å·²ç»å¾ˆè¿œäº†ï¼Œè¿™æ ·çš„é—®é¢˜é€šå¸¸éš¾ä»¥æ’æŸ¥ ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:6:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"åŠ¨æ€é“¾æ¥åº“ è¿›ç¨‹åœ°å€ç©ºé—´ä¸­é™¤äº†ä»¥ä¸Šè®¨è®ºçš„è¿™äº›å®é™…ä¸Šè¿˜æœ‰å…¶å®ƒå†…å®¹ï¼Œè¿˜æœ‰ä»€ä¹ˆå‘¢ï¼Ÿ è¿™å°±è¦ä»å¯æ‰§è¡Œç¨‹åºè¯´èµ·äº†ã€‚ ä»€ä¹ˆæ˜¯å¯æ‰§è¡Œç¨‹åºå‘¢ï¼Ÿåœ¨Windowsä¸­å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„exeæ–‡ä»¶ï¼Œåœ¨Linuxä¸–ç•Œä¸­å°±æ˜¯ELFæ–‡ä»¶ï¼Œè¿™äº›å¯ä»¥è¢«æ“ä½œç³»ç»Ÿç›´æ¥è¿è¡Œçš„ç¨‹åºå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å¯æ‰§è¡Œç¨‹åºã€‚ é‚£ä¹ˆå¯æ‰§è¡Œç¨‹åºæ˜¯æ€ä¹ˆæ¥çš„å‘¢ï¼Ÿ æœ‰çš„åŒå­¦å¯èƒ½ä¼šè¯´ï¼ŒåºŸè¯ï¼Œä¸å°±æ˜¯ç¼–è¯‘å™¨ç”Ÿæˆçš„å—ï¼Ÿ å®é™…ä¸Šè¿™ä¸ªç­”æ¡ˆåªç­”å¯¹äº†ä¸€åŠã€‚ å‡è®¾æˆ‘ä»¬çš„é¡¹ç›®æ¯”è¾ƒç®€å•åªæœ‰å‡ ä¸ªæºç æ–‡ä»¶ï¼Œç¼–è¯‘å™¨æ˜¯æ€ä¹ˆæŠŠè¿™å‡ ä¸ªæºä»£ç æ–‡ä»¶è½¬æ¢ä¸ºæœ€ç»ˆçš„ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åºå‘¢ï¼Ÿ åŸæ¥ï¼Œç¼–è¯‘å™¨åœ¨å°†å¯æ‰§è¡Œç¨‹åºç¿»è¯‘æˆæœºå™¨æŒ‡ä»¤åï¼Œæ¥ä¸‹æ¥è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„æ­¥éª¤ï¼Œè¿™å°±æ˜¯é“¾æ¥ï¼Œé“¾æ¥å®Œæˆåç”Ÿæˆçš„æ‰æ˜¯å¯æ‰§è¡Œç¨‹åºã€‚ å®Œæˆé“¾æ¥è¿™ä¸€è¿‡ç¨‹çš„å°±æ˜¯é“¾æ¥å™¨ã€‚ å…¶ä¸­é“¾æ¥å™¨å¯ä»¥æœ‰ä¸¤ç§é“¾æ¥æ–¹å¼ï¼Œè¿™å°±æ˜¯é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥ã€‚ é™æ€é“¾æ¥çš„æ„æ€æ˜¯è¯´æŠŠæ‰€æœ‰çš„æœºå™¨æŒ‡ä»¤ä¸€è‚¡è„‘å…¨éƒ¨æ‰“åŒ…åˆ°å¯æ‰§è¡Œç¨‹åºä¸­ï¼ŒåŠ¨æ€é“¾æ¥çš„æ„æ€æ˜¯æˆ‘ä»¬ä¸æŠŠåŠ¨æ€é“¾æ¥çš„éƒ¨åˆ†æ‰“åŒ…åˆ°å¯æ‰§è¡Œç¨‹åºï¼Œè€Œæ˜¯åœ¨å¯æ‰§è¡Œç¨‹åºè¿è¡Œèµ·æ¥åå»å†…å­˜ä¸­æ‰¾åŠ¨æ€é“¾æ¥çš„é‚£éƒ¨åˆ†ä»£ç ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„é™æ€é“¾æ¥å’ŒåŠ¨æ€é“¾æ¥ã€‚ åŠ¨æ€é“¾æ¥ä¸€ä¸ªæ˜¾è€Œæ˜“è§çš„å¥½å¤„å°±æ˜¯å¯æ‰§è¡Œç¨‹åºçš„å¤§å°ä¼šå¾ˆå°ï¼Œå°±åƒæˆ‘ä»¬åœ¨Windowsä¸‹çœ‹ä¸€ä¸ªexeæ–‡ä»¶å¯èƒ½å¾ˆå°ï¼Œé‚£ä¹ˆè¯¥exeå¾ˆå¯èƒ½æ˜¯åŠ¨æ€é“¾æ¥çš„æ–¹å¼ç”Ÿæˆçš„ã€‚ è€ŒåŠ¨æ€é“¾æ¥çš„éƒ¨åˆ†ç”Ÿæˆçš„åº“å°±æ˜¯æˆ‘ä»¬ç†Ÿæ‚‰çš„åŠ¨æ€é“¾æ¥åº“ï¼Œåœ¨Windowsä¸‹æ˜¯ä»¥DLLç»“å°¾çš„æ–‡ä»¶ï¼Œåœ¨Linuxä¸‹æ˜¯ä»¥soç»“å°¾çš„æ–‡ä»¶ã€‚ è¯´äº†è¿™ä¹ˆå¤šï¼Œè¿™å’Œçº¿ç¨‹å…±äº«èµ„æºæœ‰ä»€ä¹ˆå…³ç³»å‘¢ï¼Ÿ åŸæ¥å¦‚æœä¸€ä¸ªç¨‹åºæ˜¯åŠ¨æ€é“¾æ¥ç”Ÿæˆçš„ï¼Œé‚£ä¹ˆå…¶åœ°å€ç©ºé—´ä¸­æœ‰ä¸€éƒ¨åˆ†åŒ…å«çš„å°±æ˜¯åŠ¨æ€é“¾æ¥åº“ï¼Œå¦åˆ™ç¨‹åºå°±è¿è¡Œä¸èµ·æ¥äº†ï¼Œè¿™ä¸€éƒ¨åˆ†çš„åœ°å€ç©ºé—´ä¹Ÿæ˜¯è¢«æ‰€æœ‰çº¿ç¨‹æ‰€å…±äº«çš„ã€‚ ä¹Ÿå°±æ˜¯è¯´è¿›ç¨‹ä¸­çš„æ‰€æœ‰çº¿ç¨‹éƒ½å¯ä»¥ä½¿ç”¨åŠ¨æ€é“¾æ¥åº“ä¸­çš„ä»£ç  ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:7:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç¼˜èµ· åœ¨äººç¾¤ä¸­ æˆ‘çœ‹è§ä½ "],"content":"æ–‡ä»¶ æœ€åï¼Œå¦‚æœç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ‰“å¼€äº†ä¸€äº›æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿›ç¨‹åœ°å€ç©ºé—´ä¸­è¿˜ä¿å­˜æœ‰æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯ï¼Œè¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ä¹Ÿå¯ä»¥è¢«æ‰€æœ‰çš„çº¿ç¨‹ä½¿ç”¨ï¼Œè¿™ä¹Ÿå±äºçº¿ç¨‹é—´çš„å…±äº«èµ„æº ","date":"2023-02-10","objectID":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/:8:0","tags":["çº¿ç¨‹","è¿›ç¨‹"],"title":"çº¿ç¨‹å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æº","uri":"/%E7%BC%98%E8%B5%B7-%E7%BA%BF%E7%A8%8B%E5%88%B0%E5%BA%95%E5%85%B1%E4%BA%AB%E4%BA%86%E9%82%A3%E4%BA%9B%E8%BF%9B%E7%A8%8B%E8%B5%84%E6%BA%90/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP\u0026UDP","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP/UDP ä¼ è¾“å±‚ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:0:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ä¼ è¾“å±‚çš„å®šä¹‰ ä¼ è¾“å±‚æ˜¯ç¬¬ä¸€æ¬¡åœ¨ç«¯å¯¹ç«¯ä¹Ÿå°±æ˜¯ä¸»æœºå¯¹ä¸»æœºçš„ä¸€å±‚ ä¸“é—¨è´Ÿè´£å¤„ç†ä¸Šå±‚çš„æ•°æ® è´Ÿè´£å¯é ä¸å¯é çš„ä¼ è¾“ ä¼ è¾“å±‚ä¸‹å±‚æ˜¯ä½¿ç”¨ mac å’Œ ip åœ°å€æ¥å¯»æ‰¾åˆ°ç‰¹å®šä¸»æœº ä½†æ˜¯å…‰å‡­ mac ip å¯ä¸å¤Ÿ,è¿˜è¦éœ€è¦ç«¯å£, ä¹Ÿæ˜¯åœ¨è¿™ä¸€å±‚ æœ‰äº†ç«¯å£çš„æ¦‚å¿µ è¿™ä¸€å±‚çš„æ•°æ®å•ä½ç§°ä¸ºæ•°æ®æ®µ TCP ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:1:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP æ¦‚å¿µ \u0026 æµæ§åˆ¶ TCPæ˜¯ é¢å‘æœ‰é“¾æ¥ åè®®, å› ä¸ºä»–æ˜¯ æµæ§åˆ¶ï¼Œä¹Ÿè¢«ç§°ä½œæµå¼åè®® æµæ§åˆ¶ï¼š æ¥æ”¶ç«¯å‘Šè¯‰å‘é€ç«¯ æˆ‘è¿™è¾¹å¯ä»¥æ¥æ”¶å¤šå°‘æ•°æ® å‘é€ç«¯ä¹Ÿè·Ÿæ¥æ”¶ç«¯ç¡®è®¤å°‘æ•°æ® å–æœ€å°å€¼ å°†æ•°æ®åˆ‡å‰² TCPæ˜¯å¯é åè®® ä»–æœ‰ä¸€ç³»åˆ—çš„æ–¹æ³•æ¥å®ç°å¯é æ€§ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:2:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP åºåˆ—å· \u0026 åº”ç­”æœºåˆ¶ å¼•å‡ºï¼š TCPæ˜¯ä¸€ä¸ªå¯é åè®® æ‰€ä»¥TCPéœ€è¦å„ç§æ–¹æ³•æ¥ä¿è¯ä»–çš„å¯é æ€§ è§£å†³ï¼š å‘é€ç«¯å‘é€æ•°æ®å æ¥æ”¶ç«¯æ¥æ”¶æˆåŠŸ ä¼šå‘é€ä¸€ä¸ªACKåº”ç­” ç¼ºç‚¹ ä¸‡ä¸€ACKå‘é€å¤±è´¥ å‘é€ç«¯å°±ä¼šä¸€ç›´å‘é€æ•°æ® è¿™æ˜¯ä¸€ä¸ªé—®é¢˜ ä¼˜åŒ–ï¼š å¼•å…¥ åºåˆ—å· æœºåˆ¶ ä¸ºæ¯ä¸€ä¸ªæ•°æ®éƒ½æ‰“ä¸Šä¸€ä¸ªåºåˆ—å· ACKä¹Ÿç®—ä¸€ä¸ªåºåˆ—å· æ¥æ”¶ç«¯æ”¶åˆ°æ•°æ®å, å°±ä¼šåˆ†æå¥¹ä¸‹ä¸€æ¬¡åº”è¯¥æ¥æ”¶æ•°æ®çš„åºåˆ—å· ç„¶åä»¥ACKåº”ç­”å‡ºå» ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:3:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP é‡å‘è¶…æ—¶ RTT ä¸ RTO RTT å’Œ RTOçš„æ¦‚å¿µ TCPä½œä¸ºä¸€ä¸ªé¢å‘æœ‰è¿æ¥å‹çš„åè®®ï¼Œéœ€è¦ä¿è¯å…¶å¯é æ€§ æ‰€ä»¥å…¶å†…éƒ¨å®ç°äº†ä¸€ä¸ªé‡ä¼ è®¡æ—¶å™¨ æ¯å‘é€ä¸€ä¸ªæ•°æ®åŒ…ï¼Œå°±ç»™è¿™ä¸ªæ•°æ®è®¾ç½®ä¸€ä¸ªé‡ä¼ è®¡æ—¶å™¨, å¦‚æœåœ¨è®¡æ—¶å™¨è¶…æ—¶ä¹‹å‰æ”¶åˆ°äº†é’ˆå¯¹è¿™ä¸ªæ•°æ®åŒ…çš„ackï¼Œå°±å–æ¶ˆè¿™ä¸ªè®¡æ—¶å™¨ã€‚å¦‚æœæ²¡æœ‰æ”¶åˆ°ï¼Œåˆ™å¼€å§‹å‘èµ·é‡ä¼ ã€‚è®¡æ—¶å™¨è¶…æ—¶çš„æ—¶é—´è¢«ç§°ä¸ºRTOï¼Œè¿™ä¸ªæ—¶é—´çš„ç¡®å®šå–å†³äºRTT å…³äºä¸¤è€…è¯¦ç»†çš„è§£é‡Š RTT(Round Trip Time): ä¸€ä¸ªè¿æ¥çš„å¾€è¿”æ—¶é—´ï¼Œå³æ•°æ®å‘é€æ—¶åˆ»åˆ°æ¥æ”¶åˆ°ç¡®è®¤çš„æ—¶åˆ»çš„å·®å€¼ RTO(Retransmission Time Out): é‡ä¼ è¶…æ—¶æ—¶é—´ï¼Œå³ä»æ•°æ®å‘é€æ—¶åˆ»ç®—èµ·ï¼Œè¶…è¿‡è¿™ä¸ªæ—¶é—´ä¾¿æ‰§è¡Œé‡ä¼  RTTçš„æµ‹é‡ æ¯å‘é€ä¸€ä¸ªåˆ†ç»„ TCPå°±ä¼šå¯¹å…¶é‡‡æ ·ï¼Œè¿™ä¸ªé‡‡æ ·åªä¼šå¯¹åŒä¸€æ—¶é—´çš„æ•°æ®æ®µè¿›è¡Œé‡‡æ ·, éšåç”¨è¿™ä¸ªé‡‡æ ·è®°å½•å½“ä½œRTT é‡‡æ ·æ–¹æ³•ä¸€èˆ¬æœ‰ä¸¤ç§ é‡‡ç”¨æ—¶é—´æˆ³ï¼š å‘é€ä¸€ä¸ªæ•°æ®æ®µæ—¶åœ¨TCPé€‰é¡¹ä¸­è®°å½•ä¸‹æ—¶é—´ æ”¶åˆ°æ•°æ®æ®µå†è®°å½•ä¸‹æ—¶é—´ éšåè®¡ç®—å‡ºå·®å€¼ å°±æŠŠè¿™ä¸ªå·®å€¼ä½œä¸ºRTT ä½†æ˜¯éœ€è¦å‘é€ç«¯å’Œæ¥æ”¶ç«¯éƒ½éœ€è¦æ”¯æŒè¿™ä¸ªé€‰é¡¹ é‡ä¼ é˜Ÿåˆ—ä¸­æ•°æ®åŒ…çš„TCPæ§åˆ¶å—ï¼š æ¯ä¸ªæ•°æ®åŒ…ç¬¬ä¸€æ¬¡å‘é€å‡ºå»åéƒ½ä¼šæ”¾åˆ°é‡ä¼ é˜Ÿåˆ—ä¸­ï¼Œæ•°æ®åŒ…ä¸­çš„TCPæ§åˆ¶å—åŒ…å«ç€ä¸€ä¸ªå˜é‡ï¼Œtcp_skb_cb-\u003ewhenï¼Œè®°å½•äº†è¯¥æ•°æ®åŒ…çš„ç¬¬ä¸€æ¬¡å‘é€æ—¶é—´ã€‚å¦‚æœæ²¡æœ‰æ—¶é—´æˆ³é€‰é¡¹ï¼Œé‚£ä¹ˆRTTå°±ç­‰äºå½“å‰æ—¶é—´å’Œwhençš„å·®å€¼ RTOçš„è®¡ç®— ä¸ºäº†é¿å…å•æ¬¡RTTæ³¢åŠ¨ï¼Œè®¡ç®—RTOæ—¶æ–°å¼•å…¥äº†å˜é‡SRTTï¼Œè¡¨ç¤ºæ›´åŠ å¹³æ»‘çš„RTTæ•°å€¼ï¼Œå®ƒçš„è®¡ç®—æ–¹æ³•ï¼š SRTT = x(SRTT) + (1 - x)RTT; // xè¢«ç§°ä¸ºå¹³æ»‘å› å­ï¼Œä¸€èˆ¬å»ºè®®è®¾ç½®åœ¨[0.8, 0.9]ï¼Œæ„æ€æ˜¯SRTTå€¼ç™¾åˆ†ä¹‹å…«åæ¥è‡ªäºä¹‹å‰çš„å€¼ï¼Œç™¾åˆ†ä¹‹äºŒåæ¥è‡ªäºå½“å‰å€¼ã€‚ è®¡ç®—RTOçš„æ–¹æ³•ä¸ºï¼š RTO = min(ubound, max(lbound, y(SRTT))); // y æ˜¯æ—¶å»¶ç¦»æ•£å› å­ï¼Œæ¨èå€¼ä¸º[1.3, 2.0]ï¼Œuboundæ˜¯RTOçš„ä¸Šè¾¹ç•Œï¼Œlboundæ˜¯RTOçš„ä¸‹è¾¹ç•Œ ç®—æ³•çš„ç¼ºç‚¹ åœ¨RTTæ³¢åŠ¨è¾ƒå¤§æ—¶ï¼ŒRTOä¸èƒ½æ˜æ˜¾é€‚åº”ç½‘ç»œå˜åŒ– æ ‡å‡†æ–¹æ³• æ ‡å‡†æ–¹æ³•å¼•å…¥äº†å¹³å‡åå·®çš„æ¦‚å¿µï¼Œå®ƒç±»ä¼¼äºç»Ÿè®¡å­¦é‡Œé¢çš„æ–¹å·®ï¼Œä½†æ˜¯å› ä¸ºæ–¹å·®çš„è®¡ç®—è¿‡ç¨‹ä»£ä»·è¾ƒå¤§ï¼Œå¯¹äºå¿«é€ŸTCPæ¥è¯´ä¸å¤ªé€‚åˆã€‚å‡è®¾rttçš„å€¼ä¸ºMï¼ŒRTOçš„è®¡ç®—æ–¹å¼ä¸ºï¼š srtt = (1 - g)srtt + g(M); rttval = (1 - h)rttval + h(|M - rttval|); RTO = srtt + 4(rttval); /* å…¶ä¸­`g`è®¾ç½®ä¸º1/8ï¼Œ`h`è®¾ç½®ä¸º`1/4` å¯¹srttè€Œè¨€ï¼Œå®ƒæœ‰1/8å–å†³äºå½“å‰å€¼ï¼Œ7/8å–å†³äºç°æœ‰å€¼ å½“RTTå˜åŒ–æ—¶ï¼Œåå·®å¢é‡è¶Šå¤§ï¼ŒRTOçš„å¢é‡ä¹Ÿè¶Šå¤§ */ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:4:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP ä¸‰æ¬¡æ¡æ‰‹ ç¬¬ä¸€æ¬¡æ¡æ‰‹ SYN = 1ï¼Œseq = x å®¢æˆ·ç«¯å‘é€ä¸€ä¸ª SYNæ ‡å¿—ä¸º1ï¼ŒæŒ‡æ˜å®¢æˆ·ç«¯æ‰“ç®—è¿æ¥çš„æœåŠ¡å™¨ç«¯å£ï¼Œä»¥åŠåˆå§‹çš„åºåˆ—å·ä¸ºéšæœºç”Ÿæˆçš„ x çš„ä¸€ä¸ªTCPåŒ… å‘é€å®Œæˆåï¼Œå®¢æˆ·ç«¯è¿›å…¥ SYN_SENDçŠ¶æ€ ç¬¬äºŒæ¬¡æ¡æ‰‹ SYN = 1ï¼ŒACK = 1ï¼Œseq = yï¼ŒACKNum = x+1 æœåŠ¡ç«¯å‘å› SYN=1 ACK=1ï¼Œå¹¶ä¸”ACKä¹Ÿç®—ä¸€ä¸ªåºåˆ—å·+1 æ‰€ä»¥ACKNumæ˜¯ x+1ï¼Œéšåå†æŠŠè‡ªå·±è¦å‘é€çš„æ•°æ®æ ‡ä¸Šåºåˆ—å·ï¼Œåºåˆ—å·å˜æˆäº† y çš„ä¸€ä¸ªTCPåŒ… æœåŠ¡ç«¯å‘é€å®Œæ¯•å è¿›å…¥ SYN_RECVçŠ¶æ€ ç¬¬ä¸‰æ¬¡æ¡æ‰‹ ACK = 1ï¼ŒACKNum = y+1 å®¢æˆ·ç«¯å†æ¬¡å‘é€ç¡®è®¤åŒ…(ACK)ï¼ŒSYN æ ‡å¿—ä½ä¸º0ï¼ŒACK æ ‡å¿—ä½ä¸º1ï¼Œå¹¶ä¸”æŠŠæœåŠ¡å™¨å‘æ¥ ACK çš„åºå·å­—æ®µ+1ï¼Œæ”¾åœ¨ç¡®å®šå­—æ®µä¸­å‘é€ç»™å¯¹æ–¹ï¼Œå¹¶ä¸”åœ¨æ•°æ®æ®µæ”¾å†™ISNçš„+1 å‘é€å®Œæ¯• å®¢æˆ·ç«¯è¿›å…¥ ESTABLISHçŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ¥æ”¶åˆ°è¿™ä¸ªåŒ…å ä¹Ÿè¿›å…¥ESTABLISHçŠ¶æ€ï¼ŒTCPæ¡æ‰‹ç»“æŸ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:5:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP å››æ¬¡æŒ¥æ‰‹ ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ FIN = 1, seq = x å‡è®¾å®¢æˆ·ç«¯æƒ³è¦å…³é—­è¿æ¥ï¼Œå®¢æˆ·ç«¯å‘é€ä¸€ä¸ªFINæ ‡å¿—ä½ç½®ä¸º1çš„åŒ…ï¼Œè¡¨ç¤ºè‡ªå·±åƒæ–­å¼€è¿æ¥ æ²¡æœ‰æ•°æ®å¯ä»¥å‘é€äº†ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥æ¥æ”¶æ•°æ® å‘é€å®Œæ¯•åï¼Œå®¢æˆ·ç«¯è¿›å…¥ FIN_WAIT_1 çŠ¶æ€ ç¬¬äºŒæ¬¡æŒ¥æ‰‹ ACK = 1 ACKNum = x + 1 æœåŠ¡ç«¯æ¥å—åˆ°äº†å®¢æˆ·ç«¯æƒ³è¦æ–­å¼€çš„é“¾æ¥çš„è¯·æ±‚ï¼Œä¾¿å‘å‡ºäº†ä¸€ä¸ªACKæ ‡å¿—ä½ä¸º1çš„TCPåŒ…ï¼Œè¡¨æ˜è‡ªå·±æ¥æ”¶åˆ°äº†è¯·æ±‚ï¼Œä½†è¿˜æ²¡æœ‰å‡†å¤‡å¥½å…³é—­è¿æ¥ å‘é€å®Œæ¯•åï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥ CLOSE_WAIT çŠ¶æ€ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°äº†è¿™ä¸ªç¡®è®¤åŒ…ä¹‹åï¼Œè¿›å…¥ FIN_WAIT_2çš„çŠ¶æ€ï¼Œç­‰å¾…æœåŠ¡ç«¯å…³é—­è¿æ¥ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ FIN=1ï¼Œseq=y æœåŠ¡å™¨ç«¯å‡†å¤‡å¥½å…³é—­è¿æ¥æ—¶ï¼Œå‘å®¢æˆ·ç«¯å‘é€ç»“æŸè¿æ¥è¯·æ±‚ï¼ŒFIN ç½®ä¸º1 å‘é€å®Œæ¯•åï¼ŒæœåŠ¡å™¨ç«¯è¿›å…¥ LAST_ACK çŠ¶æ€ï¼Œç­‰å¾…æ¥è‡ªå®¢æˆ·ç«¯çš„æœ€åä¸€ä¸ªACK ç¬¬å››æ¬¡æŒ¥æ‰‹ ACK = 1ï¼ŒACKNum = y + 1 å®¢æˆ·ç«¯æ¥æ”¶åˆ°æ¥è‡ªæœåŠ¡å™¨ç«¯çš„å…³é—­è¯·æ±‚ï¼Œå‘é€ä¸€ä¸ªç¡®è®¤åŒ… å®¢æˆ·ç«¯å‘é€å®ŒåŒ…å¹¶è¿›å…¥ TIME_WAIT çŠ¶æ€ï¼Œç­‰å¾…å¯èƒ½å‡ºç°çš„è¦æ±‚é‡ä¼ çš„ACKåŒ… æœåŠ¡ç«¯æ¥æ”¶åˆ°è¿™ä¸ªç¡®è®¤åŒ…åï¼Œå…³é—­è¿æ¥ï¼Œè¿›å…¥CLOSEDçŠ¶æ€ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:6:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ä¸ºä»€ä¹ˆéœ€è¦3æ¬¡æ¡æ‰‹ æŒ¥æ‰‹éœ€è¦4æ¬¡ 3æ¬¡æ¡æ‰‹ç›®çš„æ˜¯è¦ç¡®å®šå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯é€šä¿¡ä¹Ÿå°±æ˜¯ä¸¤è¾¹çš„â€œæ”¶â€â€œå‘â€åŠŸèƒ½æ˜¯å¦æ­£å¸¸ ç¬¬ä¸€æ¬¡æ¡æ‰‹: å®¢æˆ·ç«¯å‘é€ç½‘ç»œåŒ… æœåŠ¡å™¨æ”¶åˆ°äº† è¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯å°±èƒ½ç¡®å®šå®¢æˆ·ç«¯çš„\"å‘\" å’Œ æœåŠ¡ç«¯çš„ â€œæ”¶â€ éƒ½æ²¡æœ‰é—®é¢˜ ç¬¬äºŒæ¬¡æ¡æ‰‹: æœåŠ¡ç«¯å‘é€ è¿™ä¸ªæ—¶å€™å®¢æˆ·ç«¯å°±èƒ½ç¡®å®š å®¢æˆ·ç«¯çš„ â€œå‘æ”¶â€ æœåŠ¡ç«¯çš„ â€œæ”¶å‘â€ æ˜¯æ²¡æœ‰é—®é¢˜çš„ ä½†æ˜¯æœåŠ¡ç«¯è¿˜æ²¡æœ‰ç¡®å®š ç¬¬ä¸‰æ¬¡æ¡æ‰‹: å®¢æˆ·ç«¯å‘åŒ… è¿™ä¸ªæ—¶å€™æœåŠ¡ç«¯å°±èƒ½ç¡®å®š æœåŠ¡ç«¯çš„ â€œå‘æ”¶â€ å®¢æˆ·ç«¯çš„ â€œæ”¶å‘â€ æ˜¯æ²¡æœ‰çš„é—®é¢˜çš„ æ‰€ä»¥ç»¼ä¸Šæ‰€è¿° ä¸¤æ¬¡æ¡æ‰‹æ˜¯æ²¡æœ‰åŠæ³•ç¡®å®š åŒæ–¹çš„é€šä¿¡èƒ½åŠ›æ˜¯å¦æ­£å¸¸ è‡³å°‘ä¹Ÿè¦ä¸‰æ¬¡ 4æ¬¡æŒ¥æ‰‹ç›®çš„æ˜¯è¦æ•°æ®æ¥æ”¶å®Œæ¯• ä¸èƒ½åœ¨æ•°æ®æ²¡æœ‰æ¥å—å®Œå…¨å°±ç›´æ¥å…³é—­äº†è¿æ¥TCPè¿æ¥æ˜¯åŒå‘ä¼ è¾“çš„å¯¹ç­‰çš„æ¨¡å¼, å°±æ˜¯è¯´åŒæ–¹éƒ½å¯ä»¥åŒæ—¶å‘å¯¹æ–¹å‘é€æˆ–æ¥å—æ•°æ® ç¬¬ä¸€æ¬¡æŒ¥æ‰‹: å½“æœ‰ä¸€æ–¹è¦å…³é—­è¿æ¥æ—¶ï¼Œä¼šå‘é€æŒ‡ä»¤å‘ŠçŸ¥å¯¹æ–¹ æˆ‘ä»¬è¦closeè¿æ¥ ç¬¬äºŒæ¬¡æŒ¥æ‰‹: å¯¹æ–¹å›ä¸€ä¸ªackåº”ç­” æ­¤æ—¶ä¸€ä¸ªæ–¹å‘çš„è¿æ¥å…³é—­ ä½†æ˜¯ï¼å¦ä¸€ä¸ªæ–¹å‘ä»ç„¶å¯ä»¥ç»§ç»­ä¼ è¾“æ•°æ® ç­‰åˆ°æ•°æ®å‘é€å®Œ å°±è¿›è¡Œç¬¬ä¸‰æ¬¡æŒ¥æ‰‹ ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹: å‘é€FINæ®µ ç¬¬å››æ¬¡æŒ¥æ‰‹: å›ACKåº”ç­” ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:7:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP ä»¥æ®µä¸ºå•ä½å‘é€æ•°æ® ä»€ä¹ˆæ˜¯æ®µ åœ¨ä¸‰æ¬¡æ¡æ‰‹çš„æœŸé—´å‘é€ç«¯ä¼šå‘Šè¯‰æ¥å—ç«¯ æˆ‘ä¸€æ¬¡æ€§èƒ½å‘é€å¤šå°‘æ•°æ®æ¥å—ç«¯ä¹Ÿä¼šå‘Šè¯‰å‘é€ç«¯ æˆ‘ä¸€æ¬¡æ€§èƒ½æ¥å—å¤šå°‘æ•°æ®éšåå‘é€ç«¯å°±ä¼šæŠŠå…¨éƒ¨æ•°æ®åˆ‡å‰²ä¸ºæœ€å°å€¼ å‘é€å‡ºå» è¿™ä¸ªæœ€å°å€¼ä¸ºæ®µ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:8:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP çª—å£æ§åˆ¶ å¼•å‡º å½“æˆ‘ä»¬ä»¥æ®µä¸ºå•ä½ ä¸€æ¬¡å‘é€æ•°æ® éšååˆå¾—ç­‰å¾…ack è¿™æ ·åŒ…çš„å¾€è¿”æ•ˆç‡å¾ˆæ…¢ æ‰€ä»¥tcpé‡‡ç”¨äº†æ»‘åŠ¨çª—å£æ¥ä¼˜åŒ– ä»€ä¹ˆæ˜¯çª—å£æ§åˆ¶ æ»‘åŠ¨çª—å£å°±æ˜¯æˆ‘ä»¬è®¾ç½®çª—å£å€¼ åœ¨æ²¡è¶…å¤Ÿçª—å£å€¼çš„å‰æä¸‹ ä¸ç”¨ç­‰å¾…ackçš„åº”ç­” å°±å¯ä»¥å‘é€æ®µæ•°æ® ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:9:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP é‡å‘æ§åˆ¶ å¼•å‡º å½“æˆ‘ä»¬åˆ©ç”¨çª—å£æ¥å‘é€æ•°æ® å¦‚æœæœ‰æ•°æ®ä¸¢å¤±æ€ä¹ˆåŠ ACKä¸¢å¤± å¦‚æœ‰å‡ ä¸ªackåº”ç­”ä¸¢å¤±æ˜¯æ²¡æœ‰å…³ç³»çš„ å› ä¸ºå‰©ä¸‹çš„ackä¼šåˆ°è¾¾å‘é€ç«¯ æ‰€ä»¥ä¸€å¯¹æ¯”å•ä¸ªæ®µå‘é€çš„æ•ˆç‡ çª—å£çš„æ€§èƒ½è¿˜æ˜¯è›®é«˜çš„ æ®µä¸¢å¤± å¦‚æœæ®µæ•°æ®ä¸¢å¤±äº† æ¥å—ç«¯ä¼šä¸€ç›´è¿”å›ç›¸å¯¹åº”çš„åºåˆ—å·çš„ackåº”ç­” å¦‚æœå‘é€ç«¯ä¸€ç›´æ¥å—åŒæ ·çš„ackä¸‰æ¬¡ å°±ä¼šè¿›è¡Œé‡å‘ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:10:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP æ‹¥å¡çª—å£ å¼•å‡º è®¡ç®—æœºç½‘ç»œéƒ½å¤„åœ¨ä¸€ä¸ªå…±äº«çš„ç¯å¢ƒã€‚ å› æ­¤ä¹Ÿæœ‰å¯èƒ½ä¼šå› ä¸ºå…¶ä»–ä¸»æœºä¹‹é—´çš„é€šä¿¡ä¼šé€ æˆç½‘ç»œæ‹¥å µã€‚å¦‚æœåœ¨ç½‘ç»œæ‹¥å µçš„æ—¶å€™ å‘é€ä¸€ä¸ªè¾ƒå¤§é‡çš„æ•°æ®åŒ… ä¼šå¯èƒ½å¯¼è‡´æ•´ä¸ªç½‘ç»œçš„ç˜«ç—ª ä»€ä¹ˆæ˜¯æ‹¥å¡çª—å£ TCPåœ¨é€šä¿¡ä¸€å¼€å§‹çš„æ—¶å€™ä¼šé€šè¿‡ä¸€ä¸ªå«åšæ…¢å¯åŠ¨çš„ç®—æ³•å¾—å‡ºçš„æ•°å€¼ï¼Œå¯¹å‘é€æ•°æ®é‡è¿›è¡Œæ§åˆ¶ é¦–å…ˆï¼Œä¸ºäº†åœ¨å‘é€ç«¯è°ƒèŠ‚è¦å‘é€æ•°æ®çš„é‡,å®šä¹‰äº†ä¸€ä¸ªå«åš â€œæ‹¥å¡çª—å£â€ çš„æ¦‚å¿µ åœ¨æ…¢å¯åŠ¨çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªçª—å£è°ƒèŠ‚ä¸º1ä¸ªæ•°æ®æ®µå‘é€æ•°æ®ï¼Œéšåæ²¡æ”¶åˆ°ä¸€ä¸ªackå°±è¿›è¡Œ+=1 åœ¨å‘é€æ•°æ®çš„æ—¶å€™ ä¹Ÿä¼šå°†å…¶æ‹¥å¡çª—å£çš„å¤§å°å’Œæ¥å—ç«¯çš„çª—å£å¯¹æ¯” å–å…¶æœ€å°å€¼ ç„¶åå‘é€æ¯”è¿™ä¸ªæœ€å°å€¼è¿˜å°ä¸€ç‚¹çš„æ•°æ® ä¸Šè¿°è§£å†³åŠæ³•ä¼šå‡ºç°çš„é—®é¢˜ éšç€åŒ…çš„å¾€è¿”ï¼Œæ‹¥å¡çª—å£ä¹Ÿä¼šä»¥ 1 2 4 ç­‰æŒ‡æ•°å‡½æ•°å¢é•¿ï¼Œæ‹¥å µçŠ¶å†µæ¿€å¢ç”šè‡³å¯¼è‡´æ‹¥å¡çš„å‘ç”Ÿ æ…¢å¯åŠ¨é˜ˆå€¼ä»–ä¹Ÿå°±æ¥äº† æ…¢å¯åŠ¨é˜ˆå€¼ åªè¦æ‹¥å¡çª—å£çš„å€¼è¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œåˆ™æ¯ä¸€æ¬¡æ”¶åˆ°ackï¼Œåªå…è®¸ä¸‹é¢è¿™ç§æ¯”ä¾‹æ”¾å¤§æ‹¥å¡çª—å£ 1ä¸ªæ•°æ®æ®µçš„å­—èŠ‚æ•° / æ‹¥å¡çª—å£(å­—èŠ‚) X 1ä¸ªæ•°æ®æ®µå­—èŠ‚æ•° ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:11:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP è¿æ¥çŠ¶æ€ CLOSED: åˆå§‹çŠ¶æ€ LISTEN: æœåŠ¡å™¨å¤„äºç›‘å¬çŠ¶æ€ SYN_SEND: å®¢æˆ·ç«¯socketæ‰§è¡ŒCONNECTè¿æ¥ï¼Œå‘é€synåŒ… è¿›å…¥æ­¤çŠ¶æ€ SYN_RECV: æœåŠ¡ç«¯æ”¶åˆ°SYNåŒ…å¹¶å‘é€æœåŠ¡ç«¯SYNåŒ…ï¼Œè¿›å…¥æ­¤çŠ¶æ€ ESTABLISH: è¡¨ç¤ºè¿æ¥å»ºç«‹ã€‚å®¢æˆ·ç«¯å‘é€äº†æœ€åä¸€ä¸ªACKåŒ…åè¿›å…¥æ­¤çŠ¶æ€ï¼ŒæœåŠ¡ç«¯æ¥ æ”¶åˆ°ACKåŒ…åè¿›å…¥æ­¤çŠ¶æ€ FIN_WAIT_1: ç»ˆæ­¢è¿æ¥çš„ä¸€æ–¹å‘é€äº†FINæŠ¥æ–‡åè¿›å…¥,ç­‰å¾…å¯¹æ–¹FIN CLOSE_WAIT: å‡è®¾æœåŠ¡å™¨)æ¥æ”¶åˆ°å®¢æˆ·æœºFINåŒ…ä¹‹åç­‰å¾…å…³é—­çš„é˜¶æ®µã€‚åœ¨æ¥æ”¶åˆ° å¯¹æ–¹çš„FINåŒ…ä¹‹åï¼Œè‡ªç„¶æ˜¯éœ€è¦ç«‹å³å›å¤ACKåŒ…çš„ï¼Œè¡¨ç¤ºå·²ç»çŸ¥é“æ–­å¼€è¯·æ±‚ã€‚ä½†æ˜¯æœ¬ æ–¹æ˜¯å¦ç«‹å³æ–­å¼€è¿æ¥(å‘é€FINåŒ…)å–å†³äºæ˜¯å¦è¿˜æœ‰æ•°æ®éœ€è¦å‘é€ç»™å®¢æˆ·ç«¯ï¼Œè‹¥æœ‰ï¼Œ åˆ™åœ¨å‘é€FINåŒ…ä¹‹å‰å‡ä¸ºæ­¤çŠ¶æ€ FIN_WAIT_2: æ­¤æ—¶æ˜¯åŠè¿æ¥çŠ¶æ€, æ—¢æœ‰ä¸€æ–¹è¦æ±‚å…³é—­è¿æ¥ï¼Œç­‰å¾…å¦ä¸€æ–¹å…³é—­ï¼Œå®¢æˆ·ç«¯æ¥æ”¶åˆ°æœåŠ¡ç«¯çš„ACKåŒ…ï¼Œä½†å¹¶æ²¡æœ‰æ¥æ”¶åˆ°æœåŠ¡ç«¯çš„FINåŒ…ï¼Œè¿›å…¥FIN_WAIT_2çŠ¶æ€ LAST_ACK: æœåŠ¡ç«¯å‘åŠ¨æœ€åçš„FINåŒ…ï¼Œç­‰å¾…æœ€åçš„å®¢æˆ·ç«¯ACKå“åº”ï¼Œè¿›å…¥æ­¤çŠ¶æ€ã€‚ TIME_WAIT: å®¢æˆ·ç«¯æ”¶åˆ°æœåŠ¡ç«¯çš„FINåŒ…ï¼Œå¹¶ç«‹å³å‘å‡ºACKåŒ…åšæœ€åçš„ç¡®è®¤ï¼Œåœ¨æ­¤ä¹‹ åçš„2MSLæ—¶é—´ç§°ä¸ºTIME_WAITçŠ¶æ€ã€‚ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:12:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"TCP é¦–éƒ¨æ ¼å¼ æºç«¯å£å· å‘é€æ–¹çš„åº”ç”¨ç«¯å£ å 16ä½ ç›®æ ‡ç«¯å£å· æ¥å—ç«¯çš„åº”ç”¨ç«¯å£ å 16ä½ åºåˆ—å· å 32ä½ å‘é€ç«¯ä¼šåœ¨å‘é€æ•°æ®çš„æ¯ä¸ªå­—èŠ‚ä¸Šæ ‡ä¸Šåºå· ä¸ä¸€å®šæ¯ä¸€ä¸ªåºåˆ—å·éƒ½æ˜¯0, 1å¼€å§‹çš„ è¿™ä¸ªåºåˆ—å·æ˜¯éšæœºçš„ ä¼šåœ¨synåŒ…ä¹Ÿå°±æ˜¯ç¬¬ä¸€æ¬¡æ¡æ‰‹ å‘Šè¯‰æ¥å—ç«¯ synåŒ… \u0026 finåŒ… \u0026 ACK éƒ½æ˜¯ä¸€ä¸ªå­—èŠ‚ ç¡®è®¤åº”ç­”å· å 32ä½ æ”¶åˆ°æ•°æ®å ä¼šè¿”å›ä¸‹ä¸€æ¬¡åº”è¯¥æ”¶åˆ°çš„åºåˆ—å·ä¿¡æ¯ä½œä¸ºç¡®è®¤åº”ç­” è¿™ä¸ªç¡®è®¤åº”ç­”ä¹Ÿå°±ä»£è¡¨ç€ å‰é¢çš„æ•°æ®æˆ‘éƒ½æ”¶åˆ°äº†çš„æ„æ€ åç§»é‡ tcpé¦–éƒ¨é•¿åº¦ ä¿ç•™ å 4ä½ ä¸»è¦æ˜¯ä¸ºäº†ä»¥åæ‰©å±•ç”¨çš„ ä¸€èˆ¬éƒ½æ˜¯0 æ§åˆ¶ä½ å­—æ®µé•¿ä¸º8ä½, å½“å®ƒä»¬å¯¹åº”ä½ä¸Šçš„å€¼ä¸º1 å°±ä¼šæœ‰ç‰¹æ®Šä½œç”¨ ä¸‰æ¬¡æ¡æ‰‹, å››æ¬¡æŒ¥æ‰‹ ack è¯¥ä½ä¸º1æ—¶, ç¡®è®¤åº”ç­”çš„å­—æ®µå˜ä¸ºæœ‰æ•ˆ, tcpè§„å®šé™¤äº†æœ€å¼€å§‹çš„synåŒ…å¤–, å¿…é¡»ä¸º1 syn è¯¥ä½ä¸º1æ—¶, ä»£è¡¨å¸Œæœ›å»ºç«‹è¿æ¥, å¹¶ä¸”åºåˆ—å·ä¼šéšæœºç”Ÿæˆ fin è¯¥ä½ä¸º1æ—¶, ä»£è¡¨å¸Œæœ›æ–­å¼€è¿æ¥ è‹±è¯­å…¨ç§°(å…¶å®ä¸€å¼€å§‹ä½œè€…çœ‹é”™äº† ä»¥ä¸ºéƒ½æ˜¯på¼€å¤´ ç»“æœé˜´å·®é˜³é”™å‘ç°äº† ç„¶åå°±è®°ä½äº† å“ˆå“ˆ) =-= psh(push) è¯¥ä½ä¸º1æ—¶ï¼Œä»£è¡¨éœ€è¦ç›´æ¥å°†æ•°æ®ä¼ ç»™ä¸Šä¸€å±‚ / è¯¥ä½ä¸º0æ—¶ éœ€è¦å…ˆè¿›è¡Œç¼“å­˜åœ¨è¿›è¡Œä¼ é€ rst(reset) è¯¥ä½ä¸º1æ—¶ï¼Œä»£è¡¨tcpè¿æ¥å‡ºç°å¼‚å¸¸ å¿…é¡»å¼ºåˆ¶æ–­å¼€è¿æ¥ æ¯”å¦‚å¯¹æ–¹çªç„¶æ–­ç”µ ç´§æ€¥æŒ‡é’ˆç›¸å…³ URG è¯¥ä½ä¸º1æ—¶ï¼Œä»£è¡¨åŒ…ä¸­æœ‰éœ€è¦ç´§æ€¥å¤„ç†çš„æ•°æ® æ‹¥å¡çª—å£ cwr è¯¥ä½ä¸º1æ—¶ï¼Œåˆ™ä¼šé€šçŸ¥å¯¹æ–¹æ‹¥å¡çª—å£ç¼©å° ece è¯¥ä½ä¸º1æ—¶ï¼Œé€šçŸ¥å¯¹æ–¹ï¼Œä»å¯¹æ–¹åˆ°è¿™é‡Œçš„ç½‘ç»œæœ‰æ‹¥å¡ çª—å£å¤§å° é•¿ä¸º16ä½ ä»£è¡¨å‘é€æ•°æ®æœ€å¤šä¸èƒ½è¶…è¿‡è¿™ä¸ªçª—å£å¤§å° å¦‚æœçª—å£å¤§å°ä¸º0 åˆ™å°±æ˜¯ä»£è¡¨å¯ä»¥çª—å£æ¢æµ‹ å»å¯»æ‰¾æœ€æ–°çš„çª—å£å¤§å° æ ¡éªŒå’Œ ç´§æ€¥æŒ‡é’ˆ è¯¥å­—æ®µé•¿ä¸º16ä½, åªæœ‰åœ¨URGæ§åˆ¶ä½ä¸º1æ—¶æœ‰æ•ˆ æ•°æ®çš„é¦–ä½åˆ°ç´§æ€¥æŒ‡é’ˆæŒ‡å‘çš„ä½ç½® éƒ½æ˜¯ç´§æ€¥æ•°æ® æ€ä¹ˆå¤„ç†ç´§æ€¥æ•°æ® å°±æ˜¯åº”ç”¨å±‚è¦å®ç°çš„äº‹æƒ…, ä¸€èˆ¬åœ¨æš‚åœé€šä¿¡ æˆ–è€…ä¸­æ–­é€šä¿¡çš„æ—¶å€™ä½¿ç”¨ é€‰é¡¹ UDP ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:13:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"UDP æ¦‚å¿µ \u0026 ç”¨é€” UDP æ˜¯é¢å‘æ— è¿æ¥åè®® çˆ†å¼åè®® ä»–ä¸ä¼šå»ç®¡æ•°æ®åˆ°åº•æœ‰æ²¡æœ‰åˆ°è¾¾ æ‰€ä»¥æƒ³å•¥æ—¶å€™å‘æ•°æ®å°±å•¥æ—¶å€™å‘æ•°æ®ç»å¸¸ç”¨äºå¹¿æ’­ è§†é¢‘ éŸ³é¢‘ç­‰ ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:14:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"UDP é¦–éƒ¨æ ¼å¼ å› ä¸ºUDPç®€å• æ‰€ä»¥é¦–éƒ¨åªæœ‰ æºç«¯å£å· ç›®æ ‡ç«¯å£å· æ£€éªŒå’Œ åŒ…é•¿åº¦ å››ä¸ªæ•°æ® ","date":"2023-01-03","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/:15:0","tags":["TCP","UDP"],"title":"TCP\u0026UDP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-tcpudp/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IP","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IPåŠå…¶ç›¸å…³åè®® ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:0:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ç½‘ç»œå±‚ ç½‘ç»œå±‚ä»‹ç» IP(IPv4 IPv6) ç›¸å½“äºOSI7å±‚æ¨¡å‹ä¸­çš„ç¬¬ä¸‰å±‚-ç½‘ç»œå±‚ åœ¨è¿™ä¸€å±‚ IPå’ŒICMPæ˜¯ä¸»è§’ ç½‘ç»œå±‚çš„ä½œç”¨ å®ç°ç‚¹å¯¹ç‚¹é€šä¿¡ åœ¨ç¬¬äºŒå±‚ æ•°æ®é“¾è·¯å±‚ä¸­ æˆ‘ä»¬çŸ¥é“äº†åœ¨åŒä¸€é“¾è·¯ä¸­ æ˜¯é€šè¿‡\"macåœ°å€\"æ¥ç¡®å®šç›®æ ‡ä¸»æœº è¿›è¡ŒåŒ…ä¼ é€’ é‚£åœ¨ä¸åŒçš„é“¾è·¯ä¸­ å°±æ˜¯é€šè¿‡ç¬¬ä¸‰å±‚çš„\"IPåœ°å€\"æ¥å®ç°åŒ…ä¼ é€’ IPåŸºç¡€çŸ¥è¯† IPæ€»å…±åˆ†ä¸ºä¸‰å¤§ä½œç”¨æ¨¡å— åˆ†åˆ«æ˜¯ â€œå¯»å€â€ â€œè·¯ç”±â€ â€œåˆ†ç‰‡ä¸ç»„åŒ…â€ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:1:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IPåœ°å€çš„å®šä¹‰ ipv4ç”±32ä½æ­£æ•´æ•°æ¥è¡¨ç¤º TCP/IPè¦æ±‚å°†IPåœ°å€åˆ†é…ç»™æ¯ä¸€ä¸ªé€šè®¯çš„ä¸»æœºIPåœ°å€åœ¨è®¡ç®—æœºå†…éƒ¨ç”±äºŒè¿›åˆ¶è¡¨ç¤º ä½†æ˜¯äººç±»ç¤¾ä¼šå¹¶ä¸ä¹ æƒ¯äºŒè¿›åˆ¶ æ‰€ä»¥æ¯8ä½åˆ†å¼€ éš”ä¸€ä¸ª\".\" å°†æ¯ç»„æ•°ä»¥åè¿›åˆ¶æ¥è¡¨ç¤ºæ¯ä¸€å°ä¸»æœºä¸Šçš„æ¯ä¸€å¼ ç½‘å¡éƒ½éœ€è¦è®¾ç½®IPåœ°å€ æ‰€ä»¥IPåœ°å€è¶Šæ¥è¶Šä¸å¤Ÿç”¨ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:2:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IPåœ°å€ç”±ç½‘ç»œå’Œä¸»æœºä¸¤éƒ¨åˆ†æ ‡è¯†ç»„æˆ IPåœ°å€æ˜¯ç”±ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€ä¸¤éƒ¨åˆ†ç»„æˆ å®ç°äº†å”¯ä¸€æ€§ï¼Œç½‘ç»œåœ°å€åœ¨ä¸åŒçš„æ•°æ®é“¾è·¯ä¸­ä¹Ÿæ˜¯ä¸ç›¸åŒçš„ï¼Œå¦‚æœç½‘ç»œåœ°å€ç›¸åŒåˆ™è¯´æ˜åœ¨åŒä¸€ä¸ªç½‘æ®µä¸­ï¼Œæ¥ä¸‹æ¥å°±æ˜¯é€šè¿‡ä¸»æœºåœ°å€æ¥åŒºåˆ†ä¸åŒçš„ä¸»æœº ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:3:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IPåœ°å€çš„åˆ†ç±» IPåœ°å€åˆ†ä¸º4ç±» åˆ†åˆ«ä¸º Aç±» Bç±» Cç±» Dç±» å®ƒæ ¹æ®IPåœ°å€ä¸­ä»ç¬¬1ä½åˆ°ç¬¬4ä½çš„æ¯”ç‰¹å¯¹å…¶ç½‘ç»œæ ‡è¯†å’Œä¸»æœºæ ‡è¯†è¿›è¡ŒåŒºåˆ† Aç±»åœ°å€ Aç±»åœ°å€æ˜¯é¦–ä½ä»¥ â€œ0â€ å¼€å¤´çš„åœ°å€ï¼Œä»£è¡¨ç€ä»ç¬¬1ä½åˆ°ç¬¬8ä½æ˜¯ä»–çš„ç½‘ç»œåœ°å€ï¼Œå24ä½ä¸ºä¸»æœºåœ°å€ åè¿›åˆ¶è¡¨ç¤ºä¸ºï¼š0.0.0.0 - 127.0.0.0 æ˜¯Aç±»çš„ç½‘ç»œåœ°å€ Bç±»åœ°å€ Bç±»åœ°å€æ˜¯å‰ä¸¤ä½ä¸º â€œ10â€ çš„åœ°å€ ä»£è¡¨ç€ä»ç¬¬1ä½åˆ°ç¬¬16ä½æ˜¯ä»–çš„ç½‘ç»œåœ°å€ å16ä½ä¸ºä¸»æœºåœ°å€ åè¿›åˆ¶è¡¨ç¤º 128.0.0.0 - 191.255.0.0 æ˜¯ä»–çš„ç½‘ç»œåœ°å€ Cç±»åœ°å€ Cç±»åœ°å€æ˜¯å‰ä¸‰ä½ä¸º â€œ110â€ çš„åœ°å€ ä»£è¡¨ç€ä»ç¬¬1ä½åˆ°ç¬¬24ä½æ˜¯ä»–çš„ç½‘ç»œåœ°å€ å8ä½ä¸ºä¸»æœºåœ°å€ åè¿›åˆ¶è¡¨ç¤º 192.0.0.0 - 223.255.255.0 æ˜¯ä»–çš„ç½‘ç»œåœ°å€ Dç±»åœ°å€ Dç±»åœ°å€æ˜¯å‰4ä½ä¸º â€œ1110â€ çš„åœ°å€ ä»£è¡¨ç€ä»ç¬¬1ä½åˆ°ç¬¬32ä½æ˜¯ä»–çš„ç½‘ç»œåœ°å€ åè¿›åˆ¶è¡¨ç¤º 224.0.0.0 - 239.255.255.255 æ˜¯ä»–çš„ç½‘ç»œåœ°å€ Dç±»åœ°å€æ²¡æœ‰ä¸»æœºæ ‡è¯† å¸¸è¢«ç”¨äºå¤šæ’­ PSï¼šåˆ†é…IPåœ°å€ è¦ç”¨æ¯”ç‰¹ä½è¡¨ç¤ºä¸»æœºåœ°å€æ—¶ ä¸èƒ½å…¨ä¸º0 æˆ–è€… å…¨ä¸º1 å…¨éƒ¨ä¸º0 ä»£è¡¨å¯¹åº”çš„ç½‘ç»œåœ°å€æˆ–è€…IPåœ°å€ä¸å¯è·çŸ¥çš„æƒ…å†µä¸‹ä½¿ç”¨ å…¨éƒ¨ä¸º1çš„ä¸»æœºåœ°å€é€šå¸¸ä½œä¸ºå¹¿æ’­åœ°å€ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:4:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"å¹¿æ’­åœ°å€ ä»€ä¹ˆæ˜¯å¹¿æ’­åœ°å€ å¹¿æ’­åœ°å€ç”¨äºåœ¨åŒä¸€ä¸ªæ•°æ®é“¾è·¯å±‚ä¸­çš„äº’ç›¸è¿æ¥çš„ä¸»æœºä¹‹é—´å‘é€æ•°æ®åŒ… æ€ä¹ˆè®¾ç½®å¹¿æ’­åœ°å€ å°†IPåœ°å€çš„ä¸»æœºä½å…¨éƒ¨è®¾ç½®ä¸º1 å°±æˆäº†å¹¿æ’­åœ°å€ æ¯”å¦‚ 172.20.0.0/16 äºŒè¿›åˆ¶ï¼š10101100.00010100.00000000.00000000 -\u003e 10101100.00010100.11111111.11111111 åè¿›åˆ¶ï¼š172.20.255.255 æœ¬åœ°å¹¿æ’­ åœ¨æœ¬ç½‘ç»œçš„å¹¿æ’­å«åšæœ¬åœ°å¹¿æ’­ æ¯”å¦‚åœ¨172.20.0.0/24çš„æƒ…å†µä¸‹ å¹¿æ’­åœ°å€ä¸º172.20.0.255 å› ä¸ºè¿™ä¸ªå¹¿æ’­åœ°å€çš„IPä¼šè¢«è·¯ç”±å™¨æ‰€å±è”½ æ‰€ä»¥ä¸ä¼šåˆ°è¾¾172.20.0.0/24ä»¥å¤–çš„å…¶ä»–é“¾è·¯ä¸Š ç›´æ¥å¹¿æ’­ åœ¨ä¸åŒçš„ç½‘ç»œçš„å¹¿æ’­å«åšç›´æ¥å¹¿æ’­ ä½†æ˜¯ç”±äºç›´æ¥å¹¿æ’­å…·æœ‰å®‰å…¨æ€§çš„é—®é¢˜ æ‰€ä»¥å¤§å¤šæ•°ä¸ä¼šé‡‡ç”¨ç›´æ¥å¹¿æ’­ ä¾‹å¦‚ç½‘ç»œåœ°å€ä¸º 192.168.0.0/24çš„ä¸»æœºå‘ 192.168.1.255/24çš„ç›®æ ‡åœ°å€å‘é€IPåŒ… æ”¶åˆ°è¿™ä¸ªåŒ…çš„è·¯ç”±å™¨ï¼Œå°†æ•°æ®è½¬å‘ç»™192.168.1.0/24 ä»è€Œä½¿å¾— 192.168.1.1 ~ 192.168.1.254çš„ä¸»æœºéƒ½èƒ½æ”¶å¾—åˆ°è¿™ä¸ªåŒ… ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:5:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"å¤šæ’­ ä»€ä¹ˆæ˜¯å¤šæ’­ å¤šæ’­ç”¨äºå°†åŒ…å‘é€ç»™ç‰¹å®šç»„çš„æ‰€æœ‰ä¸»æœº å› ä¸ºæ˜¯ç›´æ¥ä½¿ç”¨IPåè®® æ‰€ä»¥ä¹Ÿä¸å­˜åœ¨å¯é ä¼ è¾“ ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å¹¿æ’­ è€Œä½¿ç”¨å¤šæ’­ å¹¿æ’­ä¼šå°†åŒ…å‘é€ç»™æ‰€æœ‰çš„ç»ˆç«¯ä¸»æœº ç„¶åç”±ä¸»æœºçš„ä¸Šä¸€å±‚å»åˆ¤æ–­è¿™ä¸ªåŒ…æ˜¯ä¸æ˜¯ä»–è¦çš„ æ‰€ä»¥ä¼šé€ æˆä¸å¿…è¦çš„æµé‡ è€Œä¸”å¹¿æ’­æ— æ³•ç©¿é€è·¯ç”±,æƒ³ç»™å…¶ä»–çš„ç½‘æ®µå‘é€åŒæ ·çš„åŒ… å°±ä¸å¾—ä¸é‡‡å–å¦ä¸€ç§æœºåˆ¶ æ‰€ä»¥å¤šæ’­å¯ä»¥ç©¿é€è·¯ç”±å™¨ åˆå¯ä»¥å®ç°åªç»™é‚£äº›å¿…è¦çš„ç»„å‘é€æ•°æ®åŒ…çš„æŠ€æœ¯å°±æˆä¸ºå¿…é€‰ä¹‹è·¯äº† å¤šæ’­çš„ç‰¹ç‚¹ å¤šæ’­é‡‡ç”¨Dç±»åœ°å€ å› æ­¤ å¦‚æœå‰4ä½ä¸º\"1110\"çš„å°±å¯ä»¥è®¤ä¸ºæ˜¯å¤šæ’­åœ°å€ è€Œå‰©ä¸‹çš„28ä½å¯ä»¥æˆä¸ºå¤šæ’­çš„ç»„ç¼–å·ä» 224.0.0.0 åˆ° 239.255.255.255 éƒ½æ˜¯å¤šæ’­åœ°å€çš„å¯ç”¨èŒƒå›´ å…¶ä¸­ 224.0.0.0 ~ 224.0.0.255 çš„èŒƒå›´ä¸éœ€è¦è·¯ç”±æ§åˆ¶ åœ¨åŒä¸€ä¸ªé“¾è·¯ä¹Ÿå¯ä»¥å®ç°å¤šæ’­è€Œåœ¨è¿™ä¸ªèŒƒå›´ä¹‹å¤–è®¾ç½®å¤šæ’­åœ°å€ä¼šç»™å…¨ç½‘æ‰€æœ‰ç»„å†…æˆå‘˜å‘é€å¤šæ’­çš„åŒ…å¯¹äºå¤šæ’­ï¼Œæ‰€æœ‰çš„ä¸»æœº(è·¯ç”±å™¨ä»¥å¤–çš„ä¸»æœºå’Œç»ˆç«¯ä¸»æœº)å¿…é¡»å±äº 224.0.0.1 çš„ç»„ï¼Œæ‰€æœ‰çš„è·¯ç”±å™¨å¿…é¡»å±äº 224.0.0.2 çš„ç»„åˆ©ç”¨IPå¤šæ’­å®ç°é€šä¿¡ é™¤äº†åœ°å€ä¹‹å¤– è¿˜éœ€è¦IGMPç­‰åè®®çš„æ”¯æŒ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:6:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"å­ç½‘æ©ç  ä¸ºä»€ä¹ˆéœ€è¦å­ç½‘æ©ç  ä¸€ä¸ªIPåœ°å€åªè¦ç¡®å®šäº†å…¶åˆ†ç±» ä¹Ÿå°±ç¡®å®šäº†ä»–çš„ç½‘ç»œæ ‡è¯†å’Œä¸»æœºæ ‡è¯† ç½‘ç»œæ ‡è¯†ç›¸åŒè‚¯å®šå°±ä»£è¡¨ç€åœ¨åŒä¸€ä¸ªé“¾è·¯å†… æ‰€ä»¥å¯¹äºBç±»åœ°å€ å…è®¸æœ‰6å¤šä¸‡å°è®¡ç®—æœºè¿æ¥ å®å±æµªè´¹ æ‰€ä»¥ä¸€ä¸ªæ›´ä¸ºçµæ´»çš„ç»„åˆæ–¹å¼ å­ç½‘æ©ç è¯ç”Ÿäº† å­ç½‘æ©ç çš„ä¼˜ç‚¹ IPåœ°å€çš„ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€å°±å¹¶ä¸æ˜¯åˆ†çš„é‚£ä¹ˆä¸¥æ ¼ è€Œå»ç”±å­ç½‘æ©ç å»é€šè¿‡å­ç½‘ç½‘ç»œåœ°å€ç»†åˆ†å‡ºæ¯”åŸæ¥åˆ†ç±»æ›´å°ç²’åº¦çš„ç½‘ç»œæ‰€ä»¥è¿™ç§æ–¹å¼å…¶å®å°±æ˜¯å°†åŸæ¥çš„åˆ†ç±»ä¸­çš„ä¸»æœºåœ°å€éƒ¨åˆ†ç”¨ä½œå­ç½‘åœ°å€ å¯ä»¥è®²åŸç½‘ç»œåˆ†ä¸ºå¤šä¸ªå¤šä¸ªç‰©ç†ç½‘ç»œçš„ä¸€ç§æœºåˆ¶ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:7:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"CIDR/VLSM ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:8:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"å…¨å±€åœ°å€ä¸ç§æœ‰åœ°å€ è·¯ç”±æ§åˆ¶ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:9:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"è·¯ç”±æ§åˆ¶è¡¨ å¼•å‡º æˆ‘ä»¬å·²ç»åœ¨å‰é¢å­¦ä¹ äº†IPåœ°å€ï¼Œå¹¶ä¸”çŸ¥é“äº†é ç½‘ç»œåœ°å€å’Œä¸»æœºåœ°å€è®©æ¯ä¸ªä¸»æœºéƒ½å…·æœ‰å”¯ä¸€æ€§ï¼Œé‚£ä¹ˆé—®é¢˜å°±æ¥äº†ï¼Œæˆ‘ä»¬åœ¨ä¼ é€’æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘å’‹çŸ¥é“ç›®æ ‡çš„IPåœ¨å“ªé‡Œï¼Œæˆ‘æ€ä¹ˆæ‰èƒ½å»æ‰¾åˆ°ç›®æ ‡IPåœ°å€ï¼Ÿ æ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªç±»ä¼¼äº â€œè½¦ç¥¨\"çš„ä¸œè¥¿ï¼Œé‚£å°±æ˜¯è·¯ç”±æ§åˆ¶è¡¨ ä»€ä¹ˆæ˜¯è·¯ç”±æ§åˆ¶è¡¨ è·¯ç”±æ§åˆ¶è¡¨è®°å½•è€…ç½‘ç»œåœ°å€ä¸ä¸‹ä¸€æ­¥åº”è¯¥å‘é€è‡³è·¯ç”±å™¨çš„åœ°å€ ç»´æŠ¤è·¯ç”±æ§åˆ¶è¡¨çš„æ–¹æ³• é™æ€è·¯ç”±æ§åˆ¶ï¼š ç”±ç®¡ç†å‘˜æ‰‹åŠ¨å»ç®¡ç† åŠ¨æ€è·¯ç”±æ§åˆ¶ï¼š ä¾é è·¯ç”±å™¨ä¸å…¶ä»–è·¯ç”±å™¨ç›¸äº’äº¤æ¢ä¿¡æ¯æ—¶é è·¯ç”±åè®®å»è‡ªåŠ¨æ›´æ–°è‡ªåŠ¨å»æ›´æ–°è¿™å¼ è¡¨(è·¯ç”±åè®®å…ˆä¸è®²è¿°) ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:10:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IPåœ°å€ä¸è·¯ç”±æ§åˆ¶ åœ¨å‘é€IPåŒ…çš„æ—¶å€™ é¦–å…ˆè¦ç¡®å®šIPåŒ…é¦–éƒ¨çš„ç›®æ ‡åœ°å€ ç„¶ååœ¨è·¯ç”±æ§åˆ¶è¡¨ä¸­æ‰¾åˆ°ç›¸åŒç½‘ç»œåœ°å€çš„è®°å½• ç„¶åè½¬å‘è‡³ä¸‹ä¸€ä¸ªè·¯ç”±å¦‚æœæœ‰å¤šä¸ªç›¸åŒ åˆ™æ‰¾ä¸€ä¸ªæœ€ç›¸åŒçš„ éšåè½¬å‘è‡³ä¸‹ä¸€ä¸ªè·¯ç”± ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:11:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"é»˜è®¤è·¯ç”± å¼•å‡º å¦‚æœä¸€å¼ è·¯ç”±è¡¨å­˜æ”¾ç€åŒ…å«æ‰€æœ‰ç½‘ç»œåŠå…¶å­ç½‘çš„ä¿¡æ¯ å°†ä¼šé€ æˆæ— ç«¯çš„æµªè´¹ï¼Œå¦‚æœåªæœ‰éƒ¨åˆ† é‚£ä¹ˆä¹Ÿæœ‰å¯èƒ½IPæ•°æ®åŒ…çš„ç›®çš„åœ°å€æ‰¾ä¸åˆ° æ‰€ä»¥å½“æˆ‘ä»¬æ‰¾ä¸åˆ°ç›®çš„åœ°å€çš„æ—¶å€™ å°±ä¼šèµ°é»˜è®¤è·¯ç”± ä»€ä¹ˆæ˜¯é»˜è®¤è·¯ç”± é»˜è®¤è·¯ç”±ä¸€èˆ¬æ ‡è®°ä¸º â€œ0.0.0.0/0â€ æˆ–è€… â€œdefaultâ€ æ³¨æ„ è¿™é‡Œçš„ â€œ0.0.0.0â€ å¹¶ä¸æ˜¯IPåœ°å€ å› ä¸ºåé¢æ˜¯ â€œ/0â€ æ‰€ä»¥å¹¶æ²¡æœ‰æ ‡è¯†IPåœ°å€ â€œ0.0.0.0\"çš„IPåœ°å€åº”è¯¥è¢«æ ‡è®°ä¸º â€œ0.0.0.0/32â€ è€Œä¸”é»˜è®¤è·¯ç”±çš„å­ç½‘æ©ç ä¹Ÿæ˜¯ â€œ0.0.0.0â€ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:12:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ä¸»æœºè·¯ç”± â€œIPåœ°å€/32â€ ä¹Ÿè¢«ç§°ä¸º ä¸»æœºè·¯ç”±ï¼Œä»–çš„æ„æ€æ˜¯æ•´ä¸ªIPåœ°å€çš„æ‰€æœ‰ä½éƒ½å°†å‚ä¸è·¯ç”±ä¸»æœºè·¯ç”±ï¼Œå¤šç”¨äºä¸å¸Œæœ›é€šè¿‡ç½‘ç»œåœ°å€è·¯ç”±çš„æƒ…å†µ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:13:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ç¯å›åœ°å€ è¿™ä¸ªå°±æ˜¯è€æœ‹å‹äº† 127.0.0.1 æˆ–è€…æ˜¯ localhostï¼Œç¯å›åœ°å€æ˜¯åœ¨åŒä¸€å°è®¡ç®—æœºä¸Šçš„ç¨‹åºä¹‹é—´è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶æ‰€ä½¿ç”¨çš„ä¸€ä¸ªé»˜è®¤åœ°å€ï¼Œæ•°æ®åŒ…ä¸ä¼šæµå‘ç½‘ç»œ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:14:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"è·¯ç”±æ§åˆ¶è¡¨çš„èšåˆ åˆ©ç”¨ç½‘ç»œåœ°å€çš„æ¯”ç‰¹åˆ†å¸ƒå¯ä»¥æœ‰æ•ˆçš„è¿›è¡Œåˆ†å±‚é…ç½®å¯¹å†…ï¼Œå³ä½¿æœ‰å¤šä¸ªå­ç½‘æ©ç ï¼Œå¯¹å¤–å‘ˆç°å‡ºçš„ä¹Ÿæ˜¯åŒä¸€ä¸ªç½‘ç»œåœ°å€ï¼Œæ‰€ä»¥é€šè¿‡è·¯ç”±ä¿¡æ¯çš„èšåˆå¯ä»¥æœ‰æ•ˆçš„å‡å°‘è·¯ç”±è¡¨çš„æ•°ç›® æå‡æ•ˆç‡ IPåˆ†å‰²å¤„ç†ä¸å†æ„æˆå¤„ç† ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:15:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"æ•°æ®é“¾è·¯ä¸åŒ MTUåˆ™ç›¸å¼‚ å¼•å‡º åœ¨æ•°æ®é“¾è·¯å±‚ï¼Œå…¶å®æ¯æ¬¡ä¼ è¿‡æ¥çš„MTUæ˜¯ä¸ä¸€æ ·çš„ï¼ˆå› ä¸ºæ¯ä¸ªä¸åŒç±»å‹çš„æ•°æ®é“¾è·¯çš„ä½¿ç”¨ç›®çš„ä¸åŒï¼‰ï¼Œæ‰€ä»¥IPè¦ä¸ºæ¯ä¸€ä¸ªæ•°æ®é“¾è·¯è¿˜ä¸“é—¨å»é€‚é…å—? æ‰€ä»¥IPå°±ç”¨äº†ä¸€ä¸ªåˆ†å‰²å¤„ç†å’Œå†æ„æˆå¤„ç† ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:16:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IPæŠ¥æ–‡çš„åˆ†ç‰‡ä¸é‡ç»„ å¼•å‡º ä»»ä½•ä¸€å°ä¸»æœºéƒ½éœ€è¦å°†IPåˆ†ç‰‡è¿›è¡Œç›¸åº”çš„å¤„ç† è¦ä¸ç„¶åœ¨æ¯”è¾ƒå¤§çš„æŠ¥æ–‡æ— æ³•ä¸€ä¸‹å­å‘é€å‡ºå» åˆ†ç‰‡å’Œé‡ç»„çš„è¿‡ç¨‹ åœ¨è·¯ç”±å™¨ä¸Šä¼šå°†IPæ•°æ®åŒ…åˆ†æˆåˆ†ç‰‡å‘é€å‡ºå»ï¼Œéšååœ¨ç›®æ ‡ä¸»æœºè€Œä¸”ä¹Ÿåªèƒ½åœ¨ç›®æ ‡ä¸»æœºä¸Šé‡ç»„ ä¸ºä½•åªèƒ½åœ¨ç›®æ ‡ä¸»æœºä¸Šé‡ç»„ è¿™ä¹ˆè®¾è®¡æ˜¯æœ‰ç†ç”±çš„ï¼šç°å®ä¸­æ— æ³•ä¿è¯IPæ•°æ®æŠ¥æ˜¯å¦ç»ç”±åŒä¸€ä¸ªè·¯å¾„ä¼ é€ï¼ŒIPæ•°æ®æŠ¥æ‹†åˆ†åæ˜¯å¦ä¼šä¸¢å¤±ï¼Œåœ¨å½“ä¸­è·¯å¾„ä¸­é‡ç»„çš„è¯ å¯èƒ½åœ¨åé¢çš„è·¯ç”±å™¨åˆä¼šæ‹†åˆ†ï¼Œæ‰€ä»¥åªèƒ½åœ¨ç›®æ ‡ä¸»æœºä¸Šé‡ç»„ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:17:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"è·¯å¾„MTUå‘ç° å¼•å‡º åˆ†ç‰‡æ‹†åˆ†æ˜¯åœ¨è·¯ç”±å™¨ä¸Šé¢è¿›è¡Œæ‹†åˆ† ä½†æ˜¯éšç€ç§‘æŠ€çš„å‘å±• è·¯ç”±å™¨è¦æ±‚æ€§èƒ½è¶Šæ¥è¶Šé«˜ å…¶æ¬¡å¦‚æœæ‹†åˆ†çš„æ—¶å€™ å…¶ä¸­ä¸€ä¸ªåˆ†ç‰‡ä¸¢å¤± åˆ™æ‰€æœ‰çš„æ•°æ®æŠ¥ä¼šä½œåºŸ æ‰€ä»¥è¯ç”Ÿäº†è·¯å¾„MTUå‘ç° UDP è·¯å¾„MTUå‘ç°å·¥ä½œåŸç† åœ¨å‘é€ç«¯ä¸»æœºå‘é€IPæ•°æ®æŠ¥æ—¶å°†å…¶é¦–éƒ¨çš„åˆ†ç‰‡ç¦æ­¢æ ‡å¿—ä½è®¾ç½®ä¸º1 æ ¹æ®è¿™ä¸ªæ ‡å¿—ä½, é€”ä¸­çš„è·¯ç”±å™¨å³ä½¿é‡åˆ°éœ€è¦åˆ†ç‰‡æ‰èƒ½å¤„ç†çš„å¤§åŒ…ä¹Ÿä¸è¦åˆ†ç‰‡ è€Œæ˜¯ç›´æ¥ä¸¢å¼ƒï¼Œéšå é€šè¿‡ä¸€ä¸ªICMPçš„ä¸å¯è¾¾æ¶ˆæ¯å°†æ•°æ®é“¾è·¯ä¸ŠMTUçš„å€¼ç»™å‘é€ä¸»æœº ä¸‹ä¸€æ¬¡ ä»å‘é€çš„åŒä¸€ä¸ªç›®æ ‡ä¸»æœºçš„IPæ•°æ®æŠ¥è·å¾—ICMPæ‰€é€šçŸ¥çš„MTUå€¼ä»¥å å°†å®ƒè®¾ç½®ä¸ºå½“å‰MTUï¼Œç„¶åå¯¹æ•°æ®æŠ¥è¿›è¡Œåˆ†ç‰‡å¤„ç† å¦‚æ­¤åå¤ ç›´åˆ°æ²¡æœ‰æ”¶åˆ°ICMP å°±è®¤ä¸ºMTUæ˜¯ä¸€ä¸ªåˆé€‚çš„å€¼ psï¼šMTUæœ€å¤šå¯ä»¥ç¼“å­˜10åˆ†é’Ÿ å¦‚æœè¶…è¿‡äº† å°±ä¼šåœ¨å»è·¯å¾„MTUå‘ç° TCP è·¯å¾„MTUå‘ç° æ ¹æ®è·¯å¾„MTUçš„å¤§å°è®¡ç®—å‡ºæœ€å¤§æ®µé•¿åº¦ ç„¶åå†æ ¹æ®è¿™äº›ä¿¡æ¯è¿›è¡Œæ•°æ®æŠ¥çš„å‘é€ï¼Œæ‰€ä»¥åœ¨TCPä¸Š IPä¸éœ€è¦è¿›è¡Œåˆ†ç‰‡ IPv4é¦–éƒ¨ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:18:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"IPv4é¦–éƒ¨ æ•™ä½ å¦‚ä½•é€šè¿‡ç†è§£å»èƒŒè¯µ é¦–å…ˆè‚¯å®šè¦è®°å½•å‘é€ç«¯ä¸»æœºå’Œç›®æ ‡æ®µä¸»æœºIPåœ°å€ æºåœ°å€ 32bitæ„æˆï¼Œè®°å½•è€…å‘é€ç«¯ä¸»æœºçš„åœ°å€ ç›®æ ‡åœ°å€ 32bitæ„æˆ è®°å½•è€…æ¥æ”¶ç«¯ä¸»æœºçš„åœ°å€ IPv4é¦–éƒ¨é•¿åº¦è‚¯å®šä¼šæœ‰è®°å½• é¦–éƒ¨é•¿åº¦ 4bitæ„æˆ è¡¨æ˜IPé¦–éƒ¨çš„å¤§å° å•ä½æ˜¯4ä¸ªå­—èŠ‚(32bit) å¯¹äºæ²¡æœ‰å¯é€‰é¡¹çš„IPåŒ…, é¦–éƒ¨é•¿åº¦åˆ™è®¾ç½®ä¸º\"5â€ ä¹Ÿå°±æ˜¯è¯´ æ²¡æœ‰å¯é€‰é¡¹çš„IPæ—¶ IPé¦–éƒ¨ä¸º20byte æ€»é•¿åº¦ 16bit æ ‡è¯†IPé¦–éƒ¨ä¸æ•°æ®éƒ¨åˆ†åˆèµ·æ¥çš„æ€»å­—èŠ‚æ•° æ‰€ä»¥è¯´IPåŒ…æœ€å¤§é•¿åº¦ ä¸º 65536å­—èŠ‚ è®°å½•ä¸åŒçš„æ•°å­—æ¥æ ‡è¯†ä¸€äº›ä¸åŒçš„æƒ…å†µ ç‰ˆæœ¬ 4bit æ„æˆ æ ‡è®°IPçš„ç‰ˆæœ¬å· /â€œ4 -\u003e ipv4â€ â€œ5 -\u003e STâ€ â€œ6 -\u003e ipv6â€/ ç­‰ç­‰ åŒºåˆ†æœåŠ¡ 8bit æ„æˆ ç”¨æ¥è¡¨æ˜æœåŠ¡è´¨é‡ ä¸€èˆ¬è¿™ä¸ªå€¼éƒ½æ˜¯åº”ç”¨æŒ‡å®šä¹Ÿåº”è¯¥æ˜¯ç”±åº”ç”¨æŒ‡å®šï¼Œä½†æ˜¯ç°åœ¨ä¸€èˆ¬éƒ½æ— è§†è¿™ä¸ªå­—æ®µ å› ä¸ºåœ¨ç¬¦åˆè´¨é‡çš„è¦æ±‚çš„æƒ…å†µä¸‹æŒ‰å…¶è¦æ±‚å‘é€æœ¬èº«çš„åŠŸèƒ½å®ç°èµ·æ¥éå¸¸çš„éš¾ï¼Œç°åœ¨æœ‰äººæå‡ºå°†è¿™ä¸ªå­—æ®µåˆ†ä¸ºä¸¤ä¸ªå­—æ®µ - DSCP \u0026 ECN åè®® 8bit æ„æˆ è¡¨ç¤ºçš„æ˜¯IPåŒ…ä¼ è¾“å±‚çš„ä¸Šå±‚åè®®ç¼–å·ï¼Œå…·ä½“ç¼–å·å¯ä»¥ä»ç‰¹æ®Šç½‘ç«™è·å– åˆ†ç‰‡é‡ç»„ç›¸å…³ æ ‡è¯† ç”±16bitç»„æˆï¼Œç”¨äºåˆ†ç‰‡é‡ç»„ï¼ŒåŒä¸€ä¸ªåˆ†ç‰‡æ ‡è¯†ç›¸åŒ ä¸åŒçš„åˆ†ç‰‡æ ‡è¯†ä¸åŒ é€šå¸¸ æ¯å‘é€ä¸€ä¸ªIPåŒ… ä»–çš„å€¼ä¹Ÿé€æ¸é€’å¢ï¼Œæ­¤å¤– å³ä½¿IDç›¸åŒ å¦‚æœç›®æ ‡åœ°å€ æºåœ°å€ åè®®ä¸åŒ ä¹Ÿä¼šè¢«è®¤ä¸ºæ˜¯ä¸åŒçš„åˆ†ç‰‡ æ ‡å¿— 3bit ç»„æˆ è¡¨ç¤ºåŒ…è¢«åˆ†ç‰‡çš„ç›¸å…³ä¿¡æ¯ ç¬¬0ä¸ªbit -\u003e æœªä½¿ç”¨ ç°åœ¨å¿…é¡»æ˜¯0 ç¬¬1ä¸ªbit -\u003e è¡¨ç¤ºæ˜¯å¦è¿›è¡Œåˆ†ç‰‡ â€œ0â€ å¯ä»¥åˆ†ç‰‡ / â€œ1â€ ä¸èƒ½åˆ†ç‰‡ ç¬¬2ä¸ªbit åŒ…è¢«åˆ†ç‰‡çš„æƒ…å†µä¸‹ è¡¨ç¤ºæ˜¯å¦ä¸ºæœ€åä¸€ä¸ªåŒ… â€œ0â€ æœ€åä¸€ä¸ªåˆ†ç‰‡çš„åŒ… / â€œ1â€ åˆ†ç‰‡ä¸­æ®µçš„åŒ… ç‰‡åç§» ç”±13bitç»„æˆ ç”¨æ¥è¡¨ç¤ºè¢«åˆ†ç‰‡çš„æ¯ä¸€ä¸ªåˆ†æ®µç›¸å¯¹äºåŸå§‹æ•°æ®çš„ä½ç½® ç¬¬ä¸€ä¸ªåˆ†ç‰‡å¯¹åº”çš„å€¼ä¸º0 ç”±äºç‰‡åç§»å 13bit æ‰€ä»¥æœ€å¤šå¯ä»¥è¡¨ç¤º8192ä¸ªç›¸å¯¹ä½ç½® å•ä½ä¸º8å­—èŠ‚ å› æ­¤æœ€å¤§å¯ä»¥è¡¨ç¤ºåŸå§‹æ•°æ®ä¸º â€œ8 x 8192 = 65536\"å­—èŠ‚çš„ä½ç½® IPåŒ…çš„ç”Ÿå‘½å‘¨æœŸ ç”Ÿå­˜æ—¶é—´ ç”±8bitæ„æˆ ä»–æœ€åˆçš„æ„æ€æ˜¯ä»¥ç§’ä¸ºå•ä½è®°å½•å½“å‰åŒ…åœ¨ç½‘ç»œä¸Šåº”è¯¥ç”Ÿå­˜çš„æœŸé™ï¼Œç„¶è€Œ åœ¨å®é™…ä¸­ä»–æ˜¯æŒ‡å¯ä»¥ä¸­è½¬å¤šå°‘ä¸ªè·¯ç”±çš„æ„æ€ æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”± ç”Ÿå­˜æ—¶é—´å°±ä¼š-1 ç›´åˆ°å˜æˆ0åˆ™ä¸¢å¼ƒè¯¥åŒ… å¯ä»¥é¿å…IPåŒ…åœ¨ç½‘ç»œå†…æ— é™ä¼ é€’çš„é—®é¢˜ æ ¡éªŒå’Œ é¦–éƒ¨æ ¡éªŒå’Œ ç”±16bitæ„æˆ ä¹Ÿå°±IPé¦–éƒ¨æ ¡éªŒå’Œ è¯¥å­—æ®µä¸ä¼šæ ¡éªŒæ•°æ®éƒ¨åˆ† åªä¼šæ ¡éªŒIPæ•°æ®åŒ…ä¸ä¼šè¢«ç ´å å…¶ä»– å¯é€‰é¡¹ é•¿åº¦å¯å˜ é€šå¸¸åªåœ¨è¿›è¡Œè¯•éªŒæˆ–è¯Šæ–­æ—¶ä½¿ç”¨ å¡«å…… å†æœ‰å¯é€‰é¡¹çš„æƒ…å†µä¸‹ é¦–éƒ¨é•¿åº¦å¯èƒ½ä¸æ˜¯32æ¯”ç‰¹çš„æ•´æ•°å€ æ‰€ä»¥å¡«å……å°±æ˜¯ä¿è¯æ˜¯æ•´æ•°å€çš„ æ•°æ® å­˜å…¥æ•°æ® å°†IPä¸Šå±‚åè®®çš„é¦–éƒ¨ä¹Ÿä½œä¸ºæ•°æ®è¿›è¡Œå¤„ç† ICMP ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:19:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ICMPæ˜¯ä¸ªå•¥ç©æ„ å¼•å‡º æˆ‘ä»¬åœ¨æ¶æ„IPç½‘ç»œçš„æ—¶å€™ æœ€æ³¨æ„ä¸¤ç‚¹: 1. ç¡®è®¤ç½‘ç»œæ˜¯å¦å·¥ä½œ 2. é‡åˆ°å¼‚å¸¸æ—¶è¿›è¡Œé—®é¢˜è¯Šæ–­ICMPæ­£æ˜¯æä¾›è¿™ç±»åŠŸèƒ½è§£å†³è¿™äº›é—®é¢˜çš„ä¸€ç§åè®® ICMPçš„åŠŸèƒ½ ç¡®è®¤IPåŒ…æ˜¯å¦æˆåŠŸé€è¾¾ç›®æ ‡åœ°å€ é€šçŸ¥åœ¨å‘é€è¿‡ç¨‹å½“ä¸­IPåŒ…è¢«åºŸå¼ƒçš„å…·ä½“åŸå›  æ”¹å–„ç½‘ç»œè®¾ç½® â€¦ ICMPæ‰€ä»¥å…¶å®å°±æ˜¯ä¸€ä¸ªä¼ é€’æ¶ˆæ¯çš„ åœ¨IPé€šä¿¡ä¸­å¦‚æœæŸä¸ªIPåŒ…å› ä¸ºæŸç§åŸå› æœªèƒ½è¾¾åˆ°ç›®æ ‡åœ°å€ é‚£ä¹ˆè¿™ä¸ªå…·ä½“çš„åŸå› å°†ç”±ICMPè´Ÿè´£é€šçŸ¥ICMPè¿™ç§é€šçŸ¥æ¶ˆæ¯ä¼šä½¿ç”¨IPè¿›è¡Œå‘é€ICMPçš„æ¶ˆæ¯ å¤§è‡´å¯ä»¥åˆ†ä¸ºä¸¤ç±» 1. é€šçŸ¥å‡ºé”™åŸå› çš„é”™è¯¯æ¶ˆæ¯ 2. ç”¨äºè¯Šæ–­çš„æŸ¥è¯¢æ¶ˆæ¯ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:20:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ä¸»è¦çš„ICMPæ¶ˆæ¯ ICMPç›®æ ‡ä¸å¯è¾¾æ¶ˆæ¯ IPè·¯ç”±å™¨æ— æ³•å°†IPæ•°æ®åŒ…å‘é€ç»™ç›®æ ‡åœ°å€æ—¶, ä¼šç»™å‘é€ç«¯ä¸»æœºè¿”å›ä¸€ä¸ªä¸å¯è¾¾çš„ICMPæ¶ˆæ¯ å¹¶åœ¨è¿™ä¸ªæ¶ˆæ¯æ˜¾ç¤ºå…·ä½“åŸå›  ICMPé‡å®šå‘æ¶ˆæ¯ å¦‚æœè·¯ç”±å™¨é€‰æ‹©æ¬¡ä¼˜è·¯å¾„å‘é€æ•°æ®, é‚£ä¹ˆä»–ä¼šè¿”å›ä¸€ä¸ªICMPé‡å®šå‘çš„æ¶ˆæ¯ç»™è¿™ä¸ªä¸»æœº åœ¨è¿™ä¸ªæ¶ˆæ¯ä¸­åŒ…å«äº†æœ€é€‚åˆçš„è·¯ç”±ä¿¡æ¯å’Œæºæ•°æ® ICMPè¶…æ—¶æ¶ˆæ¯ åœ¨IPåŒ…å­—æ®µä¸­æœ‰ä¸€ä¸ªè®°å½•ç€IPçš„ç”Ÿå­˜å‘¨æœŸçš„å­—æ®µ å¦‚æœè¿™ä¸ªå­—æ®µä¸º0 åˆ™ä¼šå‘é€ä¸€ä¸ªICMPæ¶ˆæ¯ç»™å‘é€ç«¯ä¸»æœº è¡¨ç¤ºè¯¥åŒ…å·²ç»ä¸¢å¼ƒ ICMPå›é€æ¶ˆæ¯ ç”¨äºè¿›è¡Œé€šä¿¡çš„ä¸»æœºæˆ–è·¯ç”±å™¨ä¹‹é—´ï¼Œåˆ¤æ–­æ‰€å‘é€çš„æ•°æ®åŒ…æ˜¯å¦å·²ç»æˆåŠŸåˆ°è¾¾å¯¹ç«¯çš„ä¸€ç§æ¶ˆæ¯ â€œpingâ€ å‘½ä»¤å°±æ˜¯ç”±ICMPå®ç°çš„ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:21:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"å…¶ä»–çš„ICMPä¿¡æ¯ ICMPåŸç‚¹æŠ‘åˆ¶æ¶ˆæ¯ åœ¨ä½¿ç”¨ä½é€Ÿå¹¿åŸŸçº¿è·¯çš„æƒ…å†µä¸‹ï¼Œè¿æ¥WANçš„è·¯ç”±å™¨å¯èƒ½ä¼šé‡åˆ°ç½‘ç»œæ‹¥å µçš„é—®é¢˜ ICMPåŸç‚¹æŠ‘åˆ¶æ¶ˆæ¯å¯ä»¥ç¼“å’Œè¿™ç§æ‹¥å µæƒ…å†µ ä½†æ˜¯ä¼šé€ æˆä¸å…¬å¹³çš„ç½‘ç»œé€šä¿¡ æ‰€ä»¥ä¸€èˆ¬ä¸ä½¿ç”¨ ICMPè·¯ç”±å™¨æ¢ç´¢æ¶ˆæ¯ ä¸»è¦ç”¨äºå‘ç°ä¸è‡ªå·±ç›¸è¿ç½‘ç»œä¸­çš„è·¯ç”±å™¨ å½“ä¸€å°ä¸»æœºå‘å‡ºICMPè·¯ç”±å™¨è¯·æ±‚æ—¶ è·¯ç”±å™¨åˆ™è¿”å›ICMPè·¯ç”±å™¨å…¬å‘Šæ¶ˆæ¯ç»™ä¸»æœº ICMPåœ°å€æ©ç æ¶ˆæ¯ ä¸»è¦ç”¨äºä¸»æœºæˆ–è·¯ç”±å™¨æƒ³è¦äº†è§£å­ç½‘æ©ç çš„æƒ…å†µ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:22:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"ICMPv6 å¼•å‡º æœ‰äº†ICMP ä¸ºå•¥è¿˜è¦æœ‰ä¸€ä¸ªICMPv6 ICMPv6çš„ä½œç”¨ IPv4ä¸­çš„ICMPä»…ä½œä¸ºä¸€ä¸ªè¾…åŠ©ä½œç”¨æ”¯æŒIPv4 ä¹Ÿå°±æ˜¯è¯´æ²¡æœ‰äº†ICMP å…¶å®ä¹Ÿæ˜¯å¯ä»¥å®ç°IPé€šä¿¡çš„ åœ¨IPv6ä¸­ ICMPçš„ä½œç”¨è¢«æ‰©å¤§ å¦‚æœæ²¡æœ‰ICMPv6 IPv6åˆ™å°±æ— æ³•è¿›è¡Œæ­£å¸¸é€šä¿¡ ICMPv6çš„æ¶ˆæ¯ é”™è¯¯æ¶ˆæ¯ ä¿¡æ¯æ¶ˆæ¯ é‚»å±…æ¢ç´¢ é‚»å±…æ¢ç´¢æ¶ˆæ¯åœ¨ICMPv6ä¸­å¾ˆé‡è¦ ç”¨äºæŸ¥è¯¢IPv6ä¸MACåœ°å€çš„å…³ç³» å¹¶ç”±é‚»å±…å®£å‘Šæ¶ˆæ¯å¾—çŸ¥MACåœ°å€ é‚»å±…æ¢ç´¢æ¶ˆæ¯åˆ©ç”¨IPv6çš„å¤šæ’­åœ°å€å®ç°ä¼ æ’­ ","date":"2023-01-02","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/:23:0","tags":["IP"],"title":"IP","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-ip/"},{"categories":["ç½‘ç»œåŸç†"],"content":"OSI","date":"2023-01-01","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/","tags":["OSI"],"title":"OSI","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/"},{"categories":["ç½‘ç»œåŸç†"],"content":"OSI OSI OSI æ¨¡å‹(Open System Interconnection Model)æ˜¯ä¸€ä¸ªç”± ISO æå‡ºå¾—åˆ°æ¦‚å¿µæ¨¡ å‹ï¼Œè¯•å›¾æä¾›ä¸€ä¸ªä½¿å„ç§ä¸åŒçš„çš„è®¡ç®—æœºå’Œç½‘ç»œåœ¨ä¸–ç•ŒèŒƒå›´å†…å®ç°äº’è”çš„æ ‡å‡†æ¡†æ¶ã€‚ è™½ç„¶OSIå‚è€ƒæ¨¡å‹åœ¨å®é™…ä¸­çš„åº”ç”¨æ„ä¹‰å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œä½†æ˜¯å®ƒå¯¹äºç†è§£ç½‘ç»œåè®®å†…éƒ¨çš„ è¿ä½œå¾ˆæœ‰å¸®åŠ©ï¼Œä¸ºæˆ‘ä»¬å­¦ä¹ ç½‘ç»œåè®®æä¾›äº†ä¸€ä¸ªå¾ˆå¥½çš„å‚è€ƒã€‚å®ƒå°†è®¡ç®—æœºç½‘ç»œä½“ç³»ç»“ æ„åˆ’åˆ†ä¸º7å±‚ï¼Œæ¯å±‚éƒ½ä¸ºä¸Šä¸€å±‚æä¾›äº†è‰¯å¥½çš„æ¥å£ã€‚ä»¥ä¸‹å°†å…·ä½“ä»‹ç»å„å±‚ç»“æ„åŠåŠŸ èƒ½ã€‚ ","date":"2023-01-01","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/:0:0","tags":["OSI"],"title":"OSI","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/"},{"categories":["ç½‘ç»œåŸç†"],"content":"OSI 7å±‚æ¨¡å‹ \u0026 ä½œç”¨ åº”ç”¨å±‚: è¿™ä¸€å±‚ä¸ºæ“ä½œç³»ç»Ÿæˆ–ç½‘ç»œåº”ç”¨ç¨‹åºæä¾›è®¿é—®ç½‘ç»œæœåŠ¡çš„æ¥å£ã€‚ è¡¨ç¤ºå±‚: è¿™ä¸€å±‚ä¸»è¦è§£å†³ç”¨æˆ·ä¿¡æ¯çš„è¯­æ³•è¡¨ç¤ºé—®é¢˜ æ¯”å¦‚å‘é€é‚®ä»¶ å¯èƒ½è¿™ä¸ªè½¯ä»¶æ˜¯è‡ªå·±çš„ç‹¬æœ‰çš„ç¼–ç , è¡¨ç¤ºå±‚éœ€è¦å°†è¿™ä¸ªè½¬åŒ–ä¸ºé€šç”¨ç¼–ç  ç„¶åæŠŠè¿™ä¸ªè½¯ä»¶ç‹¬æœ‰å’Œé€šç”¨çš„ç¼–ç æ ¼å¼æ”¾åˆ°æ•°æ®é¦–éƒ¨ ä¼šè¯å±‚: è¿™ä¸€å±‚ç®¡ç†ä¸»æœºä¹‹é—´çš„ä¼šè¯è¿›ç¨‹ï¼Œå³è´Ÿè´£å»ºç«‹ã€ç®¡ç†ã€ç»ˆæ­¢è¿›ç¨‹ä¹‹é—´çš„ä¼šè¯ æ¯”å¦‚ç°åœ¨æœ‰5å°é‚®ä»¶, ä½ æ˜¯ä¸€æ¬¡å»ºç«‹è¿æ¥ å‘é€ä¸€å°é‚®ä»¶ åœ¨å»ºç«‹ä¸€æ¬¡è¿æ¥ å†å‘é€ä¸€å°é‚®ä»¶ è¿˜æ˜¯ å»ºç«‹ä¸€æ¬¡è¿æ¥å§æ‰€æœ‰çš„é‚®ä»¶å‘é€å‡ºå» è¿™å°±æ˜¯ä¼šè¯å±‚çš„ä»»åŠ¡ å†³å®šå“ªä¸€ç§ä¼ è¾“æ–¹å¼ ä¼ è¾“å±‚: é¦–æ¬¡çš„ç«¯å¯¹ç«¯,ä¹Ÿå°±æ˜¯ä¸»æœºå¯¹ä¸»æœºçš„å±‚æ¬¡ / ä¸“é—¨è´Ÿè´£\"ä¸Šå±‚æ•°æ®åˆ†æ®µå¹¶æä¾›åˆ°ç«¯å¯¹ç«¯ å¯é ä¸ä¸å¯é çš„ä¼ è¾“\" / æ•°æ®å•ä½ç§°ä¹‹ä¸º â€œæ•°æ®æ®µâ€ ç½‘ç»œå±‚: è´Ÿè´£ç½‘è·¯ä¸å¦ä¸€ä¸ªç½‘ç»œçš„è¿æ¥å‘é€æ•°æ® / ä¸“é—¨è´Ÿè´£\"å¯»å€\" â€œè·¯ç”±â€ â€œåˆ†ç‰‡ä¸ç»„åŒ…â€ / åœ¨è¿™é‡Œæ•°æ®å•ä½ç§°ä¹‹ä¸º â€œæ•°æ®åŒ…â€ æ•°æ®é“¾è·¯å±‚: æ•°æ®é“¾è·¯å±‚(Data Link Layer)å®šä¹‰äº†åœ¨å•ä¸ªé“¾è·¯ä¸Šå¦‚ä½•ä¼ è¾“æ•°æ® ç‰©ç†å±‚: ç‰©ç†å±‚(Physical Layer)ç¡®ä¿åŸå§‹çš„æ•°æ®å¯åœ¨å„ç§ç‰©ç†åª’ä½“ä¸Šä¼ è¾“ ","date":"2023-01-01","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/:1:0","tags":["OSI"],"title":"OSI","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/"},{"categories":["ç½‘ç»œåŸç†"],"content":"å„å±‚ä¼ è¾“åè®®ã€ä¼ è¾“å•å…ƒã€ä¸»è¦åŠŸèƒ½æ€§è®¾å¤‡æ¯”è¾ƒ åç§° ä¼ è¾“åè®® ä¼ è¾“å•å…ƒ ä¸»è¦åŠŸèƒ½è®¾å¤‡/æ¥å£ ç‰©ç†å±‚ IEEE 802.1Aã€IEEE 802.2 bit-flow æ¯”ç‰¹æµ å…‰çº¤ï¼ŒåŒç»çº¿ï¼Œä¸­ ç»§å™¨ï¼Œé›†çº¿å™¨ï¼Œç½‘ çº¿æ¥å£ æ•°æ®é“¾è·¯å±‚ ARPã€MACã€ FDDI frame å¸§ ç½‘æ¡¥ã€äºŒå±‚äº¤æ¢æœº ç½‘ç»œå±‚ IPã€ICMPã€ARPã€RARP æ•°æ®åŒ…(packet) è·¯ç”±å™¨ã€ä¸‰å±‚äº¤æ¢ æœº ä¼ è¾“å±‚ TCPã€UDP æ•°æ®æ®µ å››å±‚äº¤æ¢æœº ä¼šè¯å±‚ SMTPã€DNS æŠ¥æ–‡ QoS è¡¨ç¤ºå±‚ Telnetã€SNMP æŠ¥æ–‡ åº”ç”¨å±‚ FTPã€TFTPã€Telnetã€HTTPã€DNS æŠ¥æ–‡ ","date":"2023-01-01","objectID":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/:2:0","tags":["OSI"],"title":"OSI","uri":"/%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86-osi/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ“ä½œç³»ç»Ÿçš„IOæ¨¡å‹","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"IOæ¨¡å‹ 5ç§ IOæ¨¡å‹ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:0:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä»TCPå‘é€ä¿¡æ¯æµç¨‹å¼€å§‹è®²èµ· è¦æ·±å…¥çš„ç†è§£å„ç§ I/O æ¨¡å‹ï¼Œé‚£ä¹ˆå¿…é¡»å…ˆäº†è§£ä¸‹äº§ç”Ÿå„ç§IOçš„åŸå› æ˜¯ä»€ä¹ˆï¼Œè¦çŸ¥é“è¿™å…¶ä¸­çš„æœ¬è´¨é—®é¢˜é‚£ä¹ˆæˆ‘ä»¬å°±å¿…é¡»è¦çŸ¥é“ä¸€æ¡æ¶ˆæ¯æ˜¯å¦‚ä½•ä»ä¸€ä¸ªäººå‘é€åˆ°å¦å¤–ä¸€ä¸ªäººçš„ ä»¥ä¸¤ä¸ªåº”ç”¨ç¨‹åºé€šè®¯ä¸ºä¾‹ï¼Œæˆ‘ä»¬æ¥äº†è§£ä¸€ä¸‹å½“â€œAâ€å‘\"B\" å‘é€ä¸€æ¡æ¶ˆæ¯ï¼Œç®€å•æ¥è¯´ä¼šç»è¿‡å¦‚ä¸‹æµç¨‹ åº”ç”¨Aå°†æ•°æ®å‘é€åˆ°TCPå‘é€ç¼“å†²åŒº TCPå‘é€ç¼“å†²åŒºå†æŠŠæ•°æ®å‘é€å‡ºå»ï¼Œç»è¿‡ç½‘ç»œä¼ é€’åï¼Œæ•°æ®ä¼šå‘é€åˆ°æœåŠ¡å™¨Bçš„TCPæ¥æ”¶ç¼“å†²åŒº Bå†ä»TCPæ¥æ”¶ç¼“å†²åŒºå»è¯»å–å±äºè‡ªå·±çš„æ•°æ® è¿™ä¸ªæµç¨‹æˆ‘ä»¬äº†è§£å æˆ‘ä»¬å°±å¼€å§‹æ¥è¿›å…¥ä¸»é¢˜ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:1:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"é˜»å¡/éé˜»å¡ IOæ¨¡å‹ æˆ‘ä»¬å…ˆæ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š å› ä¸ºå‘é€ä¿¡æ¯è‚¯å®šæ˜¯é—´æ–­ ä»–ä¸ä¼šä¸€ç›´éƒ½ä¼šæœ‰ä¿¡æ¯ï¼Œä¸€ç›´åœ¨å‘é€ï¼Œæ‰€ä»¥å¦‚æœBçš„TCPæ¥æ”¶ç¼“å†²åŒºæ²¡æœ‰æ•°æ®ï¼ŒBå‘é€äº†ä¸€ä¸ªæ¥æ”¶æ•°æ®çš„è¯»å–è¯·æ±‚ï¼Œé‚£ä¹ˆè¿™æ—¶å€™æ˜¯ä¼šç›´æ¥å‘Šè¯‰Bæ²¡æœ‰å¯è¯»æ¶ˆæ¯ï¼Œè¿˜æ˜¯è®©Bä¸€ç›´ç­‰å¾…ç›´åˆ°æœ‰å¯è¯»æ¶ˆæ¯å‘¢ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:2:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä»€ä¹ˆæ˜¯é˜»å¡IO æˆ‘ä»¬è¿™ä¸ªé—®é¢˜æ€è€ƒå®Œ å…¶å®å°±å·²ç»æ˜ç™½äº†ä»€ä¹ˆæ˜¯é˜»å¡IO æ‰€è°“é˜»å¡IOå°±æ˜¯å½“åº”ç”¨Bå‘èµ·è¯»å–æ•°æ®ç”³è¯·æ—¶ï¼Œåœ¨å†…æ ¸æ•°æ®æ²¡æœ‰å‡†å¤‡å¥½ä¹‹å‰ï¼Œåº”ç”¨Bä¼šä¸€ç›´å¤„äºç­‰å¾…æ•°æ®çŠ¶æ€ï¼Œç›´åˆ°å†…æ ¸æŠŠæ•°æ®å‡†å¤‡å¥½äº†äº¤ç»™åº”ç”¨Bæ‰ç»“æŸ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:2:1","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä»€ä¹ˆæ˜¯éé˜»å¡IO æŒ‰ç…§ä¸Šé¢çš„æ€è·¯ï¼Œæ‰€è°“éé˜»å¡IOå°±æ˜¯å½“åº”ç”¨Bå‘èµ·è¯»å–æ•°æ®ç”³è¯·æ—¶ï¼Œå¦‚æœå†…æ ¸æ•°æ®æ²¡æœ‰å‡†å¤‡å¥½ä¼šå³åˆ»å‘Šè¯‰åº”ç”¨Bï¼Œä¸ä¼šè®©Båœ¨è¿™é‡Œç­‰å¾… ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:2:2","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"IOå¤ç”¨æ¨¡å‹ æˆ‘ä»¬ä¾æ—§å…ˆæ¥æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼š æˆ‘ä»¬è¿˜æ˜¯ä» æœåŠ¡å™¨B è¦å»ä»ç¼“å†²åŒºè¯»å–æ•°æ®çš„é—®é¢˜ï¼Œå¦‚æœåœ¨å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šæœ‰Nä¸ªäººå‘æœåŠ¡å™¨Bå‘é€æ¶ˆæ¯ï¼Œè¿™ç§æƒ…å†µä¸€èˆ¬æˆ‘ä»¬ä¼šå¼€å¤šä¸ªçº¿ç¨‹å»å¤„ç†ä¸åŒçš„æ¶ˆæ¯ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šè‡ªå·±è°ƒç”¨ recvfrom å»è¯»å–æ•°æ® å¹¶å‘æƒ…å†µä¸‹æœåŠ¡å™¨å¾ˆå¯èƒ½ä¸€ç¬é—´ä¼šæ”¶åˆ°å‡ åä¸Šç™¾ä¸‡çš„è¯·æ±‚ï¼Œè¿™ç§æƒ…å†µä¸‹åº”ç”¨Bå°±éœ€è¦åˆ›å»ºå‡ åä¸Šç™¾ä¸‡çš„çº¿ç¨‹å»è¯»å–æ•°æ®ï¼ŒåŒæ—¶åˆå› ä¸ºåº”ç”¨çº¿ç¨‹æ˜¯ä¸çŸ¥é“ä»€ä¹ˆæ—¶å€™ä¼šæœ‰æ•°æ®è¯»å–ï¼Œä¸ºäº†ä¿è¯æ¶ˆæ¯èƒ½åŠæ—¶è¯»å–åˆ°ï¼Œé‚£ä¹ˆè¿™äº›çº¿ç¨‹è‡ªå·±å¿…é¡»ä¸æ–­çš„å‘å†…æ ¸å‘é€recvfrom è¯·æ±‚æ¥è¯»å–æ•°æ® é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè¿™ä¹ˆå¤šçš„çº¿ç¨‹ä¸æ–­è°ƒç”¨ recvfrom è¯·æ±‚æ•°æ®ï¼Œå…ˆä¸è¯´æœåŠ¡å™¨èƒ½ä¸èƒ½æ‰›å¾—ä½è¿™ä¹ˆå¤šçº¿ç¨‹ï¼Œå°±ç®—æ‰›å¾—ä½é‚£ä¹ˆå¾ˆæ˜æ˜¾è¿™ç§æ–¹å¼æ˜¯ä¸æ˜¯å¤ªæµªè´¹èµ„æºäº†ï¼Œçº¿ç¨‹æ˜¯æˆ‘ä»¬æ“ä½œç³»ç»Ÿçš„å®è´µèµ„æºï¼Œå¤§é‡çš„çº¿ç¨‹ç”¨æ¥å»è¯»å–æ•°æ®äº†ï¼Œé‚£ä¹ˆå°±æ„å‘³ç€èƒ½åšå…¶å®ƒäº‹æƒ…çš„çº¿ç¨‹å°±ä¼šå°‘ æœ‰äººå°±æå‡ºäº†ä¸€ä¸ªæ€è·¯ï¼Œèƒ½ä¸èƒ½æä¾›ä¸€ç§æ–¹å¼ï¼Œå¯ä»¥ç”±ä¸€ä¸ªçº¿ç¨‹ç›‘æ§å¤šä¸ªç½‘ç»œè¯·æ±‚ï¼ˆæˆ‘ä»¬åé¢å°†ç§°ä¸ºfdæ–‡ä»¶æè¿°ç¬¦ï¼Œlinuxç³»ç»ŸæŠŠæ‰€æœ‰ç½‘ç»œè¯·æ±‚ä»¥ä¸€ä¸ªfdæ¥æ ‡è¯†ï¼‰ï¼Œè¿™æ ·å°±å¯ä»¥åªéœ€è¦ä¸€ä¸ªæˆ–å‡ ä¸ªçº¿ç¨‹å°±å¯ä»¥å®Œæˆæ•°æ®çŠ¶æ€è¯¢é—®çš„æ“ä½œï¼Œå½“æœ‰æ•°æ®å‡†å¤‡å°±ç»ªä¹‹åå†åˆ†é…å¯¹åº”çš„çº¿ç¨‹å»è¯»å–æ•°æ®ï¼Œè¿™ä¹ˆåšå°±å¯ä»¥èŠ‚çœå‡ºå¤§é‡çš„çº¿ç¨‹èµ„æºå‡ºæ¥ï¼Œè¿™ä¸ªå°±æ˜¯IOå¤ç”¨æ¨¡å‹çš„æ€è·¯ æ­£å¦‚ä¸Šå›¾ï¼ŒIOå¤ç”¨æ¨¡å‹çš„æ€è·¯å°±æ˜¯ç³»ç»Ÿæä¾›äº†ä¸€ç§å‡½æ•°å¯ä»¥åŒæ—¶ç›‘æ§å¤šä¸ªfdçš„æ“ä½œï¼Œè¿™ä¸ªå‡½æ•°å°±æ˜¯æˆ‘ä»¬å¸¸è¯´åˆ°çš„selectã€pollã€epollå‡½æ•°ï¼Œæœ‰äº†è¿™ä¸ªå‡½æ•°åï¼Œåº”ç”¨çº¿ç¨‹é€šè¿‡è°ƒç”¨selectå‡½æ•°å°±å¯ä»¥åŒæ—¶ç›‘æ§å¤šä¸ªfdï¼Œselectå‡½æ•°ç›‘æ§çš„fdä¸­åªè¦æœ‰ä»»ä½•ä¸€ä¸ªæ•°æ®çŠ¶æ€å‡†å¤‡å°±ç»ªäº†ï¼Œselectå‡½æ•°å°±ä¼šè¿”å›å¯è¯»çŠ¶æ€ï¼Œè¿™æ—¶è¯¢é—®çº¿ç¨‹å†å»é€šçŸ¥å¤„ç†æ•°æ®çš„çº¿ç¨‹ï¼Œå¯¹åº”çº¿ç¨‹æ­¤æ—¶å†å‘èµ·recvfromè¯·æ±‚å»è¯»å–æ•°æ® è¿›ç¨‹å°†ä¸€ä¸ªfdæˆ–è€…å¤šä¸ªfdä¼ é€’ç»™ selectï¼Œé˜»å¡åœ¨selectæ“ä½œä¸Šï¼Œselectå¸®æˆ‘ä»¬ä¾¦æµ‹å¤šä¸ªfdæ˜¯å¦å‡†å¤‡å°±ç»ªï¼Œå½“æœ‰fdå‡†å¤‡å°±ç»ªæ—¶ï¼Œselectè¿”å›æ•°æ®å¯è¯»çŠ¶æ€ï¼Œåº”ç”¨ç¨‹åºå†è°ƒç”¨recvfromè¯»å–æ•°æ® å¤ç”¨IOçš„åŸºæœ¬æ€è·¯å°±æ˜¯é€šè¿‡selectæˆ–pollã€epoll æ¥ç›‘æ§å¤šfd ï¼Œæ¥è¾¾åˆ°ä¸å¿…ä¸ºæ¯ä¸ªfdåˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ç›‘æ§çº¿ç¨‹ï¼Œä»è€Œå‡å°‘çº¿ç¨‹èµ„æºåˆ›å»ºçš„ç›®çš„ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:3:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä¿¡å·é©±åŠ¨IOæ¨¡å‹ æˆ‘ä»¬ç»§ç»­æ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼š selectä¼šä¸€ç›´è½®è¯¢ è¿™å°±ä»£è¡¨ç€ç»å¤§å¤šæ•°çš„è½®è¯¢éƒ½æ˜¯æ— æ„ä¹‰çš„ é‚£æˆ‘ä»¬èƒ½ä¸èƒ½å‘å‡ºè¯·æ±‚å ä¹Ÿåˆ«å»ç®¡ä»–äº† æ•°æ®å‡†å¤‡å¥½ç›´æ¥æ¥é€šçŸ¥æˆ‘å‘¢? æ‰€ä»¥å°±è¡ç”Ÿäº†ä¿¡å·é©±åŠ¨ IOæ¨¡å‹ äºæ˜¯ä¿¡å·é©±åŠ¨IOä¸æ˜¯ç”¨å¾ªç¯è¯·æ±‚è¯¢é—®çš„æ–¹å¼å»ç›‘æ§æ•°æ®å°±ç»ªçŠ¶æ€ï¼Œè€Œæ˜¯åœ¨è°ƒç”¨sigactionæ—¶å€™å»ºç«‹ä¸€ä¸ªSIGIOçš„ä¿¡å·è”ç³»ï¼Œå½“å†…æ ¸æ•°æ®å‡†å¤‡å¥½ä¹‹åå†é€šè¿‡SIGIOä¿¡å·é€šçŸ¥çº¿ç¨‹æ•°æ®å‡†å¤‡å¥½åçš„å¯è¯»çŠ¶æ€ï¼Œå½“çº¿ç¨‹æ”¶åˆ°å¯è¯»çŠ¶æ€çš„ä¿¡å·åï¼Œæ­¤æ—¶å†å‘å†…æ ¸å‘èµ·recvfromè¯»å–æ•°æ®çš„è¯·æ±‚ï¼Œå› ä¸ºä¿¡å·é©±åŠ¨IOçš„æ¨¡å‹ä¸‹åº”ç”¨çº¿ç¨‹åœ¨å‘å‡ºä¿¡å·ç›‘æ§åå³å¯è¿”å›ï¼Œä¸ä¼šé˜»å¡ï¼Œæ‰€ä»¥è¿™æ ·çš„æ–¹å¼ä¸‹ï¼Œä¸€ä¸ªåº”ç”¨çº¿ç¨‹ä¹Ÿå¯ä»¥åŒæ—¶ç›‘æ§å¤šä¸ªfd é¦–å…ˆå¼€å¯å¥—æ¥å£ä¿¡å·é©±åŠ¨IOåŠŸèƒ½ï¼Œå¹¶é€šè¿‡ç³»ç»Ÿè°ƒç”¨sigactionæ‰§è¡Œä¸€ä¸ªä¿¡å·å¤„ç†å‡½æ•°ï¼Œæ­¤æ—¶è¯·æ±‚å³åˆ»è¿”å›ï¼Œå½“æ•°æ®å‡†å¤‡å°±ç»ªæ—¶ï¼Œå°±ç”Ÿæˆå¯¹åº”è¿›ç¨‹çš„SIGIOä¿¡å·ï¼Œé€šè¿‡ä¿¡å·å›è°ƒé€šçŸ¥åº”ç”¨çº¿ç¨‹è°ƒç”¨recvfromæ¥è¯»å–æ•°æ® IOå¤ç”¨æ¨¡å‹é‡Œé¢çš„selectè™½ç„¶å¯ä»¥ç›‘æ§å¤šä¸ªfdäº†ï¼Œä½†selectå…¶å®ç°çš„æœ¬è´¨ä¸Šè¿˜æ˜¯é€šè¿‡ä¸æ–­çš„è½®è¯¢fdæ¥ç›‘æ§æ•°æ®çŠ¶æ€ï¼Œ å› ä¸ºå¤§éƒ¨åˆ†è½®è¯¢è¯·æ±‚å…¶å®éƒ½æ˜¯æ— æ•ˆçš„ï¼Œæ‰€ä»¥ä¿¡å·é©±åŠ¨IOæ„åœ¨é€šè¿‡è¿™ç§å»ºç«‹ä¿¡å·å…³è”çš„æ–¹å¼ï¼Œå®ç°äº†å‘å‡ºè¯·æ±‚ååªéœ€è¦ç­‰å¾…æ•°æ®å°±ç»ªçš„é€šçŸ¥å³å¯ï¼Œè¿™æ ·å°±å¯ä»¥é¿å…å¤§é‡æ— æ•ˆçš„æ•°æ®çŠ¶æ€è½®è¯¢æ“ä½œ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:4:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"å¼‚æ­¥IO è¿˜æ˜¯è€æ ·å­ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªé—®é¢˜ï¼š ä¹Ÿè®¸ä½ ä¸€å¼€å§‹å°±æœ‰ä¸€ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆæˆ‘ä»¬æ˜æ˜æ˜¯æƒ³è¯»å–æ•°æ®ï¼Œè€Œå´éå¾—è¦å…ˆå‘èµ·ä¸€ä¸ªselectè¯¢é—®æ•°æ®çŠ¶æ€çš„è¯·æ±‚ï¼Œç„¶åå†å‘èµ·çœŸæ­£çš„è¯»å–æ•°æ®è¯·æ±‚,èƒ½ä¸èƒ½æœ‰ä¸€ç§ä¸€åŠ³æ°¸é€¸çš„æ–¹å¼ï¼Œæˆ‘åªè¦å‘é€ä¸€ä¸ªè¯·æ±‚æˆ‘å‘Šè¯‰å†…æ ¸æˆ‘è¦è¯»å–æ•°æ®ï¼Œç„¶åæˆ‘å°±ä»€ä¹ˆéƒ½ä¸ç®¡äº†ï¼Œç„¶åå†…æ ¸å»å¸®æˆ‘å»å®Œæˆå‰©ä¸‹çš„æ‰€æœ‰äº‹æƒ…? å½“ç„¶æ—¢ç„¶ä½ æƒ³å¾—å‡ºæ¥ï¼Œé‚£ä¹ˆå°±ä¼šæœ‰äººåšå¾—åˆ°ï¼Œæœ‰äººè®¾è®¡äº†ä¸€ç§æ–¹æ¡ˆï¼Œåº”ç”¨åªéœ€è¦å‘å†…æ ¸å‘é€ä¸€ä¸ªread è¯·æ±‚,å‘Šè¯‰å†…æ ¸å®ƒè¦è¯»å–æ•°æ®åå³åˆ»è¿”å›ï¼›å†…æ ¸æ”¶åˆ°è¯·æ±‚åä¼šå»ºç«‹ä¸€ä¸ªä¿¡å·è”ç³»ï¼Œå½“æ•°æ®å‡†å¤‡å°±ç»ªï¼Œå†…æ ¸ä¼šä¸»åŠ¨æŠŠæ•°æ®ä»å†…æ ¸å¤åˆ¶åˆ°ç”¨æˆ·ç©ºé—´ï¼Œç­‰æ‰€æœ‰æ“ä½œéƒ½å®Œæˆä¹‹åï¼Œå†…æ ¸ä¼šå‘èµ·ä¸€ä¸ªé€šçŸ¥å‘Šè¯‰åº”ç”¨ï¼Œæˆ‘ä»¬ç§°è¿™ç§ä¸€åŠ³æ°¸é€¸çš„æ¨¡å¼ä¸ºå¼‚æ­¥IOæ¨¡å‹ åº”ç”¨å‘ŠçŸ¥å†…æ ¸å¯åŠ¨æŸä¸ªæ“ä½œï¼Œå¹¶è®©å†…æ ¸åœ¨æ•´ä¸ªæ“ä½œå®Œæˆä¹‹åï¼Œé€šçŸ¥åº”ç”¨ï¼Œè¿™ç§æ¨¡å‹ä¸ä¿¡å·é©±åŠ¨æ¨¡å‹çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œä¿¡å·é©±åŠ¨IOåªæ˜¯ç”±å†…æ ¸é€šçŸ¥æˆ‘ä»¬åˆé€‚å¯ä»¥å¼€å§‹ä¸‹ä¸€ä¸ªIOæ“ä½œï¼Œè€Œå¼‚æ­¥IOæ¨¡å‹æ˜¯ç”±å†…æ ¸é€šçŸ¥æˆ‘ä»¬æ“ä½œä»€ä¹ˆæ—¶å€™å®Œæˆ å¼‚æ­¥IOçš„ä¼˜åŒ–æ€è·¯æ˜¯è§£å†³äº†åº”ç”¨ç¨‹åºéœ€è¦å…ˆåå‘é€è¯¢é—®è¯·æ±‚ã€å‘é€æ¥æ”¶æ•°æ®è¯·æ±‚ä¸¤ä¸ªé˜¶æ®µçš„æ¨¡å¼ï¼Œåœ¨å¼‚æ­¥IOçš„æ¨¡å¼ä¸‹ï¼Œåªéœ€è¦å‘å†…æ ¸å‘é€ä¸€æ¬¡è¯·æ±‚å°±å¯ä»¥å®ŒæˆçŠ¶æ€è¯¢é—®å’Œæ•°æ‹·è´çš„æ‰€æœ‰æ“ä½œã€‚ IOå¤šè·¯å¤ç”¨æœºåˆ¶ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:5:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"epoll V.S select å‡æƒ³è¿™ä¹ˆä¸€ä¸ªåœºæ™¯ ä½ æœ‹å‹æ¥æ‰¾ä½ è¾ƒé‡ä¸€åœºå‡»å‰‘ï¼Œç„¶åä¸çŸ¥é“å¯å®¤åœ¨å“ª æ‰€ä»¥æ‰¾äº†å®¿ç®¡ selectå®¿ç®¡å¸¦ç€ä½ çš„æœ‹å‹æŒ¨å®¶æŒ¨æˆ·æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä½  epollå®¿ç®¡ï¼Œå¥¹ä¼šå…ˆè®°ä¸‹æ¯ä½åŒå­¦çš„æˆ¿é—´å·ï¼Œä½ çš„æœ‹å‹æ¥çš„æ—¶å€™åªè¦å‘Šè¯‰æˆ¿é—´å·å³å¯ é‚£å¦‚æœæ¥äº†10000ä¸ªäºº éƒ½è¦æ‰¾ä½ å‡»å‰‘ï¼Œé‚£ä¹ˆselectæ•ˆç‡æ›´é«˜è¿˜æ˜¯epollï¼Ÿ select å¦‚ä¸€ä¸ªä¿å§†ç…§é¡¾ä¸€ç¾¤å­©å­ï¼Œå¦‚æœæŠŠå­©å­å°¿å°¿è¿™ä»¶äº‹å¿…åš IOï¼Œé‚£ä¿å§†å°±ç›¸å½“äºé—®æ¯ä¸€ä¸ªå­©å­éœ€è¦å°¿å°¿ä¸ epollçš„æœºåˆ¶ä¸‹ ä¿å§†æ— éœ€æŒ¨ä¸ªè¯¢é—®å­©å­æ˜¯å¦è¦å°¿å°¿ï¼Œè€Œæ˜¯æ¯ä¸ªå­©å­è‹¥è‡ªå·±éœ€è¦å°¿å°¿ï¼Œä¸»åŠ¨ç«™åˆ°äº‹å…ˆçº¦å®šå¥½çš„åœ°æ–¹ï¼Œè€Œä¿å§†çš„èŒè´£å°±æ˜¯çœ‹çº¦å®šå¥½çš„åœ°æ–¹æœ‰æ— å­©å­ã€‚å› æ­¤ï¼Œepollçš„è¿™ç§æœºåˆ¶ï¼Œèƒ½å¤Ÿé«˜æ•ˆçš„å¤„ç†æˆåƒä¸Šä¸‡çš„å¹¶å‘è¿æ¥ï¼Œè€Œä¸”æ€§èƒ½ä¸ä¼šéšç€è¿æ¥æ•°å¢åŠ è€Œä¸‹é™ select epoll æ€§èƒ½ éšç€è¿æ¥æ•°çš„å¢åŠ ï¼Œæ€¥å‰§ä¸‹é™ éšç€è¿æ¥æ•°çš„å¢åŠ ï¼Œæ€§èƒ½åŸºæœ¬ä¸ä¼šä¸‹é™ è¿æ¥æ•° è¿æ¥æ•°æœ‰é™åˆ¶-1024å¦‚æœè¦å¤„ç†è¶…è¿‡1024ï¼Œåˆ™éœ€è¦ä¿®æ”¹FD_SETSIZEå®ï¼Œå¹¶é‡æ–°ç¼–è¯‘ è¿æ¥æ•°æ— é™åˆ¶ å†…åœ¨å¤„ç†æœºåˆ¶ è½®è¯¢ å›è°ƒcallback å¼€å‘å¤æ‚æ€§ ä½ ä¸­ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:6:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"select select é€šè¿‡è®¾ç½®æˆ–æ£€æŸ¥å­˜æ”¾fdæ ‡å¿—ä½çš„æ•°æ®ç»“æ„è¿›è¡Œä¸‹ä¸€æ­¥å¤„ç† è¿™ä¼šå¸¦æ¥é—®é¢˜ï¼š å•ä¸ªè¿›ç¨‹å¯ç›‘æ§çš„fdæ•°é‡è¢«é™åˆ¶, åªå…è®¸1024ï¼Œè¿™äº›æ˜¯ç”± FD_SETSIZEå®å»æ§åˆ¶çš„ï¼Œ å½“ç„¶ä¹Ÿå¯å¯¹å…¶ä¿®æ”¹ï¼Œç„¶åé‡æ–°ç¼–è¯‘å†…æ ¸ï¼Œä½†æ€§èƒ½å¯èƒ½å—å½±å“ï¼Œè¿™éœ€è¦è¿›ä¸€æ­¥æµ‹è¯•ã€‚ä¸€èˆ¬è¯¥æ•°å’Œç³»ç»Ÿå†…å­˜å…³ç³»å¾ˆå¤§ å½“ socket è¾ƒå¤šçš„æ—¶å€™ï¼Œæ¯æ¬¡selectéƒ½è¦éå†FD_SETSIZEçš„socketï¼Œä¸ç®¡æ˜¯å¦æ´»è·ƒéƒ½å¾ˆæµªè´¹CPUçš„æ—¶é—´ï¼Œè‹¥èƒ½ç»™socketæ³¨å†ŒæŸä¸ªå›è°ƒå‡½æ•°ï¼Œå½“ä»–ä»¬æ´»è·ƒæ—¶å€™ï¼Œç›´æ¥å®Œæˆç›¸å…³æ“ä½œ å³å¯é¿å…è½®è¯¢ è¿™å°±æ˜¯ epollå’Œ kqueue select ç¼ºç‚¹ å†…æ ¸éœ€è¦å°†æ¶ˆæ¯ä¼ é€’åˆ°ç”¨æˆ·ç©ºé—´ï¼Œéƒ½éœ€è¦å†…æ ¸æ‹·è´åŠ¨ä½œã€‚éœ€è¦ç»´æŠ¤ä¸€ä¸ªç”¨æ¥å­˜æ”¾å¤§é‡fdçš„æ•°æ®ç»“æ„ï¼Œä½¿å¾—ç”¨æˆ·æ§ä»¶å’Œå†…æ ¸ç©ºé—´åœ¨ä¼ é€’è¯¥ç»“æ„æ—¶å¤åˆ¶å¼€é”€å¤§ æ¯æ¬¡è°ƒç”¨selectï¼Œéƒ½éœ€æŠŠfdé›†åˆä»ç”¨æˆ·æ€æ‹·è´åˆ°å†…æ ¸æ€ï¼Œfdå¾ˆå¤šæ—¶å¼€é”€å°±å¾ˆå¤§ æ¯æ¬¡è°ƒç”¨selectï¼Œéƒ½éœ€åœ¨å†…æ ¸éå†ä¼ é€’è¿›æ¥çš„æ‰€æœ‰fd selectæ”¯æŒçš„æ–‡ä»¶æè¿°ç¬¦æ•°é‡å¤ªå°ï¼Œé»˜è®¤æœ€å¤§æ”¯æŒ1024 ä¸»åŠ¨è½®è¯¢æ•ˆç‡å¾ˆä½ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:7:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"poll å’Œselectç±»ä¼¼ï¼Œåªæ˜¯æè¿°fdé›†åˆçš„æ–¹å¼ä¸åŒï¼Œpollä½¿ç”¨ pollfd ç»“æ„è€Œéselectçš„ fd_set ç»“æ„ struct pollfd { int fd; short events; short revents;}; ç®¡ç†å¤šä¸ªæè¿°ç¬¦ä¹Ÿæ˜¯è¿›è¡Œè½®è¯¢ï¼Œæ ¹æ®æè¿°ç¬¦çš„çŠ¶æ€è¿›è¡Œå¤„ç†ï¼Œä½†æ˜¯pollæ— æœ€å¤§æ–‡ä»¶æè¿°ç¬¦æ•°é‡çš„é™åˆ¶ pollå’Œselectéƒ½æœ‰ä¸€ä¸ªç¼ºç‚¹ å°±æ˜¯åŒ…å«å¤§é‡æ–‡ä»¶æè¿°ç¬¦çš„æ•°ç»„è¢«æ•´ä½“å¤åˆ¶äºç”¨æˆ·æ€å’Œå†…æ ¸çš„åœ°å€ç©ºé—´ä¹‹é—´ï¼Œè€Œä¸è®ºè¿™äº›æ–‡ä»¶æè¿°ç¬¦æ˜¯å¦å°±ç»ªï¼Œå…¶å¼€é”€ä¹Ÿéšç€æ–‡ä»¶æè¿°ç¬¦æ•°é‡å¢å¤§è€Œçº¿æ€§å¢å¤§ å°†ç”¨æˆ·æ€ä¼ å…¥çš„æ•°ç»„æ‹·è´åˆ°å†…æ ¸ç©ºé—´ ç„¶åæŸ¥è¯¢æ¯ä¸ªfdå¯¹åº”è®¾å¤‡çŠ¶æ€ è‹¥è®¾å¤‡å°±ç»ª åœ¨è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸­åŠ å…¥ä¸€é¡¹ç»§ç»­éå† è‹¥éå†å®Œæ‰€æœ‰fdåï¼Œéƒ½æ²¡å‘ç°å°±ç»ªçš„è®¾å¤‡ï¼ŒæŒ‚èµ·å½“å‰è¿›ç¨‹ï¼Œç›´åˆ°è®¾å¤‡å°±ç»ªæˆ–ä¸»åŠ¨è¶…æ—¶ï¼Œè¢«å”¤é†’åå®ƒåˆå†æ¬¡éå†fdã€‚è¿™ä¸ªè¿‡ç¨‹ç»å†å¤šæ¬¡æ— æ„ä¹‰éå† æ— æœ€å¤§è¿æ¥æ•°é‡é™åˆ¶ åŸºäºé“¾è¡¨å­˜å‚¨ ç¼ºç‚¹ï¼š å¤§é‡fdæ•°ç»„è¢«æ•´ä½“å¤åˆ¶äºç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ä¸­ï¼Œè€Œä¸ç®¡æ˜¯å¦æœ‰æ„ä¹‰ è‹¥æŠ¥å‘Šäº†fdåï¼Œæ²¡æœ‰è¢«å¤„ç†ï¼Œåˆ™ä¸‹æ¬¡pollæ—¶ä¼šå†æ¬¡æŠ¥å‘Šè¯¥fd é“¾è¡¨æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ä¸º O(n) æ‰€ä»¥åˆæœ‰äº† epoll ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:8:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"epoll epollæ¨¡å‹ä¿®æ”¹ä¸»åŠ¨è½®è¯¢ä¸ºè¢«åŠ¨é€šçŸ¥ï¼Œå½“æœ‰äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œè¢«åŠ¨æ¥æ”¶é€šçŸ¥ã€‚æ‰€ä»¥epollæ¨¡å‹æ³¨å†Œå¥—æ¥å­—åï¼Œä¸»ç¨‹åºå¯åšå…¶ä»–äº‹æƒ…ï¼Œå½“äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œæ¥æ”¶åˆ°é€šçŸ¥åå†å»å¤„ç† å¯ç†è§£ä¸ºevent pollï¼Œepollä¼šæŠŠå“ªä¸ªæµå‘ç”Ÿå“ªç§I/Oäº‹ä»¶é€šçŸ¥æˆ‘ä»¬ã€‚æ‰€ä»¥epollæ˜¯äº‹ä»¶é©±åŠ¨ï¼ˆæ¯ä¸ªäº‹ä»¶å…³è”fdï¼‰ï¼Œæ­¤æ—¶æˆ‘ä»¬å¯¹è¿™äº›æµçš„æ“ä½œéƒ½æ˜¯æœ‰æ„ä¹‰çš„ã€‚å¤æ‚åº¦ä¹Ÿé™åˆ°O(1) // äº‹ä»¶å‚æ•°æè¿°é“¾æ¥åˆ°æ–‡ä»¶æè¿°ç¬¦fdçš„å¯¹è±¡ struct epoll_event { __u32 events; __u64 data;} EPOLL_PACKED; ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:9:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"epollè§¦å‘æ¨¡å¼ LTï¼Œé»˜è®¤çš„æ¨¡å¼ï¼ˆæ°´å¹³è§¦å‘ï¼‰åªè¦è¯¥fdè¿˜æœ‰æ•°æ®å¯è¯»ï¼Œæ¯æ¬¡epoll_wait éƒ½ä¼šè¿”å›ä»–çš„äº‹ä»¶ï¼Œæé†’ç”¨æˆ·ç¨‹åºå»æ“ä½œ ETï¼Œè¾¹ç¼˜è§¦å‘ åªä¼šæç¤ºä¸€æ¬¡ï¼Œç›´åˆ°ä¸‹æ¬¡å†æœ‰æ•°æ®æµå…¥ä¹‹å‰éƒ½ä¸ä¼šå†æç¤ºï¼Œæ— è®ºfdä¸­æ˜¯å¦è¿˜æœ‰æ•°æ®å¯è¯»ã€‚æ‰€ä»¥ETæ¨¡å¼ä¸‹ï¼Œreadä¸€ä¸ªfdæ—¶ï¼Œä¸€å®šè¦æŠŠå®ƒçš„bufferè¯»å®Œï¼Œå³è¯»åˆ°readè¿”å›å€¼å°äºè¯·æ±‚å€¼æˆ–é‡åˆ°EAGAINé”™è¯¯ epollä½¿ç”¨â€œäº‹ä»¶â€å°±ç»ªé€šçŸ¥æ–¹å¼ï¼Œé€šè¿‡epoll_ctlæ³¨å†Œfdï¼Œä¸€æ—¦è¯¥fdå°±ç»ªï¼Œå†…æ ¸å°±ä¼šé‡‡ç”¨ç±»ä¼¼å›è°ƒæœºåˆ¶æ¿€æ´»è¯¥fdï¼Œepoll_waitä¾¿å¯æ”¶åˆ°é€šçŸ¥ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:9:1","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ETçš„æ„ä¹‰ è‹¥ç”¨LTï¼Œç³»ç»Ÿä¸­ä¸€æ—¦æœ‰å¤§é‡æ— éœ€è¯»å†™çš„å°±ç»ªæ–‡ä»¶æè¿°ç¬¦ï¼Œå®ƒä»¬æ¯æ¬¡è°ƒç”¨epoll_waitéƒ½ä¼šè¿”å›ï¼Œè¿™å¤§å¤§é™ä½å¤„ç†ç¨‹åºæ£€ç´¢è‡ªå·±å…³å¿ƒçš„å°±ç»ªæ–‡ä»¶æè¿°ç¬¦çš„æ•ˆç‡ã€‚ è€Œé‡‡ç”¨ETï¼Œå½“è¢«ç›‘æ§çš„æ–‡ä»¶æè¿°ç¬¦ä¸Šæœ‰å¯è¯»å†™äº‹ä»¶å‘ç”Ÿæ—¶ï¼Œepoll_waitä¼šé€šçŸ¥å¤„ç†ç¨‹åºå»è¯»å†™ã€‚è‹¥è¿™æ¬¡æ²¡æœ‰æŠŠæ•°æ®å…¨éƒ¨è¯»å†™å®Œ(å¦‚è¯»å†™ç¼“å†²åŒºå¤ªå°)ï¼Œåˆ™ä¸‹æ¬¡è°ƒç”¨epoll_waitæ—¶ï¼Œå®ƒä¸ä¼šé€šçŸ¥ä½ ï¼Œå³åªä¼šé€šçŸ¥ä½ ä¸€æ¬¡ï¼Œç›´åˆ°è¯¥æ–‡ä»¶æè¿°ç¬¦ä¸Šå‡ºç°ç¬¬äºŒæ¬¡å¯è¯»å†™äº‹ä»¶æ‰é€šçŸ¥ä½ ã€‚è¿™æ¯”æ°´å¹³è§¦å‘æ•ˆç‡é«˜ï¼Œç³»ç»Ÿä¸ä¼šå……æ–¥å¤§é‡ä½ ä¸å…³å¿ƒçš„å°±ç»ªæ–‡ä»¶æè¿°ç¬¦ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:9:2","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"epollçš„ä¼˜ç‚¹ æ— æœ€å¤§å¹¶å‘è¿æ¥çš„é™åˆ¶ï¼Œèƒ½æ‰“å¼€çš„FDä¸Šé™è¿œå¤§äº1024ï¼ˆ1Gå†…å­˜èƒ½ç›‘å¬çº¦10ä¸‡ä¸ªç«¯å£ï¼‰ æ•ˆç‡æå‡ï¼Œä¸æ˜¯è½®è¯¢ï¼Œä¸ä¼šéšFDæ•°ç›®å¢åŠ è€Œæ•ˆç‡ä¸‹é™ã€‚åªæœ‰æ´»è·ƒå¯ç”¨çš„FDæ‰ä¼šè°ƒç”¨callbackå‡½æ•° å³Epollæœ€å¤§ä¼˜ç‚¹åœ¨äºå®ƒåªå…³å¿ƒâ€œæ´»è·ƒâ€è¿æ¥ï¼Œè€Œè·Ÿè¿æ¥æ€»æ•°æ— å…³ï¼Œå› æ­¤å®é™…ç½‘ç»œç¯å¢ƒä¸­ï¼ŒEpollæ•ˆç‡è¿œé«˜äºselectã€poll å†…å­˜æ‹·è´ï¼Œåˆ©ç”¨mmap()æ–‡ä»¶æ˜ å°„å†…å­˜åŠ é€Ÿä¸å†…æ ¸ç©ºé—´çš„æ¶ˆæ¯ä¼ é€’ï¼›å³epollä½¿ç”¨mmapå‡å°‘å¤åˆ¶å¼€é”€ã€‚ epollé€šè¿‡å†…æ ¸å’Œç”¨æˆ·ç©ºé—´å…±äº«ä¸€å—å†…å­˜è€Œå®ç° è¡¨é¢ä¸Šçœ‹epollçš„æ€§èƒ½æœ€å¥½ï¼Œä½†åœ¨è¿æ¥æ•°å°‘ä¸”éƒ½ååˆ†æ´»è·ƒæƒ…å†µä¸‹ï¼Œselect/pollæ€§èƒ½å¯èƒ½æ¯”epollå¥½ï¼Œæ¯•ç«Ÿepollé€šçŸ¥æœºåˆ¶éœ€è¦å¾ˆå¤šå‡½æ•°å›è°ƒ epollè·Ÿselectéƒ½èƒ½æä¾›å¤šè·¯I/Oå¤ç”¨ã€‚åœ¨ç°åœ¨çš„Linuxå†…æ ¸é‡Œæœ‰éƒ½èƒ½å¤Ÿæ”¯æŒï¼Œepollæ˜¯Linuxæ‰€ç‰¹æœ‰ï¼Œè€Œselectåˆ™æ˜¯POSIXæ‰€è§„å®šï¼Œä¸€èˆ¬oså‡æœ‰å®ç° ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:9:3","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"epollæä¾›çš„å‡½æ•° epoll_create åˆ›å»ºä¸€ä¸ªå¥æŸ„ epoll_ctl æ³¨å†Œè¦ç›‘å¬çš„äº‹ä»¶ç±»å‹ å¯¹äºç¬¬ä¸€ä¸ªç¼ºç‚¹ï¼Œepollçš„è§£å†³æ–¹æ¡ˆåœ¨epoll_ctl.cï¼Œæ¯æ¬¡æ³¨å†Œæ–°äº‹ä»¶åˆ°epollå¥æŸ„ä¸­æ—¶ï¼ˆåœ¨epoll_ctlä¸­æŒ‡å®šEPOLL_CTL_ADDï¼‰ï¼Œä¼šæŠŠæ‰€æœ‰fdæ‹·è´è¿›å†…æ ¸ï¼Œè€Œéåœ¨epoll_waitæ—¶é‡å¤æ‹·è´ã€‚epollä¿è¯æ¯ä¸ªfdåœ¨æ•´ä¸ªè¿‡ç¨‹ä¸­åªä¼šæ‹·è´ä¸€æ¬¡ï¼ EPOLL_CTL_ADDï¼šåœ¨æ–‡ä»¶æè¿°ç¬¦epfdæ‰€å¼•ç”¨çš„epollå®ä¾‹ä¸Šæ³¨å†Œç›®æ ‡æ–‡ä»¶æè¿°ç¬¦fdï¼Œå¹¶å°†äº‹ä»¶äº‹ä»¶ä¸å†…éƒ¨æ–‡ä»¶é“¾æ¥åˆ°fd EPOLL_CTL_MODï¼šæ›´æ”¹ä¸ç›®æ ‡æ–‡ä»¶æè¿°ç¬¦fdç›¸å…³è”çš„äº‹ä»¶ EPOLL_CTL_DELï¼šä»epfdå¼•ç”¨çš„epollå®ä¾‹ä¸­åˆ é™¤ç›®æ ‡æ–‡ä»¶æè¿°ç¬¦fdã€‚è¯¥äº‹ä»¶å°†è¢«å¿½ç•¥ï¼Œå¹¶ä¸”å¯ä»¥ä¸ºNULL epoll_wait ç­‰å¾…äº‹ä»¶çš„äº§ç”Ÿ å¯¹äºç¬¬äºŒä¸ªç¼ºç‚¹ï¼Œepollè§£å†³æ–¹æ¡ˆä¸åƒselect/pollæ¯æ¬¡éƒ½æŠŠcurrentæµåŠ å…¥fdå¯¹åº”çš„è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ï¼Œè€Œåªåœ¨epoll_ctlæ—¶æŠŠcurrentæŒ‚ä¸€éï¼ˆè¿™ä¸€éå¿…ä¸å¯å°‘ï¼‰ï¼Œå¹¶ä¸ºæ¯ä¸ªfdæŒ‡å®šä¸€ä¸ªå›è°ƒå‡½æ•° å½“è®¾å¤‡å°±ç»ªï¼Œå”¤é†’ç­‰å¾…é˜Ÿåˆ—ä¸Šçš„ç­‰å¾…è€…æ—¶ï¼Œå°±ä¼šè°ƒç”¨è¯¥å›è°ƒå‡½æ•°ï¼Œè€Œå›è°ƒå‡½æ•°ä¼šæŠŠå°±ç»ªfdåŠ å…¥ä¸€ä¸ªå°±ç»ªé“¾è¡¨ã€‚ epoll_waitå®é™…ä¸Šå°±æ˜¯åœ¨è¯¥å°±ç»ªé“¾è¡¨ä¸­æŸ¥çœ‹æœ‰æ— å°±ç»ªfdï¼ˆåˆ©ç”¨schedule_timeout()å®ç°ç¡ä¸€ä¼šï¼Œåˆ¤æ–­ä¸€ä¼šçš„æ•ˆæœï¼Œå’Œselectå®ç°ä¸­çš„ç¬¬7æ­¥ç±»ä¼¼ï¼‰ã€‚ å¯¹äºç¬¬ä¸‰ä¸ªç¼ºç‚¹ï¼Œepollæ— æ­¤é™åˆ¶ï¼Œå…¶æ”¯æŒFDä¸Šé™æ˜¯æœ€å¤§å¯ä»¥æ‰“å¼€æ–‡ä»¶çš„æ•°ç›®ï¼Œä¸€èˆ¬è¿œå¤§äº2048ã€‚1GBå†…å­˜æœºå™¨å¤§çº¦10ä¸‡å·¦å³ï¼Œå…·ä½“æ•°ç›®å¯æŸ¥çœ‹ cat /proc/sys/fs/file-maxï¼Œè¿™æ•°ç›®å’Œç³»ç»Ÿå†…å­˜å…³ç³»å¾ˆå¤§ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:9:4","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ€»ç»“ selectï¼Œpollï¼Œepolléƒ½æ˜¯I/Oå¤šè·¯å¤ç”¨æœºåˆ¶ï¼Œå³èƒ½ç›‘è§†å¤šä¸ªfdï¼Œä¸€æ—¦æŸfdå°±ç»ªï¼ˆè¯»æˆ–å†™å°±ç»ªï¼‰ï¼Œèƒ½å¤Ÿé€šçŸ¥ç¨‹åºè¿›è¡Œç›¸åº”è¯»å†™æ“ä½œã€‚ ä½†selectï¼Œpollï¼Œepollæœ¬è´¨éƒ½æ˜¯åŒæ­¥I/Oï¼Œå› ä¸ºä»–ä»¬éƒ½éœ€åœ¨è¯»å†™äº‹ä»¶å°±ç»ªåï¼Œè‡ªå·±è´Ÿè´£è¿›è¡Œè¯»å†™ï¼Œå³è¯¥è¯»å†™è¿‡ç¨‹æ˜¯é˜»å¡çš„ï¼Œè€Œå¼‚æ­¥I/Oåˆ™æ— éœ€è‡ªå·±è´Ÿè´£è¿›è¡Œè¯»å†™ï¼Œå¼‚æ­¥I/Oå®ç°ä¼šè´Ÿè´£æŠŠæ•°æ®ä»å†…æ ¸æ‹·è´åˆ°ç”¨æˆ·ç©ºé—´ selectï¼Œpolléœ€è‡ªå·±ä¸»åŠ¨ä¸æ–­è½®è¯¢æ‰€æœ‰fdé›†åˆï¼Œç›´åˆ°è®¾å¤‡å°±ç»ªï¼ŒæœŸé—´å¯èƒ½è¦ç¡çœ å’Œå”¤é†’å¤šæ¬¡äº¤æ›¿ã€‚è€Œepollå…¶å®ä¹Ÿéœ€è°ƒç”¨epoll_waitä¸æ–­è½®è¯¢å°±ç»ªé“¾è¡¨ï¼ŒæœŸé—´ä¹Ÿå¯èƒ½å¤šæ¬¡ç¡çœ å’Œå”¤é†’äº¤æ›¿ï¼Œä½†å®ƒæ˜¯è®¾å¤‡å°±ç»ªæ—¶ï¼Œè°ƒç”¨å›è°ƒå‡½æ•°ï¼ŒæŠŠå°±ç»ªfdæ”¾å…¥å°±ç»ªé“¾è¡¨ï¼Œå¹¶å”¤é†’åœ¨epoll_waitä¸­è¿›å…¥ç¡çœ çš„è¿›ç¨‹ã€‚è™½ç„¶éƒ½è¦ç¡çœ å’Œäº¤æ›¿ï¼Œä½†selectå’Œpollåœ¨â€œé†’ç€â€æ—¶è¦éå†æ•´ä¸ªfdé›†åˆï¼Œè€Œepollåœ¨â€œé†’ç€â€çš„æ—¶å€™åªéœ€åˆ¤æ–­å°±ç»ªé“¾è¡¨æ˜¯å¦ä¸ºç©ºï¼ŒèŠ‚çœå¤§é‡CPUæ—¶é—´ï¼Œè¿™å°±æ˜¯å›è°ƒæœºåˆ¶å¸¦æ¥çš„æ€§èƒ½æå‡ selectï¼Œpollæ¯æ¬¡è°ƒç”¨éƒ½è¦æŠŠfdé›†åˆä»ç”¨æˆ·æ€å¾€å†…æ ¸æ€æ‹·è´ä¸€æ¬¡ï¼Œä¸”è¦æŠŠcurrentå¾€è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ä¸­æŒ‚ä¸€æ¬¡ï¼Œè€Œepollåªè¦ä¸€æ¬¡æ‹·è´ï¼Œä¸”æŠŠcurrentå¾€ç­‰å¾…é˜Ÿåˆ—ä¸ŠæŒ‚ä¹ŸåªæŒ‚ä¸€æ¬¡ï¼ˆåœ¨epoll_waitå¼€å§‹ï¼Œæ³¨æ„è¿™é‡Œçš„ç­‰å¾…é˜Ÿåˆ—å¹¶ä¸æ˜¯è®¾å¤‡ç­‰å¾…é˜Ÿåˆ—ï¼Œåªæ˜¯ä¸€ä¸ªepollå†…éƒ¨å®šä¹‰çš„ç­‰å¾…é˜Ÿåˆ—ï¼‰ã€‚è¿™ä¹Ÿèƒ½èŠ‚çœä¸å°‘å¼€é”€ã€‚ ","date":"2022-07-19","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/:10:0","tags":["IOæ¨¡å‹"],"title":"IOæ¨¡å‹","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-io%E6%A8%A1%E5%9E%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ“ä½œç³»ç»Ÿçš„è¿›ç¨‹ç®¡ç†","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹ç®¡ç† è¿›ç¨‹ä¸çº¿ç¨‹ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:0:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹çš„æ¦‚å¿µ è¿›ç¨‹çš„æ¦‚å¿µ æŒ‡ä¸€ä¸ªåº”ç”¨ç¨‹åºè¿è¡Œäº†èµ·æ¥, è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…èµ„æºçš„ä¸€ä¸ªæœ€å°å•ä½ è¿›ç¨‹çš„ç»“æ„ æ§åˆ¶å—ï¼ˆPCBï¼‰å­˜æ”¾ç€è¿›ç¨‹çš„å”¯ä¸€IDï¼Œå¦‚æœè¿è¡Œäº†å¤šä¸ªå¾®ä¿¡è¿›ç¨‹ï¼Œä»–ä»¬çš„IDä¹Ÿéƒ½æ˜¯ä¸ä¸€æ ·çš„ æ•°æ®å—å­˜æ”¾ç€è¿›ç¨‹çš„åŸå§‹æ•°æ®å’Œä¸­é—´æ•°æ® ç¨‹åºå—å¤šä¸ªè¿›ç¨‹å…±äº« å­˜æ”¾åœ¨æ–‡æœ¬åŒºåŸŸ è¿™ä¸ªçš„å¤šä¸ªè¿›ç¨‹æ˜¯æŒ‡å¦‚æœå¼€å¯äº†å¤šä¸ªå¾®ä¿¡ç¨‹åº åˆ™å¤šä¸ªå¾®ä¿¡ç¨‹åºå…±äº«ç¨‹åºå— ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:1:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"çº¿ç¨‹çš„æ¦‚å¿µ çº¿ç¨‹çš„æ¦‚å¿µ æ“ä½œç³»ç»Ÿæœ€å°è°ƒåº¦å•ä½, ä¸èƒ½ç‹¬ç«‹è¿è¡Œ è¢«åŒ…å«äºè¿›ç¨‹, ä¸€ä¸ªè¿›ç¨‹å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ ä¹Ÿè¢«å«åšè½»é‡çº§è¿›ç¨‹ ä½†æ˜¯è½»é‡çº§è¿›ç¨‹å¤šç”¨äºå†…æ ¸çº§è¿›ç¨‹ è€Œç”¨æˆ·çº§çº¿ç¨‹æˆä¸ºçº¿ç¨‹ å†…æ ¸çº§çº¿ç¨‹ çº¿ç¨‹çš„æ§åˆ¶å—åœ¨æ“ä½œç³»ç»Ÿçš„å†…æ ¸ç©ºé—´é‡Œ è¢«ç§°ä¸ºå†…æ ¸çº§çº¿ç¨‹ ä½†æ˜¯çº¿ç¨‹çš„æ•°æ®å—å’Œç¨‹åºå—è¿˜ä¾ç„¶åœ¨ç”¨æˆ·æ§ä»¶ å®ç°äº†çœŸæ­£æ„ä¹‰ä¸Šçš„çº¿ç¨‹å¹¶è¡Œ ä¸éœ€è¦è¿è¡Œæ—¶ç³»ç»Ÿçš„å‚ä¸ æ­£å› ä¸ºæ•°æ®å—å’Œç¨‹åºå—åœ¨ç”¨æˆ·ç©ºé—´ï¼Œæ‰€ä»¥é¢‘ç¹çš„åˆ‡æ¢ä¼šå¯¼è‡´å†…æ ¸å¼€é”€å¤§ ç”¨æˆ·çº§çº¿ç¨‹ çº¿ç¨‹çš„æ§åˆ¶å¿«åœ¨æ“ä½œç³»ç»Ÿçš„ç”¨æˆ·æ§ä»¶é‡Œ è¢«ç§°ä¸ºç”¨æˆ·çº§çº¿ç¨‹ ä¸ä¾èµ–äºæ“ä½œç³»ç»Ÿ è°ƒåº¦ä¾èµ–äºç”¨æˆ·ç¨‹åº åœ¨æ“ä½œç³»ç»Ÿçš„è§†è§’é‡Œå…¶å®æ„Ÿè§‰ä¸åˆ°ç”¨æˆ·çº§çº¿ç¨‹çš„å­˜åœ¨ çº¿ç¨‹ä½äºç”¨æˆ·æ§ä»¶ï¼ˆä¸éœ€è¦æ¨¡å¼åˆ‡æ¢ï¼‰ ç‹¬ç«‹äºæ“ä½œç³»ç»Ÿï¼ˆçº¿ç¨‹å¯ä»¥åœ¨ä¸æ”¯æŒä»–ä»¬çš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼‰ è¿è¡Œæ—¶ç³»ç»Ÿå¯ä»¥åˆ‡æ¢ç”¨æˆ·æ§ä»¶ä¸­çš„æœ¬åœ°é˜»å¡çº¿ç¨‹ï¼ˆegï¼šç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹å®Œæˆï¼‰ ç³»ç»Ÿè°ƒç”¨ä¸­ï¼Œå¯¹ä¸€ä¸ªçº¿ç¨‹çš„é˜»å¡å°†ä¼šå¯¼è‡´æ•´ä¸ªè¿›ç¨‹çš„é˜»å¡ éçœŸæ­£æ„ä¹‰çš„çº¿ç¨‹å¹¶è¡Œï¼ˆä¸€ä¸ªè¿›ç¨‹å®‰æ’åœ¨å•ä¸ªcpuä¸Šï¼‰ ä¸å­˜åœ¨æ—¶é’Ÿä¸­æ–­ æ›´å¤šçš„ç”¨æˆ·çº§çº¿ç¨‹çš„çŸ¥è¯†è¯·çœ‹ã€Šå¦‚ä½•ç†è§£åç¨‹?ã€‹ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:2:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹ä¸çº¿ç¨‹çš„åŒºåˆ« è¿›ç¨‹æ˜¯æ“ä½œç³»ç»Ÿåˆ†é…èµ„æºçš„æœ€å°å•ä½ / çº¿ç¨‹æ˜¯æ“ä½œç³»ç»Ÿæœ€å°è°ƒåº¦å•ä½ ä¸€ä¸ªçº¿ç¨‹åªå±äºä¸€ä¸ªè¿›ç¨‹ / ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…æ‹¬å¤šä¸ªçº¿ç¨‹ä½†æœ€å°‘æœ‰ä¸€ä¸ªä¸»çº¿ç¨‹ è¿›ç¨‹åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜å•å…ƒ / è€Œå¤šä¸ªçº¿ç¨‹å…±äº«è¿›ç¨‹çš„å†…å­˜ è¿›ç¨‹ç¼–ç¨‹è°ƒè¯•ç®€å•å¯é æ€§é«˜ï¼Œä½†æ˜¯åˆ›å»ºé”€æ¯å¼€é”€å¤§ / çº¿ç¨‹æ­£ç›¸åï¼Œå¼€é”€å°ï¼Œåˆ‡æ¢é€Ÿåº¦å¿«ï¼Œä½†æ˜¯ç¼–ç¨‹è°ƒè¯•ç›¸å¯¹å¤æ‚ è¿›ç¨‹é—´ä¸ä¼šç›¸äº’å½±å“ / çº¿ç¨‹ä¸€ä¸ªçº¿ç¨‹æŒ‚æ‰å°†å¯¼è‡´æ•´ä¸ªè¿›ç¨‹æŒ‚æ‰ è¿›ç¨‹é€‚åº”äºå¤šæ ¸ã€å¤šæœºåˆ†å¸ƒ / çº¿ç¨‹é€‚ç”¨äºå¤šæ ¸ ç”±äºåœ¨åˆ›å»ºæˆ–æ’¤æ¶ˆè¿›ç¨‹æ—¶ï¼Œç³»ç»Ÿéƒ½è¦ä¸ºä¹‹åˆ†é…æˆ–å›æ”¶èµ„æºï¼Œå¦‚å†…å­˜ç©ºé—´ã€IOè®¾å¤‡ç­‰ã€‚å› æ­¤ï¼Œæ“ä½œç³»ç»Ÿæ‰€ä»˜å‡ºçš„å¼€é”€å°†æ˜¾è‘—åœ°å¤§äºåœ¨åˆ›å»ºæˆ–æ’¤æ¶ˆçº¿ç¨‹æ—¶çš„å¼€é”€ / è€Œçº¿ç¨‹åˆ‡æ¢åªé¡»ä¿å­˜å’Œè®¾ç½®å°‘é‡å¯„å­˜å™¨çš„å†…å®¹ï¼Œå¹¶ä¸æ¶‰åŠå­˜å‚¨å™¨ç®¡ç†æ–¹é¢çš„æ“ä½œ / æ‰€ä»¥è¿›ç¨‹åˆ‡æ¢çš„å¼€é”€ä¹Ÿè¿œå¤§äºçº¿ç¨‹åˆ‡æ¢çš„å¼€é”€ ç”±äºåŒä¸€è¿›ç¨‹ä¸­çš„å¤šä¸ªçº¿ç¨‹å…·æœ‰ç›¸åŒçš„åœ°å€ç©ºé—´ï¼Œè‡´ä½¿å®ƒä»¬ä¹‹é—´çš„åŒæ­¥å’Œé€šä¿¡çš„å®ç°ï¼Œä¹Ÿå˜å¾—æ¯”è¾ƒå®¹æ˜“ã€‚è¿›ç¨‹é—´é€šä¿¡IPCï¼Œçº¿ç¨‹é—´å¯ä»¥ç›´æ¥è¯»å†™è¿›ç¨‹æ•°æ®æ®µï¼ˆå¦‚å…¨å±€å˜é‡ï¼‰æ¥è¿›è¡Œé€šä¿¡â€”â€”éœ€è¦è¿›ç¨‹åŒæ­¥å’Œäº’æ–¥æ‰‹æ®µçš„è¾…åŠ©ï¼Œä»¥ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚åœ¨æœ‰çš„ç³»ç»Ÿä¸­ï¼Œçº¿ç¨‹çš„åˆ‡æ¢ã€åŒæ­¥å’Œé€šä¿¡éƒ½æ— é¡»æ“ä½œç³»ç»Ÿå†…æ ¸çš„å¹²é¢„ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:3:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"çº¿ç¨‹èµ„æº è¯¦ç»†æ–‡ç« è¯·çœ‹ã€Šçº¿ç¨‹åˆ°åº•å…±äº«äº†å“ªäº›è¿›ç¨‹èµ„æºï¼Ÿã€‹ çº¿ç¨‹å…±äº«çš„èµ„æº çº¿ç¨‹ç§æœ‰çš„èµ„æº å †åŒº å¯„å­˜å™¨ æ‰“å¼€çš„æ–‡ä»¶ æ ˆåŒº æ•°æ®åŒºï¼ˆå…¨å±€å˜é‡å’Œstaticï¼‰ ç¨‹åºè®¡æ•°å™¨ ä»£ç åŒºï¼ˆæ¯ä¸€ä¸ªå‡½æ•°ï¼‰ æ ˆæŒ‡é’ˆ åŠ¨æ€é“¾æ¥åº“ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:4:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¯´ä¸€ä¸‹ forkï¼Œwaitï¼Œexec å‡½æ•° çˆ¶è¿›ç¨‹äº§ç”Ÿå­è¿›ç¨‹ä½¿ç”¨forkæ‹·è´å‡ºä¸€ä¸ªçˆ¶è¿›ç¨‹çš„å‰¯æœ¬ï¼Œæ­¤æ—¶åªæ‹·è´äº†çˆ¶è¿›ç¨‹çš„é¡µè¡¨ï¼Œä¸¤ä¸ªè¿›ç¨‹éƒ½è¯»ä¸€å—å†…å­˜çš„ å½“æœ‰è¿›ç¨‹å†™çš„æ—¶å€™ä½¿ç”¨å†™æ—¶æ‹·è´æœºåˆ¶åˆ†é…å†…å­˜ï¼Œexecå‡½æ•°å¯ä»¥åŠ è½½ä¸€ä¸ªelfæ–‡ä»¶å»æ›¿æ¢çˆ¶è¿›ç¨‹ï¼Œä»æ­¤çˆ¶è¿›ç¨‹å’Œå­è¿›ç¨‹å°±å¯ä»¥è¿è¡Œä¸åŒçš„ç¨‹åºäº† fork ä»çˆ¶è¿›ç¨‹è¿”å›å­è¿›ç¨‹çš„ pidï¼Œä»å­è¿›ç¨‹è¿”å› 0ï¼Œè°ƒç”¨äº† wait çš„çˆ¶è¿›ç¨‹å°†ä¼šå‘ç”Ÿé˜»å¡ï¼Œç›´åˆ° æœ‰å­è¿›ç¨‹çŠ¶æ€æ”¹å˜ï¼Œæ‰§è¡ŒæˆåŠŸè¿”å› 0ï¼Œé”™è¯¯è¿”å› -1 exec æ‰§è¡ŒæˆåŠŸåˆ™å­è¿›ç¨‹ä»æ–°çš„ç¨‹åºå¼€å§‹è¿è¡Œï¼Œæ— è¿”å›å€¼ï¼Œæ‰§è¡Œå¤±è´¥è¿”å› -1 fork()å‡½æ•° #Fork:åˆ›å»ºä¸€ä¸ªå’Œå½“å‰è¿›ç¨‹æ˜ åƒä¸€æ ·çš„è¿›ç¨‹å¯ä»¥é€šè¿‡ fork() ç³»ç»Ÿè°ƒç”¨: #include \u003csys/types.h\u003e #include \u003cunistd.h\u003e pid_t fork(void); æˆåŠŸè°ƒç”¨ fork() ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œå®ƒå‡ ä¹ä¸è°ƒç”¨ fork() çš„è¿›ç¨‹ä¸€æ¨¡ä¸€æ ·ï¼Œè¿™ä¸¤ä¸ªè¿›ç¨‹éƒ½ä¼š ç»§ç»­è¿è¡Œ åœ¨å­è¿›ç¨‹ä¸­ï¼ŒæˆåŠŸçš„ fork()è°ƒç”¨ä¼šè¿”å›0ã€‚åœ¨çˆ¶è¿›ç¨‹ä¸­ fork() è¿”å›å­è¿›ç¨‹çš„ pidï¼Œå¦‚æœå‡ºç°é”™è¯¯ï¼Œfork() è¿”å›ä¸€ä¸ªè´Ÿå€¼ æœ€å¸¸â»…çš„ fork() ç”¨æ³•æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œç„¶åä½¿ç”¨ exec() è½½å…¥äºŒè¿›åˆ¶æ˜ åƒï¼Œæ›¿æ¢å½“å‰è¿›ç¨‹çš„ æ˜ åƒã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ´¾ç”Ÿ(fork)äº†æ–°çš„è¿›ç¨‹ï¼Œè€Œè¿™ä¸ªå­è¿›ç¨‹ä¼šæ‰§è¡Œä¸€ä¸ªæ–°çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ ä»¶çš„æ˜ åƒã€‚è¿™ç§â€œæ´¾ç”ŸåŠ æ‰§è¡Œâ€çš„æ–¹å¼æ˜¯å¾ˆå¸¸â»…çš„ åœ¨æ—©æœŸçš„ Unix ç³»ç»Ÿä¸­ï¼Œåˆ›å»ºè¿›ç¨‹æ¯”è¾ƒåŸå§‹ã€‚å½“è°ƒç”¨ fork æ—¶ï¼Œå†…æ ¸ä¼šæŠŠæ‰€æœ‰çš„å†…éƒ¨æ•°æ®ç»“æ„å¤ åˆ¶ä¸€ä»½ï¼Œå¤åˆ¶è¿›ç¨‹çš„â»šè¡¨é¡¹ï¼Œç„¶åæŠŠçˆ¶è¿›ç¨‹çš„åœ°å€ç©ºé—´ä¸­çš„å†…å®¹é€â»šçš„å¤åˆ¶åˆ°å­è¿›ç¨‹çš„åœ°å€ç©º é—´ä¸­ã€‚ä½†ä»å†…æ ¸â»†åº¦æ¥è¯´ï¼Œé€â»šçš„å¤åˆ¶æ–¹å¼æ˜¯ååˆ†è€—æ—¶çš„ã€‚ç°ä»£çš„ Unix ç³»ç»Ÿé‡‡å–äº†æ›´å¤šçš„ä¼˜ åŒ–ï¼Œä¾‹å¦‚ Linuxï¼Œé‡‡ç”¨äº†å†™æ—¶å¤åˆ¶çš„æ–¹æ³•ï¼Œè€Œä¸æ˜¯å¯¹çˆ¶è¿›ç¨‹ç©ºé—´è¿›ç¨‹æ•´ä½“å¤åˆ¶ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:5:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"å­¤å„¿è¿›ç¨‹ V.S åƒµå°¸è¿›ç¨‹ ä»€ä¹ˆæ˜¯å­¤å„¿è¿›ç¨‹ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå­è¿›ç¨‹æ˜¯ç”±çˆ¶è¿›ç¨‹åˆ›å»ºï¼Œè€Œå­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹çš„æ¨å‡ºé¡ºåºæ˜¯æ— åºçš„ï¼Œä¸¤è€…ä¹‹é—´éƒ½ä¸çŸ¥é“è°å…ˆé€€å‡ºã€‚ æ­£å¸¸æƒ…å†µä¸‹ï¼Œçˆ¶è¿›ç¨‹ä¼šå…ˆç»“æŸè°ƒç”¨wait()æˆ–è€…waitpid()å‡½æ•°ç­‰åˆ°å­è¿›ç¨‹å®Œæˆåå†é€€å‡ºï¼Œè€Œä¸€æ—¦çˆ¶è¿›ç¨‹ä¸ç­‰å¾…ç›´æ¥é€€å‡ºï¼Œåˆ™å‰©ä¸‹çš„å­è¿›ç¨‹ä¼šè¢«init(pid=1)è¿›ç¨‹æ¥æ”¶ï¼Œæˆäº†å­¤å„¿è¿›ç¨‹ï¼ˆè¿›ç¨‹æ ‘ä¸­é™¤äº†initéƒ½ä¼šæœ‰çˆ¶è¿›ç¨‹ï¼‰ ä»€ä¹ˆæ˜¯åƒµå°¸è¿›ç¨‹ å¦‚æœå­è¿›ç¨‹å…ˆé€€å‡ºäº†ï¼Œçˆ¶è¿›ç¨‹è¿˜æœªç»“æŸå¹¶ä¸”æ²¡æœ‰è°ƒç”¨ wait æˆ–è€… waitpid å‡½æ•°è·å–å­è¿›ç¨‹çš„ çŠ¶æ€ä¿¡æ¯ï¼Œåˆ™å­è¿›ç¨‹æ®‹ç•™çš„çŠ¶æ€ä¿¡æ¯( task_struct ç»“æ„å’Œå°‘èµ„æºä¿¡æ¯)ä¼šå˜æˆåƒµå°¸è¿›ç¨‹ æ€ä¹ˆå¤„ç†åƒµå°¸è¿›ç¨‹ å­è¿›ç¨‹é€€å‡ºæ—¶å‘çˆ¶è¿›ç¨‹å‘é€SIGCHILDä¿¡å·ï¼Œçˆ¶è¿›ç¨‹å¤„ç†SIGCHILDä¿¡å·ã€‚åœ¨ä¿¡å·å¤„ç†å‡½æ•°ä¸­ è°ƒç”¨waitè¿›è¡Œå¤„ç†åƒµå°¸è¿›ç¨‹ åŸç†æ˜¯å°†å­è¿›ç¨‹æˆä¸ºå­¤å„¿è¿›ç¨‹ï¼Œä»è€Œå…¶çš„çˆ¶è¿›ç¨‹å˜ä¸ºinitè¿›ç¨‹ï¼Œé€šè¿‡initè¿›ç¨‹å¯ä»¥å¤„ç†åƒµå°¸è¿›ç¨‹ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:6:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"å®ˆæŠ¤è¿›ç¨‹ ä»€ä¹ˆæ˜¯å®ˆæŠ¤è¿›ç¨‹ å®ˆæŠ¤è¿›ç¨‹(Daemon)æ˜¯è¿è¡Œåœ¨åå°çš„ä¸€ç§ç‰¹æ®Šè¿›ç¨‹ã€‚å®ƒç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§åœ°æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚ å®ˆæŠ¤è¿›ç¨‹æ˜¯ä¸€ç§å¾ˆæœ‰ç”¨çš„è¿›ç¨‹ å®ˆæŠ¤è¿›ç¨‹ç‰¹ç‚¹ å®ˆæŠ¤è¿›ç¨‹æœ€é‡è¦çš„ç‰¹æ€§æ˜¯åå°è¿è¡Œ å®ˆæŠ¤è¿›ç¨‹å¿…é¡»ä¸å…¶è¿è¡Œå‰çš„ç¯å¢ƒéš”ç¦»å¼€æ¥ã€‚è¿™äº›ç¯å¢ƒåŒ…æ‹¬æœªå…³é—­çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œæ§åˆ¶ç»ˆç«¯ï¼Œä¼šè¯å’Œè¿›ç¨‹ç»„ï¼Œå·¥ä½œç›®å½•ä»¥åŠæ–‡ä»¶åˆ›å»ºæ©æ¨¡ç­‰ã€‚è¿™äº›ç¯å¢ƒé€šå¸¸æ˜¯å®ˆæŠ¤è¿›ç¨‹ä»æ‰§è¡Œå®ƒçš„çˆ¶è¿› ç¨‹(ç‰¹åˆ«æ˜¯shell)ä¸­ç»§æ‰¿ä¸‹æ¥çš„ å®ˆæŠ¤è¿›ç¨‹çš„å¯åŠ¨æ–¹å¼æœ‰å…¶ç‰¹æ®Šä¹‹å¤„ã€‚å®ƒå¯ä»¥åœ¨Linuxç³»ç»Ÿå¯åŠ¨æ—¶ä»å¯åŠ¨è„šæœ¬/etc/rc.dä¸­å¯ åŠ¨ï¼Œå¯ä»¥ç”±ä½œä¸šè§„åˆ’è¿›ç¨‹crondå¯åŠ¨ï¼Œè¿˜å¯ä»¥ç”±ç”¨æˆ·ç»ˆç«¯(shell)æ‰§è¡Œ å®ç°ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ åœ¨çˆ¶è¿›ç¨‹ä¸­æ‰§è¡Œforkå¹¶exitæ¨å‡º åœ¨å­è¿›ç¨‹ä¸­è°ƒç”¨setsidå‡½æ•°åˆ›å»ºæ–°çš„ä¼šè¯ åœ¨å­è¿›ç¨‹ä¸­è°ƒç”¨chdirå‡½æ•°ï¼Œè®©æ ¹ç›®å½• â€/â€ æˆä¸ºå­è¿›ç¨‹çš„å·¥ä½œç›®å½• åœ¨å­è¿›ç¨‹ä¸­è°ƒç”¨umaskå‡½æ•°ï¼Œè®¾ç½®è¿›ç¨‹çš„umaskä¸º0 åœ¨å­è¿›ç¨‹ä¸­å…³é—­ä»»ä½•ä¸éœ€è¦çš„æ–‡ä»¶æè¿°ç¬¦ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:7:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹çš„åˆ›å»ºè¿‡ç¨‹ï¼Œéœ€è¦å“ªäº›å‡½æ•°ï¼Œéœ€è¦å“ªäº›æ•°æ®ç»“æ„ forkå‡½æ•°åˆ›é€ çš„å­è¿›ç¨‹æ˜¯çˆ¶è¿›ç¨‹çš„å®Œæ•´å‰¯æœ¬ï¼Œå¤åˆ¶äº†çˆ¶è¿›ç¨‹çš„èµ„æºï¼ŒåŒ…æ‹¬å†…å­˜çš„å†…å®¹task_structå†…å®¹ vforkåˆ›å»ºçš„å­è¿›ç¨‹ä¸çˆ¶è¿›ç¨‹å…±äº«æ•°æ®æ®µï¼Œè€Œä¸”ç”±vforkåˆ›å»ºçš„å­è¿›ç¨‹å°†å…ˆäºçˆ¶è¿›ç¨‹è¿è¡Œ linux ä¸Šåˆ›å»ºçº¿ç¨‹ä¸€èˆ¬ä½¿ç”¨çš„å°±æ˜¯ptheadåº“ï¼Œå®é™…ä¸Šlinuxä¹Ÿç»™æˆ‘ä»¬æä¾›äº†åˆ›å»ºçº¿ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯clone ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:8:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹åˆ›å»ºå­è¿›ç¨‹ï¼Œfork è¯¦è§£ å‡½æ•°åŸå‹ pid_t fork(void) é™¤äº†0å·è¿›ç¨‹(ç³»ç»Ÿåˆ›å»ºçš„)ä¹‹å¤–ï¼Œlinuxç³»ç»Ÿä¸­éƒ½æ˜¯ç”±å…¶ä»–è¿›ç¨‹åˆ›å»ºçš„ã€‚åˆ›å»ºæ–°è¿›ç¨‹çš„è¿› ç¨‹ï¼Œå³è°ƒç”¨forkå‡½æ•°çš„è¿›ç¨‹ä¸ºçˆ¶è¿›ç¨‹ï¼Œæ–°å»ºçš„è¿›ç¨‹ä¸ºå­è¿›ç¨‹ forkå‡½æ•°ä¸éœ€è¦ä»»ä½•å‚æ•°ï¼Œå¯¹äºè¿”å›å€¼æœ‰ä¸‰ç§æƒ…å†µ å¯¹äºçˆ¶è¿›ç¨‹ï¼Œforkå‡½æ•°è¿”å›æ–°å»ºå­è¿›ç¨‹çš„pid; å¯¹äºå­è¿›ç¨‹ï¼Œforkå‡½æ•°è¿”å› 0; å¦‚æœå‡ºé”™ï¼Œ fork å‡½æ•°è¿”å› -1 int pid=fork(); if(pid \u003c 0){ //å¤±è´¥ï¼Œä¸€èˆ¬æ˜¯è¯¥ç”¨æˆ·çš„è¿›ç¨‹æ•°è¾¾åˆ°é™åˆ¶æˆ–è€…å†…å­˜è¢«ç”¨å…‰äº† ........ } else if(pid == 0){ //å­è¿›ç¨‹æ‰§è¡Œçš„ä»£ç  ...... } else{ //çˆ¶è¿›ç¨‹æ‰§è¡Œçš„ä»£ç  ......... } è¿›ç¨‹è¿è¡Œ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:9:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"äº”ç§åŸºæœ¬çŠ¶æ€ åˆ›å»ºï¼š åˆ›å»ºå¥½ä¸€ä¸ªè¿›ç¨‹ å°±ç»ªï¼šè¿›ç¨‹åšå¥½äº†æ‰§è¡Œçš„å‡†å¤‡ å°±å·®åˆ†é…å¤„ç†æœº è¿è¡Œï¼šè¯¥è¿›ç¨‹æ­£åœ¨æ‰§è¡Œ é˜»å¡ï¼šç­‰å¾…æŸäº‹ä»¶å‘ç”Ÿæ‰èƒ½æ‰§è¡Œï¼Œå¦‚ç­‰å¾…I/Oå®Œæˆ ç»ˆæ­¢ï¼šè¿›ç¨‹è¢«å…³é—­ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:10:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹æ§åˆ¶ ä»€ä¹ˆæ˜¯è¿›ç¨‹æ§åˆ¶ å³oså¯¹è¿›ç¨‹å®ç°æœ‰æ•ˆçš„ç®¡ç† æ¯”å¦‚è¿›ç¨‹çš„åˆ›å»ºã€è¿›ç¨‹åˆ‡æ¢ç­‰åŠ¨ä½œ os é€šè¿‡ åŸè¯­ æ“ä½œæ¥å®ç°è¿›ç¨‹æ§åˆ¶ ä»€ä¹ˆæ˜¯åŸè¯­ ç”±è‹¥å¹²æ¡æŒ‡ä»¤ç»„æˆ å…·æœ‰åŸå­æ€§ åŸè¯­çš„ç‰¹ç‚¹ åŸå­æ“ä½œ è¦ä¹ˆå…¨éƒ¨æ‰§è¡Œ è¦ä¹ˆå…¨éƒ¨å¤±è´¥ æ‰§è¡Œè¿‡ç¨‹ä¸ä¼šè¢«ç»ˆæ­¢ åœ¨ç®¡æ€/ç³»ç»Ÿæ€/å†…æ ¸æ€ä¸‹æ‰§è¡Œï¼Œå¸¸é©»å†…å­˜ æ˜¯å†…æ ¸ä¸‰å¤§æ”¯æ’‘åŠŸèƒ½ä¹‹ä¸€(ä¸­æ–­æœºåˆ¶ï¼Œæ—¶é’Ÿç®¡ç†ï¼ŒåŸè¯­æ“ä½œ) ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:11:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹æ˜¯æ€ä¹ˆè¿è¡Œçš„ åˆ›å»ºåŸè¯­ï¼šcreate é˜»å¡åŸè¯­ï¼šblock å”¤é†’åŸè¯­ï¼šwakeup æ’¤é”€åŸè¯­ï¼šdestroy æŒ‚èµ·åŸè¯­ï¼šsuspend æ¿€æ´»åŸè¯­ï¼šactive ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:12:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"å¤„ç†æœº ä»€ä¹ˆæ˜¯å¤„ç†æœº æ ¹æ®ä¸€å®šçš„ç®—æ³•å’ŒåŸåˆ™å°†å¤„ç†æœºèµ„æºè¿›è¡Œé‡æ–°åˆ†é…çš„è¿‡ç¨‹ å‰æï¼šä½œä¸š/è¿›ç¨‹æ•°ç›®ä¸€å®šè¿œè¿œå¤§äºå¤„ç†æœºæ•°ç›® ç›®çš„ï¼šæé«˜èµ„æºåˆ©ç”¨ç‡ å‡å°‘å¤„ç†æœºç©ºé—²æ—¶é—´ å¤„ç†æœºè°ƒåº¦ï¼šè°ƒåº¦çš„å±‚æ¬¡ é«˜çº§è°ƒåº¦/ä½œä¸šè°ƒåº¦ æŠŠåå¤‡ä½œä¸šè°ƒå…¥å†…å­˜ åªè°ƒå…¥ä¸€æ¬¡ è°ƒå‡ºä¸€æ¬¡ ä¸­çº§è°ƒåº¦/å†…å­˜è°ƒåº¦ å°†è¿›ç¨‹è°ƒè‡³å¤–å­˜ æ¡ä»¶åˆé€‚å†è°ƒå…¥å†…å­˜ åœ¨å†…å­˜ å¤–å­˜å¯¹æ¢åŒºè¿›è¡Œè¿›ç¨‹å¯¹æ¢ ä½çº§è°ƒåº¦/è¿›ç¨‹è°ƒåº¦ ä»å°±ç»ªé˜Ÿåˆ—é€‰å–è¿›ç¨‹åˆ†é…ç»™å¤„ç†æœº æœ€åŸºæœ¬çš„è°ƒåº¦ é¢‘ç‡éå¸¸é«˜ï¼ˆç›¸å½“äºä¸€ä¸ªæ—¶é—´ç‰‡å®Œæˆï¼‰ è°ƒåº¦ç®—æ³• ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:13:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"å…ˆæ¥å…ˆæœåŠ¡ ç®—æ³•å†…å®¹ï¼šè°ƒåº¦ä½œä¸š/å°±ç»ªé˜Ÿåˆ—ä¸­æœ€å…ˆå…¥é˜Ÿè€…ï¼Œç­‰å¾…æ“ä½œå®Œæˆå’Œé˜»å¡ ç®—æ³•åŸåˆ™ï¼šæŒ‰ä½œä¸š/è¿›ç¨‹åˆ°è¾¾é¡ºåºæœåŠ¡ è°ƒåº¦æ–¹å¼ï¼šéæŠ¢å è°ƒåº¦ é€‚ç”¨åœºæ™¯ï¼šä½œä¸š/è¿›ç¨‹è°ƒåº¦ ä¼˜ç¼ºç‚¹ æœ‰åˆ©äºCPUç¹å¿™å‹ä½œä¸š å……åˆ†åˆ©ç”¨CPUèµ„æº ä¸åˆ©äºI/Oç¹å¿™å‹ä½œä¸š æ“ä½œè€—æ—¶ å…¶ä»–é¥¥é¥¿ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:14:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"çŸ­ä½œä¸šä¼˜å…ˆ ç®—æ³•å†…å®¹ï¼šæ‰€éœ€æœåŠ¡æ—¶é—´æœ€çŸ­çš„ä½œä¸š/è¿›ç¨‹ä¼˜å…ˆæœåŠ¡ ç®—æ³•åŸåˆ™ï¼šè¿½æ±‚æœ€å°çš„å¹³å‡å‘¨è½¬æ—¶é—´ è°ƒåº¦æ–¹å¼ï¼šéæŠ¢å å¼æœåŠ¡ï¼ˆé™¤äº†æœåŠ¡æ—¶é—´æœ€çŸ­ è¿˜æœ‰å¦ä¸€ç§æ–¹å¼-æœ€çŸ­å‰©ä½™æ—¶é—´ä¼˜å…ˆï¼‰ é€‚ç”¨åœºæ™¯ï¼šä½œä¸š/è¿›ç¨‹è°ƒåº¦ ä¼˜ç¼ºç‚¹ å¹³å‡ç­‰å¾…/è°ƒåº¦æ—¶é—´æœ€å°‘ é•¿ä½œä¸šä¼šå¢åŠ æˆ–è€…é¥¥é¥¿ ä¼°è®¡æ—¶é—´ä¸å‡†ç¡® ä¸èƒ½ä¿è¯ç´§æ€¥ä»»åŠ¡åŠæ—¶å¤„ç† ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:15:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"é«˜å“åº”æ¯”ä¼˜å…ˆè°ƒåº¦ ç®—æ³•å†…å®¹ï¼šç»“åˆå…ˆæ¥å…ˆæœåŠ¡\u0026çŸ­ä½œä¸šä¼˜å…ˆï¼Œç»¼åˆè€ƒè™‘ç­‰å¾…æ—¶é—´å’ŒæœåŠ¡æ—¶é—´è®¡ç®—å“åº”æ¯” é«˜çš„å“åº”æ¯”ä¼˜å…ˆè°ƒåº¦ ç®—æ³•åŸåˆ™ï¼šç»¼åˆè€ƒè™‘ä½œä¸š/è¿›ç¨‹çš„ç­‰å¾…æ—¶é—´å’ŒæœåŠ¡æ—¶é—´ è°ƒåº¦æ–¹å¼ï¼šéæŠ¢å è°ƒåº¦ é€‚ç”¨åœºæ™¯ï¼šä½œä¸š/è¿›ç¨‹è°ƒåº¦ å“åº”æ¯”è®¡ç®— (ç­‰å¾…æ—¶é—´ + æœåŠ¡æ—¶é—´) / æœåŠ¡æ—¶é—´ å½“å‰è¿›ç¨‹å®Œæˆæˆ–è€…é˜»å¡æ—¶é‡æ–°è®¡ç®—æ‰€æœ‰çš„è¿›ç¨‹å“åº”æ¯” ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:16:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä¼˜å…ˆçº§è°ƒåº¦ ç®—æ³•å†…å®¹ï¼šåˆå«ä¼˜å…ˆæƒè°ƒåº¦ï¼ŒæŒ‰ä½œä¸š/è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼ˆç´§è¿«ç¨‹åº¦ï¼‰è¿›è¡Œè°ƒåº¦ ç®—æ³•åŸåˆ™ï¼šä¼˜å…ˆçº§æœ€é«˜çš„ä½œä¸š/è¿›ç¨‹å…ˆè°ƒåº¦ è°ƒåº¦æ–¹å¼ï¼šæŠ¢å ï¼ˆé«˜ä¼˜å…ˆçº§ç«‹å³æ‰§è¡Œï¼‰/éæŠ¢å ï¼ˆé«˜ä¼˜å…ˆçº§ç­‰å¾…å½“å‰è¿›ç¨‹è®©å‡ºåæ‰§è¡Œï¼‰ é€‚ç”¨åœºæ™¯ï¼šä½œä¸š/è¿›ç¨‹è°ƒåº¦ ä¼˜å…ˆçº§è®¾ç½®åŸåˆ™ é™æ€/åŠ¨æ€ä¼˜å…ˆçº§ ç³»ç»Ÿ \u003e ç”¨æˆ· / äº¤äº’å‹ \u003e éäº¤äº’å‹ / I/Oå‹ \u003e è®¡ç®—å‹ ä½ä¼˜å…ˆçº§è¿›ç¨‹å¯èƒ½ä¼šé¥¥é¥¿ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:17:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ—¶é—´ç‰‡è½®è½¬è°ƒåº¦ ç®—æ³•å†…å®¹ï¼šæŒ‰è¿›ç¨‹åˆ°è¾¾å°±ç»ªé˜Ÿåˆ—çš„é¡ºåºï¼Œè½®æµåˆ†é…ä¸€ä¸ªæ—¶é—´ç‰‡å»æ‰§è¡Œï¼Œæ—¶é—´ç”¨å®Œåˆ™å‰¥å¤º ç®—æ³•åŸåˆ™ï¼šå…¬å¹³ã€è½®æµä¸ºæ¯ä¸ªè¿›ç¨‹æœåŠ¡ï¼Œè¿›ç¨‹åœ¨ä¸€å®šæ—¶é—´å†…éƒ½èƒ½å¾—åˆ°å“åº” è°ƒåº¦æ–¹å¼ï¼šæŠ¢å å¼ ç”±æ—¶é’Ÿä¸­æ–­ç¡®å®šæ—¶é—´ é€‚ç”¨åœºæ™¯ï¼šè¿›ç¨‹è°ƒåº¦ ä¼˜ç¼ºç‚¹ å…¬å¹³ï¼Œå“åº”å¿«ï¼Œé€‚ç”¨äºåˆ†æ—¶ç³»ç»Ÿ æ—¶é—´ç‰‡å†³å®šå› ç´ ï¼šç³»ç»Ÿå“åº”æ—¶é—´ã€å°±ç»ªé˜Ÿåˆ—è¿›ç¨‹æ•°é‡ã€ç³»ç»Ÿå¤„ç†èƒ½åŠ› æ—¶é—´ç‰‡å¤ªå¤§ï¼Œç›¸å½“äº å…ˆæ¥å…ˆæœåŠ¡ / å¤ªå° å¤„ç†æœºåˆ‡æ¢é¢‘ç¹ å¼€é”€å¢å¤§ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:18:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"å¤šçº§åé¦ˆé˜Ÿåˆ—è°ƒåº¦ ç®—æ³•å†…å®¹ è®¾ç½®å¤šä¸ªæŒ‰ä¼˜å…ˆçº§æ’åºçš„å°±ç»ªé˜Ÿåˆ— ä¼˜å…ˆçº§ä»é«˜åˆ°ä½ æ—¶é—´ç‰‡ä»å°åˆ°å¤§ æ–°è¿›ç¨‹é‡‡ç”¨é˜Ÿåˆ—é™çº§æ³• ï¼ˆ1. è¿›å…¥ç¬¬ä¸€çº§é˜Ÿåˆ— æŒ‰å…ˆæ¥ååˆ°åˆ†æ—¶é—´ç‰‡ 2. æ²¡æœ‰æ‰§è¡Œå®Œï¼Œç§»åŠ¨åˆ°ç¬¬äºŒçº§ï¼‰ å‰é¢é˜Ÿåˆ—ä¸ä¸ºç©º ä¸æ‰§è¡Œåç»­é˜Ÿåˆ—è¿›ç¨‹ ç®—æ³•åŸåˆ™ï¼šé›†ä¸­å‰å‡ ç§ç®—æ³•çš„ä¼˜ç‚¹ è°ƒåº¦æ–¹å¼ï¼šæŠ¢å å¼ é€‚ç”¨åœºæ™¯ï¼šè¿›ç¨‹è°ƒåº¦ ä¼˜ç¼ºç‚¹ å¯¹å„ç±»å‹ç›¸å¯¹å…¬å¹³ å¯ä»¥å¿«é€Ÿå“åº” ä¹Ÿå®ç°äº†çŸ­ä½œä¸šä¼˜å…ˆ å‘¨è½¬æ—¶é—´çŸ­ åœ¨å‰å‡ ä¸ªé˜Ÿåˆ—éƒ¨åˆ†æ‰§è¡Œ è¿›ç¨‹é€šä¿¡ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:19:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"å…±äº«å†…å­˜ å…±äº«å†…å­˜ï¼ŒæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹å…±äº«ä¸€ä¸ªç»™å®šçš„å­˜å‚¨åŒº å…±äº«å†…å­˜æ˜¯æœ€å¿«çš„ä¸€ç§è¿›ç¨‹é€šä¿¡æ–¹å¼ï¼Œå› ä¸ºè¿›ç¨‹æ˜¯ç›´æ¥å¯¹å†…å­˜è¿›è¡Œå­˜å– å› ä¸ºå¤šä¸ªè¿›ç¨‹å¯ä»¥åŒæ—¶æ“ä½œ æ‰€ä»¥éœ€è¦è¿›è¡ŒåŒæ­¥ ä¿¡å·é‡ + å…±äº«å†…å­˜é€šå¸¸ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:20:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ç®¡é“é€šä¿¡ æ— åç®¡é“ åŠåŒå·¥ å…·æœ‰å›ºå®šçš„å†™ç«¯ä»¥åŠè¯»ç«¯ ç®¡é“å°±æ˜¯ä¸€ä¸ª é˜Ÿåˆ— æ˜¯å…ˆè¿›å…ˆå‡º æ— åç®¡é“åªèƒ½ç”¨äºå…·æœ‰äº²å±å…³ç³»çš„è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡ ç®¡é“å…¶å®å¯ä»¥çœ‹æˆä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶, å¯¹äºä»–çš„è¯»å†™ä¹Ÿå¯ä»¥ä½¿ç”¨ read()/write() ä½†æ˜¯ç®¡é“ä¸å±äºæ–‡ä»¶ç³»ç»Ÿï¼Œä»–æ˜¯ç”¨äºå†…å­˜ä¸­ å½“ä¸€ä¸ªç®¡é“å»ºç«‹æ—¶ï¼Œä¼šåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶æ–‡ä»¶æè¿°ç¬¦ï¼Œè¦å…³é—­ç®¡é“åªéœ€å°†è¿™ä¸¤ ä¸ªæ–‡ä»¶æè¿°ç¬¦å…³é—­å³å¯ Int pipe(int fd[2]); æœ‰åç®¡é“ï¼ˆfifoï¼‰ æœ‰åç®¡é“å¯ä»¥ç”¨äºæ— å…³çš„è¿›ç¨‹ä¹‹é—´é€šä¿¡ æœ‰åç®¡é“æœ‰è·¯å¾„åä¸ä¹‹ç›¸å…³è”ï¼Œå¥¹ä»¥ä¸€ç§ç‰¹æ®Šè®¾å¤‡æ–‡ä»¶å½¢å¼å­˜åœ¨äºæ–‡ä»¶ç³»ç»Ÿä¸­ Int mkfifo(const char* pathname, mode_t mode); ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:21:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ¶ˆæ¯é˜Ÿåˆ— æ¶ˆæ¯é˜Ÿåˆ—ï¼Œæ˜¯æ¶ˆæ¯çš„è¿æ¥è¡¨ï¼Œå­˜æ”¾åœ¨å†…æ ¸ä¸­ã€‚ä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—æœ‰ä¸€ä¸ªæ ‡è¯†ç¬¦æ¥æ ‡è¯† æ¶ˆæ¯é˜Ÿåˆ—æ˜¯é¢å‘è®°å½•çš„ï¼Œå…¶ä¸­çš„æ¶ˆæ¯å…·æœ‰ç‰¹å®šçš„æ ¼å¼ä»¥åŠç‰¹å®šçš„ä¼˜å…ˆçº§ æ¶ˆæ¯é˜Ÿåˆ—ç‹¬ç«‹äºå‘é€ä¸æ¥æ”¶è¿›ç¨‹ã€‚è¿›ç¨‹ç»ˆæ­¢æ—¶ï¼Œæ¶ˆæ¯é˜Ÿåˆ—åŠå…¶å†…å®¹ä¸ä¼šè¢«åˆ é™¤ æ¶ˆæ¯é˜Ÿåˆ—å¯ä»¥å®ç°æ¶ˆæ¯çš„éšæœºæŸ¥è¯¢ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:22:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä¿¡å·é‡ ä»€ä¹ˆæ˜¯ä¿¡å·é‡ ä¿¡å·çš„æ•°é‡ ä¸¾ä¾‹ï¼š å¥½æ¯”ä¸€ä¸ªåœè½¦åœºï¼Œé‡Œé¢å¾ˆå¤šçš„åœè½¦ä½ï¼Œåœè½¦ä½æ˜¯ä»»ä½•è½¦éƒ½å¯ä»¥åœçš„ï¼Œæ‰€ä»¥å¯ä»¥çœ‹æˆå…±äº«èµ„æºï¼Œé‚£åœè½¦ä½æ»¡äº†ï¼Œå¤–é¢è‚¯å®šå°±è¦æ’é˜Ÿ P/V æ“ä½œ Pæ“ä½œï¼š waitåŸè¯­ï¼Œè¿›ç¨‹ç­‰å¾… Væ“ä½œï¼š signalåŸè¯­ï¼Œå”¤é†’ç­‰å¾…è¿›ç¨‹ ä¿¡å·é‡çš„å·¥ä½œæœºåˆ¶ ç”±ä¸€ä¸ª å‰©ä½™èµ„æºæ•°é‡ \u0026 è¿›ç¨‹ç­‰å¾…é˜Ÿåˆ— å®ç°çš„ç»“æ„ä½“ å¦‚æœæœ‰ä¸€ä¸ªè¿›ç¨‹åœ¨æ‰§è¡Œ åˆ™å‰©ä½™èµ„æºæ•°é‡-1 å¦‚æœå‰©ä½™èµ„æºæ•°é‡ä¸ºè´Ÿæ•°ï¼Œåˆ™è®©å½“å‰ç”³è¯·èµ„æºçš„è¿›ç¨‹è¿›å…¥ç­‰å¾…é˜Ÿåˆ—å¹¶å¤„äºé˜»å¡çŠ¶æ€ å¦‚æœä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œå®Œæ¯•ï¼Œåˆ™å‰©ä½™èµ„æºæ•°é‡+1ï¼Œå¹¶ä¸”ä»ç­‰å¾…é˜Ÿåˆ—å”¤é†’ä¸€ä¸ªè¿›ç¨‹ è¿›ç¨‹åŒæ­¥ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:23:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"è¿›ç¨‹åŒæ­¥ ä»€ä¹ˆæ˜¯è¿›ç¨‹åŒæ­¥ åè°ƒè¿›ç¨‹é—´çš„ ç›¸äº’åˆ¶çº¦å…³ç³», ä½¿ä»–ä»¬æŒ‰ç…§é¢„æœŸçš„æ–¹å¼æ‰§è¡Œçš„è¿‡ç¨‹ ä¸¤ç§ç›¸äº’åˆ¶çº¦å½¢å¼ äº’æ–¥ï¼š è¿›ç¨‹æ’ä»–æ€§è®¿é—®å…±äº«èµ„æº åŒæ­¥ï¼š è¿›ç¨‹é—´çš„åˆä½œï¼Œæ¯”å¦‚ç®¡é“é€šä¿¡ äº’æ–¥çš„å®ç° ä¸´ç•ŒåŒºï¼š æ¯”å¦‚æ‰“å°æœºã€éŸ³é¢‘è®¾å¤‡ç­‰ é€šè¿‡å¯¹å¤šä¸ªè¿›ç¨‹è¿›ç¨‹ä¸²è¡ŒåŒ–æ¥è®¿é—®å…¬å…±èµ„æºæˆ–ä¸€æ®µä»£ç  åœ¨ä»»æ„æ—¶åˆ»åªå…è®¸ä¸€ä¸ªè¿›ç¨‹è®¿é—® ä¸€ä¸ªè¿›ç¨‹æˆåŠŸè®¿é—®åå°±ä¼šåŠ é” ç›´åˆ°é‡Šæ”¾é” ä¹Ÿå”¤é†’å…¶ä»–çš„é˜»å¡è¿›ç¨‹ äº’æ–¥å¯¹è±¡ï¼š äº’æ–¥å¯¹è±¡å’Œä¸´ç•ŒåŒºå¾ˆåƒï¼Œé‡‡ç”¨äº’æ–¥å¯¹è±¡æœºåˆ¶ï¼Œåªæœ‰æ‹¥æœ‰äº’æ–¥å¯¹è±¡çš„è¿›ç¨‹æ‰æœ‰è®¿é—®å…¬å…±èµ„æºçš„æƒé™ã€‚å› ä¸ºäº’æ–¥å¯¹è±¡åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥èƒ½ä¿è¯å…¬å…±èµ„æºä¸ä¼šåŒæ—¶è¢«å¤šä¸ªè¿›ç¨‹åŒæ—¶è®¿ é—®ã€‚å½“å‰æ‹¥æœ‰äº’æ–¥å¯¹è±¡çš„è¿›ç¨‹å¤„ç†å®Œä»»åŠ¡åå¿…é¡»å°†è¿›ç¨‹äº¤å‡ºï¼Œä»¥ä¾¿å…¶ä»–è¿›ç¨‹è®¿é—®è¯¥èµ„æº åŒæ­¥çš„å®ç° ä¿¡å·é‡ï¼š ä¸Šé¢å·²ç»ä»‹ç»ï¼Œåœ¨æ­¤ä¸å¤šèµ˜è¿° äº‹ä»¶å¯¹è±¡ï¼š é€šè¿‡é€šçŸ¥æ“ä½œçš„æ–¹å¼æ¥ä¿æŒè¿›ç¨‹çš„åŒæ­¥ï¼Œè¿˜å¯ä»¥æ–¹ä¾¿å®ç°å¯¹å¤šä¸ªè¿›ç¨‹çš„ä¼˜å…ˆçº§ æ¯”è¾ƒçš„æ“ä½œ æ­»é” ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:24:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ­»é” ä»€ä¹ˆæ˜¯æ­»é”ï¼š å¤šä¸ªè¿›ç¨‹ç”±äºç«äº‰èµ„æºè€Œé€ æˆçš„é˜»å¡ç°è±¡ï¼Œè‹¥æ— å¤–åŠ›å¹²é¢„ï¼Œè¿™äº›è¿›ç¨‹éƒ½æ— æ³•å‰è¿› æ­»é”äº§ç”Ÿçš„åŸå›  ç³»ç»Ÿèµ„æºçš„ç«äº‰ è¿›ç¨‹æ¨è¿‘é¡ºåºéæ³• æ­»é”äº§ç”Ÿçš„å¿…è¦æ¡ä»¶ äº’æ–¥æ¡ä»¶ï¼š å…±äº«èµ„æºçš„æ’ä»–æ€§è®¿é—® ä¸å‰¥å¤ºæ¡ä»¶ï¼š è®¿é—®æ—¶è¯¥å…±äº«èµ„æºä¸ä¼šè¢«å‰¥å¤º è¯·æ±‚å¹¶ä¿æŒï¼š ä¿æŒå½“å‰èµ„æºè¯·æ±‚å¦ä¸€ä¸ªèµ„æº å¾ªç¯ç­‰å¾…æ¡ä»¶ï¼š å­˜åœ¨å…±äº«èµ„æºå¾ªç¯ç­‰å¾…é“¾ å¤„ç†æ­»é”çš„å››å¤§æ–¹æ³• é¢„é˜²æ­»é”ï¼š ç ´åæ­»é”çš„å››å¤§å¿…è¦æ¡ä»¶ é¿å…æ­»é”ï¼š åœ¨èµ„æºçš„åŠ¨æ€åˆ†é…è¿‡ç¨‹ä¸­ï¼Œç”¨æŸç§æ–¹æ³•å»é˜²æ­¢ç³»ç»Ÿè¿›å…¥ä¸å®‰å…¨çŠ¶æ€ï¼Œä»è€Œé¿å…æ­»é”çš„å‘ç”Ÿ æ£€æµ‹æ­»é”ï¼š å…è®¸ç³»ç»Ÿåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿæ­»é”ï¼Œä½†å¯è®¾ç½®æ£€æµ‹æœºæ„åŠæ—¶æ£€æµ‹æ­»é”çš„å‘ç”Ÿï¼Œå¹¶é‡‡å–é€‚å½“æªæ–½åŠ ä»¥æ¸…é™¤ è§£é™¤æ­»é”ï¼š å½“æ£€æµ‹å‡ºæ­»é”åï¼Œä¾¿é‡‡å–é€‚å½“æªæ–½å°†è¿›ç¨‹ä»æ­»é”çŠ¶æ€ä¸­è§£è„±å‡ºæ¥ é¢„é˜²æ­»é” ä¸ é¿å…æ­»é” çš„åŒºåˆ« é¢„é˜²æ­»é”æ˜¯ç ´åæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼Œä¸¥æ ¼çš„é˜²æ­¢æ­»é”çš„å‡ºç° é¿å…æ­»é”æ˜¯ä¸ç ´åæ­»é”çš„å››ä¸ªå¿…è¦æ¡ä»¶ï¼Œå› ä¸ºå°±ç®—4ä¸ªå¿…è¦æ¡ä»¶ä¹Ÿå¯èƒ½ä¸ä¼šå‡ºç°æ­»é”ï¼Œä»–çš„è§’åº¦æ˜¯ä»ç³»ç»Ÿè¿è¡Œä¸­æ³¨æ„é¿å…æ­»é”çš„äº§ç”Ÿ æ­»é”çš„é¢„é˜² ç ´åäº’æ–¥æ¡ä»¶ å°†åªèƒ½äº’æ–¥è®¿é—®çš„èµ„æºæ”¹ä¸ºåŒæ—¶å…±äº«è®¿é—®ï¼ˆå¯ä»¥åœ¨ä¸­é—´åŠ ä¸€ä¸ªç¼“å†²é˜Ÿåˆ—ï¼‰ å°†ç‹¬å é”æ”¹ä¸ºå…±äº«é” ä¸æ˜¯æ‰€æœ‰èµ„æºéƒ½èƒ½æ”¹æˆå¯å…±äº«çš„ ç ´åä¸å‰¥å¤º/ä¸å¯æŠ¢å æ¡ä»¶ è¯·æ±‚æ–°èµ„æºæ— æ³•æ»¡è¶³æ—¶å¿…é¡»é‡Šæ”¾å·²æœ‰èµ„æº ç”±OSååŠ©å¼ºåˆ¶å‰¥å¤ºæŸè¿›ç¨‹æŒæœ‰çš„èµ„æº å®ç°å¤æ‚ï¼Œä»£ä»·é«˜ æ­¤æ“ä½œè¿‡å¤šå¯¼è‡´åŸè¿›ç¨‹ä»»åŠ¡æ— æ³•æ¨è¿› ç ´åè¯·æ±‚å¹¶ä¿æŒæ¡ä»¶ è¿›ç¨‹å¼€å§‹æ—¶ä¸€æ¬¡æ€§ç”³è¯·æ‰€éœ€èµ„æº é˜¶æ®µæ€§è¯·æ±‚å’Œé‡Šæ”¾èµ„æº ç ´åå¾ªç¯ç­‰å¾…æ¡ä»¶ å¯¹æ‰€æœ‰èµ„æºè¿›è¡Œæ’åº å¯¹èµ„æºçš„ç¼–å·åº”ç›¸å¯¹ç¨³å®šï¼Œé™åˆ¶äº†æ–°è®¾å¤‡å¢åŠ  è¿›ç¨‹ä½¿ç”¨èµ„æºçš„é¡ºåºå¯èƒ½ä¸ç³»ç»Ÿç¼–å·é¡ºåºä¸åŒ é™åˆ¶äº†ç”¨æˆ·ç¼–ç¨‹ æ­»é”çš„é¿å… é“¶è¡Œå®¶ç®—æ³• ç³»ç»Ÿé¢„åˆ¤è¿›ç¨‹è¯·æ±‚æ˜¯å¦å¯¼è‡´ä¸å®‰å…¨çŠ¶æ€ æ˜¯åˆ™æ‹’ç»è¯·æ±‚ï¼Œå¦åˆ™ç­”åº”è¯·æ±‚ æ­»é”çš„æ£€æµ‹ éœ€è¦ä¸€ç§æ•°æ®ç»“æ„ï¼Œä¿å­˜æœ‰å…³èµ„æºçš„è¯·æ±‚å’Œåˆ†é…ä¿¡æ¯ æä¾›ä¸€ç§ç®—æ³•ï¼Œåˆ©ç”¨è¿™äº›ä¿¡æ¯ç›‘æµ‹æ˜¯å¦å½¢æˆäº†æ­»é” æ­»é”çš„è§£é™¤ èµ„æºå‰¥å¤ºï¼š æŒ‚èµ·æŸäº›æ­»é”è¿›ç¨‹ï¼Œå¹¶æŠ¢å å®ƒçš„èµ„æºï¼Œå°†è¿™äº›èµ„æºåˆ†é…ç»™å…¶ä»–çš„æ­»é”è¿›ç¨‹ã€‚ä½†åº”é˜²æ­¢è¢«æŒ‚èµ·çš„è¿›ç¨‹é•¿æ—¶é—´å¾—ä¸åˆ°èµ„æºï¼Œè€Œå¤„äºèµ„æºåŒ®ä¹çš„çŠ¶æ€ æ’¤é”€è¿›ç¨‹ï¼š å¼ºåˆ¶æ’¤é”€éƒ¨åˆ†ã€ç”šè‡³å…¨éƒ¨æ­»é”è¿›ç¨‹å¹¶å‰¥å¤ºè¿™äº›è¿›ç¨‹çš„èµ„æºã€‚æ’¤é”€çš„åŸåˆ™å¯ä»¥æŒ‰è¿›ç¨‹ä¼˜å…ˆçº§å’Œæ’¤é”€è¿›ç¨‹ä»£ä»·çš„é«˜ä½è¿›è¡Œ è¿›ç¨‹å›é€€ï¼š è®©ä¸€ï¼ˆå¤šï¼‰ä¸ªè¿›ç¨‹å›é€€åˆ°è¶³ä»¥å›é¿æ­»é”çš„åœ°æ­¥ï¼Œè¿›ç¨‹å›é€€æ—¶è‡ªæ„¿é‡Šæ”¾èµ„æºè€Œä¸æ˜¯è¢«å‰¥å¤ºã€‚è¦æ±‚ç³»ç»Ÿä¿æŒè¿›ç¨‹çš„å†å²ä¿¡æ¯ï¼Œè®¾ç½®è¿˜åŸç‚¹ã€‚ ","date":"2022-07-17","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/:25:0","tags":["è¿›ç¨‹"],"title":"è¿›ç¨‹ç®¡ç†","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E8%BF%9B%E7%A8%8B/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ“ä½œç³»ç»Ÿæ¦‚è¿°","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ¦‚å¿µ ç”¨æˆ·ç©ºé—´ä¸å†…æ ¸ç©ºé—´ ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:0:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ç”¨æˆ·ç©ºé—´ä¸å†…æ ¸ç©ºé—´ ä»€ä¹ˆæ˜¯å†…æ ¸ç©ºé—´ä¸ç”¨æˆ·ç©ºé—´ åœ¨æ“ä½œç³»ç»Ÿåˆ†ä¸ºç”¨æˆ·ç©ºé—´å’Œå†…æ ¸ç©ºé—´ç”¨æˆ·ç©ºé—´é‡Œè¿è¡Œç€åº”ç”¨ç¨‹åº ç”¨æˆ·ç¨‹åºä¸èƒ½ç›´æ¥æ“ä½œå†…æ ¸ å†…æ ¸ç©ºé—´ç‹¬ç«‹äºæ™®é€šçš„åº”ç”¨ç¨‹åº å¯ä»¥è®¿é—®å—ä¿å­˜çš„å†…å­˜ç©ºé—´,ä¹Ÿå¯ä»¥è®¿é—®åº•å±‚ç¡¬ä»¶è®¾å¤‡ ä¸ºä»€ä¹ˆè¦åŒºåˆ†å†…æ ¸ç©ºé—´å’Œç”¨æˆ·æ§ä»¶ å¾ˆç®€å• ä¸ºäº†å®‰å…¨ å› ä¸ºç”¨æˆ·ç¨‹åºå¯èƒ½ä¼šæœ‰å¾ˆå¤šéšæ‚£ æ¯”å¦‚æ¸…ç©ºå†…å­˜ æ¸…ç©ºå¯„å­˜å™¨ æ“ä½œç³»ç»Ÿä¹Ÿåˆ†äº†ç‰¹æƒæŒ‡ä»¤å’Œéç‰¹æƒæŒ‡ä»¤ï¼Œå¯¹äºéå¸¸å±é™©çš„æŒ‡ä»¤ åªå…è®¸æ“ä½œç³»ç»ŸåŠå…¶ç›¸å…³çš„æ¨¡å—ä½¿ç”¨ ä¹Ÿå°±æ˜¯ç‰¹æƒæŒ‡ä»¤ ç”¨æˆ·ç¨‹åºçš„æŒ‡ä»¤ å°±æ˜¯éç‰¹æƒæŒ‡ä»¤ è¿™é‡Œè¦æ³¨æ„ ä¸­æ–­æŒ‡ä»¤ä¹Ÿæ˜¯éç‰¹æƒæŒ‡ä»¤ intelçš„cpuåˆ†ä¸º4ä¸ªç‰¹æƒç­‰çº§ Ring0~Ring3 å¦‚æœç­‰çº§æ˜¯Ring3åˆ™è¯´æ˜è¿›ç¨‹æ˜¯è¿è¡Œåœ¨ç”¨æˆ·æ€ Ring0åˆ™è¯´æ˜æ˜¯è¿›ç¨‹è¿è¡Œåœ¨å†…æ ¸æ€ æ—¶é’Ÿç®¡ç† ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:1:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ—¶é’Ÿç®¡ç† ä»€ä¹ˆæ˜¯æ—¶é’Ÿç®¡ç† åœ¨æ“ä½œç³»ç»Ÿé‡Œé¢æœ‰ä¸ªéå¸¸é‡è¦çš„å°±æ˜¯æ—¶é’Ÿ ä»–è¿˜æ˜¯ä¸€ä¸ªç¡¬ä»¶ ä½œç”¨ è®°å½•ç€ç³»ç»Ÿæ—¶é—´ æ—¶é’Ÿä¸­æ–­ (ç”¨æ¥è¿›è¡Œ è¿›ç¨‹ or çº¿ç¨‹ åˆ‡æ¢) ä¸­æ–­æœºåˆ¶ ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:2:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä¸­æ–­æœºåˆ¶ ä»€ä¹ˆæ˜¯ä¸­æ–­ ä¸­æ–­ æ˜¯ä¸ºäº†è§£å†³å¤–éƒ¨è®¾å¤‡å®ŒæˆæŸäº›å·¥ä½œåé€šçŸ¥CPUçš„ä¸€ç§æœºåˆ¶(è­¬å¦‚ç¡¬ç›˜å®Œæˆè¯»å†™æ“ä½œåé€šè¿‡ä¸­æ–­å‘ŠçŸ¥CPUå·²ç»å®Œæˆ) ä¸­æ–­çš„åˆ†ç±» ä¸­æ–­å¯ä»¥åˆ†ä¸ºåŒæ­¥ä¸­æ–­å’Œå¼‚æ­¥ä¸­æ–­ åŒæ­¥ä¸­æ–­æ˜¯å½“æŒ‡ä»¤æ‰§è¡Œæ—¶ç”± CPU æ§åˆ¶å•å…ƒäº§ç”Ÿï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºåŒæ­¥ï¼Œæ˜¯å› ä¸ºåªæœ‰åœ¨ä¸€æ¡æŒ‡ä»¤æ‰§è¡Œå®Œæ¯•å CPU æ‰ä¼šå‘å‡ºä¸­æ–­ï¼Œè€Œä¸æ˜¯å‘ç”Ÿåœ¨ä»£ç æŒ‡ä»¤æ‰§è¡ŒæœŸé—´ â€” æ¯”å¦‚ç³»ç»Ÿè°ƒç”¨ å¼‚æ­¥ä¸­æ–­æ˜¯æŒ‡ç”±å…¶ä»–ç¡¬ä»¶è®¾å¤‡ä¾ç…§ CPU æ—¶é’Ÿä¿¡å·éšæœºäº§ç”Ÿï¼Œå³æ„å‘³ç€ä¸­æ–­èƒ½å¤Ÿåœ¨æŒ‡ä»¤ä¹‹é—´å‘ç”Ÿ â€” ä¾‹å¦‚é”®ç›˜ä¸­æ–­ æ ¹æ® Intel å®˜æ–¹èµ„æ–™ï¼ŒåŒæ­¥ä¸­æ–­ç§°ä¸ºå¼‚å¸¸(exception)ï¼Œå¼‚æ­¥ä¸­æ–­è¢«ç§°ä¸ºä¸­æ–­(interrupt)ã€‚ä¸­æ–­å¯åˆ†ä¸º å¯å±è”½ä¸­æ–­(Maskable interrupt)å’Œ éå±è”½ä¸­æ–­(Nomaskable interrupt)ã€‚å¼‚å¸¸å¯åˆ†ä¸º æ•…éšœ(fault)ã€é™·é˜±(trap)ã€ç»ˆæ­¢(abort)ä¸‰ç±» ä»å¹¿ä¹‰ä¸Šè®²ï¼Œä¸­æ–­å¯åˆ†ä¸ºå››ç±»ï¼šä¸­æ–­ã€æ•…éšœã€é™·é˜±ã€ç»ˆæ­¢ ä¸­æ–­åˆ†ç±»å›¾ç¤º ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:3:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ä¸­æ–­çš„å¤„ç†è¿‡ç¨‹ å…³ä¸­æ–­ è¿›å…¥ä¸å¯å†æ¬¡å“åº”ä¸­æ–­çš„çŠ¶æ€ï¼Œç”±ç¡¬ä»¶å®ç° ä¿å­˜æ–­ç‚¹ ä¸ºäº†åœ¨[ä¸­æ–­å¤„ç†]ç»“æŸåèƒ½æ­£ç¡®è¿”å›åˆ°ä¸­æ–­ç‚¹ã€‚ç”±ç¡¬ä»¶å®ç° å¼•å‡ºä¸­æ–­æœåŠ¡ç¨‹åº å°†[ä¸­æ–­æœåŠ¡ç¨‹åº]å…¥å£åœ°å€é€PCï¼Œè½¬å‘[ä¸­æ–­æœåŠ¡ç¨‹åº]ã€‚å¯ç”±ç¡¬ä»¶å®ç°ï¼Œä¹Ÿå¯ç”±è½¯ä»¶å®ç° ä¿å­˜ç°åœºå’Œå±è”½å­— ä¿æŠ¤ç°åœºã€ç½®å±è”½å­—ã€å¼€ä¸­æ–­ï¼Œå³ä¿æŠ¤CPUä¸­æŸäº›å¯„å­˜å™¨çš„å†…å®¹ã€è®¾ç½®[ä¸­æ–­å¤„ç†]æ¬¡åºã€å… è®¸æ›´é«˜çº§çš„ä¸­æ–­è¯·æ±‚å¾—åˆ°å“åº”ï¼Œå®ç°ä¸­æ–­åµŒå¥—ç”±è½¯ä»¶å®ç° å¼€ä¸­æ–­ çœ‹ - 4 æ‰§è¡Œä¸­æ–­æœåŠ¡ç¨‹åº å®é™…ä¸Šæœ‰æ•ˆçš„ä¸­æ–­å¤„ç†å·¥ä½œæ˜¯åœ¨æ­¤ç¨‹åºæ®µä¸­å®ç°çš„ã€‚ç”±è½¯ä»¶ç¨‹åºå®ç° é€€å‡ºä¸­æ–­ åœ¨é€€å‡ºæ—¶ï¼Œåˆåº”è¿›å…¥ä¸å¯ä¸­æ–­çŠ¶æ€ï¼Œå³å…³ä¸­æ–­ã€æ¢å¤å±è”½å­—ã€æ¢å¤ç°åœºã€å¼€ä¸­æ–­ã€ä¸­æ–­è¿”å›ã€‚ç”±è½¯ä»¶å®ç° æµç¨‹å›¾ç¤º ç³»ç»Ÿè°ƒç”¨ ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:4:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"æ‰§è¡Œä¸€ä¸ªç³»ç»Ÿè°ƒç”¨æ—¶ï¼ŒOS å‘ç”Ÿçš„è¿‡ç¨‹ æ‰§è¡Œç”¨æˆ·ç¨‹åº(å¦‚:fork) æ ¹æ®glibcä¸­çš„å‡½æ•°å®ç°ï¼Œå–å¾—ç³»ç»Ÿè°ƒç”¨å·å¹¶æ‰§è¡Œint $0x80äº§ç”Ÿä¸­æ–­ è¿›è¡Œåœ°å€ç©ºé—´çš„è½¬æ¢å’Œå †æ ˆçš„åˆ‡æ¢ï¼Œæ‰§è¡ŒSAVE_ALLã€‚(è¿›è¡Œå†…æ ¸æ¨¡å¼) è¿›è¡Œä¸­æ–­å¤„ç†ï¼Œæ ¹æ®ç³»ç»Ÿè°ƒç”¨è¡¨è°ƒç”¨å†…æ ¸å‡½æ•° æ‰§è¡Œå†…æ ¸å‡½æ•° æ‰§è¡Œ RESTORE_ALL å¹¶è¿”å›ç”¨æˆ·æ¨¡å¼ ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:5:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"ç³»ç»Ÿè°ƒç”¨è·Ÿå‡½æ•°è°ƒç”¨çš„åŒºåˆ« åŸè¯­ ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:6:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["æ“ä½œç³»ç»Ÿ"],"content":"åŸè¯­ ä»€ä¹ˆæ˜¯åŸè¯­ æœ‰è‹¥å¹²æ¡æŒ‡ä»¤ç»„æˆï¼Œæ˜¯ä¸€ä¸ªç¨‹åºæ®µ, ç”¨æ¥å®ŒæˆæŸä¸ªç‰¹å®šåŠŸèƒ½ æ‰§è¡Œè¿‡ç¨‹ä¸ä¼šè¢«ä¸­æ–­å…·æœ‰åŸå­æ€§çš„å«åšåŸè¯­ åŸè¯­è¿è¡Œåœ¨å†…æ ¸ç©ºé—´ ","date":"2022-07-16","objectID":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/:7:0","tags":["æ“ä½œç³»ç»Ÿ"],"title":"æ¦‚è¿°","uri":"/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-%E6%A6%82%E8%BF%B0/"},{"categories":["MySQL"],"content":"MySQLçš„ç´¢å¼•","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"ç´¢å¼• ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:0:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"ç´¢å¼•çš„åŸºæœ¬ç§ç±» Innodb ä¸»é”®ç´¢å¼•åœ¨å»ºç«‹ä¸»é”®çš„æ—¶å€™å°±ä¼šè‡ªåŠ¨å¸®ä½ åˆ›å»ºä¸€ä¸ªä¸»é”®ç´¢å¼•ï¼Œåœ¨Innodbå¼•æ“ä¸‹ä¸»é”®ç´¢å¼•æ˜¯èšç°‡ç´¢å¼•ï¼Œå¯ä»¥ä¸å”¯ä¸€ æ™®é€šç´¢å¼•é™¤ä¸»é”®å¤–ï¼Œä»»æ„ä¸€åˆ—åˆ›å»ºçš„ç´¢å¼•å°±å«åšæ™®é€šç´¢å¼• æ™®é€šç´¢å¼•å¯ä»¥æœ‰å¤šä¸ª å”¯ä¸€ç´¢å¼•è·Ÿä¸»é”®ç´¢å¼•å”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ è¯¥ç´¢å¼•æ˜¯å”¯ä¸€çš„ï¼Œå¯ä»¥ä¸ºnull è”åˆç´¢å¼•ä¸€ä¸ªç´¢å¼•åŒ…å«å¤šä¸ªåˆ— MyISAM å…¨æ–‡ç´¢å¼•å…¨æ–‡ç´¢å¼•ç±»å‹ä¸º FULLTEXT, åœ¨å®šä¹‰ç´¢å¼•çš„åˆ—ä¸Šæ”¯æŒå€¼çš„å…¨æ–‡æŸ¥æ‰¾, å…è®¸åœ¨è¿™äº›ç´¢å¼•åˆ—ä¸­æ’å…¥é‡å¤å€¼å’Œç©ºå€¼ å¯ä»¥åœ¨ char varchar textç±»å‹åˆ—ä¸Šåˆ›å»º ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:1:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"ç´¢å¼•çš„ä¼˜ç‚¹ç¼ºç‚¹ ä¼˜ç‚¹ èƒ½å¤Ÿå¤§å¤§åŠ å¿«ç´¢å¼•çš„æŸ¥è¯¢é€Ÿåº¦ ç¼ºç‚¹ ç´¢å¼•ä¼šå ç”¨ç£ç›˜ç©ºé—´ ç»´æŠ¤ç´¢å¼•éœ€è¦æ¶ˆè€—æ•°æ®åº“çš„èµ„æº åœ¨ insert update deleteæ“ä½œä¸‹ ä¼šæ€§èƒ½ä¸‹é™ å› ä¸ºè¦ç»´æŠ¤ç´¢å¼• ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:2:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"æœ€å·¦åŒ¹é…åŸåˆ™ ç°åœ¨æœ‰ä¸€ä¸ªè”åˆç´¢å¼•åŒ…å«äº† name age bir ä¸‰ä¸ªåˆ— name bir age èƒ½å¦åˆ©ç”¨ç´¢å¼• - yes name age bir èƒ½å¦åˆ©ç”¨ç´¢å¼• - yes age bir èƒ½å¦åˆ©ç”¨ç´¢å¼• - no bir age name èƒ½å¦åˆ©ç”¨ç´¢å¼• - yes age bir èƒ½å¦åˆ©ç”¨ç´¢å¼• - no é¢å¯¹ä¸Šè¿°é—®é¢˜ æœ‰ä¸¤ä¸ªè¦æ³¨æ„ æœ€å·¦åŒ¹é…åŸåˆ™ ä¹Ÿå°±æ˜¯ â€œnameâ€ or â€œname ageâ€ or â€œname age birâ€ å°±å¯ä»¥èµ°ç´¢å¼• mysql å¼•æ“åœ¨æŸ¥è¯¢ä¸ºäº†æ›´å¥½åˆ©ç”¨ç´¢å¼• åœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­ä¼šåŠ¨æ€ä¼˜åŒ–æŸ¥è¯¢å­—æ®µ a = 1 and b = 1 and c \u003e 1 and d = 1 è”åˆç´¢å¼• èµ°åˆ°èŒƒå›´æŸ¥è¯¢å°±ä¼šåœæ­¢ æ‰€ä»¥è¿™é‡Œdä¸ä¼šèµ°åˆ°ç´¢å¼• ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:3:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"ç´¢å¼•çš„å¦™ç”¨ SELECT å¦‚æœæœ‰è¿™æ ·çš„charåˆ—ï¼Œå‰10ä¸ªå­—ç¬¦éƒ½æ˜¯å”¯ä¸€çš„ï¼Œå¯ä»¥å»ºç«‹çŸ­ç´¢å¼•ï¼ˆå‰ç¼€ç´¢å¼•ï¼‰è¿™æ ·èƒ½åŠ å¿«æŸ¥è¯¢æ•ˆç‡ å¹¶ä¸”å‡å°‘ç£ç›˜io WHERE != not inè¿™äº›å¹¶ä¸ä¼šä½¿ç”¨ç´¢å¼•ï¼Œä½†æ˜¯\u003c \u003eç­‰ éƒ½å¯ä»¥ä½¿ç”¨ç´¢å¼• å¦‚æœwhereå­å¥ä½¿ç”¨åˆ°å‡½æ•° åˆ™ä¸ä¼šèµ°ç´¢å¼• å¦‚æœwhereå­å¥å·²ç»ä½¿ç”¨è¿‡ç´¢å¼• orderby å¹¶ä¸ä¼šä½¿ç”¨ç´¢å¼• æ‰€ä»¥çœŸè¦ä½¿ç”¨orderby æœ€å¥½å»ºç«‹è”åˆç´¢å¼• å¦‚æœç”¨ like %like% %like ä¸ä½¿ç”¨ç´¢å¼• like% æ‰ä¼šä½¿ç”¨ å¦‚æœç”¨ orå¦‚æœ or å‰åçš„ä¸¤ä¸ªæ¡ä»¶çš„åˆ—éƒ½æ˜¯ç´¢å¼•, é‚£ä¹ˆæŸ¥è¯¢ä¼šä½¿ç”¨ç´¢å¼•ï¼Œ å¦‚æœå‰åä¸¤ä¸ªæ¡ä»¶æœ‰ä¸€ä¸ªä¸æ˜¯ç´¢å¼• åˆ™ä¸ä¼šä½¿ç”¨ç´¢å¼• JOIN åœ¨éœ€è¦joinçš„åˆ—æœ€å¥½ç”¨ç´¢å¼• ä½†æ˜¯è¦æ³¨æ„ ä¸»é”®ä¸å¤–é”®çš„ç±»å‹å¿…é¡»æ˜¯ç›¸åŒçš„ è¦ä¸ç„¶ä¸èµ°ç´¢å¼• ä½¿ç”¨ç´¢å¼•å»ºè®®æ€§åŸåˆ™ åœ¨ æŸ¥è¯¢ä¸­å¾ˆå°‘ä½¿ç”¨ æˆ–è€…å‚è€ƒçš„åˆ—ä¸è¦åˆ›å»ºç´¢å¼•ã€‚ç”±äºè¿™äº›åˆ—å¾ˆå°‘ä½¿ç”¨åˆ°ï¼Œå¢åŠ ç´¢å¼•åè€Œä¼šé™ä½ç³»ç»Ÿçš„ç»´æŠ¤é€Ÿåº¦å’Œå¢å¤§ç©ºé—´éœ€æ±‚ åªæœ‰å¾ˆå°‘æ•°æ®å€¼çš„åˆ— ä¹Ÿä¸åº”è¯¥å¢åŠ ç´¢å¼•ï¼Œç”±äºè¿™äº›åˆ—çš„å–å€¼å¾ˆå°‘ï¼ŒåŒºåˆ†åº¦å¤ªä½ã€‚ä¾‹å¦‚äººäº‹è¡¨ä¸­çš„æ€§åˆ«,åœ¨æŸ¥è¯¢æ—¶,éœ€è¦åœ¨è¡¨ä¸­æœç´¢çš„æ•°æ®è¡Œçš„æ¯”ä¾‹å¾ˆå¤§, å¢åŠ ç´¢å¼•ï¼Œå¹¶ä¸èƒ½æ˜æ˜¾åŠ å¿«æ£€ç´¢é€Ÿåº¦ å®šä¹‰ä¸º textã€image å’Œ bit æ•°æ®ç±»å‹çš„åˆ—ä¸åº”è¯¥å¢åŠ ç´¢å¼•ã€‚è¿™æ˜¯å› ä¸ºï¼Œè¿™äº›åˆ—çš„æ•°æ®é‡è¦ä¹ˆç›¸å½“å¤§ï¼Œè¦ä¹ˆå–å€¼å¾ˆå°‘ å½“ ä¿®æ”¹æ€§èƒ½è¿œè¿œå¤§äºæ£€ç´¢æ€§èƒ½ æ—¶ï¼Œä¸åº”è¯¥åˆ›å»ºç´¢å¼•ã€‚è¿™æ˜¯å› ä¸ºï¼ŒäºŒè€…æ˜¯ç›¸äº’çŸ›ç›¾çš„ï¼Œå½“å¢åŠ ç´¢å¼•æ—¶ï¼Œä¼šæé«˜æ£€ç´¢æ€§èƒ½ï¼Œä½†æ˜¯ä¼šé™ä½ä¿®æ”¹æ€§èƒ½ å®šä¹‰æœ‰ å¤–é”® çš„æ•°æ®åˆ—ä¸€å®šè¦åˆ›å»ºç´¢å¼• ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:4:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"B+ Tree B+ Treeå¯¼å‡ºè¿‡ç¨‹ ä¸¾ä¸ªä¾‹å­ ç°åœ¨æœ‰å‡ æ¡æ•°æ® åœ¨åº•å±‚å­˜å‚¨æ˜¯è¿™ä¹ˆå­˜å‚¨çš„ç»¿è‰²: ä¸»é”® / çº¢è‰²: æ•°æ® / è“è‰²: æŒ‡é’ˆ ä¸‹ä¸€ä¸ªæ•°æ®(node) *ä½†æ˜¯è¿™æ ·éšåé—®é¢˜å°±æ¥äº† æ•°æ®é‡å°‘å°±ç®—äº† å¦‚æœæœ‰1000æ¡æ•°æ® é“¾è¡¨æ—¶é—´å¤æ‚åº¦ä¸ºO(n) æ‰€ä»¥mysqlé‡‡ç”¨äº† **åˆ†é¡µï¼ˆå‡ç»´ï¼‰*çš„æ€è·¯æ¯ä¸€ä¸ªæ•°æ®éƒ½ä¼šå­˜æ”¾ç€è‡ªå·±çš„é‚£ä¸€é¡µçš„ç¬¬ä¸€æ¡æ•°æ®çš„é€æ¸ éšåæŒ‡é’ˆpæŒ‡å‘è‡ªå·±çš„åˆ†é¡µçš„ä¸‹ä¸€çº§æ•°æ® ç„¶åæˆ‘ä»¬æŠŠç¬¬ä¸€å±‚çš„é¡µç›®å½•å†æ¬¡æå–ä¸€å±‚ï¼Œæœ€ç»ˆç”¨äº†ä¸‰å±‚çš„ç»“æ„ ![b+æ ‘ ç»ˆæå½¢æ€](/Users/ting/Library/Application Support/typora-user-images/image-20230302174409156.png) b+ treeæ€»ç»“ B+æ ‘æœ¬è´¨ä¸Šæ˜¯ä¸€ç§å¤šå‰å¹³è¡¡äºŒå‰æ ‘ï¼Œæ˜¯ç”±å¤šä¸ªé¡µç»„æˆçš„å¤šå±‚çº§ç»“æ„ï¼Œæ¯ä¸ªé¡µ16Kbï¼Œå¯¹äºä¸»é”®ç´¢å¼•æ¥è¯´ï¼Œæœ€æœ«çº§çš„å¶å­ç»“ç‚¹æ”¾è¡Œæ•°æ®ï¼Œéå¶å­ç»“ç‚¹æ”¾çš„åˆ™æ˜¯ç´¢å¼•ä¿¡æ¯(ä¸»é”®idå’Œé¡µå·)ï¼Œç”¨äºåŠ é€ŸæŸ¥è¯¢ B+æ ‘åˆ©ç”¨äº†ç©ºé—´æ¢æ—¶é—´ã€å‡ç»´çš„æ–¹å¼(æ„é€ äº†ä¸€æ‰¹éå¶å­ç»“ç‚¹ç”¨äºå­˜æ”¾ç´¢å¼•ä¿¡æ¯)ï¼Œå°†æŸ¥è¯¢æ—¶é—´å¤æ‚åº¦ä»O(n)ä¼˜åŒ–ä¸ºO(lg(n)) ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:5:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"B+ Tree å’Œ è·³è¡¨çš„åŒºåˆ« æŸ¥è¯¢ B+æ ‘æ˜¯å¤šå‰æ ‘ç»“æ„ï¼Œæ¯ä¸ªç»“ç‚¹éƒ½æ˜¯ä¸€ä¸ª16kçš„æ•°æ®é¡µï¼Œèƒ½å­˜æ”¾è¾ƒå¤šç´¢å¼•ä¿¡æ¯ï¼Œæ‰€ä»¥æ‰‡å‡ºå¾ˆé«˜ã€‚ä¸‰å±‚å·¦å³å°±å¯ä»¥å­˜å‚¨2kwå·¦å³çš„æ•°æ® / è·³è¡¨æ˜¯é“¾è¡¨ç»“æ„ï¼Œä¸€æ¡æ•°æ®ä¸€ä¸ªç»“ç‚¹ï¼Œå¦‚æœæœ€åº•å±‚è¦å­˜æ”¾2kwæ•°æ®ï¼Œä¸”æ¯æ¬¡æŸ¥è¯¢éƒ½è¦èƒ½è¾¾åˆ°äºŒåˆ†æŸ¥æ‰¾çš„æ•ˆæœï¼Œ2kwå¤§æ¦‚åœ¨2çš„24æ¬¡æ–¹å·¦å³ï¼Œæ‰€ä»¥ï¼Œè·³è¡¨å¤§æ¦‚é«˜åº¦åœ¨24å±‚å·¦å³ï¼Œæ‰€ä»¥å¾—å‡ºç»“è®º b+Treeçš„æŸ¥è¯¢æ•ˆç‡è¦æ¯”è·³è¡¨é«˜å¾—å¤š å†™ B+æ ‘éœ€è¦æ‹†åˆ†åˆå¹¶ç´¢å¼•æ•°æ®é¡µï¼Œè·³è¡¨åˆ™ç‹¬ç«‹æ’å…¥ï¼Œå¹¶æ ¹æ®éšæœºå‡½æ•°ç¡®å®šå±‚æ•°ï¼Œæ²¡æœ‰æ—‹è½¬å’Œç»´æŒå¹³è¡¡çš„å¼€é”€ï¼Œå› æ­¤è·³è¡¨çš„å†™å…¥æ€§èƒ½ä¼šæ¯”B+æ ‘è¦å¥½ å…¶å®ï¼Œmysqlçš„å­˜å‚¨å¼•æ“æ˜¯å¯ä»¥æ¢çš„ï¼Œä»¥å‰æ˜¯myisamï¼Œåæ¥æ‰æœ‰çš„innodbï¼Œå®ƒä»¬åº•å±‚ç´¢å¼•ç”¨çš„éƒ½æ˜¯B+æ ‘ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä½ å®Œå…¨å¯ä»¥é€ ä¸€ä¸ªç´¢å¼•ä¸ºè·³è¡¨çš„å­˜å‚¨å¼•æ“è£…åˆ°mysqlé‡Œã€‚äº‹å®ä¸Šï¼Œfacebooké€ äº†ä¸ªrocksDBçš„å­˜å‚¨å¼•æ“ï¼Œé‡Œé¢å°±ç”¨äº†è·³è¡¨ã€‚ç›´æ¥è¯´ç»“è®ºï¼Œå®ƒçš„å†™å…¥æ€§èƒ½ç¡®å®æ˜¯æ¯”innodbè¦å¥½ï¼Œä½†è¯»æ€§èƒ½ç¡®å®æ¯”innodbè¦å·®ä¸å°‘ redisä¸ºä»€ä¹ˆä½¿ç”¨è·³è¡¨è€Œä¸ä½¿ç”¨B+æ ‘æˆ–äºŒå‰æ ‘å‘¢? å¤§å®¶çŸ¥é“ï¼Œredis æ˜¯çº¯çº¯çš„å†…å­˜æ•°æ®åº“ã€‚è¿›è¡Œè¯»å†™æ•°æ®éƒ½æ˜¯æ“ä½œå†…å­˜ï¼Œè·Ÿç£ç›˜æ²¡å•¥å…³ç³»ï¼Œå› æ­¤ä¹Ÿä¸å­˜åœ¨ç£ç›˜IOäº†ï¼Œæ‰€ä»¥å±‚é«˜å°±ä¸å†æ˜¯è·³è¡¨çš„åŠ£åŠ¿äº†ã€‚å¹¶ä¸”å‰é¢ä¹Ÿæåˆ°B+æ ‘æ˜¯æœ‰ä¸€ç³»åˆ—åˆå¹¶æ‹†åˆ†æ“ä½œçš„ï¼Œæ¢æˆçº¢é»‘æ ‘æˆ–è€…å…¶ä»–AVLæ ‘çš„è¯ä¹Ÿæ˜¯å„ç§æ—‹è½¬ï¼Œç›®çš„ä¹Ÿæ˜¯ä¸ºäº†ä¿æŒæ ‘çš„å¹³è¡¡ã€‚è€Œè·³è¡¨æ’å…¥æ•°æ®æ—¶ï¼Œåªéœ€è¦éšæœºä¸€ä¸‹ï¼Œå°±çŸ¥é“è‡ªå·±è¦ä¸è¦å¾€ä¸ŠåŠ ç´¢å¼•ï¼Œæ ¹æœ¬ä¸ç”¨è€ƒè™‘å‰åç»“ç‚¹çš„æ„Ÿå—ï¼Œä¹Ÿå°±å°‘äº†æ—‹è½¬å¹³è¡¡çš„å¼€é”€ã€‚å› æ­¤ï¼Œredisé€‰äº†è·³è¡¨ï¼Œè€Œä¸æ˜¯B+æ ‘ æ€»ç»“ B+æ ‘æ˜¯å¤šå‰å¹³è¡¡æœç´¢æ ‘ï¼Œæ‰‡å‡ºé«˜ï¼Œåªéœ€è¦3å±‚å·¦å³å°±èƒ½å­˜æ”¾2kwå·¦å³çš„æ•°æ®ï¼ŒåŒæ ·æƒ…å†µä¸‹è·³è¡¨åˆ™éœ€è¦24å±‚å·¦å³ï¼Œå‡è®¾å±‚é«˜å¯¹åº”ç£ç›˜IOï¼Œé‚£ä¹ˆB+æ ‘çš„è¯»æ€§èƒ½ä¼šæ¯”è·³è¡¨è¦å¥½ï¼Œå› æ­¤mysqlé€‰äº†B+æ ‘åšç´¢å¼• redisçš„è¯»å†™å…¨åœ¨å†…å­˜é‡Œè¿›è¡Œæ“ä½œï¼Œä¸æ¶‰åŠç£ç›˜IOï¼ŒåŒæ—¶è·³è¡¨å®ç°ç®€å•ï¼Œç›¸æ¯”B+æ ‘ã€AVLæ ‘ã€å°‘äº†æ—‹è½¬æ ‘ç»“æ„çš„å¼€é”€ï¼Œå› æ­¤redisä½¿ç”¨è·³è¡¨æ¥å®ç°ZSETï¼Œè€Œä¸æ˜¯æ ‘ç»“æ„ å­˜å‚¨å¼•æ“RocksDBå†…éƒ¨ä½¿ç”¨äº†è·³è¡¨ï¼Œå¯¹æ¯”ä½¿ç”¨B+æ ‘çš„innodbï¼Œè™½ç„¶å†™æ€§èƒ½æ›´å¥½ï¼Œä½†è¯»æ€§èƒ½å±å®å·®äº†äº›ã€‚åœ¨è¯»å¤šå†™å°‘çš„åœºæ™¯ä¸‹ï¼ŒB+æ ‘ä¾æ—§YYDS ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:6:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"B Tree ä¸ B+ Treeçš„åŒºåˆ« B Tree éå¶å­ç»“ç‚¹ä¹Ÿä¼šå­˜å‚¨æ•°æ® è¿™æ ·ä¼šå¯¼è‡´ æ ‘çš„é«˜åº¦æ¯” b+ tree é«˜ æŸ¥è¯¢ç£ç›˜ioæ¬¡æ•°ä¹Ÿä¼šæ¯” b+ treeé«˜ è¿™æ ·ä¼šå½±å“æŸ¥è¯¢æ•ˆç‡ B+ Tree åªæœ‰å¶å­èŠ‚ç‚¹ä¼šå­˜å‚¨æ•°æ® éå¶å­èŠ‚ç‚¹åªå­˜å‚¨é”®å€¼ä¿¡æ¯ æ³¨æ„ ä¸æ˜¯é”®å€¼å¯¹å“¦~ æ‰€æœ‰å¶å­èŠ‚ç‚¹ä¹‹é—´éƒ½æœ‰ä¸€ä¸ªé”®æŒ‡é’ˆ ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:7:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"èšç°‡ç´¢å¼• \u0026 éèšç°‡ç´¢å¼• èšç°‡ç´¢å¼• å°†æ•°æ®ä¸ç´¢å¼•å­˜æ”¾åœ¨ä¸€å— ç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹ä¿å­˜äº†è¡Œæ•°æ® éèšç°‡ç´¢å¼• å°†æ•°æ®ä¸ç´¢å¼•åˆ†å¼€å­˜å‚¨ ç´¢å¼•ç»“æ„çš„å¶å­èŠ‚ç‚¹æŒ‡å‘äº†æ•°æ®å¯¹åº”çš„ä½ç½®(æ³¨æ„ ä¸æ˜¯åœ°å€å“¦~) æ³¨æ„äº‹é¡¹ åœ¨Innodbä¸­, åœ¨èšç°‡ç´¢å¼•ä¹‹ä¸Šåˆ›å»ºçš„ç´¢å¼•ç§°ä¹‹ä¸ºè¾…åŠ©ç´¢å¼•. éèšç°‡ç´¢å¼•éƒ½æ˜¯è¾…åŠ©ç´¢å¼• åƒè”åˆç´¢å¼• å”¯ä¸€ç´¢å¼• å‰ç¼€ç´¢å¼•å¶å­èŠ‚ç‚¹å­˜å‚¨çš„ä¸å†æ˜¯è¡Œçš„ç‰©ç†ä½ç½®ï¼Œè€Œæ˜¯ä¸»é”®å€¼ è¾…åŠ©ç´¢å¼•è®¿é—®æ•°æ®æ€»æ˜¯äºŒæ¬¡æŸ¥æ‰¾ ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:8:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"åœ¨ä¸åŒå¼•æ“ä¸‹çš„ç´¢å¼• Innodb Innodbä½¿ç”¨çš„æ˜¯èšç°‡ç´¢å¼•ï¼Œå°†ä¸»é”®ç»„ç»‡åˆ°ä¸€é¢—b+æ ‘ä¸­ï¼Œè€Œè¡Œæ•°æ®å°±å‚¨å­˜åˆ°å¶å­èŠ‚ç‚¹ ä½¿ç”¨ WHERE id = 14è¿™æ ·çš„ä¸»é”®æ¡ä»¶çš„æŸ¥è¯¢è¿‡ç¨‹ æŒ‰ç…§ b+ tree çš„æ£€ç´¢ç®—æ³•å³å¯æ‰¾åˆ°å¯¹åº”çš„å¶èŠ‚ç‚¹ï¼Œä¹‹åè·å¾—è¡Œæ•°æ® ä½¿ç”¨ éä¸»é”® WHERE name = 'Ame' çš„æ¡ä»¶æŸ¥è¯¢è¿‡ç¨‹ åœ¨è¾…åŠ©ç´¢å¼•b+ treeä¸­æ£€ç´¢nameï¼Œåˆ°è¾¾å…¶å¶å­èŠ‚ç‚¹è·å–å¯¹åº”çš„ä¸»é”® ä½¿ç”¨ä¸»é”®åœ¨ä¸»ç´¢å¼•b+ treeä¸­åœ¨æ‰§è¡Œä¸€æ¬¡b+ treeæ£€ç´¢æ“ä½œï¼Œæœ€ç»ˆåˆ°è¾¾å¶å­èŠ‚ç‚¹å³å¯è·å–æ•´è¡Œæ•°æ® èšç°‡ç´¢å¼•é»˜è®¤æ˜¯ä¸»é”®ï¼Œå¦‚æœè¡¨ä¸­æ²¡æœ‰å®šä¹‰ä¸»é”®ï¼ŒInnodbä¼šé€‰æ‹©ä¸€ä¸ªå”¯ä¸€ä¸”éç©ºçš„ç´¢å¼•ä»£æ›¿ï¼Œå¦‚æœè¿˜æ˜¯æ²¡æœ‰è¿™æ ·çš„ç´¢å¼•ï¼ŒInnodbä¼šéšå¼å®šä¹‰ä¸€ä¸ªä¸»é”®æ¥ä½œä¸ºèšç°‡ç´¢å¼• å¦‚æœå·²ç»è®¾ç½®äº†ä¸»é”®ä¸ºèšç°‡ç´¢å¼•åˆå¸Œæœ›å†å•ç‹¬è®¾ç½®èšç°‡ç´¢å¼•ï¼Œå¿…é¡»å…ˆåˆ é™¤ä¸»é”®ï¼Œç„¶åæ·»åŠ æˆ‘ä»¬æƒ³è¦çš„èšç°‡ç´¢å¼•ï¼Œæœ€åæ¢å¤è®¾ç½®ä¸»é”®å³å¯ MyISAM MYISAMä½¿ç”¨çš„æ˜¯éèšç°‡ç´¢å¼• éèšç°‡ç´¢å¼•çš„ä¸¤é¢—b+æ ‘çœ‹ä¸Šå»æ²¡ä»€ä¹ˆä¸åŒ èŠ‚ç‚¹çš„ç»“æ„ä¸€æ · åªæ˜¯å­˜å‚¨çš„å†…å®¹ä¸åŒ ä¸»é”®ç´¢å¼•b+æ ‘çš„èŠ‚ç‚¹å­˜å‚¨äº†ä¸»é”®, è¾…åŠ©ç´¢å¼•b+æ ‘å­˜å‚¨äº†è¾…åŠ©é”® è¿™ä¸¤é¢—b+æ ‘çš„å¶å­èŠ‚ç‚¹éƒ½ä½¿ç”¨ä¸€ä¸ªåœ°å€æŒ‡å‘çœŸæ­£çš„è¡¨æ•° ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:9:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"ä½¿ç”¨èšç°‡ç´¢å¼•çš„ä¼˜åŠ¿ å¼•å‡º æ¯æ¬¡ä½¿ç”¨è¾…åŠ©ç´¢å¼•éƒ½è¦ç»è¿‡ä¸¤æ¬¡ b+æ ‘æŸ¥æ‰¾, çœ‹ä¸Šå»èšç°‡ç´¢å¼•çš„æ•ˆç‡æ˜æ˜¾è¦ä½äºéèšç°‡ç´¢å¼•, æ‰€ä»¥ä½¿ç”¨èšç°‡ç´¢å¼•ä¼˜åŠ¿åœ¨å“ª ç”±äºè¡Œæ•°æ®å’Œèšç°‡ç´¢å¼•çš„å¶å­èŠ‚ç‚¹å­˜å‚¨åœ¨ä¸€èµ·, åŒä¸€é¡µä¼šæœ‰å¤šæ¡æ•°æ®, è®¿é—®åŒä¸€æ•°æ®é¡µä¸åŒè¡Œè®°å½•æ—¶, å·²ç»å°†é¡µåŠ è½½åˆ°äº†buffer è¾…åŠ©ç´¢å¼•çš„å¶å­èŠ‚ç‚¹, å­˜å‚¨ä¸»é”®å€¼, è€Œä¸æ˜¯æ•°æ®çš„å­˜æ”¾åœ°å€. å¥½å¤„æ˜¯å½“è¡Œæ•°æ®å‘ç”Ÿå˜åŒ–æ—¶, ç´¢å¼•æ ‘çš„èŠ‚ç‚¹ä¹Ÿéœ€è¦å˜åŒ– æˆ–è€…æ˜¯æˆ‘ä»¬éœ€è¦æŸ¥æ‰¾çš„æ•°æ®, åœ¨ä¸Šä¸€æ¬¡ioè¯»å†™çš„ç¼“å­˜ä¸­æ²¡æœ‰, éœ€è¦å‘ç”Ÿä¸€æ¬¡æ–°çš„ioæ“ä½œæ—¶, å¯ä»¥æ¯”é¿å…å¯¹è¾…åŠ©ç´¢å¼•çš„ç»´æŠ¤å·¥ä½œï¼Œ åªéœ€è¦ç»´æŠ¤èšç°‡ç´¢å¼•æ ‘å°±å¥½äº† è¿˜æœ‰ä¸€ä¸ªå› ä¸ºè¾…åŠ©ç´¢å¼•å­˜æ”¾çš„ä¸»é”®å€¼ è¿˜å°‘äº†è¾…åŠ©ç´¢å¼•å ç”¨çš„å­˜å‚¨ç©ºé—´å¤§å° ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:10:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"mysqlçš„ä¸»é”®ç±»å‹ mysqlä¸æ¨èuuidä¸ºä¸»é”® uuidä¸é€‚åˆæ’åºä¸”å¯èƒ½ä¼šå‡ºç°æ–°å¢åŠ è®°å½•çš„uuid ä¼šæ’å…¥åœ¨ç´¢å¼•æ ‘ä¸­é—´çš„ä½ç½® å¯¼è‡´ç´¢å¼•æ ‘è°ƒæ•´å¤æ‚åº¦å˜å¤§ æ¶ˆè€—æ›´å¤šçš„æ—¶é—´å’Œèµ„æº å»ºè®®ä½¿ç”¨int bigintç±»å‹, æ–¹ä¾¿æ’åºå¹¶ä¸”é»˜è®¤ä¼šåœ¨ç´¢å¼•æ ‘çš„æœ«å°¾å¢åŠ ä¸»é”®å€¼ ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:11:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"å‚è€ƒèµ„æ–™ å‚è€ƒèµ„æ–™ ã€ŠMYSQLå†…æ ¸ï¼šINNODBå­˜å‚¨å¼•æ“ å·1ã€‹ ã€ŠRocksDBå’ŒInnodbå¼•æ“æ€§èƒ½PKèƒœè´Ÿéš¾æ–™?ã€‹ https://cloud.tencent.com/developer/article/1813695 https://www.51cto.com/article/706701.html ","date":"2017-07-30","objectID":"/mysql-%E7%B4%A2%E5%BC%95/:12:0","tags":["ç´¢å¼•"],"title":"ç´¢å¼•","uri":"/mysql-%E7%B4%A2%E5%BC%95/"},{"categories":["MySQL"],"content":"è¯¦è¿°äº†MySQLçš„äº‹åŠ¡","date":"2017-07-25","objectID":"/mysql-%E4%BA%8B%E5%8A%A1/","tags":["äº‹åŠ¡"],"title":"äº‹åŠ¡","uri":"/mysql-%E4%BA%8B%E5%8A%A1/"},{"categories":["MySQL"],"content":"äº‹åŠ¡ ","date":"2017-07-25","objectID":"/mysql-%E4%BA%8B%E5%8A%A1/:0:0","tags":["äº‹åŠ¡"],"title":"äº‹åŠ¡","uri":"/mysql-%E4%BA%8B%E5%8A%A1/"},{"categories":["MySQL"],"content":"äº‹åŠ¡ äº‹åŠ¡æ˜¯ä»€ä¹ˆ äº‹åŠ¡å°±æ˜¯è¦ä¹ˆå…¨éƒ¨å®Œæˆ è¦ä¹ˆå…¨éƒ¨å¤±è´¥ ç›®çš„æ˜¯ä¸ºäº†ä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ äº‹åŠ¡çš„ACID åŸå­æ€§ä¿è¯å…¨éƒ¨å®Œæˆ è¦ä¹ˆå…¨éƒ¨å¤±è´¥ æ²¡æœ‰ä¸­é—´çŠ¶æ€ ä»–æ˜¯é  undoæ—¥å¿—æ¥å®ç°çš„ æŒä¹…æ€§äº‹åŠ¡ä¿®æ”¹åçš„æ•°æ®ä¼šä¸€ç›´å­˜åœ¨ ä»–æ˜¯é  redoæ—¥å¿—æ¥å®ç°çš„ éš”ç¦»æ€§å¤šä¸ªäº‹åŠ¡ä¹‹é—´ä¸ä¼šäº’ç›¸å½±å“ï¼Œä»–æ˜¯é MVCCä¹Ÿå°±æ˜¯undo logæ¥å®ç°çš„ ä¸€è‡´æ€§å¤šä¸ªäº‹åŠ¡ä¿®æ”¹æ•°æ®å æ•°æ®éƒ½æ˜¯ä¸€è‡´çš„ äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ï¼ˆInnoDBå¼•æ“ä¸­, å®šä¹‰äº†å››ç§éš”ç¦»çº§åˆ«ä¾›æˆ‘ä»¬ä½¿ç”¨ çº§åˆ«è¶Šé«˜æ€§èƒ½è¶Šä½ è€Œéš”ç¦»æ€§æ˜¯ç”±mysqlçš„å„ç§é”å’ŒMVCCæœºåˆ¶æ¥å®ç°çš„ï¼‰ è¯»æœªæäº¤æˆ‘ä»¬å¯ä»¥å»è¯»äº‹åŠ¡æœªæäº¤çš„æ•°æ®ï¼Œä¼šå¸¦æ¥ è„è¯»ï¼Œä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»çš„é—®é¢˜ è¯»å·²æäº¤æˆ‘ä»¬åªå¯ä»¥å»è¯»äº‹åŠ¡å·²ç»æäº¤çš„æ•°æ®ï¼Œä¼šå¸¦æ¥ä¸å¯é‡å¤è¯»ï¼Œå¹»è¯»çš„é—®é¢˜ å¯é‡å¤è¯»ä¸€ä¸ªäº‹åŠ¡ä¸ç®¡è¯»å–å¤šå°‘æ¬¡ï¼Œè¯»çš„éƒ½æ˜¯ä»¥ç¬¬ä¸€æ¬¡è¯»çš„å¿«ç…§ä¸ºæ ‡å‡†ï¼Œä¼šå¸¦æ¥å¹»è¯»çš„é—®é¢˜ ä¸²è¡ŒåŒ–ç›´æ¥ä¸²è¡Œï¼Œä¸€ä¸ªäº‹åŠ¡ä¸€ä¸ªäº‹åŠ¡æ¥ï¼Œè¿™æ ·æ•ˆç‡å°±ä¼šåŠå…¶ä½ä¸‹ äº‹åŠ¡å½“ä¸­å­˜åœ¨çš„å¯èƒ½é—®é¢˜ è„è¯»äº‹åŠ¡Aæ­£åœ¨ä¿®æ”¹æ•°æ®ï¼Œäº‹åŠ¡Bå»è¯»äº†ï¼ŒéšåAå‘ç”Ÿäº†é—®é¢˜callbackï¼ŒBè¯»å–çš„æ•°æ®å°±ä¼šæ— æ•ˆ ä¸å¯é‡å¤è¯»äº‹åŠ¡Aæ­£åœ¨æ›´æ–°æ•°æ®ï¼Œäº‹åŠ¡Bå»è¯»æ•°æ®äº†ï¼Œéšåäº‹åŠ¡Aæ›´æ–°å®Œæ¯•ï¼Œäº‹åŠ¡Bå†å»è¯»å–ï¼Œå‘ç°å‰åæ•°æ®ä¸ä¸€è‡´ å¹»è¯»äº‹åŠ¡Aæ­£åœ¨æ’å…¥æ•°æ®ï¼Œäº‹åŠ¡Bè¯»å–å…¨éƒ¨æ•°æ®ï¼Œåœ¨äº‹åŠ¡Aæ’å…¥å‰åè¯»å–æ•°æ®ä¸ä¸€è‡´ å‘ç°æ•°æ®å¤šäº†ä¸€è¡Œ äº‹åŠ¡4å¤§éš”ç¦»çº§åˆ«å®ç°åŸç† ä¸²è¡ŒåŒ– æ’ä»–é”å’Œå…±äº«é”æ¥å®ç°çš„ è¯»é”ï¼ˆå…±äº«é”ï¼ŒSé”ï¼‰ select ... lock in share mode; è¯»é”æ˜¯å…±äº«çš„ï¼Œå¤šä¸ªäº‹åŠ¡å¯ä»¥åŒæ—¶è¯»å–åŒä¸€ä¸ªèµ„æºï¼Œä½†ä¸å…è®¸å…¶ä»–äº‹åŠ¡ä¿®æ”¹ å†™é”ï¼ˆæ’ä»–é”ï¼ŒXé”ï¼‰ select ... for update; å†™é”æ˜¯æ’ä»–çš„ï¼Œä¼šé˜»å¡å…¶ä»–çš„å†™é”å’Œè¯»é”ï¼Œupdateã€deleteã€insertéƒ½ä¼šåŠ é” å¯é‡å¤è¯» \u0026 è¯»å·²æäº¤ ä»–ä»¬ä¿©æ˜¯é MVCCæœºåˆ¶æ¥å®ç°çš„ ","date":"2017-07-25","objectID":"/mysql-%E4%BA%8B%E5%8A%A1/:1:0","tags":["äº‹åŠ¡"],"title":"äº‹åŠ¡","uri":"/mysql-%E4%BA%8B%E5%8A%A1/"},{"categories":["MySQL"],"content":"Copy On Write ä»€ä¹ˆæ˜¯COW å†™å…¥æ—¶å¤åˆ¶ å½“æœ‰å†™å…¥æ“ä½œæ—¶ å°†åŸè¡¨copyä¸€ä»½ ä¸“é—¨ä¾›æ¥ä¿®æ”¹ å¦‚æœæ­¤æ—¶æœ‰æŸ¥è¯¢æ“ä½œ åˆ™å°±æŸ¥è¯¢åŸè¡¨ï¼Œç­‰æ–°è¡¨å†™å…¥å®Œæˆåœ¨æ›¿æ¢åŸè¡¨ ç»å¸¸ç”¨äº è¯»å¤šå†™å°‘ é«˜å¹¶å‘çš„åœºæ™¯ä¸‹ï¼Œä½†æ˜¯ä¸å•å•åªç”¨äºè¯¥åœºæ™¯ ","date":"2017-07-25","objectID":"/mysql-%E4%BA%8B%E5%8A%A1/:2:0","tags":["äº‹åŠ¡"],"title":"äº‹åŠ¡","uri":"/mysql-%E4%BA%8B%E5%8A%A1/"},{"categories":["MySQL"],"content":"MVCC ä»€ä¹ˆæ˜¯MVCC å¤šç‰ˆæœ¬æ§åˆ¶é“¾ ä»–è·ŸCOWè¿˜æ˜¯å¾ˆåƒçš„ï¼Œéƒ½æ˜¯åœ¨å¹¶å‘ä¸‹ä¿è¯æ•°æ®å®‰å…¨ å¹¶ä¸”æé«˜æ•ˆç‡ MVCCå¦‚ä½•å®ç°çš„ åœ¨æˆ‘ä»¬çš„undo-logè®°å½•çš„æ•°æ®è¡¨ä¸­ å…¶å®æ˜¯æœ‰ä¸¤ä¸ªå­—æ®µ ä¸€ä¸ªæ˜¯è®°å½•ç€äº‹åŠ¡çš„å”¯ä¸€IDï¼Œä¸€ä¸ªæ˜¯å›æ»šæŒ‡é’ˆæŒ‡å‘ä¸Šä¸€ä¸ªäº‹åŠ¡ æ¯”å¦‚æˆ‘ä»¬ç°åœ¨updateä¸€ä¸ªæ•°æ® é‚£ä¹ˆè¿™ä¸ªæ›´æ–°åçš„æ•°æ®çš„å›æ»šæŒ‡é’ˆå°±ä¼šæŒ‡å‘ä¹‹å‰çš„æ•°æ®ï¼Œåé¢ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç† æ‰€ä»¥å°±å½¢æˆäº†ä¸€ä¸ªå¤šç‰ˆæœ¬æ§åˆ¶é“¾ ","date":"2017-07-25","objectID":"/mysql-%E4%BA%8B%E5%8A%A1/:3:0","tags":["äº‹åŠ¡"],"title":"äº‹åŠ¡","uri":"/mysql-%E4%BA%8B%E5%8A%A1/"},{"categories":["MySQL"],"content":"å°è°ˆé˜¿é‡Œé¢è¯•é¢˜ - æŸ¥è¯¢æ“ä½œæ–¹æ³•éœ€è¦ä½¿ç”¨äº‹åŠ¡å— è¿™ç§é¢˜å…¶å®å¤§éƒ¨åˆ†éƒ½è¦è§†æƒ…å†µè€Œå®š, å¦‚æœä½ åœ¨æŸ¥è¯¢çš„æ—¶å€™åªæœ‰ä¸€æ¡sqlè¯­å¥ é‚£è‚¯å®šæ˜¯æ²¡å¿…è¦å¼€å¯äº‹åŠ¡çš„ ä½†æ˜¯å¦‚æœä½ åœ¨å¯¼å‡ºçš„åœºæ™¯ä¸‹ è€Œä¸”éš”ç¦»çº§åˆ«æ˜¯å¯é‡å¤è¯»çš„æƒ…å†µä¸‹ å¯¼å‡ºçš„æ•°æ®è‚¯å®šæ˜¯éœ€è¦åŒä¸€ä¸ªæ—¶é—´ç»´åº¦çš„æ•°æ® æ‰€ä»¥è¿™æ—¶å€™éœ€è¦å¼€å¯äº‹åŠ¡ï¼Œå¦åˆ™å°±ä¼šå¯¼è‡´å¯¼å‡ºçš„æ•°æ®ä¸­ æ•°æ®å…¶å®ä¸æ˜¯åŒä¸€ä¸ªæ—¶é—´ç»´åº¦çš„æ•°æ® ","date":"2017-07-25","objectID":"/mysql-%E4%BA%8B%E5%8A%A1/:4:0","tags":["äº‹åŠ¡"],"title":"äº‹åŠ¡","uri":"/mysql-%E4%BA%8B%E5%8A%A1/"},{"categories":["MySQL"],"content":"MySQLæ‰§è¡Œè¿‡ç¨‹ä¸BufferPoolç¼“å­˜æœºåˆ¶ mysqlä¸ºä½•è¦å¦‚æ­¤è®¾è®¡ å› ä¸ºmysqlè¦ä¸ºå…¶æ€§èƒ½è€ƒè™‘ï¼Œkafkaä¸ºä½•ååé‡è¿™ä¹ˆé«˜ï¼Œå› ä¸ºä»–çš„å†™å…¥æ•°æ®æ˜¯é¡ºåºå†™ï¼Œé¡ºåºå†™çš„æ€§èƒ½æ˜¯ç›¸å½“é«˜ mysqlå†™å…¥ redo-logçš„æ—¶å€™å°±æ˜¯é¡ºåºå†™ï¼Œä½†æ˜¯é€šè¿‡IOçº¿ç¨‹å†™å…¥ibdç¡®å®éšæœºå†™ï¼Œè™½ç„¶å¯ä»¥ä¼˜åŒ–ï¼Œä½†æ˜¯æ€§èƒ½è‚¯å®šæ˜¯æ¯”ä¸è¿‡é¡ºåºå†™ redo-log ä¸ºä½•å¯ä»¥é¡ºåºå†™ï¼Œibdç¡®å®éšæœºå†™ redo-logä»–æ˜¯è®°å½•æ—¥å¿— è®°å½•æ—¥å¿—æœ¬æ¥å°±å¯ä»¥ç›´æ¥æ·»åŠ åœ¨æ–‡ä»¶æœ«å°¾çš„ï¼Œä¸ä¼šæ’å…¥æˆ–è€…å†™åœ¨å¼€å¤´ ibdå´ä¸ä¸€æ · æˆ‘ä»¬æœ‰å¤šä¸ªibd å› ä¸ºè¡¨æœ‰å¤šä¸ªï¼Œéšåæˆ‘ä»¬å†™æ•°æ®å¯èƒ½ä¼šæ’å…¥ï¼Œå¼€å¤´ä¹Ÿæ’å…¥ä¸€ä¸ªæ•°æ®ï¼Œæ‰€ä»¥è¿™é‡Œå°±å¿…é¡»éšæœºå†™ ","date":"2017-07-25","objectID":"/mysql-%E4%BA%8B%E5%8A%A1/:5:0","tags":["äº‹åŠ¡"],"title":"äº‹åŠ¡","uri":"/mysql-%E4%BA%8B%E5%8A%A1/"},{"categories":["MySQL"],"content":"è¯¦è¿°äº†MySQLçš„CMDå‘½ä»¤","date":"2017-07-21","objectID":"/mysql-cmd/","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"cmdå‘½ä»¤ ","date":"2017-07-21","objectID":"/mysql-cmd/:0:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"ä¸€ã€å­˜å‚¨æ•°æ®çš„æ¼”å˜è¿‡ç¨‹ 1.éšæ„çš„å­˜åˆ°ä¸€ä¸ªæ–‡ä»¶ä¸­ã€æ•°æ®æ ¼å¼ä¹Ÿæ˜¯åƒå·®ä¸‡åˆ«çš„å®Œå…¨å–å†³äºæˆ‘ä»¬è‡ªå·± \"\"\" # å°æ jason|123|NB # å°ç‹ egon-123-DBJ # å°çº¢ tank~123~hecha \"\"\" 2.è½¯ä»¶å¼€å‘ç›®å½•è§„èŒƒ é™åˆ¶äº†å­˜å‚¨æ•°æ®çš„å…·ä½“ä½ç½® \"\"\" bin conf core db lib readme \"\"\" 3.å¦‚ä½•å°†å•æœºå˜æˆè¿ç½‘ \"\"\" å‡è®¾ä¸Šè¿°æ˜¯ä¸€ä¸ªå•æœºæ¸¸æˆ é‚£ä¹ˆæ¯ä¸ªäººçš„æ¸¸æˆè®°å½•åªä¼šåœ¨è‡ªå·±çš„è®¡ç®—æœºä¸Šé¢ä¿å­˜ æ³¨å†Œç™»å½•çš„è´¦å·ä¹Ÿåªèƒ½åœ¨è‡ªå·±çš„è®¡ç®—æœºä¸Šæœ‰æ•ˆ è¿™æ ·æ˜¯ä¸è¡Œçš„ æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ å°†æ•°æ®åº“ä¿å­˜éƒ¨åˆ†å…¨éƒ¨ç»Ÿä¸€èµ·æ¥ æ‰€æœ‰äººæ“ä½œæ•°æ®éƒ½æ¥ä¸€ä¸ªåœ°æ–¹æ“ä½œ \"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:1:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒã€æ•°æ®åº“çš„æœ¬è´¨ \"\"\"æœ¬è´¨å…¶å®å°±æ˜¯ä¸€æ¬¾åŸºäºç½‘ç»œé€šä¿¡çš„åº”ç”¨ç¨‹åºé‚£å…¶å®æ¯ä¸ªäººéƒ½å¯ä»¥å¼€å‘ä¸€æ¬¾æ•°æ®åº“è½¯ä»¶ å› ä¸ºå®ƒä»…ä»…å°±æ˜¯ä¸€ä¸ªåŸºäºç½‘ç»œé€šä¿¡çš„åº”ç”¨ç¨‹åºä¹Ÿå°±æ„å‘³ç€æ•°æ®åº“è½¯ä»¶å…¶å®æœ‰å¾ˆå¤šå¾ˆå¤š å…³ç³»å‹æ•°æ®åº“ MySQLã€oracleã€db2ã€accessã€sql server éå…³ç³»å‹æ•°æ®åº“ redisã€mongodbã€memcache\"\"\"# å…³ç³»å‹ 1 æ•°æ®ä¹‹é—´å½¼æ­¤æœ‰å…³ç³»æˆ–è€…çº¦æŸ ç”·ç”Ÿè¡¨å’Œå‰å¥³å‹è¡¨ 2 å­˜å‚¨æ•°æ®çš„è¡¨ç°å½¢å¼é€šå¸¸æ˜¯ä»¥è¡¨æ ¼å­˜å‚¨ name password hobby jason 123 å­¦ä¹  egon 123 å¥³æ•™ç»ƒ tank 123 åƒç”Ÿèš æ¯ä¸ªå­—æ®µè¿˜ä¼šæœ‰å­˜å‚¨ç±»å‹çš„é™åˆ¶ æ¯”å¦‚å§“ååªèƒ½å­˜å­—ç¬¦ä¸²...# éå…³ç³»å‹ å­˜å‚¨æ•°æ®é€šå¸¸éƒ½æ˜¯ä»¥k,vé”®å€¼å¯¹çš„å½¢å¼ ","date":"2017-07-21","objectID":"/mysql-cmd/:2:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"ä¸‰ã€MYSQL \"\"\"ä»»ä½•åŸºäºç½‘ç»œé€šä¿¡çš„åº”ç”¨ç¨‹åºåº•å±‚ç”¨çš„éƒ½æ˜¯socket-æœåŠ¡ç«¯ -åŸºäºsocketé€šä¿¡ -æ”¶å‘æ¶ˆæ¯ -SQLè¯­å¥-å®¢æˆ·ç«¯ -åŸºäºsocketé€šä¿¡ -æ”¶å‘æ¶ˆæ¯ -SQLè¯­å¥\"\"\"MySQLä¸å•å•æ”¯æŒMySQLè‡ªå·±çš„å®¢æˆ·ç«¯appè¿˜æ”¯æŒå…¶ä»–ç¼–ç¨‹è¯­è¨€æ¥å……å½“å®¢æˆ·ç«¯æ“ä½œ å¦‚ä½•è§£å†³è¯­è¨€æ²Ÿé€šçš„éšœç¢ï¼Ÿ # 1 è®©æœåŠ¡ç«¯å…¼å®¹æ‰€æœ‰çš„è¯­è¨€(ä¸€ä¸ªäººç²¾é€šå¤šå›½è¯­è¨€) # 2 é‡‡ç”¨ç»Ÿä¸€çš„è¯­è¨€(SQLè¯­å¥) ","date":"2017-07-21","objectID":"/mysql-cmd/:3:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"å››ã€é‡è¦æ¦‚å¿µä»‹ç» \"\"\"åº“ ã€‹ã€‹ã€‹ æ–‡ä»¶å¤¹è¡¨ ã€‹ã€‹ã€‹ æ–‡ä»¶è®°å½• ã€‹ã€‹ã€‹ æ–‡ä»¶å†…ä¸€è¡Œè¡Œçš„æ•°æ® name password hobby jason 123 å­¦ä¹  egon 123 å¥³æ•™ç»ƒ tank 123 åƒç”Ÿèšè¡¨å¤´ è¡¨æ ¼çš„ç¬¬ä¸€è¡Œå­—æ®µå­—æ®µ nameã€passwordã€hobby\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:4:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äº”ã€MYSQLçš„å®‰è£… \"\"åœ¨ITç•Œ ä¸€èˆ¬éƒ½ä¸ä¼šè½»æ˜“çš„ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬çš„è½¯ä»¶ï¼Œå› ä¸ºæ–°ç‰ˆæœ¬å¯èƒ½ä¼šå‡ºç°å„ç§é—®é¢˜(ä½ åŸæœ¬é¡¹ç›®è·‘çš„å¥½å¥½çš„ éè¦ç”»è›‡æ·»è¶³æ›´æ–°ç‰ˆæœ¬ ç„¶åé¡¹ç›®å¥”æºƒ)å°æ®µå­: æ›´æ–°å®Œæ²¡äº‹ é‚£ä¹ˆä½ è¿˜æ˜¯ä¸€ä¸ªæ™®é€šå‘˜å·¥ æ›´æ–°å®Œå‡ºäº‹ é‚£ä¹ˆä½ å°±æ˜¯ä¸€å\"çƒˆå£«\"\"\"\"# MySQLæœ‰å¾ˆå¤šç‰ˆæœ¬(5.6ã€5.7ã€8.0) ç›®å‰ä¼ä¸šé‡Œé¢ç”¨çš„æ¯”è¾ƒå¤šçš„è¿˜æ˜¯5.6å·¦å³å‚è€ƒç½‘ç«™:https://www.mysql.com/ä¸‹è½½5.6ç‰ˆæœ¬å³å¯ï¼Œå¦‚æœä½ ä¸‹è½½äº†å…¶ä»–ç‰ˆæœ¬é—®é¢˜ä¹Ÿä¸å¤§ï¼Œå› ä¸ºsqlè¯­å¥æ˜¯ä¸€æ ·çš„å­¦æŒ‰ç…§æ•™å­¦æ–¹å¼ä¸‹è½½ï¼Œä¼šå°†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä¸€å¹¶ä¸‹è½½åˆ°æœ¬åœ°ä¸ºäº†å­¦ä¹ æ–¹ä¾¿æˆ‘ä»¬å°†æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯éƒ½åœ¨æœ¬åœ°å¯åŠ¨ï¼ŒåæœŸåˆ°äº†å…¬å¸æœåŠ¡ç«¯ä¼šä¸“é—¨è·‘åœ¨ä¸€å°æœåŠ¡å™¨ä¸Šï¼Œæ‰€æœ‰äººåŸºäºç½‘ç»œè¿æ¥æœåŠ¡ç«¯æ“ä½œ ","date":"2017-07-21","objectID":"/mysql-cmd/:5:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"å…­ã€MYSQLæœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯ # exeæ–‡ä»¶å \"\"\" æœåŠ¡ç«¯ mysqld.exe å®¢æˆ·ç«¯ mysql.exe \"\"\"# æ³¨æ„ \"\"\" åœ¨å‰æœŸé…ç½®MySQLçš„æ—¶å€™ cmdç»ˆç«¯å°½é‡ä»¥ç®¡ç†å‘˜çš„èº«ä»½è¿è¡Œ windows+r è¾“å…¥cmd è¿›å…¥çš„æ˜¯æ™®é€šç”¨æˆ·ç»ˆç«¯ æœ‰ä¸€äº›å‘½ä»¤æ˜¯æ— æ³•æ‰§è¡Œçš„ æœç´¢cmdå³é”® ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ \"\"\"# å¯åŠ¨ å…ˆåˆ‡æ¢åˆ°mysqldæ‰€åœ¨çš„binç›®å½•ä¸‹ï¼Œç„¶åè¾“å…¥mysqldå³å¯ ä¿ç•™åŸæ¥çš„cmdçª—å£é‡æ–°æ‰“å¼€ä¸€ä¸ª\"\"\"å¸¸è§è½¯ä»¶çš„é»˜è®¤ç«¯å£å· MySQL 3306 redis 6379 mongodb 27017 django 8000 flask 5000 ... MySQLç¬¬ä¸€æ¬¡ä»¥ç®¡ç†å‘˜èº«ä»½è¿›å…¥æ˜¯æ²¡æœ‰å¯†ç çš„ ç›´æ¥å›è½¦å³å¯å®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯å®Œæ•´å‘½ä»¤ mysql -h 127.0.0.1 -P 3306 -uroot -p\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:6:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"ä¸ƒã€MYSQLè¯­å¥åˆè¯† 1. MySQLç»“æŸæ˜¯ä»¥åˆ†å·(ï¼›)ä¸ºæ ‡å¿—2. åŸºæœ¬å‘½ä»¤ show databases # æŸ¥çœ‹å…¨éƒ¨çš„åº“å3. MySQLè¿æ¥ç²¾ç®€ç‰ˆå‘½ä»¤ mysql -uroot -p # çœå»äº†é»˜è®¤ipå’Œç«¯å£4. å½“ä½ è¾“å…¥çš„å‘½ä»¤ä¸å¯¹çš„æ—¶å€™ï¼Œä¸æƒ³è®©ä»–ç»§ç»­æ‰§è¡Œå’ŒæŠ¥é”™ è¾“å…¥\\cå³å¯(ä¸ç”¨åˆ†å·)5. å®¢æˆ·ç«¯é€€å‡º quit exit # ä¸ç”¨åŠ åˆ†å·6. å½“ä½ åœ¨è¿æ¥æœåŠ¡ç«¯çš„æ—¶å€™ï¼Œç›´æ¥è¾“å…¥MySQLï¼Œå°±å¯ä»¥ç™»å½•è¿›å»ï¼Œä½†æ˜¯æ˜¯æ¸¸å®¢æ¨¡å¼ï¼Œåªä¼šç»™ä½ å±•ç¤ºä¸€éƒ¨åˆ†å†…å®¹ ","date":"2017-07-21","objectID":"/mysql-cmd/:7:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"å…«ã€ç¯å¢ƒå˜é‡\u0026ç³»ç»ŸæœåŠ¡åˆ¶ä½œ \"\"\" æ‰¾åˆ°mysqlçš„binæ–‡ä»¶å¤¹ç»å¯¹è·¯å¾„ï¼Œç„¶åé‚®ä»¶æˆ‘çš„ç”µè„‘ï¼Œç‚¹å‡»å±æ€§ï¼Œå†ç‚¹å‡»é«˜çº§ç³»ç»Ÿè®¾ç½®ï¼Œåœ¨ç„¶åç‚¹å‡»ç¯å¢ƒå˜é‡ï¼Œæ‰¾åˆ°ä¸‹é¢çš„pathï¼ŒåŒå‡»ï¼Œåœ¨æ–°å»ºä¸€ä¸ªæŠŠæ–‡ä»¶å¤¹ç»å¯¹è·¯å¾„è¾“å…¥è¿›å»ï¼Œå°±å¯ä»¥ç›´æ¥cmdè¾“å…¥mysqldå•¦ï¼Œä¸ç”¨åˆ‡æ¢è·¯å¾„æ–‡ä»¶å¤¹äº† æˆ‘ä»¬ç¯å¢ƒå˜é‡å¼„å¥½äº†ï¼Œç›´æ¥cmdè¾“å…¥mysqld --install ç„¶åæ˜¾ç¤ºService successfully installedå°±æˆåŠŸäº†ï¼Œè¿™æ—¶å€™æˆ‘ä»¬åœ¨æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨ï¼Œç‚¹å‡»ç®¡ç†ï¼Œæ‰¾åˆ°mysqlï¼Œå³é”®ç‚¹å‡»å¼€å§‹ï¼Œç„¶åè¿™ä¸ªæ—¶å€™å°±è¢«æˆ‘ä»¬è®¾ç½®æˆç³»ç»Ÿå¼€æœºå°±ä¼šè‡ªåŠ¨å¯åŠ¨çš„æœåŠ¡ç«¯å•¦ï¼Œç„¶åç›´æ¥cmd ç›´æ¥è¿æ¥å®¢æˆ·ç«¯å°±å¥½å•¦\"\"\" ***å°çŸ¥è¯†ç‚¹è¡¥å……â€”â€”â€“å¦‚ä½•æŸ¥çœ‹å½“å‰è¿›ç¨‹\u0026å¦‚ä½•æ€æ­»å½“å‰è¿›ç¨‹ '''1.å¦‚ä½•æŸ¥çœ‹å½“å‰è¿›ç¨‹ tasklist |findstr mysql2.å¦‚ä½•æ€æ­»è¿›ç¨‹ taskkill /F /PID PIDå·''' ","date":"2017-07-21","objectID":"/mysql-cmd/:8:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"ä¹ã€è®¾ç½®å¯†ç  \"\"\"mysqladmin -uroot -p åŸå¯†ç  password æ–°å¯†ç ç›´æ¥åœ¨cmdè¾“å…¥ ä¸ç”¨æ‰“å¼€mysqlä¾‹å¦‚ mysqladmin -uroot -p 123 password 123456\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:9:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åã€é‡ç½®å¯†ç  \"\"\"ä½ å¯ä»¥å°†mysqlè·å–ç”¨æˆ·åå’Œå¯†ç æ ¡éªŒçš„åŠŸèƒ½çœ‹æˆæ˜¯ä¸€ä¸ªè£…é¥°å™¨è£…é¥°åœ¨äº†å®¢æˆ·ç«¯è¯·æ±‚è®¿é—®çš„åŠŸèƒ½ä¸Šæˆ‘ä»¬å¦‚æœå°†è¯¥è£…é¥°å™¨ç§»é™¤ é‚£ä¹ˆmysqlæœåŠ¡ç«¯å°±ä¸ä¼šæ ¡éªŒç”¨æˆ·åå’Œå¯†ç äº†\"\"\"# 1 å…ˆå…³é—­å½“å‰mysqlæœåŠ¡ç«¯ å‘½ä»¤è¡Œçš„æ–¹å¼å¯åŠ¨(è®©mysqlè·³è¿‡ç”¨æˆ·åå¯†ç éªŒè¯åŠŸèƒ½) mysqld --skip-grant-tables # 2 ç›´æ¥ä»¥æ— å¯†ç çš„æ–¹å¼è¿æ¥ mysql -uroot -p ç›´æ¥å›è½¦# 3 ä¿®æ”¹å½“å‰ç”¨æˆ·çš„å¯†ç  update mysql.user set password=password(123456) where user='root' and host='localhost';\"\"\"çœŸæ­£å­˜å‚¨ç”¨æˆ·è¡¨çš„å¯†ç å­—æ®µ å­˜å‚¨çš„è‚¯å®šæ˜¯å¯†æ–‡ åªæœ‰ç”¨æˆ·è‡ªå·±çŸ¥é“æ˜æ–‡æ˜¯ä»€ä¹ˆ å…¶ä»–äººéƒ½ä¸çŸ¥é“ è¿™æ ·æ›´åŠ çš„å®‰å…¨å¯†ç æ¯”å¯¹ä¹Ÿåªèƒ½æ¯”å¯¹å¯†æ–‡\"\"\"# 4 ç«‹åˆ»å°†ä¿®æ”¹æ•°æ®åˆ·åˆ°ç¡¬ç›˜ flush privileges;# 5 å…³é—­å½“å‰æœåŠ¡ç«¯ ç„¶åä»¥æ­£å¸¸æ ¡éªŒæˆæƒè¡¨çš„å½¢å¼å¯åŠ¨ ","date":"2017-07-21","objectID":"/mysql-cmd/:10:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åä¸€ã€MYSQLé…ç½®æ–‡ä»¶ä¿®æ”¹â€”â€“ç»Ÿä¸€ç¼–ç  \"\"\"æˆ‘ä»¬æ¥æ‰“å¼€my-default.iniçš„æ–‡ä»¶ï¼Œiniä¸ºç»“å°¾çš„æ–‡ä»¶ä¸€èˆ¬éƒ½æ˜¯é…ç½®æ–‡ä»¶ï¼Œç¨‹åºå¯åŠ¨ä¼šå…ˆåŠ è½½é…ç½®æ–‡ä»¶åœ¨çœŸæ­£å¯åŠ¨\"\"\"[mysqld] # ä¸€æ—¦æœåŠ¡ç«¯å¯åŠ¨ç«‹åˆ»åŠ è½½ä¸‹é¢çš„é…ç½®sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES [mysql] # ä¸€æ—¦å®¢æˆ·ç«¯å¯åŠ¨ç«‹åˆ»åŠ è½½ä¸‹é¢çš„é…ç½®...[client] # å…¶ä»–å®¢æˆ·ç«¯...# æˆ‘ä»¬æ¥æ–°å»ºä¸€ä¸ªiniæ–‡ä»¶------my.ini# æˆ‘ä»¬åœ¨è¿™é‡Œæ¥å†™ä¸ªåŒæ„ç¼–ç çš„æ–‡ä»¶ï¼Œç„¶åæˆ‘ä»¬è¿˜å¯ä»¥å·ä¸ªæ‡’ï¼ŒæŠŠç”¨æˆ·åå’Œå¯†ç ä¹Ÿå†™è¿›å»ï¼Œå®ç°è‡ªåŠ¨ç™»å½•ï¼Œä»£ç å¦‚ä¸‹ [mysqld] character-set-server=utf8 collation-server=utf8_general_ci [client] default-character-set=utf8 [mysql] user=\"root\" password=123456 default-character-set=utf8# æˆ‘ä»¬ä¿®æ”¹å è¦å»é‡å¯æœåŠ¡ç«¯ï¼Œç„¶åå†å»ç™»é™† ","date":"2017-07-21","objectID":"/mysql-cmd/:11:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åäºŒã€MYSQLçš„åŸºæœ¬è¯­å¥ ","date":"2017-07-21","objectID":"/mysql-cmd/:12:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"12.1 åº“çš„å¢åˆ æ”¹æŸ¥(æ–‡ä»¶å¤¹) # å¢ create database ame; create database yuki charset='gbk';# æŸ¥ show database; show create database yuki;# æ”¹ alter database ame charset='gbk';# åˆ  drop database ame; ","date":"2017-07-21","objectID":"/mysql-cmd/:12:1","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"12.2 è¡¨çš„å¢åˆ æ”¹æŸ¥(æ–‡ä»¶) # æŸ¥çœ‹å½“å‰åº“æ‰€åœ¨ select database();# åˆ‡æ¢åº“ use ame;# å¢ create table t1(id int, name char(4)); # é‡Œé¢4çš„æ„æ€å°±æ˜¯æœ€å¤§æ•°æ®4ä¸ª# æŸ¥ show tables # æŸ¥çœ‹æ‰€æœ‰è¡¨ show create table t1 # æŸ¥çœ‹t1è¡¨ describe t1; # æŸ¥çœ‹t1è¡¨ ç®€å†™ desc t1# æ”¹ alter table t1 modify name char(16);# åˆ  drop table t1;\"\"\"create table ame.t1(id int, name char(16)); ä½¿ç”¨ç»å¯¹è·¯å¾„ä¹Ÿæ˜¯å¯ä»¥å¢åŠ çš„ï¼Œç”¨æ¥æ“åšä¸åŒçš„åº“\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:12:2","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"12.3 æ•°æ®çš„å¢åˆ æ”¹æŸ¥ # å¢ insert into t1 values(1, 'Ame'); insert into t1 values(2, 'yuki'),(3, 'ori');# æŸ¥ select * from t1; # æŸ¥çœ‹æ‰€æœ‰ æ•°æ®ç‰¹åˆ«å¤§ä¸å»ºè®®ç”¨ select name from t1; # æŸ¥çœ‹name# æ”¹ update t1 set name='DSB' where id \u003e 1;# åˆ  delete from t1 where id \u003e 1; delete from t1 where name='Ame';# å°†è¡¨æ‰€æœ‰çš„æ•°æ®æ¸…ç©º delete from t1; ","date":"2017-07-21","objectID":"/mysql-cmd/:12:3","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åä¸‰ã€å­˜å‚¨å¼•æ“ \"\"\"MySQL ä¸»è¦çš„å­˜å‚¨å¼•æ“ 1.Innodb æ˜¯MySQL5.5ç‰ˆæœ¬æœºåˆ¶åé»˜è®¤çš„å­˜å‚¨å¼•æ“ å­˜å‚¨æ•°æ®æ›´åŠ çš„å®‰å…¨ 2. myisam æ˜¯MySQL5.5ç‰ˆæœ¬ä¹‹å‰é»˜è®¤çš„å­˜å‚¨å¼•æ“ é€Ÿåº¦è¦æ¯”Innodbæ›´å¿« ä½†æ˜¯æˆ‘ä»¬æ›´åŠ æ³¨é‡çš„æ˜¯æ•°æ®çš„å®‰å…¨ 3.memory å†…å­˜å¼•æ“(æ•°æ®å…¨éƒ¨å­˜æ”¾åœ¨å†…å­˜ä¸­)æ–­ç”µæ•°æ®ä¸¢å¤± 4.blackhole æ— è®ºå­˜ä»€ä¹ˆï¼Œéƒ½ç«‹åˆ»æ¶ˆå¤±(é»‘æ´)\"\"\"\"\"\"# æŸ¥çœ‹æ‰€æœ‰çš„å­˜å‚¨å¼•æ“ show engines;# ä¸åŒçš„å­˜å‚¨å¼•æ“åœ¨å­˜å‚¨è¡¨çš„æ—¶å€™ å¼‚åŒç‚¹ create table t1(id int) engine=innodb; create table t2(id int) engine=myisam; create table t3(id int) engine=blackhole; create table t4(id int) engine=memory;# å­˜æ•°æ® insert into t1 values(1); insert into t2 values(1); insert into t3 values(1); insert into t4 values(1);\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:13:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åå››ã€åˆ›å»ºè¡¨çš„å®Œæ•´è¯­æ³• # è¯­æ³•create table è¡¨å( å­—æ®µå1 ç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶, å­—æ®µå2 ç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶, å­—æ®µå3 ç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶)# æ³¨æ„1 åœ¨åŒä¸€å¼ è¡¨ä¸­å­—æ®µåä¸èƒ½é‡å¤2 å®½åº¦å’Œçº¦æŸæ¡ä»¶æ˜¯å¯é€‰çš„(å¯å†™å¯ä¸å†™) è€Œå­—æ®µåå’Œå­—æ®µç±»å‹æ˜¯å¿…é¡»çš„ çº¦æŸæ¡ä»¶å†™çš„è¯ ä¹Ÿæ”¯æŒå†™å¤šä¸ª å­—æ®µå1 ç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶1 çº¦æŸæ¡ä»¶2..., create table t5(id); æŠ¥é”™3 æœ€åä¸€è¡Œä¸èƒ½æœ‰é€—å· create table t6( id int, name char, ); æŠ¥é”™\"\"\"è¡¥å……\"\"\"# å®½åº¦ ä¸€èˆ¬æƒ…å†µä¸‹æŒ‡çš„æ˜¯å¯¹å­˜å‚¨æ•°æ®çš„é™åˆ¶ create table t7(name char); é»˜è®¤å®½åº¦æ˜¯1 insert into t7 values('jason'); insert into t7 values(null); å…³é”®å­—NULL é’ˆå¯¹ä¸åŒçš„ç‰ˆæœ¬ä¼šå‡ºç°ä¸åŒçš„æ•ˆæœ 5.6ç‰ˆæœ¬é»˜è®¤æ²¡æœ‰å¼€å¯ä¸¥æ ¼æ¨¡å¼ è§„å®šåªèƒ½å­˜ä¸€ä¸ªå­—ç¬¦ä½ ç»™äº†å¤šä¸ªå­—ç¬¦ï¼Œé‚£ä¹ˆæˆ‘ä¼šè‡ªåŠ¨å¸®ä½ æˆªå– 5.7ç‰ˆæœ¬åŠä»¥ä¸Šæˆ–è€…å¼€å¯äº†ä¸¥æ ¼æ¨¡å¼ é‚£ä¹ˆè§„å®šåªèƒ½å­˜å‡ ä¸ª å°±ä¸èƒ½è¶…ï¼Œä¸€æ—¦è¶…å‡ºèŒƒå›´ç«‹åˆ»æŠ¥é”™ Data too long for ....\"\"\"ä¸¥æ ¼æ¨¡å¼åˆ°åº•å¼€ä¸å¼€å‘¢ï¼Ÿ\"\"\"MySQL5.7ä¹‹åçš„ç‰ˆæœ¬é»˜è®¤éƒ½æ˜¯å¼€å¯ä¸¥æ ¼æ¨¡å¼çš„ä½¿ç”¨æ•°æ®åº“çš„å‡†åˆ™: èƒ½å°½é‡å°‘çš„è®©æ•°æ®åº“å¹²æ´»å°±å°½é‡å°‘ ä¸è¦ç»™æ•°æ®åº“å¢åŠ é¢å¤–çš„å‹åŠ›# çº¦æŸæ¡ä»¶ null not nullä¸èƒ½æ’å…¥nullcreate table t8(id int,name char not null);\"\"\"å®½åº¦å’Œçº¦æŸæ¡ä»¶åˆ°åº•æ˜¯ä»€ä¹ˆå…³ç³» å®½åº¦æ˜¯ç”¨æ¥é™åˆ¶æ•°æ®çš„å­˜å‚¨ çº¦æŸæ¡ä»¶æ˜¯åœ¨å®½åº¦çš„åŸºç¡€ä¹‹ä¸Šå¢åŠ çš„é¢å¤–çš„çº¦æŸ\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:14:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åäº”ã€åŸºæœ¬æ•°æ®ç±»å‹ ","date":"2017-07-21","objectID":"/mysql-cmd/:15:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"15.1 æ•´å½¢ 1.åˆ†ç±» tinyint smallint meduimint int bigint2.ä½œç”¨ å­˜å‚¨å¹´é¾„ ç­‰çº§ id å·ç ...\"\"\"ä»¥tinyint æ˜¯å¦æœ‰ç¬¦å· é»˜è®¤æƒ…å†µä¸‹æ˜¯å¸¦ç¬¦å·çš„ è¶…å‡ºä¼šå¦‚ä½• è¶…å‡ºé™åˆ¶åªå­˜æœ€å¤§å¯æ¥å—å€¼\"\"\"create table t9(id tinyint);insert into t9 values(-129),(256);# çº¦æŸæ¡ä»¶ä¹‹unsigned æ— ç¬¦å·create table t10(id tinyint unsigned);# inté»˜è®¤ä¹Ÿæ˜¯å¸¦ç¬¦å·çš„# æ•´å½¢é»˜è®¤æƒ…å†µä¸‹éƒ½æ˜¯å¸¦æœ‰ç¬¦å·çš„create table t11(id int);# é’ˆå¯¹æ•´å½¢ æ‹¬å·å†…çš„å®½åº¦åˆ°åº•æ˜¯å¹²å˜›çš„create table t12(id int(8));insert into t12 values(123456789)\"\"\"ç‰¹ä¾‹ï¼šåªæœ‰æ•´å½¢æ‹¬å·é‡Œé¢çš„æ•°å­—ä¸æ˜¯è¡¨ç¤ºé™åˆ¶ä½æ•°id int(8) å¦‚æœæ•°å­—æ²¡æœ‰è¶…å‡º8ä½ é‚£ä¹ˆé»˜è®¤ç”¨ç©ºæ ¼å¡«å……è‡³8ä½ å¦‚æœæ•°å­—è¶…å‡ºäº†8ä½ é‚£ä¹ˆæœ‰å‡ ä½å°±å­˜å‡ ä½(ä½†æ˜¯è¿˜è¦æ˜¯éµå®ˆæœ€å¤§èŒƒå›´)\"\"\"create table t13(id int(8) unsigned zerofill);# ç”¨0å¡«å……åˆ°8ä½# æ€»ç»“ é’ˆå¯¹æ•´å½¢å­—æ®µ æ‹¬å·å†…æ— éœ€æŒ‡å®šå®½åº¦ å› ä¸ºä»–é»˜è®¤çš„å®½åº¦ä»¥åŠè¶³å¤Ÿæ˜¾ç¤ºæ‰€æœ‰çš„æ•°æ®äº† ","date":"2017-07-21","objectID":"/mysql-cmd/:15:1","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"15.2 ä¸¥æ ¼æ¨¡å¼(å°æ’æ›²) # å¦‚ä½•æŸ¥çœ‹ä¸¥æ ¼æ¨¡å¼show variables like \"%mode\";æ¨¡ç³ŠåŒ¹é…/æŸ¥è¯¢ å…³é”®å­— like %:åŒ¹é…ä»»æ„å¤šä¸ªå­—ç¬¦ _:åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦# ä¿®æ”¹ä¸¥æ ¼æ¨¡å¼ set session åªåœ¨å½“å‰çª—å£æœ‰æ•ˆ set global å…¨å±€æœ‰æ•ˆ set global sql_mode = 'STRICT_TRANS_TABLES'; ä¿®æ”¹å®Œä¹‹å é‡æ–°è¿›å…¥æœåŠ¡ç«¯å³å¯ ","date":"2017-07-21","objectID":"/mysql-cmd/:15:2","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"15.3 æµ®ç‚¹å‹ 1.åˆ†ç±» FLOATã€DOUBLEã€DECIMAL2.ä½œç”¨ èº«é«˜ã€ä½“é‡ã€è–ªèµ„# å­˜å‚¨é™åˆ¶float(255,30) # æ€»å…±255ä½ å°æ•°éƒ¨åˆ†å 30ä½double(255,30) # æ€»å…±255ä½ å°æ•°éƒ¨åˆ†å 30ä½decimal(65,30) # æ€»å…±65ä½ å°æ•°éƒ¨åˆ†å 30ä½# ç²¾ç¡®åº¦éªŒè¯create table t15(id float(255,30));create table t16(id double(255,30));create table t17(id decimal(65,30));\"\"\"ä½ ä»¬åœ¨å‰æœŸä¸è¦ç»™æˆ‘ç”¨åå‘é”® æ‰€æœ‰çš„å‘½ä»¤å…¨éƒ¨æ‰‹æ•²ï¼ï¼ï¼å¢åŠ ç†Ÿç»ƒåº¦\"\"\"insert into t15 values(1.111111111111111111111111111111);insert into t16 values(1.111111111111111111111111111111);insert into t17 values(1.111111111111111111111111111111);float \u003c double \u003c decimal# è¦ç»“åˆå®é™…åº”ç”¨åœºæ™¯ ä¸‰è€…éƒ½èƒ½ä½¿ç”¨ ","date":"2017-07-21","objectID":"/mysql-cmd/:15:3","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"15.4 å­—ç¬¦ç±»å‹ 1.åˆ†ç±» \"\"\" char å®šé•¿ char(4) æ•°æ®è¶…è¿‡å››ä¸ªå­—ç¬¦ç›´æ¥æŠ¥é”™ ä¸å¤Ÿå››ä¸ªå­—ç¬¦ç©ºæ ¼è¡¥å…¨ varchar å˜é•¿ varchar(4) æ•°æ®è¶…è¿‡å››ä¸ªå­—ç¬¦ç›´æ¥æŠ¥é”™ ä¸å¤Ÿæœ‰å‡ ä¸ªå­˜å‡ ä¸ª \"\"\" create table t18(name char(4)); create table t19(name varchar(4)); insert into t18 values('a'); insert into t19 values('a');# ä»‹ç»ä¸€ä¸ªå°æ–¹æ³• char_lengthç»Ÿè®¡å­—æ®µé•¿åº¦ select char_length(name) from t18; select char_length(name) from t19; \"\"\" é¦–å…ˆå¯ä»¥è‚¯å®šçš„æ˜¯ charç¡¬ç›˜ä¸Šå­˜çš„ç»å¯¹æ˜¯çœŸæ­£çš„æ•°æ® å¸¦æœ‰ç©ºæ ¼çš„ ä½†æ˜¯åœ¨æ˜¾ç¤ºçš„æ—¶å€™MySQLä¼šè‡ªåŠ¨å°†å¤šä½™çš„ç©ºæ ¼å‰”é™¤ \"\"\"# å†æ¬¡ä¿®æ”¹sql_mode è®©MySQLä¸è¦åšè‡ªåŠ¨å‰”é™¤æ“ä½œ set global sql_mode = 'STRICT_TRANS_TABLES,PAD_CHAR_TO_FULL_LENGTH'; # char ä¸ varcharå¯¹æ¯” \"\"\" char ç¼ºç‚¹:æµªè´¹ç©ºé—´ ä¼˜ç‚¹:å­˜å–éƒ½å¾ˆç®€å• ç›´æ¥æŒ‰ç…§å›ºå®šçš„å­—ç¬¦å­˜å–æ•°æ®å³å¯ jason egon alex wusir tank å­˜æŒ‰ç…§äº”ä¸ªå­—ç¬¦å­˜ å–ä¹Ÿç›´æ¥æŒ‰ç…§äº”ä¸ªå­—ç¬¦å– varchar ä¼˜ç‚¹:èŠ‚çœç©ºé—´ ç¼ºç‚¹:å­˜å–è¾ƒä¸ºéº»çƒ¦ 1bytes+jason 1bytes+egon 1bytes+alex 1bytes+tank å­˜çš„æ—¶å€™éœ€è¦åˆ¶ä½œæŠ¥å¤´ å–çš„æ—¶å€™ä¹Ÿéœ€è¦å…ˆè¯»å–æŠ¥å¤´ ä¹‹åæ‰èƒ½è¯»å–çœŸå®æ•°æ® ä»¥å‰åŸºæœ¬ä¸Šéƒ½æ˜¯ç”¨çš„char å…¶å®ç°åœ¨ç”¨varcharçš„ä¹ŸæŒºå¤š \"\"\"è¡¥å……: è¿›æ¥å…¬å¸ä¹‹åä½ å®Œå…¨ä¸éœ€è¦è€ƒè™‘å­—æ®µç±»å‹å’Œå­—æ®µå å› ä¸ºäº§å“ç»ç†ç»™ä½ å‘çš„é‚®ä»¶ä¸Šå·²ç»å…¨éƒ¨æŒ‡æ˜äº† ","date":"2017-07-21","objectID":"/mysql-cmd/:15:4","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"15.5 æ—¶é—´ç±»å‹ 1.åˆ†ç±» date:å¹´æœˆæ—¥ 2020-5-4 datetime:å¹´æœˆæ—¥æ—¶åˆ†ç§’ 2020-5-4 11:11:11 time:æ—¶åˆ†ç§’ 11:11:11 Year:å¹´ 2020 2.å…·ä½“ä½¿ç”¨ create table student( id int, name varchar(16), born_year year, birth date, study_time time, reg_time datetime ); insert into student values(1,'egon','1880','1880-11-11','11:11:11','2020-11-11 11:11:11'); ","date":"2017-07-21","objectID":"/mysql-cmd/:15:5","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"15.6 æšä¸¾ä¸é›†åˆç±»å‹ 1.åˆ†ç±» \"\"\" æšä¸¾(enum) å¤šé€‰ä¸€ é›†åˆ(set) å¤šé€‰å¤š \"\"\" 2.å…·ä½“ä½¿ç”¨ create table user( id int, name char(16), gender enum('male','female','others') ); insert into user values(1,'jason','male'); æ­£å¸¸ insert into user values(2,'egon','xxxxooo'); æŠ¥é”™# æšä¸¾å­—æ®µ åæœŸåœ¨å­˜æ•°æ®çš„æ—¶å€™åªèƒ½ä»æšä¸¾é‡Œé¢é€‰æ‹©ä¸€ä¸ªå­˜å‚¨ create table teacher( id int, name char(16), gender enum('male','female','others'), hobby set('read','DBJ','hecha') ); insert into teacher values(1,'jason','male','read'); æ­£å¸¸ insert into teacher values(2,'egon','female','DBJ,hecha'); æ­£å¸¸ insert into teacher values(3,'tank','others','ç”Ÿèš'); æŠ¥é”™# é›†åˆå¯ä»¥åªå†™ä¸€ä¸ª ä½†æ˜¯ä¸èƒ½å†™æ²¡æœ‰åˆ—ä¸¾çš„ ","date":"2017-07-21","objectID":"/mysql-cmd/:15:6","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åå…­ã€çº¦æŸæ¡ä»¶ ","date":"2017-07-21","objectID":"/mysql-cmd/:16:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"16.1 DEFAULT é»˜è®¤å€¼ default é»˜è®¤å€¼ è¡¥å……çŸ¥è¯†ç‚¹ æ’å…¥æ•°æ®çš„æ—¶å€™å¯ä»¥æŒ‡å®šå­—æ®µ create table t1( id int, name char(16) ); insert into t1(name,id) values('ame',1) create table t2( id int, name char(16), gender enum('male','female','others')default 'male' ); insert into t2(id, name) values(1,'jason'); insert into t2 values(2, 'egon', 'female'); ","date":"2017-07-21","objectID":"/mysql-cmd/:16:1","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"16.2 UNIQUEå”¯ä¸€ uniqueå”¯ä¸€ # å•åˆ—å”¯ä¸€ create table t3( id int unique, name char(16) ); insert into t3 values(1,'jason'),(1,'egon'); insert into t3 values(1,'jason'),(2,'egon'); # è”åˆå”¯ä¸€ \"\"\" ipå’Œport å•ä¸ªéƒ½å¯ä»¥é‡å¤ ä½†æ˜¯åŠ åœ¨ä¸€èµ·å¿…é¡»æ˜¯å”¯ä¸€çš„ \"\"\" create table t4( id int, ip char(16), port int, unique(ip,port) ); insert into t4 values(1,'127.0.0.1',8080); insert into t4 values(2,'127.0.0.1',8081); insert into t4 values(3,'127.0.0.2',8080); insert into t4 values(4,'127.0.0.1',8080); æŠ¥é”™ ","date":"2017-07-21","objectID":"/mysql-cmd/:16:2","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"16.3 PRIMARY KEY ä¸»é”® \"\"\"1.å•å•ä»çº¦æŸæ•ˆæœä¸Šæ¥çœ‹primary keyç­‰ä»·äºnot null + uniqueéç©ºä¸”å”¯ä¸€!!!\"\"\" create table t5(id int primary key); insert into t5 values(null); æŠ¥é”™ insert into t5 values(1),(1); æŠ¥é”™ insert into t5 values(1),(2);\"\"\"2.å®ƒé™¤äº†æœ‰çº¦æŸæ•ˆæœä¹‹å¤– ä»–è¿˜æ˜¯Innodbå­˜å‚¨å¼•æ“ç»„ç»‡æ•°æ®çš„ä¾æ®Innodbå­˜å‚¨å¼•æ“åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™å¿…é¡»è¦æœ‰primary keyå› ä¸ºå®ƒç±»ä¼¼äºä¹¦çš„ç›®å½• èƒ½å¤Ÿå¸®åŠ©æç¤ºæŸ¥è¯¢æ•ˆç‡å¹¶ä¸”ä¹Ÿæ˜¯å»ºè¡¨çš„ä¾æ®\"\"\" 2.1 ä¸€å¼ è¡¨ä¸­æœ‰ä¸”åªæœ‰ä¸€ä¸ªä¸»é”® å¦‚æœä½ æ²¡æœ‰è®¾ç½®ä¸»é”® é‚£ä¹ˆä¼šä»ä¸Šå¾€ä¸‹æœç´¢ç›´åˆ°é‡åˆ°ä¸€ä¸ªéç©ºä¸”å”¯ä¸€çš„å­—æ®µå°†ä»–è‡ªåŠ¨å‡çº§ä¸ºä¸»é”® create table t6( id int, name char(16), age int not null unique, addr char(32) not null unique ); 2.2 å¦‚æœè¡¨ä¸­æ²¡æœ‰ä¸»é”®ä¹Ÿæ²¡æœ‰å…¶ä»–ä»»ä½•å’Œçš„éç©ºä¸”å”¯ä¸€çš„å­—æ®µ é‚£ä¹ˆInnodbä¼šé‡‡ç”¨è‡ªå·±å†…éƒ¨æä¾›çš„ä¸€ä¸ªéšè—å­—æ®µä½œä¸ºä¸»é”®ï¼Œéšè—æ„å‘³ç€ä½ æ— æ³•ä½¿ç”¨åˆ°å®ƒ å°±æ— æ³•æç¤ºæŸ¥è¯¢é€Ÿåº¦ 3.3 ä¸€å¼ è¡¨ä¸­é€šå¸¸éƒ½åº”è¯¥æœ‰ä¸€ä¸ªä¸»é”®å­—æ®µ å¹¶ä¸”é€šå¸¸å°†id/uid/sidå­—æ®µä½œä¸ºä¸»é”® å•ä¸ªå­—æ®µä¸»é”® create table t5( id int primary key name char(16) ); è”åˆä¸»é”®(å¤šä¸ªå­—æ®µè”åˆèµ·æ¥ä½œä¸ºè¡¨çš„ä¸»é”® æœ¬è´¨è¿˜æ˜¯ä¸€ä¸ªä¸»é”®) create table t7( ip char(16), port int, primary key(ip, port) ); \"\"\" ä¹Ÿæ„å‘³ç€ ä»¥åæˆ‘ä»¬åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™idå­—æ®µä¸€å®šè¦åŠ primary key \"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:16:3","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"16.4 AUTO_INCREMENT è‡ªå¢ # å½“ç¼–å·ç‰¹åˆ«å¤šçš„æ—¶å€™ äººä¸ºçš„å»ç»´æŠ¤å¤ªéº»çƒ¦ create table t8( id int primary key auto_increment, name char(16) ); insert into t8(name) values('jason'),('egon'),('kevin');# æ³¨æ„auto_incrementé€šå¸¸éƒ½æ˜¯åŠ åœ¨ä¸»é”®ä¸Šçš„ ä¸èƒ½ç»™æ™®é€šå­—æ®µåŠ  create table t9( id int primary key auto_increment, name char(16), cid int auto_increment ); ERROR 1075 (42000): Incorrect table definition; there can be only one auto column and it must be defined as a key ","date":"2017-07-21","objectID":"/mysql-cmd/:16:4","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åä¸ƒã€è¡¨ä¸è¡¨ä¹‹é—´å»ºå…³ç³» ","date":"2017-07-21","objectID":"/mysql-cmd/:17:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.1 é—®é¢˜å¼•å‡º \"\"\"å®šä¹‰ä¸€å¼ å‘˜å·¥è¡¨ è¡¨ä¸­æœ‰å¾ˆå¤šå­—æ®µid name gender dep_name dep_desc\"\"\"# 1 è¯¥è¡¨çš„ç»„ç»‡ç»“æ„ä¸æ˜¯å¾ˆæ¸…æ™°(å¯å¿½è§†)# 2 æµªè´¹ç¡¬ç›˜ç©ºé—´(å¯å¿½è§†)# 3 æ•°æ®çš„æ‰©å±•æ€§æå·®(æ— æ³•å¿½è§†çš„)# å¦‚ä½•ä¼˜åŒ–ï¼Ÿ\"\"\"ä¸Šè¿°é—®é¢˜å°±ç±»ä¼¼äºä½ å°†æ‰€æœ‰çš„ä»£ç éƒ½å†™åœ¨äº†ä¸€ä¸ªpyæ–‡ä»¶ä¸­\"\"\"å°†å‘˜å·¥è¡¨æ‹†åˆ† å‘˜å·¥è¡¨å’Œéƒ¨é—¨è¡¨ ","date":"2017-07-21","objectID":"/mysql-cmd/:17:1","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.2 å¤–é”® \"\"\"å¤–é”®å°±æ˜¯ç”¨æ¥å¸®åŠ©æˆ‘ä»¬å»ºç«‹è¡¨ä¸è¡¨ä¹‹é—´å…³ç³»çš„foreign key\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:17:2","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.3 è¡¨å…³ç³» \"\"\"è¡¨ä¸è¡¨ä¹‹é—´æœ€å¤šåªæœ‰å››ç§å…³ç³» ä¸€å¯¹å¤šå…³ç³» åœ¨MySQLçš„å…³ç³»ä¸­æ²¡æœ‰å¤šå¯¹ä¸€ä¸€è¯´ ä¸€å¯¹å¤š å¤šå¯¹ä¸€ éƒ½å«ä¸€å¯¹å¤šï¼ï¼ï¼ å¤šå¯¹å¤šå…³ç³» ä¸€å¯¹ä¸€å…³ç³» æ²¡æœ‰å…³ç³»\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:17:3","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.4 ä¸€å¯¹å¤šå…³ç³» \"\"\"åˆ¤æ–­è¡¨ä¸è¡¨ä¹‹é—´å…³ç³»çš„æ—¶å€™ å‰æœŸä¸ç†Ÿæ‚‰çš„æƒ…å†µä¸‹ ä¸€å®šè¦æŒ‰ç…§æˆ‘ç»™ä½ çš„å»ºè®®æ¢ä½æ€è€ƒ åˆ†åˆ«ç«™åœ¨ä¸¤å¼ è¡¨çš„è§’åº¦è€ƒè™‘å‘˜å·¥è¡¨ä¸éƒ¨é—¨è¡¨ä¸ºä¾‹ å…ˆç«™åœ¨å‘˜å·¥è¡¨ æ€è€ƒä¸€ä¸ªå‘˜å·¥èƒ½å¦å¯¹åº”å¤šä¸ªéƒ¨é—¨(ä¸€æ¡å‘˜å·¥æ•°æ®èƒ½å¦å¯¹åº”å¤šæ¡éƒ¨é—¨æ•°æ®) ä¸èƒ½ï¼ï¼ï¼ (ä¸èƒ½ç›´æ¥å¾—å‡ºç»“è®º ä¸€å®šè¦ä¸¤å¼ è¡¨éƒ½è€ƒè™‘å®Œå…¨) å†ç«™åœ¨éƒ¨é—¨è¡¨ æ€è€ƒä¸€ä¸ªéƒ¨é—¨èƒ½å¦å¯¹åº”å¤šä¸ªå‘˜å·¥(ä¸€ä¸ªéƒ¨é—¨æ•°æ®èƒ½å¦å¯¹åº”å¤šæ¡å‘˜å·¥æ•°æ®) èƒ½ï¼ï¼ï¼ å¾—å‡ºç»“è®º å‘˜å·¥è¡¨ä¸éƒ¨é—¨è¡¨ç¤ºå•å‘çš„ä¸€å¯¹å¤š æ‰€ä»¥è¡¨å…³ç³»å°±æ˜¯ä¸€å¯¹å¤š\"\"\"foreign key 1 ä¸€å¯¹å¤šè¡¨å…³ç³» å¤–é”®å­—æ®µå»ºåœ¨å¤šçš„ä¸€æ–¹ 2 åœ¨åˆ›å»ºè¡¨çš„æ—¶å€™ ä¸€å®šè¦å…ˆå»ºè¢«å…³è”è¡¨ 3 åœ¨å½•å…¥æ•°æ®çš„æ—¶å€™ ä¹Ÿå¿…é¡»å…ˆå½•å…¥è¢«å…³è”è¡¨# SQLè¯­å¥å»ºç«‹è¡¨å…³ç³»create table dep( id int primary key auto_increment, dep_name char(16), dep_desc char(32));create table emp( id int primary key auto_increment, name char(16), gender enum('male','female','others') default 'male', dep_id int, foreign key(dep_id) references dep(id));insert into dep(dep_name,dep_desc) values('æ•™å­¦éƒ¨','æ•™ä¹¦è‚²äºº'),('å¤–äº¤éƒ¨','å¤šäººå¤–äº¤'),('nbæŠ€æœ¯éƒ¨','æŠ€æœ¯èƒ½åŠ›æœ‰é™éƒ¨é—¨');insert into emp(name,dep_id) values('jason',2),('egon',1),('tank',1),('kevin',3);# ä¿®æ”¹depè¡¨é‡Œé¢çš„idå­—æ®µupdate dep set id=200 where id=2; ä¸è¡Œ# åˆ é™¤depè¡¨é‡Œé¢çš„æ•°æ®delete from dep; ä¸è¡Œ# 1 å…ˆåˆ é™¤æ•™å­¦éƒ¨å¯¹åº”çš„å‘˜å·¥æ•°æ® ä¹‹åå†åˆ é™¤éƒ¨é—¨ æ“ä½œå¤ªè¿‡ç¹ç # 2 çœŸæ­£åšåˆ°æ•°æ®ä¹‹é—´æœ‰å…³ç³» æ›´æ–°å°±åŒæ­¥æ›´æ–° åˆ é™¤å°±åŒæ­¥åˆ é™¤\"\"\"çº§è”æ›´æ–° \u003e\u003e\u003e åŒæ­¥æ›´æ–°çº§è”åˆ é™¤ \u003e\u003e\u003e åŒæ­¥åˆ é™¤\"\"\"create table dep( id int primary key auto_increment, dep_name char(16), dep_desc char(32));create table emp( id int primary key auto_increment, name char(16), gender enum('male','female','others') default 'male', dep_id int, foreign key(dep_id) references dep(id) on update cascade # åŒæ­¥æ›´æ–° on delete cascade # åŒæ­¥åˆ é™¤);insert into dep(dep_name,dep_desc) values('sbæ•™å­¦éƒ¨','æ•™ä¹¦è‚²äºº'),('å¤–äº¤éƒ¨','å¤šäººå¤–äº¤'),('nbæŠ€æœ¯éƒ¨','æŠ€æœ¯èƒ½åŠ›æœ‰é™éƒ¨é—¨');insert into emp(name,dep_id) values('jason',2),('egon',1),('tank',1),('kevin',3); ","date":"2017-07-21","objectID":"/mysql-cmd/:17:4","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.5 å¤šå¯¹å¤šè¡¨å…³ç³» \"\"\"å›¾ä¹¦è¡¨å’Œä½œè€…è¡¨\"\"\"create table book( id int primary key auto_increment, title varchar(32), price int, author_id int, foreign key(author_id) references author(id) on update cascade # åŒæ­¥æ›´æ–° on delete cascade # åŒæ­¥åˆ é™¤);create table author( id int primary key auto_increment, name varchar(32), age int, book_id int, foreign key(book_id) references book(id) on update cascade # åŒæ­¥æ›´æ–° on delete cascade # åŒæ­¥åˆ é™¤);\"\"\"æŒ‰ç…§ä¸Šè¿°çš„æ–¹å¼åˆ›å»º ä¸€ä¸ªéƒ½åˆ«æƒ³æˆåŠŸï¼ï¼ï¼å…¶å®æˆ‘ä»¬åªæ˜¯æƒ³è®°å½•ä¹¦ç±å’Œä½œè€…çš„å…³ç³»é’ˆå¯¹å¤šå¯¹å¤šå­—æ®µè¡¨å…³ç³» ä¸èƒ½åœ¨ä¸¤å¼ åŸæœ‰çš„è¡¨ä¸­åˆ›å»ºå¤–é”®éœ€è¦ä½ å•ç‹¬å†å¼€è®¾ä¸€å¼  ä¸“é—¨ç”¨æ¥å­˜å‚¨ä¸¤å¼ è¡¨æ•°æ®ä¹‹é—´çš„å…³ç³»\"\"\"create table book( id int primary key auto_increment, title varchar(32), price int);create table author( id int primary key auto_increment, name varchar(32), age int);create table book2author( id int primary key auto_increment, author_id int, book_id int, foreign key(author_id) references author(id) on update cascade # åŒæ­¥æ›´æ–° on delete cascade, # åŒæ­¥åˆ é™¤ foreign key(book_id) references book(id) on update cascade # åŒæ­¥æ›´æ–° on delete cascade # åŒæ­¥åˆ é™¤); ","date":"2017-07-21","objectID":"/mysql-cmd/:17:5","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.6 ä¸€å¯¹ä¸€ \"\"\"id name age addr phone hobby email........å¦‚æœä¸€ä¸ªè¡¨çš„å­—æ®µç‰¹åˆ«å¤š æ¯æ¬¡æŸ¥è¯¢åˆä¸æ˜¯æ‰€æœ‰çš„å­—æ®µéƒ½èƒ½ç”¨å¾—åˆ°å°†è¡¨ä¸€åˆ†ä¸ºäºŒ ç”¨æˆ·è¡¨ ç”¨æˆ·è¡¨ id name age ç”¨æˆ·è¯¦æƒ…è¡¨ id addr phone hobby email........ ç«™åœ¨ç”¨æˆ·è¡¨ ä¸€ä¸ªç”¨æˆ·èƒ½å¦å¯¹åº”å¤šä¸ªç”¨æˆ·è¯¦æƒ… ä¸èƒ½ï¼ï¼ï¼ ç«™åœ¨è¯¦æƒ…è¡¨ ä¸€ä¸ªè¯¦æƒ…èƒ½å¦å±äºå¤šä¸ªç”¨æˆ· ä¸èƒ½ï¼ï¼ï¼ ç»“è®º:å•å‘çš„ä¸€å¯¹å¤šéƒ½ä¸æˆç«‹ é‚£ä¹ˆè¿™ä¸ªæ—¶å€™ä¸¤è€…ä¹‹é—´çš„è¡¨å…³ç³» å°±æ˜¯ä¸€å¯¹ä¸€ æˆ–è€…æ²¡æœ‰å…³ç³»(å¥½åˆ¤æ–­)å®¢æˆ·è¡¨å’Œå­¦ç”Ÿè¡¨ åœ¨ä½ ä»¬æŠ¥åä¹‹å‰ä½ ä»¬æ˜¯å®¢æˆ·ç«¯ æŠ¥åä¹‹åæ˜¯å­¦ç”Ÿ(æœŸé—´æœ‰ä¸€äº›å®¢æˆ·ä¸ä¼šæŠ¥å)\"\"\"ä¸€å¯¹ä¸€ å¤–é”®å­—æ®µå»ºåœ¨ä»»æ„ä¸€æ–¹éƒ½å¯ä»¥ ä½†æ˜¯æ¨èä½ å»ºåœ¨æŸ¥è¯¢é¢‘ç‡æ¯”è¾ƒé«˜çš„è¡¨ä¸­create table authordetail( id int primary key auto_increment, phone int, addr varchar(64));create table author( id int primary key auto_increment, name varchar(32), age int, authordetail_id int unique, foreign key(authordetail_id) references authordetail(id) on update cascade # åŒæ­¥æ›´æ–° on delete cascade # åŒæ­¥åˆ é™¤) ","date":"2017-07-21","objectID":"/mysql-cmd/:17:6","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.7 æ€»ç»“ \"\"\"è¡¨å…³ç³»çš„å»ºç«‹éœ€è¦ç”¨åˆ°foreign key ä¸€å¯¹å¤š å¤–é”®å­—æ®µå»ºåœ¨å¤šçš„ä¸€æ–¹ å¤šå¯¹å¤š è‡ªå·±å¼€è®¾ç¬¬ä¸‰å¼ å­˜å‚¨ ä¸€å¯¹ä¸€ å»ºåœ¨ä»»æ„ä¸€æ–¹éƒ½å¯ä»¥ ä½†æ˜¯æ¨èä½ å»ºåœ¨æŸ¥è¯¢é¢‘ç‡è¾ƒé«˜çš„è¡¨ä¸­åˆ¤æ–­è¡¨ä¹‹é—´å…³ç³»çš„æ–¹å¼ æ¢ä½æ€è€ƒï¼ï¼ï¼ å‘˜å·¥ä¸éƒ¨é—¨ å›¾ä¹¦ä¸ä½œè€… ä½œè€…ä¸ä½œè€…è¯¦æƒ…\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:17:7","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.8 ä¿®æ”¹è¡¨ # MySQLå¯¹å¤§å°å†™æ˜¯ä¸æ•æ„Ÿçš„\"\"\"1 ä¿®æ”¹è¡¨å alter table è¡¨å rename æ–°è¡¨å;2 å¢åŠ å­—æ®µ alter table è¡¨å add å­—æ®µå å­—æ®µç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶; alter table è¡¨å add å­—æ®µå å­—æ®µç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶ first; alter table è¡¨å add å­—æ®µå å­—æ®µç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶ after å­—æ®µå;3 åˆ é™¤å­—æ®µ alter table è¡¨å drop å­—æ®µå;4 ä¿®æ”¹å­—æ®µ alter table è¡¨å modify å­—æ®µå å­—æ®µç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶; alter table è¡¨å change æ—§å­—æ®µå æ–°å­—æ®µå å­—æ®µç±»å‹(å®½åº¦) çº¦æŸæ¡ä»¶; \"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:17:8","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"17.9 å¤åˆ¶è¡¨ \"\"\"æˆ‘ä»¬sqlè¯­å¥æŸ¥è¯¢çš„ç»“æœå…¶å®ä¹Ÿæ˜¯ä¸€å¼ è™šæ‹Ÿè¡¨\"\"\"create table è¡¨å select * from æ—§è¡¨; ä¸èƒ½å¤åˆ¶ä¸»é”® å¤–é”® ...create table new_dep2 select * from dep where id\u003e3; ","date":"2017-07-21","objectID":"/mysql-cmd/:17:9","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åå…«ã€å‰æœŸè¡¨å‡†å¤‡ create table emp( id int not null unique auto_increment, name varchar(20) not null, sex enum('male','female') not null default 'male', #å¤§éƒ¨åˆ†æ˜¯ç”·çš„ age int(3) unsigned not null default 28, hire_date date not null, post varchar(50), post_comment varchar(100), salary double(15,2), office int, #ä¸€ä¸ªéƒ¨é—¨ä¸€ä¸ªå±‹å­ depart_id int);#æ’å…¥è®°å½•#ä¸‰ä¸ªéƒ¨é—¨ï¼šæ•™å­¦ï¼Œé”€å”®ï¼Œè¿è¥ insert into emp(name,sex,age,hire_date,post,salary,office,depart_id) values ('jason','male',18,'20170301','å¼ æ±Ÿç¬¬ä¸€å¸…å½¢è±¡ä»£è¨€',7300.33,401,1), #ä»¥ä¸‹æ˜¯æ•™å­¦éƒ¨ ('tom','male',78,'20150302','teacher',1000000.31,401,1), ('kevin','male',81,'20130305','teacher',8300,401,1), ('tony','male',73,'20140701','teacher',3500,401,1), ('owen','male',28,'20121101','teacher',2100,401,1), ('jack','female',18,'20110211','teacher',9000,401,1), ('jenny','male',18,'19000301','teacher',30000,401,1), ('sank','male',48,'20101111','teacher',10000,401,1), ('å“ˆå“ˆ','female',48,'20150311','sale',3000.13,402,2),#ä»¥ä¸‹æ˜¯é”€å”®éƒ¨é—¨ ('å‘µå‘µ','female',38,'20101101','sale',2000.35,402,2), ('è¥¿è¥¿','female',18,'20110312','sale',1000.37,402,2), ('ä¹ä¹','female',18,'20160513','sale',3000.29,402,2), ('æ‹‰æ‹‰','female',28,'20170127','sale',4000.33,402,2), ('åƒ§é¾™','male',28,'20160311','operation',10000.13,403,3), #ä»¥ä¸‹æ˜¯è¿è¥éƒ¨é—¨ ('ç¨‹å’¬é‡‘','male',18,'19970312','operation',20000,403,3), ('ç¨‹å’¬é“¶','female',18,'20130311','operation',19000,403,3), ('ç¨‹å’¬é“œ','male',18,'20150411','operation',18000,403,3), ('ç¨‹å’¬é“','female',18,'20140512','operation',17000,403,3);# å½“è¡¨å­—æ®µç‰¹åˆ«å¤š å±•ç¤ºçš„æ—¶å€™é”™ä¹± å¯ä»¥ä½¿ç”¨\\Gåˆ†è¡Œå±•ç¤º select * from emp\\G;# ä¸ªåˆ«åŒå­¦çš„ç”µè„‘åœ¨æ’å…¥ä¸­æ–‡çš„æ—¶å€™è¿˜æ˜¯ä¼šå‡ºç°ä¹±ç æˆ–è€…ç©ºç™½çš„ç°è±¡ ä½ å¯ä»¥å°†å­—ç¬¦ç¼–ç ç»Ÿä¸€è®¾ç½®æˆGBK ","date":"2017-07-21","objectID":"/mysql-cmd/:18:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"åä¹ã€å‡ ä¸ªé‡è¦å…³é”®å­—çš„æ‰§è¡Œé¡ºåº # ä¹¦å†™é¡ºåº select id,name from emp where id \u003e 3;# æ‰§è¡Œé¡ºåº from where select \"\"\" è™½ç„¶æ‰§è¡Œé¡ºåºå’Œä¹¦å†™é¡ºåºä¸ä¸€è‡´ ä½ åœ¨å†™sqlè¯­å¥çš„æ—¶å€™å¯èƒ½ä¸çŸ¥é“æ€ä¹ˆå†™ ä½ å°±æŒ‰ç…§ä¹¦å†™é¡ºåºçš„æ–¹å¼å†™sql select * å…ˆç”¨*å·å ä½ ä¹‹åå»è¡¥å…¨åé¢çš„sqlè¯­å¥ æœ€åå°†*å·æ›¿æ¢åä½ æƒ³è¦çš„å…·ä½“å­—æ®µ è¿™é‡Œå…ˆç†è§£ \"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:19:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåã€WHEREç­›é€‰æ¡ä»¶ # ä½œç”¨:æ˜¯å¯¹æ•´ä½“æ•°æ®çš„ä¸€ä¸ªç­›é€‰æ“ä½œ# 1.æŸ¥è¯¢idå¤§äºç­‰äº3å°äºç­‰äº6çš„æ•°æ® select id,name,age from emp where id\u003e=3 and id\u003c=6; select id,name from emp where id between 3 and 6; ä¸¤è€…ç­‰ä»·# 2.æŸ¥è¯¢è–ªèµ„æ˜¯20000æˆ–è€…18000æˆ–è€…17000çš„æ•°æ® select * from emp where salary=20000 or salary=18000 or salary=17000; select * from emp where salary in (20000,18000,17000);# 3.æŸ¥è¯¢å‘˜å·¥å§“åä¸­åŒ…å«å­—æ¯oçš„å‘˜å·¥çš„å§“åå’Œè–ªèµ„ \"\"\" æ¨¡ç³ŠæŸ¥è¯¢ like % åŒ¹é…ä»»æ„å¤šä¸ªå­—ç¬¦ _ åŒ¹é…ä»»æ„å•ä¸ªå­—ç¬¦ \"\"\" select name,salary from emp where name like '%o%';# 4.æŸ¥è¯¢å‘˜å·¥å§“åæ˜¯ç”±å››ä¸ªå­—ç¬¦ç»„æˆçš„ å§“åå’Œè–ªèµ„ char_length() _ select name,salary from emp where name like '____'; select name,salary from emp where char_length(name) = 4;# 5.æŸ¥è¯¢idå°äº3æˆ–è€…idå¤§äº6çš„æ•°æ® select * from emp where id not between 3 and 6;# 6.æŸ¥è¯¢è–ªèµ„ä¸åœ¨20000,18000,17000èŒƒå›´çš„æ•°æ® select * from emp where salary not in (20000,18000,17000);# 7.æŸ¥è¯¢å²—ä½æè¿°ä¸ºç©ºçš„å‘˜å·¥å§“åå’Œå²—ä½å é’ˆå¯¹nullä¸ç”¨ç­‰å· ç”¨is select name,post from emp where post_comment = NULL; select name,post from emp where post_comment is NULL; ","date":"2017-07-21","objectID":"/mysql-cmd/:20:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåä¸€ã€GROUP BYåˆ†ç»„ # åˆ†ç»„å®é™…åº”ç”¨åœºæ™¯ åˆ†ç»„åº”ç”¨åœºæ™¯éå¸¸çš„å¤š ç”·å¥³æ¯”ä¾‹ éƒ¨é—¨å¹³å‡è–ªèµ„ éƒ¨é—¨ç§ƒå¤´ç‡ å›½å®¶ä¹‹é—´æ•°æ®ç»Ÿè®¡# 1 æŒ‰ç…§éƒ¨é—¨åˆ†ç»„ select * from emp group by post; \"\"\" åˆ†ç»„ä¹‹å æœ€å°å¯æ“ä½œå•ä½åº”è¯¥æ˜¯ç»„ è¿˜ä¸å†æ˜¯ç»„å†…çš„å•ä¸ªæ•°æ® ä¸Šè¿°å‘½ä»¤åœ¨ä½ æ²¡æœ‰è®¾ç½®ä¸¥æ ¼æ¨¡å¼çš„æ—¶å€™æ˜¯å¯æ­£å¸¸æ‰§è¡Œçš„ è¿”å›çš„æ˜¯åˆ†ç»„ä¹‹å æ¯ä¸ªç»„çš„ç¬¬ä¸€æ¡æ•°æ® ä½†æ˜¯è¿™ä¸ç¬¦åˆåˆ†ç»„çš„è§„èŒƒ:åˆ†ç»„ä¹‹åä¸åº”è¯¥è€ƒè™‘å•ä¸ªæ•°æ® è€Œåº”è¯¥ä»¥ç»„ä¸ºæ“ä½œå•ä½(åˆ†ç»„ä¹‹å æ²¡åŠæ³•ç›´æ¥è·å–ç»„å†…å•ä¸ªæ•°æ®) å¦‚æœè®¾ç½®äº†ä¸¥æ ¼æ¨¡å¼ é‚£ä¹ˆä¸Šè¿°å‘½ä»¤ä¼šç›´æ¥æŠ¥é”™ \"\"\" set global sql_mode = 'strict_trans_tables,only_full_group_by'; è®¾ç½®ä¸¥æ ¼æ¨¡å¼ä¹‹å åˆ†ç»„ é»˜è®¤åªèƒ½æ‹¿åˆ°åˆ†ç»„çš„ä¾æ® select post from emp group by post; æŒ‰ç…§ä»€ä¹ˆåˆ†ç»„å°±åªèƒ½æ‹¿åˆ°åˆ†ç»„ å…¶ä»–å­—æ®µä¸èƒ½ç›´æ¥è·å– éœ€è¦å€ŸåŠ©äºä¸€äº›æ–¹æ³•(èšåˆå‡½æ•°)\"\"\"ä»€ä¹ˆæ—¶å€™éœ€è¦åˆ†ç»„å•Šï¼Ÿï¼Ÿï¼Ÿ å…³é”®å­— æ¯ä¸ª å¹³å‡ æœ€é«˜ æœ€ä½ èšåˆå‡½æ•° max min sum count avg\"\"\"# 1.è·å–æ¯ä¸ªéƒ¨é—¨çš„æœ€é«˜è–ªèµ„ select post,max(salary) from emp group by post; select post as 'éƒ¨é—¨',max(salary) as 'æœ€é«˜è–ªèµ„' from emp group by post; select post 'éƒ¨é—¨',max(salary) 'æœ€é«˜è–ªèµ„' from emp group by post;# aså¯ä»¥ç»™å­—æ®µèµ·åˆ«å ä¹Ÿå¯ä»¥ç›´æ¥çœç•¥ä¸å†™ ä½†æ˜¯ä¸æ¨è å› ä¸ºçœç•¥çš„è¯è¯­æ„ä¸æ˜ç¡® å®¹æ˜“é”™ä¹±# 2.è·å–æ¯ä¸ªéƒ¨é—¨çš„æœ€ä½è–ªèµ„ select post,min(salary) from emp group by post;# 3.è·å–æ¯ä¸ªéƒ¨é—¨çš„å¹³å‡è–ªèµ„select post,avg(salary) from emp group by post;# 4.è·å–æ¯ä¸ªéƒ¨é—¨çš„å·¥èµ„æ€»å’Œ select post,sum(salary) from emp group by post;# 5.è·å–æ¯ä¸ªéƒ¨é—¨çš„äººæ•° select post,count(id) from emp group by post; # å¸¸ç”¨ ç¬¦åˆé€»è¾‘ select post,count(salary) from emp group by post; select post,count(age) from emp group by post; select post,count(post_comment) from emp group by post; nullä¸è¡Œ# 6.æŸ¥è¯¢åˆ†ç»„ä¹‹åçš„éƒ¨é—¨åç§°å’Œæ¯ä¸ªéƒ¨é—¨ä¸‹æ‰€æœ‰çš„å‘˜å·¥å§“å # group_concatä¸å•å•å¯ä»¥æ”¯æŒä½ è·å–åˆ†ç»„ä¹‹åçš„å…¶ä»–å­—æ®µå€¼ è¿˜æ”¯æŒæ‹¼æ¥æ“ä½œ select post,group_concat(name) from emp group by post; select post,group_concat(name,'_DSB') from emp group by post; select post,group_concat(name,':',salary) from emp group by post;# concatä¸åˆ†ç»„çš„æ—¶å€™ç”¨ select concat('NAME:',name),concat('SAL:',salary) from emp;# è¡¥å…… asè¯­æ³•ä¸å•å•å¯ä»¥ç»™å­—æ®µèµ·åˆ«å è¿˜å¯ä»¥ç»™è¡¨ä¸´æ—¶èµ·åˆ«å select emp.id,emp.name from emp; select emp.id,emp.name from emp as t1; æŠ¥é”™ select t1.id,t1.name from emp as t1;# æŸ¥è¯¢æ¯ä¸ªäººçš„å¹´è–ª 12è–ª select name,salary*12 from emp; ","date":"2017-07-21","objectID":"/mysql-cmd/:21:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåäºŒã€åˆ†ç»„æ³¨æ„äº‹é¡¹ # å…³é”®å­—whereå’Œgroup byåŒæ—¶å‡ºç°çš„æ—¶å€™group byå¿…é¡»åœ¨whereçš„åé¢ whereå…ˆå¯¹æ•´ä½“æ•°æ®è¿›è¡Œè¿‡æ»¤ä¹‹åå†åˆ†ç»„æ“ä½œ whereç­›é€‰æ¡ä»¶ä¸èƒ½ä½¿ç”¨èšåˆå‡½æ•° select id,name,age from emp where max(salary) \u003e 3000; select max(salary) from emp; # ä¸åˆ†ç»„ é»˜è®¤æ•´ä½“å°±æ˜¯ä¸€ç»„# ç»Ÿè®¡å„éƒ¨é—¨å¹´é¾„åœ¨30å²ä»¥ä¸Šçš„å‘˜å·¥å¹³å‡è–ªèµ„ 1 å…ˆæ±‚æ‰€æœ‰å¹´é¾„å¤§äº30å²çš„å‘˜å·¥ select * from emp where age\u003e30; 2 å†å¯¹ç»“æœè¿›è¡Œåˆ†ç»„ select * from emp where age\u003e30 group by post; select post,avg(salary) from emp where age\u003e30 group by post; ","date":"2017-07-21","objectID":"/mysql-cmd/:22:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåä¸‰ã€HAVINGåˆ†ç»„ä¹‹åçš„ç­›é€‰æ¡ä»¶ \"\"\"havingçš„è¯­æ³•æ ¹whereæ˜¯ä¸€è‡´çš„åªä¸è¿‡havingæ˜¯åœ¨åˆ†ç»„ä¹‹åè¿›è¡Œçš„è¿‡æ»¤æ“ä½œå³havingæ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨èšåˆå‡½æ•°çš„\"\"\"# ç»Ÿè®¡å„éƒ¨é—¨å¹´é¾„åœ¨30å²ä»¥ä¸Šçš„å‘˜å·¥å¹³å‡å·¥èµ„å¹¶ä¸”ä¿ç•™å¹³å‡è–ªèµ„å¤§äº10000çš„éƒ¨é—¨ select post,avg(salary) from emp where age\u003e30 group by post having avg(salary) \u003e 10000 ; ","date":"2017-07-21","objectID":"/mysql-cmd/:23:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåå››ã€DISTINCTå»é‡ \"\"\"ä¸€å®šè¦æ³¨æ„ å¿…é¡»æ˜¯å®Œå…¨ä¸€æ ·çš„æ•°æ®æ‰å¯ä»¥å»é‡ï¼ï¼ï¼ä¸€å®šä¸è¦å°†é€æ¸å¿½è§†äº† æœ‰é€æ¸å­˜åœ¨çš„æƒ…å†µä¸‹ æ˜¯ä¸å¯èƒ½å»é‡çš„[{'id':1,'name':'jason','age':18},{'id':2,'name':'jason','age':18},{'id':3,'name':'egon','age':18}]ORM å¯¹è±¡å…³ç³»æ˜ å°„ è®©ä¸æ‡‚SQLè¯­å¥çš„äººä¹Ÿèƒ½å¤Ÿéå¸¸ç‰›é€¼çš„æ“ä½œæ•°æ®åº“è¡¨ ç±»ä¸€æ¡æ¡çš„æ•°æ® å¯¹è±¡å­—æ®µå¯¹åº”çš„å€¼ å¯¹è±¡çš„å±æ€§ä½ å†å†™ç±» å°±æ„å‘³ç€åœ¨åˆ›å»ºè¡¨ç”¨ç±»ç”Ÿæˆå¯¹è±¡ å°±æ„å‘³ç€å†åˆ›å»ºæ•°æ®å¯¹è±¡ç‚¹å±æ€§ å°±æ˜¯åœ¨è·å–æ•°æ®å­—æ®µå¯¹åº”çš„å€¼ç›®çš„å°±æ˜¯å‡è½»pythonç¨‹åºå‘˜çš„å‹åŠ› åªéœ€è¦ä¼špythoné¢å‘å¯¹è±¡çš„çŸ¥è¯†ç‚¹å°±å¯ä»¥æ“ä½œMySQL\"\"\"select distinct id,age from emp;select distinct age from emp; ","date":"2017-07-21","objectID":"/mysql-cmd/:24:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåäº”ã€ORDER BYæ’åº select * from emp order by salary;select * from emp order by salary asc;select * from emp order by salary desc;\"\"\"order byé»˜è®¤æ˜¯å‡åº asc è¯¥ascå¯ä»¥çœç•¥ä¸å†™ä¹Ÿå¯ä»¥ä¿®æ”¹ä¸ºé™åº desc\"\"\"select * from emp order by age desc,salary asc;# å…ˆæŒ‰ç…§ageé™åºæ’ å¦‚æœç¢°åˆ°ageç›¸åŒ åˆ™å†æŒ‰ç…§salaryå‡åºæ’# ç»Ÿè®¡å„éƒ¨é—¨å¹´é¾„åœ¨10å²ä»¥ä¸Šçš„å‘˜å·¥å¹³å‡å·¥èµ„å¹¶ä¸”ä¿ç•™å¹³å‡è–ªèµ„å¤§äº1000çš„éƒ¨é—¨,ç„¶åå¯¹å¹³å‡å·¥èµ„é™åºæ’åº select post,avg(salary) from emp where age\u003e10 group by post having avg(salary) \u003e 1000 order by avg(salary) desc ; ","date":"2017-07-21","objectID":"/mysql-cmd/:25:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåå…­ã€LIMITé™åˆ¶å±•ç¤ºæ¡æ•° select * from emp;\"\"\"é’ˆå¯¹æ•°æ®è¿‡å¤šçš„æƒ…å†µ æˆ‘ä»¬é€šå¸¸éƒ½æ˜¯åšåˆ†é¡µå¤„ç†\"\"\" select * from emp limit 3; # åªå±•ç¤ºä¸‰æ¡æ•°æ® select * from emp limit 0,5; select * from emp limit 5,5; ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯èµ·å§‹ä½ç½® ç¬¬äºŒä¸ªå‚æ•°æ˜¯å±•ç¤ºæ¡æ•° ","date":"2017-07-21","objectID":"/mysql-cmd/:26:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåä¸ƒã€æ­£åˆ™ select * from emp where name regexp '^j.*(n|y)$'; ","date":"2017-07-21","objectID":"/mysql-cmd/:27:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"äºŒåå…«ã€å¤šè¡¨æ“ä½œ ","date":"2017-07-21","objectID":"/mysql-cmd/:28:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"28.1 å‰æœŸè¡¨å‡†å¤‡ #å»ºè¡¨ create table dep( id int, name varchar(20) ); create table emp( id int primary key auto_increment, name varchar(20), sex enum('male','female') not null default 'male', age int, dep_id int );#æ’å…¥æ•°æ® insert into dep values (200,'æŠ€æœ¯'), (201,'äººåŠ›èµ„æº'), (202,'é”€å”®'), (203,'è¿è¥'); insert into emp(name,sex,age,dep_id) values ('jason','male',18,200), ('egon','female',48,201), ('kevin','male',18,201), ('nick','male',28,202), ('owen','male',18,203), ('jerry','female',18,204); ","date":"2017-07-21","objectID":"/mysql-cmd/:28:1","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"28.2è¡¨æŸ¥è¯¢ select * from dep,emp; # ç»“æœ ç¬›å¡å°”ç§¯\"\"\"äº†è§£å³å¯ ä¸çŸ¥é“ä¹Ÿæ²¡å…³ç³»\"\"\" select * from emp,dep where emp.dep_id = dep.id;\"\"\"MySQLä¹ŸçŸ¥é“ ä½ åœ¨åé¢æŸ¥è¯¢æ•°æ®è¿‡ç¨‹ä¸­ è‚¯å®šä¼šç»å¸¸ç”¨åˆ°æ‹¼è¡¨æ“ä½œ æ‰€ä»¥ç‰¹åœ°ç»™ä½ å¼€è®¾äº†å¯¹åº”çš„æ–¹æ³• inner join å†…è¿æ¥ left join å·¦è¿æ¥ right join å³è¿æ¥ union å…¨è¿æ¥\"\"\"# inner join å†…è¿æ¥ select * from emp inner join dep on emp.dep_id = dep.id;# åªæ‹¼æ¥ä¸¤å¼ è¡¨ä¸­å…¬æœ‰çš„æ•°æ®éƒ¨åˆ†# left join å·¦è¿æ¥ select * from emp left join dep on emp.dep_id = dep.id;# å·¦è¡¨æ‰€æœ‰çš„æ•°æ®éƒ½å±•ç¤ºå‡ºæ¥ æ²¡æœ‰å¯¹åº”çš„é¡¹å°±ç”¨NULL# right join å³è¿æ¥ select * from emp right join dep on emp.dep_id = dep.id;# å³è¡¨æ‰€æœ‰çš„æ•°æ®éƒ½å±•ç¤ºå‡ºæ¥ æ²¡æœ‰å¯¹åº”çš„é¡¹å°±ç”¨NULL# union å…¨è¿æ¥ å·¦å³ä¸¤è¡¨æ‰€æœ‰çš„æ•°æ®éƒ½å±•ç¤ºå‡ºæ¥ select * from emp left join dep on emp.dep_id = dep.id union select * from emp right join dep on emp.dep_id = dep.id; ","date":"2017-07-21","objectID":"/mysql-cmd/:28:2","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"28.3 å­æŸ¥è¯¢ \"\"\"å­æŸ¥è¯¢å°±æ˜¯æˆ‘ä»¬å¹³æ—¶è§£å†³é—®é¢˜çš„æ€è·¯ åˆ†æ­¥éª¤è§£å†³é—®é¢˜ ç¬¬ä¸€æ­¥ ç¬¬äºŒæ­¥ ...å°†ä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„ç»“æœå½“åšå¦å¤–ä¸€ä¸ªæŸ¥è¯¢è¯­å¥çš„æ¡ä»¶å»ç”¨\"\"\"# æŸ¥è¯¢éƒ¨é—¨æ˜¯æŠ€æœ¯æˆ–è€…äººåŠ›èµ„æºçš„å‘˜å·¥ä¿¡æ¯ 1 å…ˆè·å–éƒ¨é—¨çš„idå· 2 å†å»å‘˜å·¥è¡¨é‡Œé¢ç­›é€‰å‡ºå¯¹åº”çš„å‘˜å·¥ select id from dep where name='æŠ€æœ¯' or name = 'äººåŠ›èµ„æº'; select name from emp where dep_id in (200,201); select * from emp where dep_id in (select id from dep where name='æŠ€æœ¯' or name = 'äººåŠ›èµ„æº'); ","date":"2017-07-21","objectID":"/mysql-cmd/:28:3","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"28.4 æ€»ç»“ è¡¨çš„æŸ¥è¯¢ç»“æœå¯ä»¥ä½œä¸ºå…¶ä»–è¡¨çš„æŸ¥è¯¢æ¡ä»¶ä¹Ÿå¯ä»¥é€šè¿‡èµ·åˆ«åçš„æ–¹å¼æŠŠå®ƒä½œä¸ºä¸€ä¸ªå¼ è™šæ‹Ÿè¡¨æ ¹å…¶ä»–è¡¨å…³è”\"\"\"å¤šè¡¨æŸ¥è¯¢å°±ä¸¤ç§æ–¹å¼ å…ˆæ‹¼æ¥è¡¨å†æŸ¥è¯¢ å­æŸ¥è¯¢ ä¸€æ­¥ä¸€æ­¥æ¥\"\"\" ","date":"2017-07-21","objectID":"/mysql-cmd/:28:4","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"},{"categories":["MySQL"],"content":"å°çŸ¥è¯†ï¼šmysql-arm å®‰è£… å®‰è£…mysqlï¼šbrew install mysql@5.7å®‰è£…brewæœåŠ¡ï¼šbrew tap homebrew/servicesåŠ è½½å’Œå¯åŠ¨MySQLæœåŠ¡ï¼šbrew services start mysql@5.7æ£€æŸ¥mysqlæœåŠ¡æ˜¯å¦å·²åŠ è½½ï¼šbrew services liståˆ›å»ºè½¯é“¾æ¥: ln -s /opt/homebrew/Cellar/mysql@5.7/5.7.38/bin/mysql /usr/local/bin/mysqléªŒè¯å®‰è£…mysqlæ˜¯å¦æˆåŠŸï¼š mysql -vè¿›å…¥brewå®‰è£…ç›®å½•: cd /opt/homebrew/Cellar/mysql@5.7/5.7.38/binåˆå§‹åŒ–å¯†ç ï¼Œæ›´æ”¹ä½ è‡ªå·±çš„å¯†ç ï¼š ./mysqladmin -u root password 'yourpassword' ","date":"2017-07-21","objectID":"/mysql-cmd/:29:0","tags":["MySQL"],"title":"CMD","uri":"/mysql-cmd/"}]